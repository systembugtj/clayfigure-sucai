/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
*/

"use strict";var ume=Object.create;var Hx=Object.defineProperty;var dme=Object.getOwnPropertyDescriptor;var fme=Object.getOwnPropertyNames;var pme=Object.getPrototypeOf,hme=Object.prototype.hasOwnProperty;var h7=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),m7=t=>{throw TypeError(t)};var tt=(t,e)=>()=>(t&&(e=t(t=0)),e);var C=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Rr=(t,e)=>{for(var r in e)Hx(t,r,{get:e[r],enumerable:!0})},g7=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of fme(e))!hme.call(t,i)&&i!==r&&Hx(t,i,{get:()=>e[i],enumerable:!(n=dme(e,i))||n.enumerable});return t};var z=(t,e,r)=>(r=t!=null?ume(pme(t)):{},g7(e||!t||!t.__esModule?Hx(r,"default",{value:t,enumerable:!0}):r,t)),y7=t=>g7(Hx({},"__esModule",{value:!0}),t);var G=(t,e,r)=>{if(e!=null){typeof e!="object"&&typeof e!="function"&&m7("Object expected");var n,i;r&&(n=e[h7("asyncDispose")]),n===void 0&&(n=e[h7("dispose")],r&&(i=n)),typeof n!="function"&&m7("Object not disposable"),i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.push([r,n,e])}else r&&t.push([r]);return e},K=(t,e,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(a,o,l,c){return c=Error(l),c.name="SuppressedError",c.error=a,c.suppressed=o,c},i=a=>e=r?new n(a,e,"An error was suppressed during disposal"):(r=!0,a),s=a=>{for(;a=t.pop();)try{var o=a[1]&&a[1].call(a[2]);if(a[0])return Promise.resolve(o).then(s,l=>(i(l),s()))}catch(l){i(l)}if(r)throw e};return s()};var $t=C((OI,v7)=>{"use strict";var wg=function(t){return t&&t.Math===Math&&t};v7.exports=wg(typeof globalThis=="object"&&globalThis)||wg(typeof window=="object"&&window)||wg(typeof self=="object"&&self)||wg(typeof global=="object"&&global)||wg(typeof OI=="object"&&OI)||function(){return this}()||Function("return this")()});var kn=C((gBe,b7)=>{"use strict";b7.exports=function(t){try{return!!t()}catch{return!0}}});var gi=C((yBe,w7)=>{"use strict";var mme=kn();w7.exports=!mme(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})});var xg=C((vBe,x7)=>{"use strict";var gme=kn();x7.exports=!gme(function(){var t=function(){}.bind();return typeof t!="function"||t.hasOwnProperty("prototype")})});var zn=C((bBe,S7)=>{"use strict";var yme=xg(),Gx=Function.prototype.call;S7.exports=yme?Gx.bind(Gx):function(){return Gx.apply(Gx,arguments)}});var T7=C(E7=>{"use strict";var k7={}.propertyIsEnumerable,C7=Object.getOwnPropertyDescriptor,vme=C7&&!k7.call({1:2},1);E7.f=vme?function(e){var r=C7(this,e);return!!r&&r.enumerable}:k7});var Sg=C((xBe,A7)=>{"use strict";A7.exports=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}});var Mr=C((SBe,R7)=>{"use strict";var L7=xg(),I7=Function.prototype,_I=I7.call,bme=L7&&I7.bind.bind(_I,_I);R7.exports=L7?bme:function(t){return function(){return _I.apply(t,arguments)}}});var kg=C((kBe,P7)=>{"use strict";var M7=Mr(),wme=M7({}.toString),xme=M7("".slice);P7.exports=function(t){return xme(wme(t),8,-1)}});var _7=C((CBe,O7)=>{"use strict";var Sme=Mr(),kme=kn(),Cme=kg(),DI=Object,Eme=Sme("".split);O7.exports=kme(function(){return!DI("z").propertyIsEnumerable(0)})?function(t){return Cme(t)==="String"?Eme(t,""):DI(t)}:DI});var Df=C((EBe,D7)=>{"use strict";D7.exports=function(t){return t==null}});var Nf=C((TBe,N7)=>{"use strict";var Tme=Df(),Ame=TypeError;N7.exports=function(t){if(Tme(t))throw new Ame("Can't call method on "+t);return t}});var Cg=C((ABe,F7)=>{"use strict";var Lme=_7(),Ime=Nf();F7.exports=function(t){return Lme(Ime(t))}});var nr=C((LBe,$7)=>{"use strict";var NI=typeof document=="object"&&document.all;$7.exports=typeof NI>"u"&&NI!==void 0?function(t){return typeof t=="function"||t===NI}:function(t){return typeof t=="function"}});var Ks=C((IBe,j7)=>{"use strict";var Rme=nr();j7.exports=function(t){return typeof t=="object"?t!==null:Rme(t)}});var ns=C((RBe,V7)=>{"use strict";var FI=$t(),Mme=nr(),Pme=function(t){return Mme(t)?t:void 0};V7.exports=function(t,e){return arguments.length<2?Pme(FI[t]):FI[t]&&FI[t][e]}});var Eg=C((MBe,q7)=>{"use strict";var Ome=Mr();q7.exports=Ome({}.isPrototypeOf)});var Ff=C((PBe,z7)=>{"use strict";var _me=$t(),B7=_me.navigator,U7=B7&&B7.userAgent;z7.exports=U7?String(U7):""});var Kx=C((OBe,X7)=>{"use strict";var Y7=$t(),$I=Ff(),H7=Y7.process,G7=Y7.Deno,W7=H7&&H7.versions||G7&&G7.version,K7=W7&&W7.v8,Ys,Wx;K7&&(Ys=K7.split("."),Wx=Ys[0]>0&&Ys[0]<4?1:+(Ys[0]+Ys[1]));!Wx&&$I&&(Ys=$I.match(/Edge\/(\d+)/),(!Ys||Ys[1]>=74)&&(Ys=$I.match(/Chrome\/(\d+)/),Ys&&(Wx=+Ys[1])));X7.exports=Wx});var jI=C((_Be,J7)=>{"use strict";var Q7=Kx(),Dme=kn(),Nme=$t(),Fme=Nme.String;J7.exports=!!Object.getOwnPropertySymbols&&!Dme(function(){var t=Symbol("symbol detection");return!Fme(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Q7&&Q7<41})});var VI=C((DBe,Z7)=>{"use strict";var $me=jI();Z7.exports=$me&&!Symbol.sham&&typeof Symbol.iterator=="symbol"});var qI=C((NBe,e$)=>{"use strict";var jme=ns(),Vme=nr(),qme=Eg(),Bme=VI(),Ume=Object;e$.exports=Bme?function(t){return typeof t=="symbol"}:function(t){var e=jme("Symbol");return Vme(e)&&qme(e.prototype,Ume(t))}});var Tg=C((FBe,t$)=>{"use strict";var zme=String;t$.exports=function(t){try{return zme(t)}catch{return"Object"}}});var is=C(($Be,r$)=>{"use strict";var Hme=nr(),Gme=Tg(),Wme=TypeError;r$.exports=function(t){if(Hme(t))return t;throw new Wme(Gme(t)+" is not a function")}});var Tu=C((jBe,n$)=>{"use strict";var Kme=is(),Yme=Df();n$.exports=function(t,e){var r=t[e];return Yme(r)?void 0:Kme(r)}});var s$=C((VBe,i$)=>{"use strict";var BI=zn(),UI=nr(),zI=Ks(),Xme=TypeError;i$.exports=function(t,e){var r,n;if(e==="string"&&UI(r=t.toString)&&!zI(n=BI(r,t))||UI(r=t.valueOf)&&!zI(n=BI(r,t))||e!=="string"&&UI(r=t.toString)&&!zI(n=BI(r,t)))return n;throw new Xme("Can't convert object to primitive value")}});var Ao=C((qBe,a$)=>{"use strict";a$.exports=!1});var Yx=C((BBe,l$)=>{"use strict";var o$=$t(),Qme=Object.defineProperty;l$.exports=function(t,e){try{Qme(o$,t,{value:e,configurable:!0,writable:!0})}catch{o$[t]=e}return e}});var Ag=C((UBe,d$)=>{"use strict";var Jme=Ao(),Zme=$t(),ege=Yx(),c$="__core-js_shared__",u$=d$.exports=Zme[c$]||ege(c$,{});(u$.versions||(u$.versions=[])).push({version:"3.41.0",mode:Jme?"pure":"global",copyright:"\xA9 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.41.0/LICENSE",source:"https://github.com/zloirock/core-js"})});var HI=C((zBe,p$)=>{"use strict";var f$=Ag();p$.exports=function(t,e){return f$[t]||(f$[t]=e||{})}});var GI=C((HBe,h$)=>{"use strict";var tge=Nf(),rge=Object;h$.exports=function(t){return rge(tge(t))}});var Cn=C((GBe,m$)=>{"use strict";var nge=Mr(),ige=GI(),sge=nge({}.hasOwnProperty);m$.exports=Object.hasOwn||function(e,r){return sge(ige(e),r)}});var WI=C((WBe,g$)=>{"use strict";var age=Mr(),oge=0,lge=Math.random(),cge=age(1 .toString);g$.exports=function(t){return"Symbol("+(t===void 0?"":t)+")_"+cge(++oge+lge,36)}});var dr=C((KBe,v$)=>{"use strict";var uge=$t(),dge=HI(),y$=Cn(),fge=WI(),pge=jI(),hge=VI(),$f=uge.Symbol,KI=dge("wks"),mge=hge?$f.for||$f:$f&&$f.withoutSetter||fge;v$.exports=function(t){return y$(KI,t)||(KI[t]=pge&&y$($f,t)?$f[t]:mge("Symbol."+t)),KI[t]}});var S$=C((YBe,x$)=>{"use strict";var gge=zn(),b$=Ks(),w$=qI(),yge=Tu(),vge=s$(),bge=dr(),wge=TypeError,xge=bge("toPrimitive");x$.exports=function(t,e){if(!b$(t)||w$(t))return t;var r=yge(t,xge),n;if(r){if(e===void 0&&(e="default"),n=gge(r,t,e),!b$(n)||w$(n))return n;throw new wge("Can't convert object to primitive value")}return e===void 0&&(e="number"),vge(t,e)}});var YI=C((XBe,k$)=>{"use strict";var Sge=S$(),kge=qI();k$.exports=function(t){var e=Sge(t,"string");return kge(e)?e:e+""}});var Xx=C((QBe,E$)=>{"use strict";var Cge=$t(),C$=Ks(),XI=Cge.document,Ege=C$(XI)&&C$(XI.createElement);E$.exports=function(t){return Ege?XI.createElement(t):{}}});var QI=C((JBe,T$)=>{"use strict";var Tge=gi(),Age=kn(),Lge=Xx();T$.exports=!Tge&&!Age(function(){return Object.defineProperty(Lge("div"),"a",{get:function(){return 7}}).a!==7})});var Lg=C(L$=>{"use strict";var Ige=gi(),Rge=zn(),Mge=T7(),Pge=Sg(),Oge=Cg(),_ge=YI(),Dge=Cn(),Nge=QI(),A$=Object.getOwnPropertyDescriptor;L$.f=Ige?A$:function(e,r){if(e=Oge(e),r=_ge(r),Nge)try{return A$(e,r)}catch{}if(Dge(e,r))return Pge(!Rge(Mge.f,e,r),e[r])}});var JI=C((eUe,I$)=>{"use strict";var Fge=gi(),$ge=kn();I$.exports=Fge&&$ge(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})});var Xs=C((tUe,R$)=>{"use strict";var jge=Ks(),Vge=String,qge=TypeError;R$.exports=function(t){if(jge(t))return t;throw new qge(Vge(t)+" is not an object")}});var Da=C(P$=>{"use strict";var Bge=gi(),Uge=QI(),zge=JI(),Qx=Xs(),M$=YI(),Hge=TypeError,ZI=Object.defineProperty,Gge=Object.getOwnPropertyDescriptor,eR="enumerable",tR="configurable",rR="writable";P$.f=Bge?zge?function(e,r,n){if(Qx(e),r=M$(r),Qx(n),typeof e=="function"&&r==="prototype"&&"value"in n&&rR in n&&!n[rR]){var i=Gge(e,r);i&&i[rR]&&(e[r]=n.value,n={configurable:tR in n?n[tR]:i[tR],enumerable:eR in n?n[eR]:i[eR],writable:!1})}return ZI(e,r,n)}:ZI:function(e,r,n){if(Qx(e),r=M$(r),Qx(n),Uge)try{return ZI(e,r,n)}catch{}if("get"in n||"set"in n)throw new Hge("Accessors not supported");return"value"in n&&(e[r]=n.value),e}});var Ig=C((nUe,O$)=>{"use strict";var Wge=gi(),Kge=Da(),Yge=Sg();O$.exports=Wge?function(t,e,r){return Kge.f(t,e,Yge(1,r))}:function(t,e,r){return t[e]=r,t}});var N$=C((iUe,D$)=>{"use strict";var nR=gi(),Xge=Cn(),_$=Function.prototype,Qge=nR&&Object.getOwnPropertyDescriptor,iR=Xge(_$,"name"),Jge=iR&&function(){}.name==="something",Zge=iR&&(!nR||nR&&Qge(_$,"name").configurable);D$.exports={EXISTS:iR,PROPER:Jge,CONFIGURABLE:Zge}});var Jx=C((sUe,F$)=>{"use strict";var eye=Mr(),tye=nr(),sR=Ag(),rye=eye(Function.toString);tye(sR.inspectSource)||(sR.inspectSource=function(t){return rye(t)});F$.exports=sR.inspectSource});var V$=C((aUe,j$)=>{"use strict";var nye=$t(),iye=nr(),$$=nye.WeakMap;j$.exports=iye($$)&&/native code/.test(String($$))});var Zx=C((oUe,B$)=>{"use strict";var sye=HI(),aye=WI(),q$=sye("keys");B$.exports=function(t){return q$[t]||(q$[t]=aye(t))}});var e1=C((lUe,U$)=>{"use strict";U$.exports={}});var Mg=C((cUe,G$)=>{"use strict";var oye=V$(),H$=$t(),lye=Ks(),cye=Ig(),aR=Cn(),oR=Ag(),uye=Zx(),dye=e1(),z$="Object already initialized",lR=H$.TypeError,fye=H$.WeakMap,t1,Rg,r1,pye=function(t){return r1(t)?Rg(t):t1(t,{})},hye=function(t){return function(e){var r;if(!lye(e)||(r=Rg(e)).type!==t)throw new lR("Incompatible receiver, "+t+" required");return r}};oye||oR.state?(Qs=oR.state||(oR.state=new fye),Qs.get=Qs.get,Qs.has=Qs.has,Qs.set=Qs.set,t1=function(t,e){if(Qs.has(t))throw new lR(z$);return e.facade=t,Qs.set(t,e),e},Rg=function(t){return Qs.get(t)||{}},r1=function(t){return Qs.has(t)}):(Au=uye("state"),dye[Au]=!0,t1=function(t,e){if(aR(t,Au))throw new lR(z$);return e.facade=t,cye(t,Au,e),e},Rg=function(t){return aR(t,Au)?t[Au]:{}},r1=function(t){return aR(t,Au)});var Qs,Au;G$.exports={set:t1,get:Rg,has:r1,enforce:pye,getterFor:hye}});var dR=C((uUe,Y$)=>{"use strict";var uR=Mr(),mye=kn(),gye=nr(),n1=Cn(),cR=gi(),yye=N$().CONFIGURABLE,vye=Jx(),K$=Mg(),bye=K$.enforce,wye=K$.get,W$=String,i1=Object.defineProperty,xye=uR("".slice),Sye=uR("".replace),kye=uR([].join),Cye=cR&&!mye(function(){return i1(function(){},"length",{value:8}).length!==8}),Eye=String(String).split("String"),Tye=Y$.exports=function(t,e,r){xye(W$(e),0,7)==="Symbol("&&(e="["+Sye(W$(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!n1(t,"name")||yye&&t.name!==e)&&(cR?i1(t,"name",{value:e,configurable:!0}):t.name=e),Cye&&r&&n1(r,"arity")&&t.length!==r.arity&&i1(t,"length",{value:r.arity});try{r&&n1(r,"constructor")&&r.constructor?cR&&i1(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch{}var n=bye(t);return n1(n,"source")||(n.source=kye(Eye,typeof e=="string"?e:"")),t};Function.prototype.toString=Tye(function(){return gye(this)&&wye(this).source||vye(this)},"toString")});var Js=C((dUe,X$)=>{"use strict";var Aye=nr(),Lye=Da(),Iye=dR(),Rye=Yx();X$.exports=function(t,e,r,n){n||(n={});var i=n.enumerable,s=n.name!==void 0?n.name:e;if(Aye(r)&&Iye(r,s,n),n.global)i?t[e]=r:Rye(e,r);else{try{n.unsafe?t[e]&&(i=!0):delete t[e]}catch{}i?t[e]=r:Lye.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t}});var J$=C((fUe,Q$)=>{"use strict";var Mye=Math.ceil,Pye=Math.floor;Q$.exports=Math.trunc||function(e){var r=+e;return(r>0?Pye:Mye)(r)}});var s1=C((pUe,Z$)=>{"use strict";var Oye=J$();Z$.exports=function(t){var e=+t;return e!==e||e===0?0:Oye(e)}});var t8=C((hUe,e8)=>{"use strict";var _ye=s1(),Dye=Math.max,Nye=Math.min;e8.exports=function(t,e){var r=_ye(t);return r<0?Dye(r+e,0):Nye(r,e)}});var fR=C((mUe,r8)=>{"use strict";var Fye=s1(),$ye=Math.min;r8.exports=function(t){var e=Fye(t);return e>0?$ye(e,9007199254740991):0}});var pR=C((gUe,n8)=>{"use strict";var jye=fR();n8.exports=function(t){return jye(t.length)}});var a8=C((yUe,s8)=>{"use strict";var Vye=Cg(),qye=t8(),Bye=pR(),i8=function(t){return function(e,r,n){var i=Vye(e),s=Bye(i);if(s===0)return!t&&-1;var a=qye(n,s),o;if(t&&r!==r){for(;s>a;)if(o=i[a++],o!==o)return!0}else for(;s>a;a++)if((t||a in i)&&i[a]===r)return t||a||0;return!t&&-1}};s8.exports={includes:i8(!0),indexOf:i8(!1)}});var mR=C((vUe,l8)=>{"use strict";var Uye=Mr(),hR=Cn(),zye=Cg(),Hye=a8().indexOf,Gye=e1(),o8=Uye([].push);l8.exports=function(t,e){var r=zye(t),n=0,i=[],s;for(s in r)!hR(Gye,s)&&hR(r,s)&&o8(i,s);for(;e.length>n;)hR(r,s=e[n++])&&(~Hye(i,s)||o8(i,s));return i}});var a1=C((bUe,c8)=>{"use strict";c8.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var d8=C(u8=>{"use strict";var Wye=mR(),Kye=a1(),Yye=Kye.concat("length","prototype");u8.f=Object.getOwnPropertyNames||function(e){return Wye(e,Yye)}});var p8=C(f8=>{"use strict";f8.f=Object.getOwnPropertySymbols});var m8=C((SUe,h8)=>{"use strict";var Xye=ns(),Qye=Mr(),Jye=d8(),Zye=p8(),eve=Xs(),tve=Qye([].concat);h8.exports=Xye("Reflect","ownKeys")||function(e){var r=Jye.f(eve(e)),n=Zye.f;return n?tve(r,n(e)):r}});var gR=C((kUe,y8)=>{"use strict";var g8=Cn(),rve=m8(),nve=Lg(),ive=Da();y8.exports=function(t,e,r){for(var n=rve(e),i=ive.f,s=nve.f,a=0;a<n.length;a++){var o=n[a];!g8(t,o)&&!(r&&g8(r,o))&&i(t,o,s(e,o))}}});var yR=C((CUe,v8)=>{"use strict";var sve=kn(),ave=nr(),ove=/#|\.prototype\./,Pg=function(t,e){var r=cve[lve(t)];return r===dve?!0:r===uve?!1:ave(e)?sve(e):!!e},lve=Pg.normalize=function(t){return String(t).replace(ove,".").toLowerCase()},cve=Pg.data={},uve=Pg.NATIVE="N",dve=Pg.POLYFILL="P";v8.exports=Pg});var ss=C((EUe,b8)=>{"use strict";var o1=$t(),fve=Lg().f,pve=Ig(),hve=Js(),mve=Yx(),gve=gR(),yve=yR();b8.exports=function(t,e){var r=t.target,n=t.global,i=t.stat,s,a,o,l,c,u;if(n?a=o1:i?a=o1[r]||mve(r,{}):a=o1[r]&&o1[r].prototype,a)for(o in e){if(c=e[o],t.dontCallGetSet?(u=fve(a,o),l=u&&u.value):l=a[o],s=yve(n?o:r+(i?".":"#")+o,t.forced),!s&&l!==void 0){if(typeof c==typeof l)continue;gve(c,l)}(t.sham||l&&l.sham)&&pve(c,"sham",!0),hve(a,o,c,t)}}});var x8=C((TUe,w8)=>{"use strict";var vve=kn();w8.exports=!vve(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})});var l1=C((AUe,k8)=>{"use strict";var bve=Cn(),wve=nr(),xve=GI(),Sve=Zx(),kve=x8(),S8=Sve("IE_PROTO"),vR=Object,Cve=vR.prototype;k8.exports=kve?vR.getPrototypeOf:function(t){var e=xve(t);if(bve(e,S8))return e[S8];var r=e.constructor;return wve(r)&&e instanceof r?r.prototype:e instanceof vR?Cve:null}});var E8=C((LUe,C8)=>{"use strict";var Eve=Mr(),Tve=is();C8.exports=function(t,e,r){try{return Eve(Tve(Object.getOwnPropertyDescriptor(t,e)[r]))}catch{}}});var A8=C((IUe,T8)=>{"use strict";var Ave=Ks();T8.exports=function(t){return Ave(t)||t===null}});var I8=C((RUe,L8)=>{"use strict";var Lve=A8(),Ive=String,Rve=TypeError;L8.exports=function(t){if(Lve(t))return t;throw new Rve("Can't set "+Ive(t)+" as a prototype")}});var bR=C((MUe,R8)=>{"use strict";var Mve=E8(),Pve=Ks(),Ove=Nf(),_ve=I8();R8.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},r;try{r=Mve(Object.prototype,"__proto__","set"),r(e,[]),t=e instanceof Array}catch{}return function(i,s){return Ove(i),_ve(s),Pve(i)&&(t?r(i,s):i.__proto__=s),i}}():void 0)});var P8=C((PUe,M8)=>{"use strict";var Dve=mR(),Nve=a1();M8.exports=Object.keys||function(e){return Dve(e,Nve)}});var _8=C(O8=>{"use strict";var Fve=gi(),$ve=JI(),jve=Da(),Vve=Xs(),qve=Cg(),Bve=P8();O8.f=Fve&&!$ve?Object.defineProperties:function(e,r){Vve(e);for(var n=qve(r),i=Bve(r),s=i.length,a=0,o;s>a;)jve.f(e,o=i[a++],n[o]);return e}});var wR=C((_Ue,D8)=>{"use strict";var Uve=ns();D8.exports=Uve("document","documentElement")});var d1=C((DUe,B8)=>{"use strict";var zve=Xs(),Hve=_8(),N8=a1(),Gve=e1(),Wve=wR(),Kve=Xx(),Yve=Zx(),F8=">",$8="<",SR="prototype",kR="script",V8=Yve("IE_PROTO"),xR=function(){},q8=function(t){return $8+kR+F8+t+$8+"/"+kR+F8},j8=function(t){t.write(q8("")),t.close();var e=t.parentWindow.Object;return t=null,e},Xve=function(){var t=Kve("iframe"),e="java"+kR+":",r;return t.style.display="none",Wve.appendChild(t),t.src=String(e),r=t.contentWindow.document,r.open(),r.write(q8("document.F=Object")),r.close(),r.F},c1,u1=function(){try{c1=new ActiveXObject("htmlfile")}catch{}u1=typeof document<"u"?document.domain&&c1?j8(c1):Xve():j8(c1);for(var t=N8.length;t--;)delete u1[SR][N8[t]];return u1()};Gve[V8]=!0;B8.exports=Object.create||function(e,r){var n;return e!==null?(xR[SR]=zve(e),n=new xR,xR[SR]=null,n[V8]=e):n=u1(),r===void 0?n:Hve.f(n,r)}});var G8=C((NUe,H8)=>{"use strict";var Qve=Mr(),U8=Error,Jve=Qve("".replace),Zve=function(t){return String(new U8(t).stack)}("zxcasd"),z8=/\n\s*at [^:]*:[^\n]*/,ebe=z8.test(Zve);H8.exports=function(t,e){if(ebe&&typeof t=="string"&&!U8.prepareStackTrace)for(;e--;)t=Jve(t,z8,"");return t}});var K8=C((FUe,W8)=>{"use strict";var tbe=kn(),rbe=Sg();W8.exports=!tbe(function(){var t=new Error("a");return"stack"in t?(Object.defineProperty(t,"stack",rbe(1,7)),t.stack!==7):!0})});var Q8=C(($Ue,X8)=>{"use strict";var nbe=Ig(),ibe=G8(),sbe=K8(),Y8=Error.captureStackTrace;X8.exports=function(t,e,r,n){sbe&&(Y8?Y8(t,e):nbe(t,"stack",ibe(r,n)))}});var ej=C((jUe,Z8)=>{"use strict";var abe=dr(),obe=abe("toStringTag"),J8={};J8[obe]="z";Z8.exports=String(J8)==="[object z]"});var p1=C((VUe,tj)=>{"use strict";var lbe=ej(),cbe=nr(),f1=kg(),ube=dr(),dbe=ube("toStringTag"),fbe=Object,pbe=f1(function(){return arguments}())==="Arguments",hbe=function(t,e){try{return t[e]}catch{}};tj.exports=lbe?f1:function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=hbe(e=fbe(t),dbe))=="string"?r:pbe?f1(e):(n=f1(e))==="Object"&&cbe(e.callee)?"Arguments":n}});var h1=C((qUe,rj)=>{"use strict";var mbe=p1(),gbe=String;rj.exports=function(t){if(mbe(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return gbe(t)}});var ij=C((BUe,nj)=>{"use strict";var ybe=h1();nj.exports=function(t,e){return t===void 0?arguments.length<2?"":e:ybe(t)}});var oj=C(()=>{"use strict";var vbe=ss(),bbe=$t(),wbe=Eg(),sj=l1(),g1=bR(),xbe=gR(),aj=d1(),m1=Ig(),CR=Sg(),Sbe=Q8(),kbe=ij(),Cbe=dr(),Ebe=kn(),Tbe=Ao(),jf=bbe.SuppressedError,Abe=Cbe("toStringTag"),y1=Error,Lbe=!!jf&&jf.length!==3,Ibe=!!jf&&Ebe(function(){return new jf(1,2,3,{cause:4}).cause===4}),v1=Lbe||Ibe,Lu=function(e,r,n){var i=wbe(Og,this),s;return g1?s=v1&&(!i||sj(this)===Og)?new jf:g1(new y1,i?sj(this):Og):(s=i?this:aj(Og),m1(s,Abe,"Error")),n!==void 0&&m1(s,"message",kbe(n)),Sbe(s,Lu,s.stack,1),m1(s,"error",e),m1(s,"suppressed",r),s};g1?g1(Lu,y1):xbe(Lu,y1,{name:!0});var Og=Lu.prototype=v1?jf.prototype:aj(y1.prototype,{constructor:CR(1,Lu),message:CR(1,""),name:CR(1,"SuppressedError")});v1&&!Tbe&&(Og.constructor=Lu);vbe({global:!0,constructor:!0,arity:3,forced:v1},{SuppressedError:Lu})});var b1=C((HUe,lj)=>{"use strict";var Rbe=Eg(),Mbe=TypeError;lj.exports=function(t,e){if(Rbe(e,t))return t;throw new Mbe("Incorrect invocation")}});var ER=C((GUe,cj)=>{"use strict";var Pbe=Js();cj.exports=function(t,e,r){for(var n in e)Pbe(t,n,e[n],r);return t}});var w1=C((WUe,dj)=>{"use strict";var uj=dR(),Obe=Da();dj.exports=function(t,e,r){return r.get&&uj(r.get,e,{getter:!0}),r.set&&uj(r.set,e,{setter:!0}),Obe.f(t,e,r)}});var pj=C((KUe,fj)=>{"use strict";var _be=kg(),Dbe=Mr();fj.exports=function(t){if(_be(t)==="Function")return Dbe(t)}});var _g=C((YUe,mj)=>{"use strict";var hj=pj(),Nbe=is(),Fbe=xg(),$be=hj(hj.bind);mj.exports=function(t,e){return Nbe(t),e===void 0?t:Fbe?$be(t,e):function(){return t.apply(e,arguments)}}});var AR=C((XUe,wj)=>{"use strict";var jbe=ns(),Vbe=zn(),qbe=Mr(),Bbe=_g(),Ube=Xs(),zbe=is(),vj=Df(),TR=Tu(),bj=dr(),Hbe=bj("asyncDispose"),gj=bj("dispose"),Gbe=qbe([].push),Wbe=function(t,e){if(e==="async-dispose"){var r=TR(t,Hbe);return r!==void 0||(r=TR(t,gj),r===void 0)?r:function(){var n=this,i=jbe("Promise");return new i(function(s){Vbe(r,n),s(void 0)})}}return TR(t,gj)},yj=function(t,e,r){return arguments.length<3&&!vj(t)&&(r=zbe(Wbe(Ube(t),e))),r===void 0?function(){}:Bbe(r,t)};wj.exports=function(t,e,r,n){var i;if(arguments.length<4){if(vj(e)&&r==="sync-dispose")return;i=yj(e,r)}else i=yj(void 0,r,n);Gbe(t.stack,i)}});var Lj=C(()=>{"use strict";var Kbe=ss(),S1=gi(),Cj=ns(),xj=is(),Ybe=b1(),Ej=Js(),Xbe=ER(),Qbe=w1(),Tj=dr(),Aj=Mg(),LR=AR(),Sj=Kx(),kj=Cj("Promise"),Jbe=Cj("SuppressedError"),Zbe=ReferenceError,e0e=Tj("asyncDispose"),t0e=Tj("toStringTag"),C1="AsyncDisposableStack",r0e=Aj.set,k1=Aj.getterFor(C1),IR="async-dispose",Dg="disposed",n0e="pending",x1=function(t){var e=k1(t);if(e.state===Dg)throw new Zbe(C1+" already disposed");return e},RR=function(){r0e(Ybe(this,Vf),{type:C1,state:n0e,stack:[]}),S1||(this.disposed=!1)},Vf=RR.prototype;Xbe(Vf,{disposeAsync:function(){var e=this;return new kj(function(r,n){var i=k1(e);if(i.state===Dg)return r(void 0);i.state=Dg,S1||(e.disposed=!0);var s=i.stack,a=s.length,o=!1,l,c=function(d){o?l=new Jbe(d,l):(o=!0,l=d),u()},u=function(){if(a){var d=s[--a];s[a]=null;try{kj.resolve(d()).then(u,c)}catch(f){c(f)}}else i.stack=null,o?n(l):r(void 0)};u()})},use:function(e){return LR(x1(this),e,IR),e},adopt:function(e,r){var n=x1(this);return xj(r),LR(n,void 0,IR,function(){return r(e)}),e},defer:function(e){var r=x1(this);xj(e),LR(r,void 0,IR,e)},move:function(){var e=x1(this),r=new RR;return k1(r).stack=e.stack,e.stack=[],e.state=Dg,S1||(this.disposed=!0),r}});S1&&Qbe(Vf,"disposed",{configurable:!0,get:function(){return k1(this).state===Dg}});Ej(Vf,e0e,Vf.disposeAsync,{name:"disposeAsync"});Ej(Vf,t0e,C1,{nonWritable:!0});var i0e=Sj&&Sj<136;Kbe({global:!0,constructor:!0,forced:i0e},{AsyncDisposableStack:RR})});var Fj=C((ZUe,Nj)=>{"use strict";var Oj=$t(),_j=Ag(),Dj=nr(),s0e=d1(),E1=l1(),a0e=Js(),o0e=dr(),l0e=Ao(),Ij="USE_FUNCTION_CONSTRUCTOR",Rj=o0e("asyncIterator"),Mj=Oj.AsyncIterator,Pj=_j.AsyncIteratorPrototype,Na,MR;if(Pj)Na=Pj;else if(Dj(Mj))Na=Mj.prototype;else if(_j[Ij]||Oj[Ij])try{MR=E1(E1(E1(Function("return async function*(){}()")()))),E1(MR)===Object.prototype&&(Na=MR)}catch{}Na?l0e&&(Na=s0e(Na)):Na={};Dj(Na[Rj])||a0e(Na,Rj,function(){return this});Nj.exports=Na});var qj=C(()=>{"use strict";var c0e=zn(),u0e=Js(),d0e=ns(),f0e=Tu(),p0e=Cn(),h0e=dr(),$j=Fj(),jj=h0e("asyncDispose"),Vj=d0e("Promise");p0e($j,jj)||u0e($j,jj,function(){var t=this;return new Vj(function(e,r){var n=f0e(t,"return");n?Vj.resolve(c0e(n,t)).then(function(){e(void 0)},r):e(void 0)})})});var Gj=C(()=>{"use strict";var m0e=ss(),A1=gi(),g0e=ns(),Bj=is(),y0e=b1(),Uj=Js(),v0e=ER(),b0e=w1(),zj=dr(),Hj=Mg(),PR=AR(),w0e=g0e("SuppressedError"),x0e=ReferenceError,S0e=zj("dispose"),k0e=zj("toStringTag"),I1="DisposableStack",C0e=Hj.set,L1=Hj.getterFor(I1),OR="sync-dispose",Ng="disposed",E0e="pending",T1=function(t){var e=L1(t);if(e.state===Ng)throw new x0e(I1+" already disposed");return e},_R=function(){C0e(y0e(this,qf),{type:I1,state:E0e,stack:[]}),A1||(this.disposed=!1)},qf=_R.prototype;v0e(qf,{dispose:function(){var e=L1(this);if(e.state!==Ng){e.state=Ng,A1||(this.disposed=!0);for(var r=e.stack,n=r.length,i=!1,s;n;){var a=r[--n];r[n]=null;try{a()}catch(o){i?s=new w0e(o,s):(i=!0,s=o)}}if(e.stack=null,i)throw s}},use:function(e){return PR(T1(this),e,OR),e},adopt:function(e,r){var n=T1(this);return Bj(r),PR(n,void 0,OR,function(){r(e)}),e},defer:function(e){var r=T1(this);Bj(e),PR(r,void 0,OR,e)},move:function(){var e=T1(this),r=new _R;return L1(r).stack=e.stack,e.stack=[],e.state=Ng,A1||(this.disposed=!0),r}});A1&&b0e(qf,"disposed",{configurable:!0,get:function(){return L1(this).state===Ng}});Uj(qf,S0e,qf.dispose,{name:"dispose"});Uj(qf,k0e,I1,{nonWritable:!0});m0e({global:!0,constructor:!0},{DisposableStack:_R})});var Xj=C((ize,Yj)=>{"use strict";var T0e=kn(),A0e=nr(),L0e=Ks(),I0e=d1(),Wj=l1(),R0e=Js(),M0e=dr(),P0e=Ao(),FR=M0e("iterator"),Kj=!1,Lo,DR,NR;[].keys&&(NR=[].keys(),"next"in NR?(DR=Wj(Wj(NR)),DR!==Object.prototype&&(Lo=DR)):Kj=!0);var O0e=!L0e(Lo)||T0e(function(){var t={};return Lo[FR].call(t)!==t});O0e?Lo={}:P0e&&(Lo=I0e(Lo));A0e(Lo[FR])||R0e(Lo,FR,function(){return this});Yj.exports={IteratorPrototype:Lo,BUGGY_SAFARI_ITERATORS:Kj}});var Zj=C(()=>{"use strict";var _0e=zn(),D0e=Js(),N0e=Tu(),F0e=Cn(),$0e=dr(),Qj=Xj().IteratorPrototype,Jj=$0e("dispose");F0e(Qj,Jj)||D0e(Qj,Jj,function(){var t=N0e(this,"return");t&&_0e(t,this)})});var R1=C((oze,eV)=>{"use strict";var j0e=$t();eV.exports=j0e});var rV=C(tV=>{"use strict";var V0e=dr();tV.f=V0e});var $R=C((cze,iV)=>{"use strict";var nV=R1(),q0e=Cn(),B0e=rV(),U0e=Da().f;iV.exports=function(t){var e=nV.Symbol||(nV.Symbol={});q0e(e,t)||U0e(e,t,{value:B0e.f(t)})}});var sV=C(()=>{"use strict";var z0e=$t(),H0e=$R(),G0e=Da().f,W0e=Lg().f,jR=z0e.Symbol;H0e("asyncDispose");jR&&(Fg=W0e(jR,"asyncDispose"),Fg.enumerable&&Fg.configurable&&Fg.writable&&G0e(jR,"asyncDispose",{value:Fg.value,enumerable:!1,configurable:!1,writable:!1}));var Fg});var aV=C(()=>{"use strict";var K0e=$t(),Y0e=$R(),X0e=Da().f,Q0e=Lg().f,VR=K0e.Symbol;Y0e("dispose");VR&&($g=Q0e(VR,"dispose"),$g.enumerable&&$g.configurable&&$g.writable&&X0e(VR,"dispose",{value:$g.value,enumerable:!1,configurable:!1,writable:!1}));var $g});var oV=C(()=>{"use strict";oj();Lj();qj();Gj();Zj();sV();aV()});var qR=C((yze,lV)=>{"use strict";var jg=$t(),J0e=Ff(),Z0e=kg(),M1=function(t){return J0e.slice(0,t.length)===t};lV.exports=function(){return M1("Bun/")?"BUN":M1("Cloudflare-Workers")?"CLOUDFLARE":M1("Deno/")?"DENO":M1("Node.js/")?"NODE":jg.Bun&&typeof Bun.version=="string"?"BUN":jg.Deno&&typeof Deno.version=="object"?"DENO":Z0e(jg.process)==="process"?"NODE":jg.window&&jg.document?"BROWSER":"REST"}()});var P1=C((vze,cV)=>{"use strict";var ewe=qR();cV.exports=ewe==="NODE"});var fV=C((bze,dV)=>{"use strict";var twe=Da().f,rwe=Cn(),nwe=dr(),uV=nwe("toStringTag");dV.exports=function(t,e,r){t&&!r&&(t=t.prototype),t&&!rwe(t,uV)&&twe(t,uV,{configurable:!0,value:e})}});var mV=C((wze,hV)=>{"use strict";var iwe=ns(),swe=w1(),awe=dr(),owe=gi(),pV=awe("species");hV.exports=function(t){var e=iwe(t);owe&&e&&!e[pV]&&swe(e,pV,{configurable:!0,get:function(){return this}})}});var xV=C((xze,wV)=>{"use strict";var lwe=Mr(),cwe=kn(),gV=nr(),uwe=p1(),dwe=ns(),fwe=Jx(),yV=function(){},vV=dwe("Reflect","construct"),BR=/^\s*(?:class|function)\b/,pwe=lwe(BR.exec),hwe=!BR.test(yV),Vg=function(e){if(!gV(e))return!1;try{return vV(yV,[],e),!0}catch{return!1}},bV=function(e){if(!gV(e))return!1;switch(uwe(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return hwe||!!pwe(BR,fwe(e))}catch{return!0}};bV.sham=!0;wV.exports=!vV||cwe(function(){var t;return Vg(Vg.call)||!Vg(Object)||!Vg(function(){t=!0})||t})?bV:Vg});var kV=C((Sze,SV)=>{"use strict";var mwe=xV(),gwe=Tg(),ywe=TypeError;SV.exports=function(t){if(mwe(t))return t;throw new ywe(gwe(t)+" is not a constructor")}});var TV=C((kze,EV)=>{"use strict";var CV=Xs(),vwe=kV(),bwe=Df(),wwe=dr(),xwe=wwe("species");EV.exports=function(t,e){var r=CV(t).constructor,n;return r===void 0||bwe(n=CV(r)[xwe])?e:vwe(n)}});var MV=C((Cze,RV)=>{"use strict";var Swe=xg(),IV=Function.prototype,AV=IV.apply,LV=IV.call;RV.exports=typeof Reflect=="object"&&Reflect.apply||(Swe?LV.bind(AV):function(){return LV.apply(AV,arguments)})});var OV=C((Eze,PV)=>{"use strict";var kwe=Mr();PV.exports=kwe([].slice)});var DV=C((Tze,_V)=>{"use strict";var Cwe=TypeError;_V.exports=function(t,e){if(t<e)throw new Cwe("Not enough arguments");return t}});var UR=C((Aze,NV)=>{"use strict";var Ewe=Ff();NV.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(Ewe)});var JR=C((Lze,HV)=>{"use strict";var yi=$t(),Twe=MV(),Awe=_g(),FV=nr(),Lwe=Cn(),zV=kn(),$V=wR(),Iwe=OV(),jV=Xx(),Rwe=DV(),Mwe=UR(),Pwe=P1(),YR=yi.setImmediate,XR=yi.clearImmediate,Owe=yi.process,zR=yi.Dispatch,_we=yi.Function,VV=yi.MessageChannel,Dwe=yi.String,HR=0,qg={},qV="onreadystatechange",Bg,Iu,GR,WR;zV(function(){Bg=yi.location});var QR=function(t){if(Lwe(qg,t)){var e=qg[t];delete qg[t],e()}},KR=function(t){return function(){QR(t)}},BV=function(t){QR(t.data)},UV=function(t){yi.postMessage(Dwe(t),Bg.protocol+"//"+Bg.host)};(!YR||!XR)&&(YR=function(e){Rwe(arguments.length,1);var r=FV(e)?e:_we(e),n=Iwe(arguments,1);return qg[++HR]=function(){Twe(r,void 0,n)},Iu(HR),HR},XR=function(e){delete qg[e]},Pwe?Iu=function(t){Owe.nextTick(KR(t))}:zR&&zR.now?Iu=function(t){zR.now(KR(t))}:VV&&!Mwe?(GR=new VV,WR=GR.port2,GR.port1.onmessage=BV,Iu=Awe(WR.postMessage,WR)):yi.addEventListener&&FV(yi.postMessage)&&!yi.importScripts&&Bg&&Bg.protocol!=="file:"&&!zV(UV)?(Iu=UV,yi.addEventListener("message",BV,!1)):qV in jV("script")?Iu=function(t){$V.appendChild(jV("script"))[qV]=function(){$V.removeChild(this),QR(t)}}:Iu=function(t){setTimeout(KR(t),0)});HV.exports={set:YR,clear:XR}});var KV=C((Ize,WV)=>{"use strict";var GV=$t(),Nwe=gi(),Fwe=Object.getOwnPropertyDescriptor;WV.exports=function(t){if(!Nwe)return GV[t];var e=Fwe(GV,t);return e&&e.value}});var ZR=C((Rze,XV)=>{"use strict";var YV=function(){this.head=null,this.tail=null};YV.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t){var e=this.head=t.next;return e===null&&(this.tail=null),t.item}}};XV.exports=YV});var JV=C((Mze,QV)=>{"use strict";var $we=Ff();QV.exports=/ipad|iphone|ipod/i.test($we)&&typeof Pebble<"u"});var eq=C((Pze,ZV)=>{"use strict";var jwe=Ff();ZV.exports=/web0s(?!.*chrome)/i.test(jwe)});var oq=C((Oze,aq)=>{"use strict";var Uf=$t(),Vwe=KV(),tq=_g(),e3=JR().set,qwe=ZR(),Bwe=UR(),Uwe=JV(),zwe=eq(),t3=P1(),rq=Uf.MutationObserver||Uf.WebKitMutationObserver,nq=Uf.document,iq=Uf.process,O1=Uf.Promise,i3=Vwe("queueMicrotask"),Bf,r3,n3,_1,sq;i3||(Ug=new qwe,zg=function(){var t,e;for(t3&&(t=iq.domain)&&t.exit();e=Ug.get();)try{e()}catch(r){throw Ug.head&&Bf(),r}t&&t.enter()},!Bwe&&!t3&&!zwe&&rq&&nq?(r3=!0,n3=nq.createTextNode(""),new rq(zg).observe(n3,{characterData:!0}),Bf=function(){n3.data=r3=!r3}):!Uwe&&O1&&O1.resolve?(_1=O1.resolve(void 0),_1.constructor=O1,sq=tq(_1.then,_1),Bf=function(){sq(zg)}):t3?Bf=function(){iq.nextTick(zg)}:(e3=tq(e3,Uf),Bf=function(){e3(zg)}),i3=function(t){Ug.head||Bf(),Ug.add(t)});var Ug,zg;aq.exports=i3});var cq=C((_ze,lq)=>{"use strict";lq.exports=function(t,e){try{arguments.length===1?console.error(t):console.error(t,e)}catch{}}});var D1=C((Dze,uq)=>{"use strict";uq.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}});var zf=C((Nze,dq)=>{"use strict";var Hwe=$t();dq.exports=Hwe.Promise});var Hf=C((Fze,mq)=>{"use strict";var Gwe=$t(),Hg=zf(),Wwe=nr(),Kwe=yR(),Ywe=Jx(),Xwe=dr(),fq=qR(),Qwe=Ao(),s3=Kx(),pq=Hg&&Hg.prototype,Jwe=Xwe("species"),a3=!1,hq=Wwe(Gwe.PromiseRejectionEvent),Zwe=Kwe("Promise",function(){var t=Ywe(Hg),e=t!==String(Hg);if(!e&&s3===66||Qwe&&!(pq.catch&&pq.finally))return!0;if(!s3||s3<51||!/native code/.test(t)){var r=new Hg(function(s){s(1)}),n=function(s){s(function(){},function(){})},i=r.constructor={};if(i[Jwe]=n,a3=r.then(function(){})instanceof n,!a3)return!0}return!e&&(fq==="BROWSER"||fq==="DENO")&&!hq});mq.exports={CONSTRUCTOR:Zwe,REJECTION_EVENT:hq,SUBCLASSING:a3}});var Ru=C(($ze,yq)=>{"use strict";var gq=is(),exe=TypeError,txe=function(t){var e,r;this.promise=new t(function(n,i){if(e!==void 0||r!==void 0)throw new exe("Bad Promise constructor");e=n,r=i}),this.resolve=gq(e),this.reject=gq(r)};yq.exports.f=function(t){return new txe(t)}});var Nq=C(()=>{"use strict";var rxe=ss(),nxe=Ao(),j1=P1(),Bl=$t(),Yf=zn(),vq=Js(),bq=bR(),ixe=fV(),sxe=mV(),axe=is(),$1=nr(),oxe=Ks(),lxe=b1(),cxe=TV(),Cq=JR().set,d3=oq(),uxe=cq(),dxe=D1(),fxe=ZR(),Eq=Mg(),V1=zf(),f3=Hf(),Tq=Ru(),q1="Promise",Aq=f3.CONSTRUCTOR,pxe=f3.REJECTION_EVENT,hxe=f3.SUBCLASSING,o3=Eq.getterFor(q1),mxe=Eq.set,Gf=V1&&V1.prototype,Mu=V1,N1=Gf,Lq=Bl.TypeError,l3=Bl.document,p3=Bl.process,c3=Tq.f,gxe=c3,yxe=!!(l3&&l3.createEvent&&Bl.dispatchEvent),Iq="unhandledrejection",vxe="rejectionhandled",wq=0,Rq=1,bxe=2,h3=1,Mq=2,F1,xq,wxe,Sq,Pq=function(t){var e;return oxe(t)&&$1(e=t.then)?e:!1},Oq=function(t,e){var r=e.value,n=e.state===Rq,i=n?t.ok:t.fail,s=t.resolve,a=t.reject,o=t.domain,l,c,u;try{i?(n||(e.rejection===Mq&&Sxe(e),e.rejection=h3),i===!0?l=r:(o&&o.enter(),l=i(r),o&&(o.exit(),u=!0)),l===t.promise?a(new Lq("Promise-chain cycle")):(c=Pq(l))?Yf(c,l,s,a):s(l)):a(r)}catch(d){o&&!u&&o.exit(),a(d)}},_q=function(t,e){t.notified||(t.notified=!0,d3(function(){for(var r=t.reactions,n;n=r.get();)Oq(n,t);t.notified=!1,e&&!t.rejection&&xxe(t)}))},Dq=function(t,e,r){var n,i;yxe?(n=l3.createEvent("Event"),n.promise=e,n.reason=r,n.initEvent(t,!1,!0),Bl.dispatchEvent(n)):n={promise:e,reason:r},!pxe&&(i=Bl["on"+t])?i(n):t===Iq&&uxe("Unhandled promise rejection",r)},xxe=function(t){Yf(Cq,Bl,function(){var e=t.facade,r=t.value,n=kq(t),i;if(n&&(i=dxe(function(){j1?p3.emit("unhandledRejection",r,e):Dq(Iq,e,r)}),t.rejection=j1||kq(t)?Mq:h3,i.error))throw i.value})},kq=function(t){return t.rejection!==h3&&!t.parent},Sxe=function(t){Yf(Cq,Bl,function(){var e=t.facade;j1?p3.emit("rejectionHandled",e):Dq(vxe,e,t.value)})},Wf=function(t,e,r){return function(n){t(e,n,r)}},Kf=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=bxe,_q(t,!0))},u3=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw new Lq("Promise can't be resolved itself");var n=Pq(e);n?d3(function(){var i={done:!1};try{Yf(n,e,Wf(u3,i,t),Wf(Kf,i,t))}catch(s){Kf(i,s,t)}}):(t.value=e,t.state=Rq,_q(t,!1))}catch(i){Kf({done:!1},i,t)}}};if(Aq&&(Mu=function(e){lxe(this,N1),axe(e),Yf(F1,this);var r=o3(this);try{e(Wf(u3,r),Wf(Kf,r))}catch(n){Kf(r,n)}},N1=Mu.prototype,F1=function(e){mxe(this,{type:q1,done:!1,notified:!1,parent:!1,reactions:new fxe,rejection:!1,state:wq,value:null})},F1.prototype=vq(N1,"then",function(e,r){var n=o3(this),i=c3(cxe(this,Mu));return n.parent=!0,i.ok=$1(e)?e:!0,i.fail=$1(r)&&r,i.domain=j1?p3.domain:void 0,n.state===wq?n.reactions.add(i):d3(function(){Oq(i,n)}),i.promise}),xq=function(){var t=new F1,e=o3(t);this.promise=t,this.resolve=Wf(u3,e),this.reject=Wf(Kf,e)},Tq.f=c3=function(t){return t===Mu||t===wxe?new xq(t):gxe(t)},!nxe&&$1(V1)&&Gf!==Object.prototype)){Sq=Gf.then,hxe||vq(Gf,"then",function(e,r){var n=this;return new Mu(function(i,s){Yf(Sq,n,i,s)}).then(e,r)},{unsafe:!0});try{delete Gf.constructor}catch{}bq&&bq(Gf,N1)}rxe({global:!0,constructor:!0,wrap:!0,forced:Aq},{Promise:Mu});ixe(Mu,q1,!1,!0);sxe(q1)});var m3=C((qze,Fq)=>{"use strict";Fq.exports={}});var jq=C((Bze,$q)=>{"use strict";var kxe=dr(),Cxe=m3(),Exe=kxe("iterator"),Txe=Array.prototype;$q.exports=function(t){return t!==void 0&&(Cxe.Array===t||Txe[Exe]===t)}});var g3=C((Uze,qq)=>{"use strict";var Axe=p1(),Vq=Tu(),Lxe=Df(),Ixe=m3(),Rxe=dr(),Mxe=Rxe("iterator");qq.exports=function(t){if(!Lxe(t))return Vq(t,Mxe)||Vq(t,"@@iterator")||Ixe[Axe(t)]}});var Uq=C((zze,Bq)=>{"use strict";var Pxe=zn(),Oxe=is(),_xe=Xs(),Dxe=Tg(),Nxe=g3(),Fxe=TypeError;Bq.exports=function(t,e){var r=arguments.length<2?Nxe(t):e;if(Oxe(r))return _xe(Pxe(r,t));throw new Fxe(Dxe(t)+" is not iterable")}});var Gq=C((Hze,Hq)=>{"use strict";var $xe=zn(),zq=Xs(),jxe=Tu();Hq.exports=function(t,e,r){var n,i;zq(t);try{if(n=jxe(t,"return"),!n){if(e==="throw")throw r;return r}n=$xe(n,t)}catch(s){i=!0,n=s}if(e==="throw")throw r;if(i)throw n;return zq(n),r}});var y3=C((Gze,Xq)=>{"use strict";var Vxe=_g(),qxe=zn(),Bxe=Xs(),Uxe=Tg(),zxe=jq(),Hxe=pR(),Wq=Eg(),Gxe=Uq(),Wxe=g3(),Kq=Gq(),Kxe=TypeError,B1=function(t,e){this.stopped=t,this.result=e},Yq=B1.prototype;Xq.exports=function(t,e,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),s=!!(r&&r.IS_RECORD),a=!!(r&&r.IS_ITERATOR),o=!!(r&&r.INTERRUPTED),l=Vxe(e,n),c,u,d,f,p,h,g,v=function(b){return c&&Kq(c,"normal",b),new B1(!0,b)},y=function(b){return i?(Bxe(b),o?l(b[0],b[1],v):l(b[0],b[1])):o?l(b,v):l(b)};if(s)c=t.iterator;else if(a)c=t;else{if(u=Wxe(t),!u)throw new Kxe(Uxe(t)+" is not iterable");if(zxe(u)){for(d=0,f=Hxe(t);f>d;d++)if(p=y(t[d]),p&&Wq(Yq,p))return p;return new B1(!1)}c=Gxe(t,u)}for(h=s?t.next:c.next;!(g=qxe(h,c)).done;){try{p=y(g.value)}catch(b){Kq(c,"throw",b)}if(typeof p=="object"&&p&&Wq(Yq,p))return p}return new B1(!1)}});var tB=C((Wze,eB)=>{"use strict";var Yxe=dr(),Jq=Yxe("iterator"),Zq=!1;try{Qq=0,v3={next:function(){return{done:!!Qq++}},return:function(){Zq=!0}},v3[Jq]=function(){return this},Array.from(v3,function(){throw 2})}catch{}var Qq,v3;eB.exports=function(t,e){try{if(!e&&!Zq)return!1}catch{return!1}var r=!1;try{var n={};n[Jq]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch{}return r}});var b3=C((Kze,rB)=>{"use strict";var Xxe=zf(),Qxe=tB(),Jxe=Hf().CONSTRUCTOR;rB.exports=Jxe||!Qxe(function(t){Xxe.all(t).then(void 0,function(){})})});var nB=C(()=>{"use strict";var Zxe=ss(),e1e=zn(),t1e=is(),r1e=Ru(),n1e=D1(),i1e=y3(),s1e=b3();Zxe({target:"Promise",stat:!0,forced:s1e},{all:function(e){var r=this,n=r1e.f(r),i=n.resolve,s=n.reject,a=n1e(function(){var o=t1e(r.resolve),l=[],c=0,u=1;i1e(e,function(d){var f=c++,p=!1;u++,e1e(o,r,d).then(function(h){p||(p=!0,l[f]=h,--u||i(l))},s)}),--u||i(l)});return a.error&&s(a.value),n.promise}})});var sB=C(()=>{"use strict";var a1e=ss(),o1e=Ao(),l1e=Hf().CONSTRUCTOR,x3=zf(),c1e=ns(),u1e=nr(),d1e=Js(),iB=x3&&x3.prototype;a1e({target:"Promise",proto:!0,forced:l1e,real:!0},{catch:function(t){return this.then(void 0,t)}});!o1e&&u1e(x3)&&(w3=c1e("Promise").prototype.catch,iB.catch!==w3&&d1e(iB,"catch",w3,{unsafe:!0}));var w3});var aB=C(()=>{"use strict";var f1e=ss(),p1e=zn(),h1e=is(),m1e=Ru(),g1e=D1(),y1e=y3(),v1e=b3();f1e({target:"Promise",stat:!0,forced:v1e},{race:function(e){var r=this,n=m1e.f(r),i=n.reject,s=g1e(function(){var a=h1e(r.resolve);y1e(e,function(o){p1e(a,r,o).then(n.resolve,i)})});return s.error&&i(s.value),n.promise}})});var oB=C(()=>{"use strict";var b1e=ss(),w1e=Ru(),x1e=Hf().CONSTRUCTOR;b1e({target:"Promise",stat:!0,forced:x1e},{reject:function(e){var r=w1e.f(this),n=r.reject;return n(e),r.promise}})});var cB=C((nHe,lB)=>{"use strict";var S1e=Xs(),k1e=Ks(),C1e=Ru();lB.exports=function(t,e){if(S1e(t),k1e(e)&&e.constructor===t)return e;var r=C1e.f(t),n=r.resolve;return n(e),r.promise}});var fB=C(()=>{"use strict";var E1e=ss(),T1e=ns(),uB=Ao(),A1e=zf(),dB=Hf().CONSTRUCTOR,L1e=cB(),I1e=T1e("Promise"),R1e=uB&&!dB;E1e({target:"Promise",stat:!0,forced:uB||dB},{resolve:function(e){return L1e(R1e&&this===I1e?A1e:this,e)}})});var pB=C(()=>{"use strict";Nq();nB();sB();aB();oB();fB()});var hB=C(()=>{"use strict";var M1e=ss(),P1e=Ru();M1e({target:"Promise",stat:!0},{withResolvers:function(){var e=P1e.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}})});var yB=C((uHe,gB)=>{"use strict";pB();hB();var O1e=zn(),_1e=nr(),D1e=R1(),mB=D1e.Promise,N1e=mB.withResolvers;gB.exports=function(){return O1e(N1e,_1e(this)?this:mB)}});var bB=C((dHe,vB)=>{"use strict";var F1e=yB();vB.exports=F1e});var xB=C((pHe,wB)=>{"use strict";var $1e=TypeError;wB.exports=function(t){if(typeof t=="string")return t;throw new $1e("Argument is not a string")}});var kB=C((hHe,SB)=>{"use strict";var j1e=s1(),V1e=h1(),q1e=Nf(),B1e=RangeError;SB.exports=function(e){var r=V1e(q1e(this)),n="",i=j1e(e);if(i<0||i===1/0)throw new B1e("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(r+=r))i&1&&(n+=r);return n}});var LB=C((mHe,AB)=>{"use strict";var TB=Mr(),U1e=fR(),CB=h1(),z1e=kB(),H1e=Nf(),G1e=TB(z1e),W1e=TB("".slice),K1e=Math.ceil,EB=function(t){return function(e,r,n){var i=CB(H1e(e)),s=U1e(r),a=i.length,o=n===void 0?" ":CB(n),l,c;return s<=a||o===""?i:(l=s-a,c=G1e(o,K1e(l/o.length)),c.length>l&&(c=W1e(c,0,l)),t?i+c:c+i)}};AB.exports={start:EB(!1),end:EB(!0)}});var RB=C((gHe,IB)=>{"use strict";IB.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`});var NB=C(()=>{"use strict";var Y1e=ss(),Gg=Mr(),X1e=xB(),Q1e=Cn(),MB=LB().start,J1e=RB(),Z1e=Array,PB=RegExp.escape,OB=Gg("".charAt),C3=Gg("".charCodeAt),eSe=Gg(1.1.toString),tSe=Gg([].join),DB=/^[0-9a-z]/i,rSe=/^[$()*+./?[\\\]^{|}]/,nSe=RegExp("^[!\"#%&',\\-:;<=>@`~"+J1e+"]"),S3=Gg(DB.exec),_B={"	":"t","\n":"n","\v":"v","\f":"f","\r":"r"},k3=function(t){var e=eSe(C3(t,0),16);return e.length<3?"\\x"+MB(e,2,"0"):"\\u"+MB(e,4,"0")},iSe=!PB||PB("ab")!=="\\x61b";Y1e({target:"RegExp",stat:!0,forced:iSe},{escape:function(e){X1e(e);for(var r=e.length,n=Z1e(r),i=0;i<r;i++){var s=OB(e,i);if(i===0&&S3(DB,s))n[i]=k3(s);else if(Q1e(_B,s))n[i]="\\"+_B[s];else if(S3(rSe,s))n[i]="\\"+s;else if(S3(nSe,s))n[i]=k3(s);else{var a=C3(s,0);(a&63488)!==55296?n[i]=s:a>=56320||i+1>=r||(C3(e,i+1)&64512)!==56320?n[i]=k3(s):(n[i]=s,n[++i]=OB(e,i))}}return tSe(n,"")}})});var $B=C((bHe,FB)=>{"use strict";NB();var sSe=R1();FB.exports=sSe.RegExp.escape});var VB=C((wHe,jB)=>{"use strict";var aSe=$B();jB.exports=aSe});var sU=C(U1=>{"use strict";var NSe=Symbol.for("react.transitional.element"),FSe=Symbol.for("react.fragment");function iU(t,e,r){var n=null;if(r!==void 0&&(n=""+r),e.key!==void 0&&(n=""+e.key),"key"in e){r={};for(var i in e)i!=="key"&&(r[i]=e[i])}else r=e;return e=r.ref,{$$typeof:NSe,type:t,key:n,ref:e!==void 0?e:null,props:r}}U1.Fragment=FSe;U1.jsx=iU;U1.jsxs=iU});var Be=C((DHe,aU)=>{"use strict";aU.exports=sU()});var vU=C(Ne=>{"use strict";var R3=Symbol.for("react.transitional.element"),$Se=Symbol.for("react.portal"),jSe=Symbol.for("react.fragment"),VSe=Symbol.for("react.strict_mode"),qSe=Symbol.for("react.profiler"),BSe=Symbol.for("react.consumer"),USe=Symbol.for("react.context"),zSe=Symbol.for("react.forward_ref"),HSe=Symbol.for("react.suspense"),GSe=Symbol.for("react.memo"),fU=Symbol.for("react.lazy"),oU=Symbol.iterator;function WSe(t){return t===null||typeof t!="object"?null:(t=oU&&t[oU]||t["@@iterator"],typeof t=="function"?t:null)}var pU={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hU=Object.assign,mU={};function Jf(t,e,r){this.props=t,this.context=e,this.refs=mU,this.updater=r||pU}Jf.prototype.isReactComponent={};Jf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gU(){}gU.prototype=Jf.prototype;function M3(t,e,r){this.props=t,this.context=e,this.refs=mU,this.updater=r||pU}var P3=M3.prototype=new gU;P3.constructor=M3;hU(P3,Jf.prototype);P3.isPureReactComponent=!0;var lU=Array.isArray,jt={H:null,A:null,T:null,S:null,V:null},yU=Object.prototype.hasOwnProperty;function O3(t,e,r,n,i,s){return r=s.ref,{$$typeof:R3,type:t,key:e,ref:r!==void 0?r:null,props:s}}function KSe(t,e){return O3(t.type,e,void 0,void 0,void 0,t.props)}function _3(t){return typeof t=="object"&&t!==null&&t.$$typeof===R3}function YSe(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var cU=/\/+/g;function I3(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YSe(""+t.key):e.toString(36)}function uU(){}function XSe(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(uU,uU):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Qf(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case R3:case $Se:a=!0;break;case fU:return a=t._init,Qf(a(t._payload),e,r,n,i)}}if(a)return i=i(t),a=n===""?"."+I3(t,0):n,lU(i)?(r="",a!=null&&(r=a.replace(cU,"$&/")+"/"),Qf(i,e,r,"",function(c){return c})):i!=null&&(_3(i)&&(i=KSe(i,r+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(cU,"$&/")+"/")+a)),e.push(i)),1;a=0;var o=n===""?".":n+":";if(lU(t))for(var l=0;l<t.length;l++)n=t[l],s=o+I3(n,l),a+=Qf(n,e,r,s,i);else if(l=WSe(t),typeof l=="function")for(t=l.call(t),l=0;!(n=t.next()).done;)n=n.value,s=o+I3(n,l++),a+=Qf(n,e,r,s,i);else if(s==="object"){if(typeof t.then=="function")return Qf(XSe(t),e,r,n,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function z1(t,e,r){if(t==null)return t;var n=[],i=0;return Qf(t,n,"","",function(s){return e.call(r,s,i++)}),n}function QSe(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dU=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function JSe(){}Ne.Children={map:z1,forEach:function(t,e,r){z1(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return z1(t,function(){e++}),e},toArray:function(t){return z1(t,function(e){return e})||[]},only:function(t){if(!_3(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ne.Component=Jf;Ne.Fragment=jSe;Ne.Profiler=qSe;Ne.PureComponent=M3;Ne.StrictMode=VSe;Ne.Suspense=HSe;Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=jt;Ne.__COMPILER_RUNTIME={__proto__:null,c:function(t){return jt.H.useMemoCache(t)}};Ne.cache=function(t){return function(){return t.apply(null,arguments)}};Ne.cloneElement=function(t,e,r){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var n=hU({},t.props),i=t.key,s=void 0;if(e!=null)for(a in e.ref!==void 0&&(s=void 0),e.key!==void 0&&(i=""+e.key),e)!yU.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(n[a]=e[a]);var a=arguments.length-2;if(a===1)n.children=r;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];n.children=o}return O3(t.type,i,void 0,void 0,s,n)};Ne.createContext=function(t){return t={$$typeof:USe,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:BSe,_context:t},t};Ne.createElement=function(t,e,r){var n,i={},s=null;if(e!=null)for(n in e.key!==void 0&&(s=""+e.key),e)yU.call(e,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return O3(t,s,void 0,void 0,null,i)};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(t){return{$$typeof:zSe,render:t}};Ne.isValidElement=_3;Ne.lazy=function(t){return{$$typeof:fU,_payload:{_status:-1,_result:t},_init:QSe}};Ne.memo=function(t,e){return{$$typeof:GSe,type:t,compare:e===void 0?null:e}};Ne.startTransition=function(t){var e=jt.T,r={};jt.T=r;try{var n=t(),i=jt.S;i!==null&&i(r,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(JSe,dU)}catch(s){dU(s)}finally{jt.T=e}};Ne.unstable_useCacheRefresh=function(){return jt.H.useCacheRefresh()};Ne.use=function(t){return jt.H.use(t)};Ne.useActionState=function(t,e,r){return jt.H.useActionState(t,e,r)};Ne.useCallback=function(t,e){return jt.H.useCallback(t,e)};Ne.useContext=function(t){return jt.H.useContext(t)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(t,e){return jt.H.useDeferredValue(t,e)};Ne.useEffect=function(t,e,r){var n=jt.H;if(typeof r=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return n.useEffect(t,e)};Ne.useId=function(){return jt.H.useId()};Ne.useImperativeHandle=function(t,e,r){return jt.H.useImperativeHandle(t,e,r)};Ne.useInsertionEffect=function(t,e){return jt.H.useInsertionEffect(t,e)};Ne.useLayoutEffect=function(t,e){return jt.H.useLayoutEffect(t,e)};Ne.useMemo=function(t,e){return jt.H.useMemo(t,e)};Ne.useOptimistic=function(t,e){return jt.H.useOptimistic(t,e)};Ne.useReducer=function(t,e,r){return jt.H.useReducer(t,e,r)};Ne.useRef=function(t){return jt.H.useRef(t)};Ne.useState=function(t){return jt.H.useState(t)};Ne.useSyncExternalStore=function(t,e,r){return jt.H.useSyncExternalStore(t,e,r)};Ne.useTransition=function(){return jt.H.useTransition()};Ne.version="19.1.0"});var he=C((FHe,bU)=>{"use strict";bU.exports=vU()});var kU=C(Tn=>{"use strict";var ike=he();function SU(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Hl(){}var En={d:{f:Hl,r:function(){throw Error(SU(522))},D:Hl,C:Hl,L:Hl,m:Hl,X:Hl,S:Hl,M:Hl},p:0,findDOMNode:null},ske=Symbol.for("react.portal");function ake(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ske,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}var Xg=ike.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function H1(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=En;Tn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(SU(299));return ake(t,e,null,r)};Tn.flushSync=function(t){var e=Xg.T,r=En.p;try{if(Xg.T=null,En.p=2,t)return t()}finally{Xg.T=e,En.p=r,En.d.f()}};Tn.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,En.d.C(t,e))};Tn.prefetchDNS=function(t){typeof t=="string"&&En.d.D(t)};Tn.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var r=e.as,n=H1(r,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;r==="style"?En.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:n,integrity:i,fetchPriority:s}):r==="script"&&En.d.X(t,{crossOrigin:n,integrity:i,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Tn.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var r=H1(e.as,e.crossOrigin);En.d.M(t,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&En.d.M(t)};Tn.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var r=e.as,n=H1(r,e.crossOrigin);En.d.L(t,r,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Tn.preloadModule=function(t,e){if(typeof t=="string")if(e){var r=H1(e.as,e.crossOrigin);En.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else En.d.m(t)};Tn.requestFormReset=function(t){En.d.r(t)};Tn.unstable_batchedUpdates=function(t,e){return t(e)};Tn.useFormState=function(t,e,r){return Xg.H.useFormState(t,e,r)};Tn.useFormStatus=function(){return Xg.H.useHostTransitionStatus()};Tn.version="19.1.0"});var Pu=C((BHe,EU)=>{"use strict";function CU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CU)}catch(t){console.error(t)}}CU(),EU.exports=kU()});var Du={};Rr(Du,{Headers:()=>B3,Request:()=>fke,Response:()=>pke,default:()=>q3,fetch:()=>dke});var uke,tp,dke,q3,B3,fke,pke,Gl=tt(()=>{"use strict";uke=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},tp=uke(),dke=tp.fetch,q3=tp.fetch.bind(tp),B3=tp.Headers,fke=tp.Request,pke=tp.Response});var H3=C(z3=>{"use strict";Object.defineProperty(z3,"__esModule",{value:!0});var U3=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};z3.default=U3});var W3=C(Zg=>{"use strict";var OU=Zg&&Zg.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zg,"__esModule",{value:!0});var mke=OU((Gl(),y7(Du))),gke=OU(H3()),G3=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=mke.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let n=this.fetch,i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,o,l;let c=null,u=null,d=null,f=s.status,p=s.statusText;if(s.ok){if(this.method!=="HEAD"){let y=await s.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}let g=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),v=(o=s.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");g&&v&&v.length>1&&(d=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let g=await s.text();try{c=JSON.parse(g),Array.isArray(c)&&s.status===404&&(u=[],c=null,f=200,p="OK")}catch{s.status===404&&g===""?(f=204,p="No Content"):c={message:g}}if(c&&this.isMaybeSingle&&(!((l=c?.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,p="OK"),c&&this.shouldThrowOnError)throw new gke.default(c)}return{error:c,data:u,count:d,status:f,statusText:p}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,o,l;return{error:{message:`${(a=s?.name)!==null&&a!==void 0?a:"FetchError"}: ${s?.message}`,details:`${(o=s?.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=s?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}returns(){return this}overrideTypes(){return this}};Zg.default=G3});var Y3=C(ey=>{"use strict";var yke=ey&&ey.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ey,"__esModule",{value:!0});var vke=yke(W3()),K3=class extends vke.default{select(e){let r=!1,n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){let a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){let i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){let s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var o;let l=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ey.default=K3});var Z1=C(ty=>{"use strict";var bke=ty&&ty.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ty,"__esModule",{value:!0});var wke=bke(Y3()),X3=class extends wke.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){let n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");let a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${a}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){let i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};ty.default=X3});var J3=C(ny=>{"use strict";var xke=ny&&ny.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ny,"__esModule",{value:!0});var ry=xke(Z1()),Q3=class{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=r,this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){let i=r?"HEAD":"GET",s=!1,a=(e??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new ry.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){let i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){let a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){let o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new ry.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){let a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){let l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){let c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new ry.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){let n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new ry.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){let r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new ry.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ny.default=Q3});var _U=C(eS=>{"use strict";Object.defineProperty(eS,"__esModule",{value:!0});eS.version=void 0;eS.version="0.0.0-automated"});var DU=C(tS=>{"use strict";Object.defineProperty(tS,"__esModule",{value:!0});tS.DEFAULT_HEADERS=void 0;var Ske=_U();tS.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Ske.version}`}});var FU=C(iy=>{"use strict";var NU=iy&&iy.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(iy,"__esModule",{value:!0});var kke=NU(J3()),Cke=NU(Z1()),Eke=DU(),Z3=class t{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},Eke.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(e){let r=new URL(`${this.url}/${e}`);return new kke.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new t(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:s}={}){let a,o=new URL(`${this.url}/rpc/${e}`),l;n||i?(a=n?"HEAD":"GET",Object.entries(r).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{o.searchParams.append(u,d)})):(a="POST",l=r);let c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new Cke.default({method:a,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};iy.default=Z3});var zU=C(Wr=>{"use strict";var rp=Wr&&Wr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wr,"__esModule",{value:!0});Wr.PostgrestError=Wr.PostgrestBuilder=Wr.PostgrestTransformBuilder=Wr.PostgrestFilterBuilder=Wr.PostgrestQueryBuilder=Wr.PostgrestClient=void 0;var $U=rp(FU());Wr.PostgrestClient=$U.default;var jU=rp(J3());Wr.PostgrestQueryBuilder=jU.default;var VU=rp(Z1());Wr.PostgrestFilterBuilder=VU.default;var qU=rp(Y3());Wr.PostgrestTransformBuilder=qU.default;var BU=rp(W3());Wr.PostgrestBuilder=BU.default;var UU=rp(H3());Wr.PostgrestError=UU.default;Wr.default={PostgrestClient:$U.default,PostgrestQueryBuilder:jU.default,PostgrestFilterBuilder:VU.default,PostgrestTransformBuilder:qU.default,PostgrestBuilder:BU.default,PostgrestError:UU.default}});var ZU=C((BGe,JU)=>{"use strict";JU.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});function oTe(){DS=!0,queueMicrotask(qH)}function qH(){if(!_p.length){DS=!1;return}NM=!0;for(let t=0;t<_p.length;t++)_p[t].$st!==Fp&&lTe(_p[t]);_p=[],DS=!1,NM=!1}function lTe(t){let e=[t];for(;t=t[aa];)t.$e&&t.$st!==Fp&&e.push(t);for(let r=e.length-1;r>=0;r--)zM(e[r])}function jM(t){let e=Ln();return gv(e,t.length?t.bind(null,dd.bind(e)):t,null)}function W(t){return gv(sa,t,null)}function Ya(t){return gv(null,t,null)}function Ti(){NM||qH()}function fd(){return sa}function Dr(t,e){try{return gv(e,t,null)}catch(r){VM(e,r);return}}function mv(t,e=sa){return e?.$cx[t]}function BH(t,e,r=sa){r&&(r.$cx={...r.$cx,[t]:e})}function ke(t){if(!t||!sa)return t||aTe;let e=sa;return e.$d?Array.isArray(e.$d)?e.$d.push(t):e.$d=[e.$d,t]:e.$d=t,function(){e.$st!==$S&&(t.call(null),yv(e.$d)?e.$d=null:Array.isArray(e.$d)&&e.$d.splice(e.$d.indexOf(t),1))}}function dd(t=!0){if(this.$st!==$S){if(this.$h)if(Array.isArray(this.$h))for(let e=this.$h.length-1;e>=0;e--)dd.call(this.$h[e]);else dd.call(this.$h);if(t){let e=this[aa];e&&(Array.isArray(e.$h)?e.$h.splice(e.$h.indexOf(this),1):e.$h=null),cTe(this)}}}function cTe(t){t.$st=$S,t.$d&&UH(t),t.$s&&FM(t,0),t[aa]=null,t.$s=null,t.$o=null,t.$h=null,t.$cx=$M,t.$eh=null}function UH(t){try{if(Array.isArray(t.$d))for(let e=t.$d.length-1;e>=0;e--){let r=t.$d[e];r.call(r)}else t.$d.call(t.$d);t.$d=null}catch(e){VM(t,e)}}function gv(t,e,r){let n=sa,i=Dp;sa=t,Dp=r;try{return e.call(t)}finally{sa=n,Dp=i}}function VM(t,e){if(!t||!t.$eh)throw e;let r=0,n=t.$eh.length,i=e;for(r=0;r<n;r++)try{t.$eh[r](i);break}catch(s){i=s}if(r===n)throw i}function jS(){return this.$st===$S?this.$v:(Dp&&!this.$e&&(!hs&&Dp.$s&&Dp.$s[Ei]==this?Ei++:hs?hs.push(this):hs=[this]),this.$c&&zM(this),this.$v)}function qM(t){let e=yv(t)?t(this.$v):t;if(this.$ch(this.$v,e)&&(this.$v=e,this.$o))for(let r=0;r<this.$o.length;r++)HH(this.$o[r],NS);return this.$v}function Ln(){return new BM}function VS(t,e,r){return new zH(t,e,r)}function uTe(t,e){return t!==e}function yv(t){return typeof t=="function"}function zM(t){if(t.$st===VH)for(let e=0;e<t.$s.length&&(zM(t.$s[e]),t.$st!==NS);e++);t.$st===NS?HM(t):t.$st=Fp}function dTe(t){t.$h&&dd.call(t,!1),t.$d&&UH(t),t.$eh=t[aa]?t[aa].$eh:null}function HM(t){let e=hs,r=Ei;hs=null,Ei=0;try{dTe(t);let n=gv(t,t.$c,t);jH(t),!t.$e&&t.$i?qM.call(t,n):(t.$v=n,t.$i=!0)}catch(n){jH(t),VM(t,n)}finally{hs=e,Ei=r,t.$st=Fp}}function jH(t){if(hs){if(t.$s&&FM(t,Ei),t.$s&&Ei>0){t.$s.length=Ei+hs.length;for(let r=0;r<hs.length;r++)t.$s[Ei+r]=hs[r]}else t.$s=hs;let e;for(let r=Ei;r<t.$s.length;r++)e=t.$s[r],e.$o?e.$o.push(t):e.$o=[t]}else t.$s&&Ei<t.$s.length&&(FM(t,Ei),t.$s.length=Ei)}function HH(t,e){if(!(t.$st>=e)&&(t.$e&&t.$st===Fp&&(_p.push(t),DS||oTe()),t.$st=e,t.$o))for(let r=0;r<t.$o.length;r++)HH(t.$o[r],VH)}function FM(t,e){let r,n;for(let i=e;i<t.$s.length;i++)r=t.$s[i],r.$o&&(n=r.$o.indexOf(t),r.$o[n]=r.$o[r.$o.length-1],r.$o.pop())}function oa(...t){}function ms(t){return t===null}function Mt(t){return typeof t>"u"}function GM(t){return ms(t)||Mt(t)}function vv(t){return t?.constructor===Object}function sr(t){return typeof t=="number"&&!Number.isNaN(t)}function le(t){return typeof t=="string"}function qS(t){return typeof t=="boolean"}function Nr(t){return typeof t=="function"}function ar(t){return Array.isArray(t)}function WH(t){return!!t?.[GH]}function Pe(t,e,r,n){return t.addEventListener(e,r,n),ke(()=>t.removeEventListener(e,r,n))}function KH(...t){let e=new AbortController,r={signal:e.signal};function n(i){e.abort(i.target.reason)}for(let i of t){if(i.aborted){e.abort(i.reason);break}i.addEventListener("abort",n,r)}return e.signal}function BS(t){return!!t?.type.startsWith("pointer")}function $p(t){return!!t?.type.startsWith("touch")}function WM(t){return/^(click|mouse)/.test(t?.type??"")}function jp(t){return!!t?.type.startsWith("key")}function KM(t){return jp(t)&&t.key==="Enter"}function US(t){return jp(t)&&(t.key==="Enter"||t.key===" ")}function YM(t){return t instanceof Node}function ge(t,e,r){if(t)if(!r&&r!==""&&r!==0)t.removeAttribute(e);else{let n=r===!0?"":r+"";t.getAttribute(e)!==n&&t.setAttribute(e,n)}else return}function on(t,e,r){if(t)!r&&r!==0?t.style.removeProperty(e):t.style.setProperty(e,r+"");else return}var aa,DS,NM,sa,Dp,hs,Ei,_p,$M,aTe,Fp,VH,NS,$S,BM,pd,zH,UM,fTe,GH,me,FS,Np,Ge,hd=tt(()=>{aa=Symbol(0),DS=!1,NM=!1,sa=null,Dp=null,hs=null,Ei=0,_p=[],$M={},aTe=()=>{},Fp=0,VH=1,NS=2,$S=3;BM=function(){this[aa]=null,this.$h=null,sa&&sa.append(this)},pd=BM.prototype;pd.$cx=$M;pd.$eh=null;pd.$c=null;pd.$d=null;pd.append=function(t){t[aa]=this,this.$h?Array.isArray(this.$h)?this.$h.push(t):this.$h=[this.$h,t]:this.$h=t,t.$cx=t.$cx===$M?this.$cx:{...this.$cx,...t.$cx},this.$eh&&(t.$eh=t.$eh?[...t.$eh,...this.$eh]:this.$eh)};pd.dispose=function(){dd.call(this)};zH=function(e,r,n){BM.call(this),this.$st=r?NS:Fp,this.$i=!1,this.$e=!1,this.$s=null,this.$o=null,this.$v=e,r&&(this.$c=r),n&&n.dirty&&(this.$ch=n.dirty)},UM=zH.prototype;Object.setPrototypeOf(UM,pd);UM.$ch=uTe;UM.call=jS;fTe=Event,GH=Symbol("DOM_EVENT"),me=class extends fTe{[GH]=!0;detail;triggers=new FS;get trigger(){return this.triggers.source}get originEvent(){return this.triggers.origin}get isOriginTrusted(){return this.triggers.origin?.isTrusted??!1}constructor(e,...r){super(e,r[0]),this.detail=r[0]?.detail;let n=r[0]?.trigger;n&&this.triggers.add(n)}},FS=class{chain=[];get source(){return this.chain[0]}get origin(){return this.chain[this.chain.length-1]}add(e){this.chain.push(e),WH(e)&&this.chain.push(...e.triggers)}remove(e){return this.chain.splice(this.chain.indexOf(e),1)[0]}has(e){return this.chain.some(r=>r===e)}hasType(e){return!!this.findType(e)}findType(e){return this.chain.find(r=>r.type===e)}walk(e){for(let r of this.chain){let n=e(r);if(n)return[r,n]}}[Symbol.iterator](){return this.chain.values()}};Np=class extends EventTarget{$ts__events;addEventListener(e,r,n){return super.addEventListener(e,r,n)}removeEventListener(e,r,n){return super.removeEventListener(e,r,n)}};Ge=class{#e;#t;get signal(){return this.#t.signal}constructor(e){this.#e=e,this.#t=new AbortController,ke(this.abort.bind(this))}add(e,r,n){if(this.signal.aborted)throw Error("aborted");return this.#e.addEventListener(e,r,{...n,signal:n?.signal?KH(this.signal,n.signal):this.signal}),this}remove(e,r){return this.#e.removeEventListener(e,r),this}abort(e){this.#t.abort(e)}}});function ce(t,e){let r=VS(t,null,e),n=jS.bind(r);return n[aa]=!0,n.set=qM.bind(r),n}function YH(t){return yv(t)&&aa in t}function Vo(t,e){let r=VS(e?.initial,t,e),n=jS.bind(r);return n[aa]=!0,n}function QM(t,e){let r=VS(null,function(){let i=t();return yv(i)&&ke(i),null},void 0);return r.$e=!0,HM(r),dd.bind(r,!0)}function JM(t){return YH(t)&&"set"in t}function Xa(t){return{id:Symbol(),provide:t}}function In(t,e,r=fd()){let n=!Mt(e);BH(t.id,n?e:t.provide?.(),r)}function Ht(t){return mv(t.id)}function la(t){return!Mt(mv(t.id))}function pTe(t){let e={};for(let r of Object.keys(t)){let n=t[r];e[r]=ce(n,n)}return e}function ZM(t,e){return jM(()=>{bv.$$=new zS(t,fd(),e);let r=new t;return bv.$$.component=r,bv.$$=null,r})}var M,HS,GS,wv,XM,zS,bv,ln,WS=tt(()=>{hd();M=QM;HS=Symbol(0),GS=Symbol(0),wv=Symbol(0),XM={},zS=class{$ts__events;$ts__vars;[wv]=null;$el=ce(null);el=null;scope=null;attachScope=null;connectScope=null;component=null;destroyed=!1;props=XM;attrs=null;styles=null;state;$state;#e=[];#t=[];#r=[];#n=[];constructor(e,r,n){this.scope=r,n?.scope&&n.scope.append(r);let i=e.state,s=e.props;if(i&&(this.$state=i.create(),this.state=new Proxy(this.$state,{get:(a,o)=>this.$state[o]()}),In(i,this.$state)),s&&(this.props=pTe(s),n?.props))for(let a of Object.keys(n.props))this.props[a]?.set(n.props[a]);ke(this.destroy.bind(this))}setup(){Dr(()=>{for(let e of this.#e)e()},this.scope)}attach(e){this.el||(this.el=e,this.$el.set(e),Dr(()=>{this.attachScope=Ln(),Dr(()=>{for(let r of this.#t)r(this.el);this.#i(),this.#s()},this.attachScope)},this.scope),e.dispatchEvent(new Event("attached")))}detach(){this.attachScope?.dispose(),this.attachScope=null,this.connectScope=null,this.el=null,this.$el.set(null)}connect(){!this.el||!this.attachScope||!this.#r.length||Dr(()=>{this.connectScope=Ln(),Dr(()=>{for(let e of this.#r)e(this.el)},this.connectScope)},this.attachScope)}disconnect(){this.connectScope?.dispose(),this.connectScope=null}destroy(){if(this.destroyed)return;this.destroyed=!0,Dr(()=>{for(let r of this.#n)r(this.el)},this.scope);let e=this.el;this.detach(),this.scope.dispose(),this.#e.length=0,this.#t.length=0,this.#r.length=0,this.#n.length=0,this.component=null,this.attrs=null,this.styles=null,this.props=XM,this.scope=null,this.state=XM,this.$state=null,e&&delete e.$}addHooks(e){e.onSetup&&this.#e.push(e.onSetup.bind(e)),e.onAttach&&this.#t.push(e.onAttach.bind(e)),e.onConnect&&this.#r.push(e.onConnect.bind(e)),e.onDestroy&&this.#n.push(e.onDestroy.bind(e))}#i(){if(this.attrs)for(let e of Object.keys(this.attrs))Nr(this.attrs[e])?M(this.#a.bind(this,e)):ge(this.el,e,this.attrs[e])}#s(){if(this.styles)for(let e of Object.keys(this.styles))Nr(this.styles[e])?M(this.#o.bind(this,e)):on(this.el,e,this.styles[e])}#a(e){ge(this.el,e,this.attrs[e].call(this.component))}#o(e){on(this.el,e,this.styles[e].call(this.component))}};bv={$$:null};ln=class extends EventTarget{$$;get el(){return this.$$.el}get $el(){return this.$$.$el()}get scope(){return this.$$.scope}get attachScope(){return this.$$.attachScope}get connectScope(){return this.$$.connectScope}get $props(){return this.$$.props}get $state(){return this.$$.$state}get state(){return this.$$.state}constructor(){super(),bv.$$&&this.attach(bv)}attach({$$:e}){return this.$$=e,e.addHooks(this),this}addEventListener(e,r,n){this.listen(e,r,n)}removeEventListener(e,r,n){this.el?.removeEventListener(e,r,n)}setAttributes(e){this.$$.attrs||(this.$$.attrs={}),Object.assign(this.$$.attrs,e)}setStyles(e){this.$$.styles||(this.$$.styles={}),Object.assign(this.$$.styles,e)}setCSSVars(e){this.setStyles(e)}createEvent(e,...r){return new me(e,r[0])}dispatch(e,...r){if(!this.el)return!1;let n=e instanceof Event?e:new me(e,r[0]);return Object.defineProperty(n,"target",{get:()=>this.$$.component}),Ya(()=>(this.$$[wv]?.(n),this.el.dispatchEvent(n)))}dispatchEvent(e){return this.dispatch(e)}listen(e,r,n){return this.el?Pe(this.el,e,r,n):oa}}});function ic(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function eP(t){return t.replace(/-./g,e=>e[1].toUpperCase())}function tP(t){return XH(t).replace(/\s/g,"")}function XH(t){return KS(t.replace(/-./g,e=>" "+e[1].toUpperCase()))}function KS(t){return t.charAt(0).toUpperCase()+t.slice(1)}var rP=tt(()=>{});function hTe(t,...e){return wt.createElement(XS.Provider,{value:t},...e)}function nP(){return wt.useContext(XS).current}function iP(t){let e=nP();return wt.useMemo(()=>mv(t.id,e),[e])}function eG(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function We(...t){return e=>t.forEach(r=>eG(r,e))}function mTe(t,e){let r=wt.forwardRef((n,i)=>{let s=wt.useContext(XS),a=wt.useRef(null),o=wt.useRef();if(!o.current){let v=yTe(),y=ZH(t,v,n,s.current);v.component=y,o.current=v,a.current=y.scope}function l(){let v=o.current,y=s.current;if(window.cancelAnimationFrame(v.destroyId),v.destroyId=-1,v.component.$$.destroyed){let b=ZH(t,v,n,y);v.component=b,v.attached=!1,v.forwardRef=!1,a.current=b.scope}return v.el&&JH(v,v.el),v.forwardRef||(eG(i,v.component),v.forwardRef=!0),()=>YS(v)}function c(v){let y=o.current;if(!y.forwardRef){y.el=v;return}window.cancelAnimationFrame(y.refChangeId),y.refChangeId=window.requestAnimationFrame(()=>{let b=o.current;b.refChangeId=-1,b.el!==v&&(YS(b),v&&JH(b,v),b.el=v)})}wt.useEffect(()=>{let v=o.current;return window.cancelAnimationFrame(v.destroyId),v.destroyId=-1,function(){Nr(n.children)&&(window.cancelAnimationFrame(v.refChangeId),v.refChangeId=-1,window.cancelAnimationFrame(v.connectId),v.connectId=-1,window.cancelAnimationFrame(v.destroyId),v.destroyId=window.requestAnimationFrame(()=>{v.destroyId=-1,YS(v),v.component.$$.destroy(),v.component.$$[wv]=null,v.callbacks={},v.domCallbacks={},a.current=null}))}},[]),wt.useEffect(Ti);let u=o.current,{children:d,...f}=n,p={},h=u.prevProps,g=Object.keys(f);u.callbacks={};for(let v of[...h,...g])if(e.props.has(v))u.component.$props[v].set(Mt(f[v])?t.props?.[v]:f[v]);else if(e.events?.has(v)||e.eventsRE?.test(v))u.callbacks[v]=f[v];else if(e.domEvents?.has(v)||e.domEventsRE?.test(v)){let y=ic(v.slice(2));u.domCallbacks[y]=f[v],g.includes(v)?u.el&&!u.listening?.has(y)&&(u.listening||(u.listening=new Set),u.listening.add(y),u.el.addEventListener(y,u.onDOMEvent)):(u.el?.removeEventListener(y,u.onDOMEvent),u.listening?.delete(y))}else p[v]=f[v];return u.prevProps=g,hTe(a,wt.createElement(gTe,{effect:l}),Nr(d)?d?.({...p,suppressHydrationWarning:!0,ref:c},u.component):d)});return r.displayName=t.name+"Bridge",r}function gTe({effect:t}){return wt.useEffect(t,[]),null}function yTe(){let t={el:null,prevProps:[],callbacks:{},domCallbacks:{},refChangeId:-1,connectId:-1,destroyId:-1,attached:!1,forwardRef:!1,listening:null,onDOMEvent(e){let r=Mt(e.detail)?[e]:[e.detail,e];t.domCallbacks[e.type]?.(...r)}};return t}function JH(t,e){if(!(t.el===e&&t.attached)){if(t.attached&&YS(t),t.domCallbacks){t.listening||(t.listening=new Set);for(let r of Object.keys(t.domCallbacks))t.listening.has(r)||(e.addEventListener(r,t.onDOMEvent),t.listening.add(r))}t.component.$$.attach(e),t.connectId=window.requestAnimationFrame(()=>{t.component.$$.connect(),t.connectId=-1}),t.attached=!0}}function YS(t){if(t.attached&&(window.cancelAnimationFrame(t.connectId),t.connectId=-1,t.component.$$.detach(),t.attached=!1,t.el&&t.listening)){for(let e of t.listening)t.el.removeEventListener(e,t.onDOMEvent);t.listening.clear()}}function vTe(t){let e=QH.get(t.type),r=Mt(t.detail)?[t]:[t.detail,t];e||QH.set(t.type,e=`on${tP(t.type)}`),this.callbacks[e]?.(...r)}function ZH(t,e,r,n){let i=ZM(t,{props:r,scope:n});return i.$$[wv]=vTe.bind(e),i.$$.setup(),i}function qo(t){return iP(t)}function xt(t,e){let[,r]=wt.useState();return wt.useEffect(()=>QM(()=>{t(),r({})}),[e??t]),t()}function sP(t){let[,e]=wt.useState(),r=wt.useRef(null);return r.current==null&&(r.current={state:{},$update:ce({}),props:new Set}),wt.useEffect(()=>{let{state:n,$update:i,props:s}=r.current;return M(()=>{for(let a of s){let o=t[a]();n[a]=ar(o)?[...o]:o}i(),e({})})},[t]),wt.useMemo(()=>{let{state:n,$update:i,props:s}=r.current,a=!1;return s.clear(),new Proxy(n,{get(o,l){if(!s.has(l)&&l in t){s.add(l);let c=t[l]();n[l]=ar(c)?[...c]:c,a||(i.set({}),a=!0,queueMicrotask(()=>a=!1))}return n[l]},set(o,l,c){return l in t||(n[l]=c),!0}})},[t])}function Ie(t,e){return mTe(t,{props:new Set(Object.keys(t.props||{})),events:new Set(e?.events),eventsRE:e?.eventsRegex,domEvents:e?.domEvents,domEventsRE:e?.domEventsRegex})}var wt,XS,QH,xv=tt(()=>{wt=z(he(),1);WS();rP();hd();XS=wt.createContext({current:null});XS.displayName="Scope";QH=new Map});function et(t,e,r){t[HS]||(t[HS]=new Set),t[HS].add(e)}function hr(t,e,r){t[GS]||(t[GS]=new Set),t[GS].add(e)}function Vp(t){return Ht(t)}var Ae,ca,ua=tt(()=>{WS();WS();hd();hd();Ae=class extends ln{subscribe(e){return Dr(()=>M(()=>e(this.state)),this.$$.scope)}destroy(){this.$$.destroy()}};ca=class{id=Symbol(0);record;#e;constructor(e){this.record=e,this.#e=Object.getOwnPropertyDescriptors(e)}create(){let e={},r=new Proxy(e,{get:(n,i)=>e[i]()});for(let n of Object.keys(this.record)){let i=this.#e[n].get;e[n]=i?Vo(i.bind(r)):ce(this.record[n])}return e}reset(e,r){for(let n of Object.keys(e))!this.#e[n].get&&(!r||r(n))&&e[n].set(this.record[n])}}});function Sv(t){return t?"true":"false"}function aP(t){return Object.keys(t)}function Bo(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}function tG(t){return new Promise(e=>setTimeout(e,t))}function md(t){let e=-1,r;function n(...i){r=i,!(e>=0)&&(e=window.requestAnimationFrame(()=>{t.apply(this,r),e=-1,r=void 0}))}return n}function rG(t,e){return new Promise(r=>{bTe(n=>{t?.(n),r()},e)})}var bTe,da=tt(()=>{hd();hd();rP();bTe=typeof window<"u"?"requestIdleCallback"in window?window.requestIdleCallback:t=>window.setTimeout(t,1):oa});var cG={};Rr(cG,{Icon$0:()=>kTe,Icon$104:()=>JTe,Icon$105:()=>ZTe,Icon$11:()=>TTe,Icon$13:()=>ATe,Icon$16:()=>LTe,Icon$19:()=>ITe,Icon$22:()=>RTe,Icon$24:()=>lG,Icon$26:()=>PTe,Icon$27:()=>OTe,Icon$31:()=>_Te,Icon$33:()=>DTe,Icon$34:()=>NTe,Icon$35:()=>FTe,Icon$39:()=>$Te,Icon$40:()=>jTe,Icon$5:()=>CTe,Icon$53:()=>VTe,Icon$54:()=>qTe,Icon$56:()=>BTe,Icon$59:()=>UTe,Icon$60:()=>zTe,Icon$61:()=>HTe,Icon$62:()=>GTe,Icon$63:()=>WTe,Icon$74:()=>KTe,Icon$77:()=>YTe,Icon$8:()=>ETe,Icon$81:()=>XTe,Icon$88:()=>QTe,chromecast:()=>MTe,fscreen:()=>Uo,functionDebounce:()=>kv,functionThrottle:()=>zo,r:()=>oP});function wTe(t,e,r){var n=null,i=null,s=r&&r.leading,a=r&&r.trailing;s==null&&(s=!0),a==null&&(a=!s),s==!0&&(a=!1);var o=function(){n&&(clearTimeout(n),n=null)},l=function(){var u=i;o(),u&&u()},c=function(){var u=s&&!n,d=this,f=arguments;if(i=function(){return t.apply(d,f)},n||(n=setTimeout(function(){if(n=null,a)return i()},e)),u)return u=!1,i()};return c.cancel=o,c.flush=l,c}function xTe(t,e,r){var n=null,i=null,s=function(){n&&(clearTimeout(n),i=null,n=null)},a=function(){var l=i;s(),l&&l()},o=function(){if(!e)return t.apply(this,arguments);var l=this,c=arguments,u=r&&!n;if(s(),i=function(){t.apply(l,c)},n=setTimeout(function(){if(n=null,!u){var d=i;return i=null,d()}},e),u)return i()};return o.cancel=s,o.flush=a,o}var Ai,nG,iG,sG,Xn,gs,Uo,zo,kv,aG,oG,QS,JS,STe,oP,kTe,CTe,ETe,TTe,ATe,LTe,ITe,RTe,lG,MTe,PTe,OTe,_Te,DTe,NTe,FTe,$Te,jTe,VTe,qTe,BTe,UTe,zTe,HTe,GTe,WTe,KTe,YTe,XTe,QTe,JTe,ZTe,lP=tt(()=>{"use client";Ai={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},nG=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],iG=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],sG=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],Xn=typeof window<"u"&&typeof window.document<"u"?window.document:{},gs="fullscreenEnabled"in Xn&&Object.keys(Ai)||nG[0]in Xn&&nG||iG[0]in Xn&&iG||sG[0]in Xn&&sG||[],Uo={requestFullscreen:function(t){return t[gs[Ai.requestFullscreen]]()},requestFullscreenFunction:function(t){return t[gs[Ai.requestFullscreen]]},get exitFullscreen(){return Xn[gs[Ai.exitFullscreen]].bind(Xn)},get fullscreenPseudoClass(){return":"+gs[Ai.fullscreen]},addEventListener:function(t,e,r){return Xn.addEventListener(gs[Ai[t]],e,r)},removeEventListener:function(t,e,r){return Xn.removeEventListener(gs[Ai[t]],e,r)},get fullscreenEnabled(){return!!Xn[gs[Ai.fullscreenEnabled]]},set fullscreenEnabled(t){},get fullscreenElement(){return Xn[gs[Ai.fullscreenElement]]},set fullscreenElement(t){},get onfullscreenchange(){return Xn[("on"+gs[Ai.fullscreenchange]).toLowerCase()]},set onfullscreenchange(t){return Xn[("on"+gs[Ai.fullscreenchange]).toLowerCase()]=t},get onfullscreenerror(){return Xn[("on"+gs[Ai.fullscreenerror]).toLowerCase()]},set onfullscreenerror(t){return Xn[("on"+gs[Ai.fullscreenerror]).toLowerCase()]=t}},zo=wTe;kv=xTe;aG=t=>typeof t=="object"&&t!=null&&t.nodeType===1,oG=(t,e)=>(!e||t!=="hidden")&&t!=="visible"&&t!=="clip",QS=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){let r=getComputedStyle(t,null);return oG(r.overflowY,e)||oG(r.overflowX,e)||(n=>{let i=(s=>{if(!s.ownerDocument||!s.ownerDocument.defaultView)return null;try{return s.ownerDocument.defaultView.frameElement}catch{return null}})(n);return!!i&&(i.clientHeight<n.scrollHeight||i.clientWidth<n.scrollWidth)})(t)}return!1},JS=(t,e,r,n,i,s,a,o)=>s<t&&a>e||s>t&&a<e?0:s<=t&&o<=r||a>=e&&o>=r?s-t-n:a>e&&o<r||s<t&&o>r?a-e+i:0,STe=t=>{let e=t.parentElement;return e??(t.getRootNode().host||null)},oP=(t,e)=>{var r,n,i,s;if(typeof document>"u")return[];let{scrollMode:a,block:o,inline:l,boundary:c,skipOverflowHiddenElements:u}=e,d=typeof c=="function"?c:H=>H!==c;if(!aG(t))throw new TypeError("Invalid target");let f=document.scrollingElement||document.documentElement,p=[],h=t;for(;aG(h)&&d(h);){if(h=STe(h),h===f){p.push(h);break}h!=null&&h===document.body&&QS(h)&&!QS(document.documentElement)||h!=null&&QS(h,u)&&p.push(h)}let g=(n=(r=window.visualViewport)==null?void 0:r.width)!=null?n:innerWidth,v=(s=(i=window.visualViewport)==null?void 0:i.height)!=null?s:innerHeight,{scrollX:y,scrollY:b}=window,{height:w,width:x,top:A,right:O,bottom:S,left:k}=t.getBoundingClientRect(),{top:E,right:I,bottom:R,left:T}=(H=>{let D=window.getComputedStyle(H);return{top:parseFloat(D.scrollMarginTop)||0,right:parseFloat(D.scrollMarginRight)||0,bottom:parseFloat(D.scrollMarginBottom)||0,left:parseFloat(D.scrollMarginLeft)||0}})(t),_=o==="start"||o==="nearest"?A-E:o==="end"?S+R:A+w/2-E+R,F=l==="center"?k+x/2-T+I:l==="end"?O+I:k-T,Y=[];for(let H=0;H<p.length;H++){let D=p[H],{height:U,width:ue,top:De,right:Ct,bottom:Kt,left:mt}=D.getBoundingClientRect();if(a==="if-needed"&&A>=0&&k>=0&&S<=v&&O<=g&&(D===f&&!QS(D)||A>=De&&S<=Kt&&k>=mt&&O<=Ct))return Y;let Ft=getComputedStyle(D),sn=parseInt(Ft.borderLeftWidth,10),es=parseInt(Ft.borderTopWidth,10),ct=parseInt(Ft.borderRightWidth,10),Oa=parseInt(Ft.borderBottomWidth,10),Hr=0,Gr=0,_a="offsetWidth"in D?D.offsetWidth-D.clientWidth-sn-ct:0,ts="offsetHeight"in D?D.offsetHeight-D.clientHeight-es-Oa:0,vg="offsetWidth"in D?D.offsetWidth===0?0:ue/D.offsetWidth:0,_f="offsetHeight"in D?D.offsetHeight===0?0:U/D.offsetHeight:0;if(f===D)Hr=o==="start"?_:o==="end"?_-v:o==="nearest"?JS(b,b+v,v,es,Oa,b+_,b+_+w,w):_-v/2,Gr=l==="start"?F:l==="center"?F-g/2:l==="end"?F-g:JS(y,y+g,g,sn,ct,y+F,y+F+x,x),Hr=Math.max(0,Hr+b),Gr=Math.max(0,Gr+y);else{Hr=o==="start"?_-De-es:o==="end"?_-Kt+Oa+ts:o==="nearest"?JS(De,Kt,U,es,Oa+ts,_,_+w,w):_-(De+U/2)+ts/2,Gr=l==="start"?F-mt-sn:l==="center"?F-(mt+ue/2)+_a/2:l==="end"?F-Ct+ct+_a:JS(mt,Ct,ue,sn,ct+_a,F,F+x,x);let{scrollLeft:bg,scrollTop:Ux}=D;Hr=_f===0?0:Math.max(0,Math.min(Ux+Hr/_f,D.scrollHeight-U/_f+ts)),Gr=vg===0?0:Math.max(0,Math.min(bg+Gr/vg,D.scrollWidth-ue/vg+_a)),_+=Ux-Hr,F+=bg-Gr}Y.push({el:D,top:Hr,left:Gr})}return Y},kTe='<path fill-rule="evenodd" clip-rule="evenodd" d="M15.0007 28.7923C15.0007 29.0152 14.9774 29.096 14.9339 29.1775C14.8903 29.259 14.8263 29.323 14.7449 29.3665C14.6634 29.4101 14.5826 29.4333 14.3597 29.4333H12.575C12.3521 29.4333 12.2713 29.4101 12.1898 29.3665C12.1083 29.323 12.0443 29.259 12.0008 29.1775C11.9572 29.096 11.934 29.0152 11.934 28.7923V12.2993L5.97496 12.3C5.75208 12.3 5.67125 12.2768 5.58977 12.2332C5.50829 12.1896 5.44434 12.1257 5.40077 12.0442C5.35719 11.9627 5.33398 11.8819 5.33398 11.659V9.87429C5.33398 9.65141 5.35719 9.57059 5.40077 9.48911C5.44434 9.40762 5.50829 9.34368 5.58977 9.3001C5.67125 9.25652 5.75208 9.23332 5.97496 9.23332H26.0263C26.2492 9.23332 26.33 9.25652 26.4115 9.3001C26.493 9.34368 26.557 9.40762 26.6005 9.48911C26.6441 9.57059 26.6673 9.65141 26.6673 9.87429V11.659C26.6673 11.8819 26.6441 11.9627 26.6005 12.0442C26.557 12.1257 26.493 12.1896 26.4115 12.2332C26.33 12.2768 26.2492 12.3 26.0263 12.3L20.067 12.2993L20.0673 28.7923C20.0673 29.0152 20.0441 29.096 20.0005 29.1775C19.957 29.259 19.893 29.323 19.8115 29.3665C19.73 29.4101 19.6492 29.4333 19.4263 29.4333H17.6416C17.4187 29.4333 17.3379 29.4101 17.2564 29.3665C17.175 29.323 17.111 29.259 17.0674 29.1775C17.0239 29.096 17.0007 29.0152 17.0007 28.7923L17 22.7663H15L15.0007 28.7923Z" fill="currentColor"/> <path d="M16.0007 7.89998C17.4734 7.89998 18.6673 6.70608 18.6673 5.23332C18.6673 3.76056 17.4734 2.56665 16.0007 2.56665C14.5279 2.56665 13.334 3.76056 13.334 5.23332C13.334 6.70608 14.5279 7.89998 16.0007 7.89998Z" fill="currentColor"/>',CTe='<path d="M5.33334 6.00001C5.33334 5.63182 5.63181 5.33334 6 5.33334H26C26.3682 5.33334 26.6667 5.63182 26.6667 6.00001V20.6667C26.6667 21.0349 26.3682 21.3333 26 21.3333H23.7072C23.4956 21.3333 23.2966 21.233 23.171 21.0628L22.1859 19.7295C21.8607 19.2894 22.1749 18.6667 22.7221 18.6667H23.3333C23.7015 18.6667 24 18.3682 24 18V8.66668C24 8.29849 23.7015 8.00001 23.3333 8.00001H8.66667C8.29848 8.00001 8 8.29849 8 8.66668V18C8 18.3682 8.29848 18.6667 8.66667 18.6667H9.29357C9.84072 18.6667 10.1549 19.2894 9.82976 19.7295L8.84467 21.0628C8.71898 21.233 8.52 21.3333 8.30848 21.3333H6C5.63181 21.3333 5.33334 21.0349 5.33334 20.6667V6.00001Z" fill="currentColor"/> <path d="M8.78528 25.6038C8.46013 26.0439 8.77431 26.6667 9.32147 26.6667L22.6785 26.6667C23.2256 26.6667 23.5398 26.0439 23.2146 25.6038L16.5358 16.5653C16.2693 16.2046 15.73 16.2047 15.4635 16.5653L8.78528 25.6038Z" fill="currentColor"/>',ETe='<path d="M17.4853 18.9093C17.4853 19.0281 17.6289 19.0875 17.7129 19.0035L22.4185 14.2979C22.6788 14.0376 23.1009 14.0376 23.3613 14.2979L24.7755 15.7122C25.0359 15.9725 25.0359 16.3946 24.7755 16.655L16.2902 25.1403C16.0299 25.4006 15.6078 25.4006 15.3474 25.1403L13.9332 23.726L13.9319 23.7247L6.86189 16.6547C6.60154 16.3944 6.60154 15.9723 6.86189 15.7119L8.2761 14.2977C8.53645 14.0373 8.95856 14.0373 9.21891 14.2977L13.9243 19.0031C14.0083 19.0871 14.1519 19.0276 14.1519 18.9088L14.1519 6.00004C14.1519 5.63185 14.4504 5.33337 14.8186 5.33337L16.8186 5.33337C17.1868 5.33337 17.4853 5.63185 17.4853 6.00004L17.4853 18.9093Z" fill="currentColor"/>',TTe='<path d="M13.0908 14.3334C12.972 14.3334 12.9125 14.1898 12.9965 14.1058L17.7021 9.40022C17.9625 9.13987 17.9625 8.71776 17.7021 8.45741L16.2879 7.04319C16.0275 6.78284 15.6054 6.78284 15.3451 7.04319L6.8598 15.5285C6.59945 15.7888 6.59945 16.2109 6.8598 16.4713L8.27401 17.8855L8.27536 17.8868L15.3453 24.9568C15.6057 25.2172 16.0278 25.2172 16.2881 24.9568L17.7024 23.5426C17.9627 23.2822 17.9627 22.8601 17.7024 22.5998L12.9969 17.8944C12.9129 17.8104 12.9724 17.6668 13.0912 17.6668L26 17.6668C26.3682 17.6668 26.6667 17.3683 26.6667 17.0001V15.0001C26.6667 14.6319 26.3682 14.3334 26 14.3334L13.0908 14.3334Z" fill="currentColor"/>',ATe='<path d="M14.1521 13.0929C14.1521 12.9741 14.0085 12.9147 13.9245 12.9987L9.21891 17.7043C8.95856 17.9646 8.53645 17.9646 8.2761 17.7043L6.86189 16.29C6.60154 16.0297 6.60154 15.6076 6.86189 15.3472L15.3472 6.86195C15.6075 6.6016 16.0296 6.6016 16.29 6.86195L17.7042 8.27616L17.7055 8.27751L24.7755 15.3475C25.0359 15.6078 25.0359 16.0299 24.7755 16.2903L23.3613 17.7045C23.1009 17.9649 22.6788 17.9649 22.4185 17.7045L17.7131 12.9991C17.6291 12.9151 17.4855 12.9746 17.4855 13.0934V26.0022C17.4855 26.3704 17.187 26.6688 16.8188 26.6688H14.8188C14.4506 26.6688 14.1521 26.3704 14.1521 26.0022L14.1521 13.0929Z" fill="currentColor"/>',LTe='<path d="M16.6927 25.3346C16.3245 25.3346 16.026 25.0361 16.026 24.6679L16.026 7.3346C16.026 6.96641 16.3245 6.66794 16.6927 6.66794L18.6927 6.66794C19.0609 6.66794 19.3594 6.96642 19.3594 7.3346L19.3594 24.6679C19.3594 25.0361 19.0609 25.3346 18.6927 25.3346H16.6927Z" fill="currentColor"/> <path d="M24.026 25.3346C23.6578 25.3346 23.3594 25.0361 23.3594 24.6679L23.3594 7.3346C23.3594 6.96641 23.6578 6.66794 24.026 6.66794L26.026 6.66794C26.3942 6.66794 26.6927 6.96642 26.6927 7.3346V24.6679C26.6927 25.0361 26.3942 25.3346 26.026 25.3346H24.026Z" fill="currentColor"/> <path d="M5.48113 23.9407C5.38584 24.2963 5.59689 24.6619 5.95254 24.7572L7.88439 25.2748C8.24003 25.3701 8.60559 25.159 8.70089 24.8034L13.1871 8.06067C13.2824 7.70503 13.0713 7.33947 12.7157 7.24417L10.7838 6.72654C10.4282 6.63124 10.0626 6.8423 9.96733 7.19794L5.48113 23.9407Z" fill="currentColor"/>',ITe='<path fill-rule="evenodd" clip-rule="evenodd" d="M24.9266 7.57992C25.015 7.60672 25.0886 7.64746 25.2462 7.80506L26.956 9.51488C27.1136 9.67248 27.1543 9.74604 27.1811 9.83447C27.2079 9.9229 27.2079 10.0133 27.1811 10.1018C27.1543 10.1902 27.1136 10.2638 26.956 10.4214L13.1822 24.1951C13.0246 24.3527 12.951 24.3935 12.8626 24.4203C12.797 24.4402 12.7304 24.4453 12.6642 24.4357L12.7319 24.4203C12.6435 24.4471 12.553 24.4471 12.4646 24.4203C12.3762 24.3935 12.3026 24.3527 12.145 24.1951L5.04407 17.0942C4.88647 16.9366 4.84573 16.863 4.81893 16.7746C4.79213 16.6862 4.79213 16.5957 4.81893 16.5073C4.84573 16.4189 4.88647 16.3453 5.04407 16.1877L6.7539 14.4779C6.9115 14.3203 6.98506 14.2796 7.07349 14.2528C7.16191 14.226 7.25235 14.226 7.34078 14.2528C7.42921 14.2796 7.50277 14.3203 7.66037 14.4779L12.6628 19.4808L24.3397 7.80506C24.4973 7.64746 24.5709 7.60672 24.6593 7.57992C24.7477 7.55311 24.8382 7.55311 24.9266 7.57992Z" fill="currentColor"/>',RTe='<path d="M17.947 16.095C17.999 16.043 17.999 15.9585 17.947 15.9065L11.6295 9.58899C11.3691 9.32864 11.3691 8.90653 11.6295 8.64618L13.2323 7.04341C13.4926 6.78306 13.9147 6.78306 14.1751 7.04341L21.0289 13.8973C21.0392 13.9064 21.0493 13.9158 21.0591 13.9257L22.6619 15.5285C22.9223 15.7888 22.9223 16.2109 22.6619 16.4713L14.1766 24.9565C13.9163 25.2169 13.4942 25.2169 13.2338 24.9565L11.631 23.3538C11.3707 23.0934 11.3707 22.6713 11.631 22.411L17.947 16.095Z" fill="currentColor"/>',lG='<path fill-rule="evenodd" clip-rule="evenodd" d="M6 7C5.63181 7 5.33333 7.29848 5.33333 7.66667V14.8667C5.33333 14.9403 5.39361 14.9999 5.46724 15.0009C10.8844 15.0719 15.2614 19.449 15.3325 24.8661C15.3334 24.9397 15.393 25 15.4667 25H26C26.3682 25 26.6667 24.7015 26.6667 24.3333V7.66667C26.6667 7.29848 26.3682 7 26 7H6ZM17.0119 22.2294C17.0263 22.29 17.0802 22.3333 17.1425 22.3333H23.3333C23.7015 22.3333 24 22.0349 24 21.6667V10.3333C24 9.96514 23.7015 9.66667 23.3333 9.66667H8.66667C8.29848 9.66667 8 9.96514 8 10.3333V13.1909C8 13.2531 8.04332 13.3071 8.10392 13.3214C12.5063 14.3618 15.9715 17.827 17.0119 22.2294Z" fill="currentColor"/> <path d="M13.2 25C13.2736 25 13.3334 24.9398 13.3322 24.8661C13.2615 20.5544 9.77889 17.0718 5.46718 17.0011C5.39356 16.9999 5.33333 17.0597 5.33333 17.1333V18.8667C5.33333 18.9403 5.39348 18.9999 5.4671 19.0015C8.67465 19.0716 11.2617 21.6587 11.3319 24.8662C11.3335 24.9399 11.393 25 11.4667 25H13.2Z" fill="currentColor"/> <path d="M5.33333 21.1333C5.33333 21.0597 5.39332 20.9998 5.46692 21.0022C7.57033 21.0712 9.26217 22.763 9.33114 24.8664C9.33356 24.94 9.27364 25 9.2 25H6C5.63181 25 5.33333 24.7015 5.33333 24.3333V21.1333Z" fill="currentColor"/>',MTe=Object.freeze({__proto__:null,default:lG}),PTe='<path d="M8 28.0003C8 27.6321 8.29848 27.3336 8.66667 27.3336H23.3333C23.7015 27.3336 24 27.6321 24 28.0003V29.3336C24 29.7018 23.7015 30.0003 23.3333 30.0003H8.66667C8.29848 30.0003 8 29.7018 8 29.3336V28.0003Z" fill="currentColor"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M4.66602 6.66699C4.29783 6.66699 3.99935 6.96547 3.99935 7.33366V24.667C3.99935 25.0352 4.29783 25.3337 4.66602 25.3337H27.3327C27.7009 25.3337 27.9994 25.0352 27.9994 24.667V7.33366C27.9994 6.96547 27.7009 6.66699 27.3327 6.66699H4.66602ZM8.66659 21.3333C8.2984 21.3333 7.99992 21.0349 7.99992 20.6667V11.3333C7.99992 10.9651 8.2984 10.6667 8.66659 10.6667H13.9999C14.3681 10.6667 14.6666 10.9651 14.6666 11.3333V12.6667C14.6666 13.0349 14.3681 13.3333 13.9999 13.3333H10.7999C10.7263 13.3333 10.6666 13.393 10.6666 13.4667V18.5333C10.6666 18.607 10.7263 18.6667 10.7999 18.6667H13.9999C14.3681 18.6667 14.6666 18.9651 14.6666 19.3333V20.6667C14.6666 21.0349 14.3681 21.3333 13.9999 21.3333H8.66659ZM17.9999 21.3333C17.6317 21.3333 17.3333 21.0349 17.3333 20.6667V11.3333C17.3333 10.9651 17.6317 10.6667 17.9999 10.6667H23.3333C23.7014 10.6667 23.9999 10.9651 23.9999 11.3333V12.6667C23.9999 13.0349 23.7014 13.3333 23.3333 13.3333H20.1333C20.0596 13.3333 19.9999 13.393 19.9999 13.4667V18.5333C19.9999 18.607 20.0596 18.6667 20.1333 18.6667H23.3333C23.7014 18.6667 23.9999 18.9651 23.9999 19.3333V20.6667C23.9999 21.0349 23.7014 21.3333 23.3333 21.3333H17.9999Z" fill="currentColor"/>',OTe='<path fill-rule="evenodd" clip-rule="evenodd" d="M4.6661 6.66699C4.29791 6.66699 3.99943 6.96547 3.99943 7.33366V24.667C3.99943 25.0352 4.29791 25.3337 4.6661 25.3337H27.3328C27.701 25.3337 27.9994 25.0352 27.9994 24.667V7.33366C27.9994 6.96547 27.701 6.66699 27.3328 6.66699H4.6661ZM8.66667 21.3333C8.29848 21.3333 8 21.0349 8 20.6667V11.3333C8 10.9651 8.29848 10.6667 8.66667 10.6667H14C14.3682 10.6667 14.6667 10.9651 14.6667 11.3333V12.6667C14.6667 13.0349 14.3682 13.3333 14 13.3333H10.8C10.7264 13.3333 10.6667 13.393 10.6667 13.4667V18.5333C10.6667 18.607 10.7264 18.6667 10.8 18.6667H14C14.3682 18.6667 14.6667 18.9651 14.6667 19.3333V20.6667C14.6667 21.0349 14.3682 21.3333 14 21.3333H8.66667ZM18 21.3333C17.6318 21.3333 17.3333 21.0349 17.3333 20.6667V11.3333C17.3333 10.9651 17.6318 10.6667 18 10.6667H23.3333C23.7015 10.6667 24 10.9651 24 11.3333V12.6667C24 13.0349 23.7015 13.3333 23.3333 13.3333H20.1333C20.0597 13.3333 20 13.393 20 13.4667V18.5333C20 18.607 20.0597 18.6667 20.1333 18.6667H23.3333C23.7015 18.6667 24 18.9651 24 19.3333V20.6667C24 21.0349 23.7015 21.3333 23.3333 21.3333H18Z" fill="currentColor"/>',_Te='<path d="M14.2225 13.7867C14.3065 13.8706 14.4501 13.8112 14.4501 13.6924V5.99955C14.4501 5.63136 14.7486 5.33289 15.1167 5.33289H16.8501C17.2183 5.33289 17.5167 5.63136 17.5167 5.99955V13.6916C17.5167 13.8104 17.6604 13.8699 17.7444 13.7859L19.9433 11.5869C20.2037 11.3266 20.6258 11.3266 20.8861 11.5869L22.1118 12.8126C22.3722 13.0729 22.3722 13.4951 22.1118 13.7554L16.4549 19.4123C16.1946 19.6726 15.772 19.6731 15.5116 19.4128L9.85479 13.7559C9.59444 13.4956 9.59444 13.0734 9.85479 12.8131L11.0804 11.5874C11.3408 11.3271 11.7629 11.3271 12.0233 11.5874L14.2225 13.7867Z" fill="currentColor"/> <path d="M5.99998 20.267C5.63179 20.267 5.33331 20.5654 5.33331 20.9336V25.9997C5.33331 26.3678 5.63179 26.6663 5.99998 26.6663H26C26.3682 26.6663 26.6666 26.3678 26.6666 25.9997V20.9336C26.6666 20.5654 26.3682 20.267 26 20.267H24.2666C23.8985 20.267 23.6 20.5654 23.6 20.9336V22.9333C23.6 23.3014 23.3015 23.5999 22.9333 23.5999H9.06638C8.69819 23.5999 8.39972 23.3014 8.39972 22.9333V20.9336C8.39972 20.5654 8.10124 20.267 7.73305 20.267H5.99998Z" fill="currentColor"/>',DTe='<path d="M16 20C18.2091 20 20 18.2092 20 16C20 13.7909 18.2091 12 16 12C13.7909 12 12 13.7909 12 16C12 18.2092 13.7909 20 16 20Z" fill="currentColor"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M28 16.0058C28 18.671 23.5 25.3334 16 25.3334C8.5 25.3334 4 18.6762 4 16.0058C4 13.3354 8.50447 6.66669 16 6.66669C23.4955 6.66669 28 13.3406 28 16.0058ZM25.3318 15.9934C25.3328 16.0017 25.3328 16.0099 25.3318 16.0182C25.3274 16.0571 25.3108 16.1728 25.2485 16.3708C25.1691 16.6229 25.0352 16.9462 24.8327 17.3216C24.4264 18.0749 23.7969 18.9398 22.9567 19.754C21.2791 21.3798 18.9148 22.6667 16 22.6667C13.0845 22.6667 10.7202 21.3805 9.04298 19.7557C8.20295 18.9419 7.57362 18.0773 7.16745 17.3241C6.96499 16.9486 6.83114 16.6252 6.75172 16.3729C6.67942 16.1431 6.66856 16.0243 6.66695 16.0066L6.66695 16.005C6.66859 15.9871 6.67951 15.8682 6.75188 15.6383C6.83145 15.3854 6.96554 15.0614 7.16831 14.6853C7.57507 13.9306 8.20514 13.0644 9.04577 12.249C10.7245 10.6208 13.0886 9.33335 16 9.33335C18.9108 9.33335 21.2748 10.6215 22.9539 12.2507C23.7947 13.0664 24.4249 13.933 24.8318 14.6877C25.0346 15.0639 25.1688 15.3878 25.2483 15.6404C25.3107 15.8386 25.3274 15.9545 25.3318 15.9934Z" fill="currentColor"/>',NTe='<path d="M15.8747 8.11857C16.3148 7.79342 16.9375 8.10759 16.9375 8.65476V14.2575C16.9375 14.3669 17.0621 14.4297 17.1501 14.3647L25.6038 8.11857C26.0439 7.79342 26.6667 8.10759 26.6667 8.65476V23.3451C26.6667 23.8923 26.0439 24.2064 25.6038 23.8813L17.1501 17.6346C17.0621 17.5695 16.9375 17.6324 16.9375 17.7418L16.9375 23.3451C16.9375 23.8923 16.3147 24.2064 15.8747 23.8813L5.93387 16.5358C5.57322 16.2693 5.57323 15.7299 5.93389 15.4634L15.8747 8.11857Z" fill="currentColor"/>',FTe='<path d="M16.1253 8.11866C15.6852 7.7935 15.0625 8.10768 15.0625 8.65484V14.2576C15.0625 14.367 14.9379 14.4298 14.8499 14.3648L6.39615 8.11866C5.95607 7.7935 5.33331 8.10768 5.33331 8.65484V23.3452C5.33331 23.8923 5.9561 24.2065 6.39617 23.8813L14.8499 17.6347C14.9379 17.5696 15.0625 17.6325 15.0625 17.7419L15.0625 23.3452C15.0625 23.8923 15.6853 24.2065 16.1253 23.8813L26.0661 16.5358C26.4268 16.2694 26.4268 15.73 26.0661 15.4635L16.1253 8.11866Z" fill="currentColor"/>',$Te='<path d="M19.3334 13.3333C18.9652 13.3333 18.6667 13.0349 18.6667 12.6667L18.6667 7.33333C18.6667 6.96514 18.9652 6.66666 19.3334 6.66666H21.3334C21.7015 6.66666 22 6.96514 22 7.33333V9.86666C22 9.9403 22.0597 10 22.1334 10L24.6667 10C25.0349 10 25.3334 10.2985 25.3334 10.6667V12.6667C25.3334 13.0349 25.0349 13.3333 24.6667 13.3333L19.3334 13.3333Z" fill="currentColor"/> <path d="M13.3334 19.3333C13.3334 18.9651 13.0349 18.6667 12.6667 18.6667H7.33335C6.96516 18.6667 6.66669 18.9651 6.66669 19.3333V21.3333C6.66669 21.7015 6.96516 22 7.33335 22H9.86669C9.94032 22 10 22.0597 10 22.1333L10 24.6667C10 25.0349 10.2985 25.3333 10.6667 25.3333H12.6667C13.0349 25.3333 13.3334 25.0349 13.3334 24.6667L13.3334 19.3333Z" fill="currentColor"/> <path d="M18.6667 24.6667C18.6667 25.0349 18.9652 25.3333 19.3334 25.3333H21.3334C21.7015 25.3333 22 25.0349 22 24.6667V22.1333C22 22.0597 22.0597 22 22.1334 22H24.6667C25.0349 22 25.3334 21.7015 25.3334 21.3333V19.3333C25.3334 18.9651 25.0349 18.6667 24.6667 18.6667L19.3334 18.6667C18.9652 18.6667 18.6667 18.9651 18.6667 19.3333L18.6667 24.6667Z" fill="currentColor"/> <path d="M10.6667 13.3333H12.6667C13.0349 13.3333 13.3334 13.0349 13.3334 12.6667L13.3334 10.6667V7.33333C13.3334 6.96514 13.0349 6.66666 12.6667 6.66666H10.6667C10.2985 6.66666 10 6.96514 10 7.33333L10 9.86666C10 9.9403 9.94033 10 9.86669 10L7.33335 10C6.96516 10 6.66669 10.2985 6.66669 10.6667V12.6667C6.66669 13.0349 6.96516 13.3333 7.33335 13.3333L10.6667 13.3333Z" fill="currentColor"/>',jTe='<path d="M25.3299 7.26517C25.2958 6.929 25.0119 6.66666 24.6667 6.66666H19.3334C18.9652 6.66666 18.6667 6.96514 18.6667 7.33333V9.33333C18.6667 9.70152 18.9652 10 19.3334 10L21.8667 10C21.9403 10 22 10.0597 22 10.1333V12.6667C22 13.0349 22.2985 13.3333 22.6667 13.3333H24.6667C25.0349 13.3333 25.3334 13.0349 25.3334 12.6667V7.33333C25.3334 7.31032 25.3322 7.28758 25.3299 7.26517Z" fill="currentColor"/> <path d="M22 21.8667C22 21.9403 21.9403 22 21.8667 22L19.3334 22C18.9652 22 18.6667 22.2985 18.6667 22.6667V24.6667C18.6667 25.0349 18.9652 25.3333 19.3334 25.3333L24.6667 25.3333C25.0349 25.3333 25.3334 25.0349 25.3334 24.6667V19.3333C25.3334 18.9651 25.0349 18.6667 24.6667 18.6667H22.6667C22.2985 18.6667 22 18.9651 22 19.3333V21.8667Z" fill="currentColor"/> <path d="M12.6667 22H10.1334C10.0597 22 10 21.9403 10 21.8667V19.3333C10 18.9651 9.70154 18.6667 9.33335 18.6667H7.33335C6.96516 18.6667 6.66669 18.9651 6.66669 19.3333V24.6667C6.66669 25.0349 6.96516 25.3333 7.33335 25.3333H12.6667C13.0349 25.3333 13.3334 25.0349 13.3334 24.6667V22.6667C13.3334 22.2985 13.0349 22 12.6667 22Z" fill="currentColor"/> <path d="M10 12.6667V10.1333C10 10.0597 10.0597 10 10.1334 10L12.6667 10C13.0349 10 13.3334 9.70152 13.3334 9.33333V7.33333C13.3334 6.96514 13.0349 6.66666 12.6667 6.66666H7.33335C6.96516 6.66666 6.66669 6.96514 6.66669 7.33333V12.6667C6.66669 13.0349 6.96516 13.3333 7.33335 13.3333H9.33335C9.70154 13.3333 10 13.0349 10 12.6667Z" fill="currentColor"/>',VTe='<path fill-rule="evenodd" clip-rule="evenodd" d="M26.6667 5.99998C26.6667 5.63179 26.3682 5.33331 26 5.33331H11.3333C10.9651 5.33331 10.6667 5.63179 10.6667 5.99998V17.5714C10.6667 17.6694 10.5644 17.7342 10.4741 17.6962C9.91823 17.4625 9.30754 17.3333 8.66667 17.3333C6.08934 17.3333 4 19.4226 4 22C4 24.5773 6.08934 26.6666 8.66667 26.6666C11.244 26.6666 13.3333 24.5773 13.3333 22V8.66665C13.3333 8.29846 13.6318 7.99998 14 7.99998L23.3333 7.99998C23.7015 7.99998 24 8.29846 24 8.66665V14.9048C24 15.0027 23.8978 15.0675 23.8075 15.0296C23.2516 14.7958 22.6409 14.6666 22 14.6666C19.4227 14.6666 17.3333 16.756 17.3333 19.3333C17.3333 21.9106 19.4227 24 22 24C24.5773 24 26.6667 21.9106 26.6667 19.3333V5.99998ZM22 21.3333C23.1046 21.3333 24 20.4379 24 19.3333C24 18.2287 23.1046 17.3333 22 17.3333C20.8954 17.3333 20 18.2287 20 19.3333C20 20.4379 20.8954 21.3333 22 21.3333ZM8.66667 24C9.77124 24 10.6667 23.1045 10.6667 22C10.6667 20.8954 9.77124 20 8.66667 20C7.5621 20 6.66667 20.8954 6.66667 22C6.66667 23.1045 7.5621 24 8.66667 24Z" fill="currentColor"/>',qTe='<path d="M17.5091 24.6594C17.5091 25.2066 16.8864 25.5208 16.4463 25.1956L9.44847 20.0252C9.42553 20.0083 9.39776 19.9991 9.36923 19.9991H4.66667C4.29848 19.9991 4 19.7006 4 19.3325V12.6658C4 12.2976 4.29848 11.9991 4.66667 11.9991H9.37115C9.39967 11.9991 9.42745 11.99 9.45039 11.973L16.4463 6.8036C16.8863 6.47842 17.5091 6.79259 17.5091 7.33977L17.5091 24.6594Z" fill="currentColor"/> <path d="M28.8621 13.6422C29.1225 13.3818 29.1225 12.9597 28.8621 12.6994L27.9193 11.7566C27.659 11.4962 27.2368 11.4962 26.9765 11.7566L24.7134 14.0197C24.6613 14.0717 24.5769 14.0717 24.5248 14.0197L22.262 11.7568C22.0016 11.4964 21.5795 11.4964 21.3191 11.7568L20.3763 12.6996C20.116 12.9599 20.116 13.382 20.3763 13.6424L22.6392 15.9053C22.6913 15.9573 22.6913 16.0418 22.6392 16.0938L20.3768 18.3562C20.1165 18.6166 20.1165 19.0387 20.3768 19.299L21.3196 20.2419C21.58 20.5022 22.0021 20.5022 22.2624 20.2418L24.5248 17.9795C24.5769 17.9274 24.6613 17.9274 24.7134 17.9795L26.976 20.2421C27.2363 20.5024 27.6585 20.5024 27.9188 20.2421L28.8616 19.2992C29.122 19.0389 29.122 18.6168 28.8616 18.3564L26.599 16.0938C26.547 16.0418 26.547 15.9573 26.599 15.9053L28.8621 13.6422Z" fill="currentColor"/>',BTe='<path d="M26.6009 16.0725C26.6009 16.424 26.4302 17.1125 25.9409 18.0213C25.4676 18.8976 24.7542 19.8715 23.8182 20.7783C21.9489 22.5905 19.2662 24.0667 15.9342 24.0667C12.6009 24.0667 9.91958 22.5915 8.04891 20.78C7.11424 19.8736 6.40091 18.9 5.92758 18.0236C5.43824 17.1149 5.26758 16.4257 5.26758 16.0725C5.26758 15.7193 5.43824 15.0293 5.92891 14.1193C6.40224 13.2416 7.11558 12.2665 8.05158 11.3587C9.92224 9.54398 12.6049 8.06665 15.9342 8.06665C19.2636 8.06665 21.9449 9.54505 23.8169 11.3604C24.7529 12.2687 25.4662 13.2441 25.9396 14.1216C26.4302 15.0317 26.6009 15.7209 26.6009 16.0725Z" stroke="currentColor" stroke-width="3"/> <path d="M15.9336 20.0667C18.1427 20.0667 19.9336 18.2758 19.9336 16.0667C19.9336 13.8575 18.1427 12.0667 15.9336 12.0667C13.7245 12.0667 11.9336 13.8575 11.9336 16.0667C11.9336 18.2758 13.7245 20.0667 15.9336 20.0667Z" fill="currentColor"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M27.2323 25.0624L6.93878 4.76886C6.78118 4.61126 6.70762 4.57052 6.61919 4.54372C6.53077 4.51692 6.44033 4.51691 6.3519 4.54372C6.26347 4.57052 6.18991 4.61126 6.03231 4.76886L4.77032 6.03085C4.61272 6.18845 4.57198 6.26201 4.54518 6.35044C4.51838 6.43887 4.51838 6.5293 4.54518 6.61773C4.57198 6.70616 4.61272 6.77972 4.77032 6.93732L25.0639 27.2308C25.2215 27.3884 25.295 27.4292 25.3834 27.456C25.4719 27.4828 25.5623 27.4828 25.6507 27.456C25.7392 27.4292 25.8127 27.3885 25.9703 27.2309L27.2323 25.9689C27.3899 25.8113 27.4307 25.7377 27.4575 25.6493C27.4843 25.5608 27.4843 25.4704 27.4575 25.382C27.4307 25.2935 27.3899 25.22 27.2323 25.0624Z" fill="currentColor"/>',UTe='<path d="M8.66667 6.66667C8.29848 6.66667 8 6.96514 8 7.33333V24.6667C8 25.0349 8.29848 25.3333 8.66667 25.3333H12.6667C13.0349 25.3333 13.3333 25.0349 13.3333 24.6667V7.33333C13.3333 6.96514 13.0349 6.66667 12.6667 6.66667H8.66667Z" fill="currentColor"/> <path d="M19.3333 6.66667C18.9651 6.66667 18.6667 6.96514 18.6667 7.33333V24.6667C18.6667 25.0349 18.9651 25.3333 19.3333 25.3333H23.3333C23.7015 25.3333 24 25.0349 24 24.6667V7.33333C24 6.96514 23.7015 6.66667 23.3333 6.66667H19.3333Z" fill="currentColor"/>',zTe='<path d="M5.33334 26V19.4667C5.33334 19.393 5.39304 19.3333 5.46668 19.3333H7.86668C7.94031 19.3333 8.00001 19.393 8.00001 19.4667V23.3333C8.00001 23.7015 8.29849 24 8.66668 24H23.3333C23.7015 24 24 23.7015 24 23.3333V8.66666C24 8.29847 23.7015 7.99999 23.3333 7.99999H19.4667C19.393 7.99999 19.3333 7.9403 19.3333 7.86666V5.46666C19.3333 5.39302 19.393 5.33333 19.4667 5.33333H26C26.3682 5.33333 26.6667 5.63181 26.6667 5.99999V26C26.6667 26.3682 26.3682 26.6667 26 26.6667H6.00001C5.63182 26.6667 5.33334 26.3682 5.33334 26Z" fill="currentColor"/> <path d="M14.0098 8.42359H10.806C10.6872 8.42359 10.6277 8.56721 10.7117 8.6512L16.5491 14.4886C16.8094 14.7489 16.8094 15.171 16.5491 15.4314L15.3234 16.657C15.0631 16.9174 14.641 16.9174 14.3806 16.657L8.63739 10.9138C8.55339 10.8298 8.40978 10.8893 8.40978 11.0081V14.0236C8.40978 14.3918 8.1113 14.6903 7.74311 14.6903H6.00978C5.64159 14.6903 5.34311 14.3918 5.34311 14.0236L5.34311 6.02359C5.34311 5.6554 5.64159 5.35692 6.00978 5.35692L14.0098 5.35692C14.378 5.35692 14.6764 5.6554 14.6764 6.02359V7.75692C14.6764 8.12511 14.378 8.42359 14.0098 8.42359Z" fill="currentColor"/>',HTe='<path d="M16 15.3333C15.6318 15.3333 15.3333 15.6318 15.3333 16V20C15.3333 20.3682 15.6318 20.6667 16 20.6667H21.3333C21.7015 20.6667 22 20.3682 22 20V16C22 15.6318 21.7015 15.3333 21.3333 15.3333H16Z" fill="currentColor"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M5.33333 7.33334C5.33333 6.96515 5.63181 6.66667 5.99999 6.66667H26C26.3682 6.66667 26.6667 6.96515 26.6667 7.33334V24.6667C26.6667 25.0349 26.3682 25.3333 26 25.3333H5.99999C5.63181 25.3333 5.33333 25.0349 5.33333 24.6667V7.33334ZM7.99999 10C7.99999 9.63182 8.29847 9.33334 8.66666 9.33334H23.3333C23.7015 9.33334 24 9.63182 24 10V22C24 22.3682 23.7015 22.6667 23.3333 22.6667H8.66666C8.29847 22.6667 7.99999 22.3682 7.99999 22V10Z" fill="currentColor"/>',GTe='<path d="M10.6667 6.6548C10.6667 6.10764 11.2894 5.79346 11.7295 6.11862L24.377 15.4634C24.7377 15.7298 24.7377 16.2692 24.3771 16.5357L11.7295 25.8813C11.2895 26.2065 10.6667 25.8923 10.6667 25.3451L10.6667 6.6548Z" fill="currentColor"/>',WTe='<path d="M13.9213 5.53573C14.3146 5.45804 14.6666 5.76987 14.6666 6.17079V7.57215C14.6666 7.89777 14.4305 8.17277 14.114 8.24925C12.5981 8.61559 11.2506 9.41368 10.2091 10.506C9.98474 10.7414 9.62903 10.8079 9.34742 10.6453L8.14112 9.94885C7.79394 9.7484 7.69985 9.28777 7.96359 8.98585C9.48505 7.24409 11.5636 6.00143 13.9213 5.53573Z" fill="currentColor"/> <path d="M5.88974 12.5908C6.01805 12.2101 6.46491 12.0603 6.81279 12.2611L8.01201 12.9535C8.29379 13.1162 8.41396 13.4577 8.32238 13.7699C8.11252 14.4854 7.99998 15.2424 7.99998 16.0257C7.99998 16.809 8.11252 17.566 8.32238 18.2814C8.41396 18.5936 8.29378 18.9352 8.01201 19.0979L6.82742 19.7818C6.48051 19.9821 6.03488 19.8337 5.90521 19.4547C5.5345 18.3712 5.33331 17.2091 5.33331 16C5.33331 14.8078 5.5289 13.6613 5.88974 12.5908Z" fill="currentColor"/> <path d="M8.17106 22.0852C7.82291 22.2862 7.72949 22.7486 7.99532 23.0502C9.51387 24.773 11.5799 26.0017 13.9213 26.4642C14.3146 26.5419 14.6666 26.2301 14.6666 25.8291V24.4792C14.6666 24.1536 14.4305 23.8786 14.114 23.8021C12.5981 23.4358 11.2506 22.6377 10.2091 21.5453C9.98474 21.31 9.62903 21.2435 9.34742 21.4061L8.17106 22.0852Z" fill="currentColor"/> <path d="M17.3333 25.8291C17.3333 26.2301 17.6857 26.5418 18.079 26.4641C22.9748 25.4969 26.6666 21.1796 26.6666 16C26.6666 10.8204 22.9748 6.50302 18.079 5.5358C17.6857 5.4581 17.3333 5.76987 17.3333 6.17079V7.57215C17.3333 7.89777 17.5697 8.17282 17.8862 8.24932C21.3942 9.09721 24 12.2572 24 16.0257C24 19.7942 21.3942 22.9542 17.8862 23.802C17.5697 23.8785 17.3333 24.1536 17.3333 24.4792V25.8291Z" fill="currentColor"/> <path d="M14.3961 10.4163C13.9561 10.0911 13.3333 10.4053 13.3333 10.9525L13.3333 21.0474C13.3333 21.5946 13.9561 21.9087 14.3962 21.5836L21.2273 16.5359C21.5879 16.2694 21.5879 15.73 21.2273 15.4635L14.3961 10.4163Z" fill="currentColor"/>',KTe='<path d="M15.6038 12.2147C16.0439 12.5399 16.6667 12.2257 16.6667 11.6786V10.1789C16.6667 10.1001 16.7351 10.0384 16.8134 10.0479C20.1116 10.4494 22.6667 13.2593 22.6667 16.6659C22.6667 20.3481 19.6817 23.3332 15.9995 23.3332C12.542 23.3332 9.69927 20.7014 9.36509 17.332C9.32875 16.9655 9.03371 16.6662 8.66548 16.6662L6.66655 16.6666C6.29841 16.6666 5.99769 16.966 6.02187 17.3334C6.36494 22.5454 10.7012 26.6667 16 26.6667C21.5228 26.6667 26 22.1895 26 16.6667C26 11.4103 21.9444 7.10112 16.7916 6.69757C16.7216 6.69209 16.6667 6.63396 16.6667 6.56372V4.98824C16.6667 4.44106 16.0439 4.12689 15.6038 4.45206L11.0765 7.79738C10.7159 8.06387 10.7159 8.60326 11.0766 8.86973L15.6038 12.2147Z" fill="currentColor"/>',YTe='<path d="M16.6667 10.3452C16.6667 10.8924 16.0439 11.2066 15.6038 10.8814L11.0766 7.5364C10.7159 7.26993 10.7159 6.73054 11.0766 6.46405L15.6038 3.11873C16.0439 2.79356 16.6667 3.10773 16.6667 3.6549V5.22682C16.6667 5.29746 16.7223 5.35579 16.7927 5.36066C22.6821 5.76757 27.3333 10.674 27.3333 16.6667C27.3333 22.9259 22.2592 28 16 28C9.96483 28 5.03145 23.2827 4.68601 17.3341C4.66466 16.9665 4.96518 16.6673 5.33339 16.6673H7.3334C7.70157 16.6673 7.99714 16.9668 8.02743 17.3337C8.36638 21.4399 11.8064 24.6667 16 24.6667C20.4183 24.6667 24 21.085 24 16.6667C24 12.5225 20.8483 9.11428 16.8113 8.70739C16.7337 8.69957 16.6667 8.76096 16.6667 8.83893V10.3452Z" fill="currentColor"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M17.0879 19.679C17.4553 19.9195 17.8928 20.0398 18.4004 20.0398C18.9099 20.0398 19.3474 19.9205 19.7129 19.6818C20.0803 19.4413 20.3635 19.0938 20.5623 18.6392C20.7612 18.1847 20.8606 17.6373 20.8606 16.9972C20.8625 16.3608 20.764 15.8192 20.5652 15.3722C20.3663 14.9252 20.0822 14.5853 19.7129 14.3523C19.3455 14.1175 18.908 14 18.4004 14C17.8928 14 17.4553 14.1175 17.0879 14.3523C16.7224 14.5853 16.4402 14.9252 16.2413 15.3722C16.0443 15.8173 15.9449 16.3589 15.943 16.9972C15.9411 17.6354 16.0396 18.1818 16.2385 18.6364C16.4373 19.089 16.7205 19.4366 17.0879 19.679ZM19.1362 18.4262C18.9487 18.7349 18.7034 18.8892 18.4004 18.8892C18.1996 18.8892 18.0226 18.8211 17.8691 18.6847C17.7157 18.5464 17.5964 18.3372 17.5112 18.0568C17.4279 17.7765 17.3871 17.4233 17.389 16.9972C17.3909 16.3684 17.4847 15.9025 17.6703 15.5995C17.8559 15.2945 18.0993 15.1421 18.4004 15.1421C18.603 15.1421 18.7801 15.2093 18.9316 15.3438C19.0832 15.4782 19.2015 15.6828 19.2868 15.9574C19.372 16.2301 19.4146 16.5767 19.4146 16.9972C19.4165 17.6392 19.3237 18.1156 19.1362 18.4262Z" fill="currentColor"/> <path d="M13.7746 19.8978C13.8482 19.8978 13.9079 19.8381 13.9079 19.7644V14.2129C13.9079 14.1393 13.8482 14.0796 13.7746 14.0796H12.642C12.6171 14.0796 12.5927 14.0865 12.5716 14.0997L11.2322 14.9325C11.1931 14.9568 11.1693 14.9996 11.1693 15.0457V15.9497C11.1693 16.0539 11.2833 16.1178 11.3722 16.0635L12.464 15.396C12.4682 15.3934 12.473 15.3921 12.4779 15.3921C12.4926 15.3921 12.5045 15.404 12.5045 15.4187V19.7644C12.5045 19.8381 12.5642 19.8978 12.6378 19.8978H13.7746Z" fill="currentColor"/>',XTe='<path d="M15.3333 10.3452C15.3333 10.8924 15.9561 11.2066 16.3962 10.8814L20.9234 7.5364C21.2841 7.26993 21.2841 6.73054 20.9235 6.46405L16.3962 3.11873C15.9561 2.79356 15.3333 3.10773 15.3333 3.6549V5.22682C15.3333 5.29746 15.2778 5.35579 15.2073 5.36066C9.31791 5.76757 4.66667 10.674 4.66667 16.6667C4.66667 22.9259 9.74078 28 16 28C22.0352 28 26.9686 23.2827 27.314 17.3341C27.3354 16.9665 27.0348 16.6673 26.6666 16.6673H24.6666C24.2984 16.6673 24.0029 16.9668 23.9726 17.3337C23.6336 21.4399 20.1937 24.6667 16 24.6667C11.5817 24.6667 8 21.085 8 16.6667C8 12.5225 11.1517 9.11428 15.1887 8.70739C15.2663 8.69957 15.3333 8.76096 15.3333 8.83893V10.3452Z" fill="currentColor"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M17.0879 19.679C17.4553 19.9195 17.8928 20.0398 18.4004 20.0398C18.9099 20.0398 19.3474 19.9205 19.7129 19.6818C20.0803 19.4413 20.3635 19.0938 20.5623 18.6392C20.7612 18.1847 20.8606 17.6373 20.8606 16.9972C20.8625 16.3608 20.764 15.8192 20.5652 15.3722C20.3663 14.9252 20.0822 14.5853 19.7129 14.3523C19.3455 14.1175 18.908 14 18.4004 14C17.8928 14 17.4553 14.1175 17.0879 14.3523C16.7224 14.5853 16.4402 14.9252 16.2413 15.3722C16.0443 15.8173 15.9449 16.3589 15.943 16.9972C15.9411 17.6354 16.0396 18.1818 16.2385 18.6364C16.4373 19.089 16.7205 19.4366 17.0879 19.679ZM19.1362 18.4262C18.9487 18.7349 18.7034 18.8892 18.4004 18.8892C18.1996 18.8892 18.0225 18.8211 17.8691 18.6847C17.7157 18.5464 17.5964 18.3372 17.5112 18.0568C17.4278 17.7765 17.3871 17.4233 17.389 16.9972C17.3909 16.3684 17.4847 15.9025 17.6703 15.5995C17.8559 15.2945 18.0992 15.1421 18.4004 15.1421C18.603 15.1421 18.7801 15.2093 18.9316 15.3438C19.0831 15.4782 19.2015 15.6828 19.2867 15.9574C19.372 16.2301 19.4146 16.5767 19.4146 16.9972C19.4165 17.6392 19.3237 18.1156 19.1362 18.4262Z" fill="currentColor"/> <path d="M13.7746 19.8978C13.8482 19.8978 13.9079 19.8381 13.9079 19.7644V14.2129C13.9079 14.1393 13.8482 14.0796 13.7746 14.0796H12.642C12.6171 14.0796 12.5927 14.0865 12.5716 14.0997L11.2322 14.9325C11.1931 14.9568 11.1693 14.9996 11.1693 15.0457V15.9497C11.1693 16.0539 11.2833 16.1178 11.3722 16.0635L12.464 15.396C12.4682 15.3934 12.473 15.3921 12.4779 15.3921C12.4926 15.3921 12.5045 15.404 12.5045 15.4187V19.7644C12.5045 19.8381 12.5642 19.8978 12.6378 19.8978H13.7746Z" fill="currentColor"/>',QTe='<path fill-rule="evenodd" clip-rule="evenodd" d="M13.5722 5.33333C13.2429 5.33333 12.9629 5.57382 12.9132 5.89938L12.4063 9.21916C12.4 9.26058 12.3746 9.29655 12.3378 9.31672C12.2387 9.37118 12.1409 9.42779 12.0444 9.48648C12.0086 9.5083 11.9646 9.51242 11.9255 9.49718L8.79572 8.27692C8.48896 8.15732 8.14083 8.27958 7.9762 8.56472L5.5491 12.7686C5.38444 13.0538 5.45271 13.4165 5.70981 13.6223L8.33308 15.7225C8.3658 15.7487 8.38422 15.7887 8.38331 15.8306C8.38209 15.8867 8.38148 15.9429 8.38148 15.9993C8.38148 16.0558 8.3821 16.1121 8.38332 16.1684C8.38423 16.2102 8.36582 16.2503 8.33313 16.2765L5.7103 18.3778C5.45334 18.5836 5.38515 18.9462 5.54978 19.2314L7.97688 23.4352C8.14155 23.7205 8.48981 23.8427 8.79661 23.723L11.926 22.5016C11.9651 22.4864 12.009 22.4905 12.0449 22.5123C12.1412 22.5709 12.2388 22.6274 12.3378 22.6818C12.3745 22.7019 12.4 22.7379 12.4063 22.7793L12.9132 26.0993C12.9629 26.4249 13.2429 26.6654 13.5722 26.6654H18.4264C18.7556 26.6654 19.0356 26.425 19.0854 26.0995L19.5933 22.7801C19.5997 22.7386 19.6252 22.7027 19.6619 22.6825C19.7614 22.6279 19.8596 22.5711 19.9564 22.5121C19.9923 22.4903 20.0362 22.4862 20.0754 22.5015L23.2035 23.7223C23.5103 23.842 23.8585 23.7198 24.0232 23.4346L26.4503 19.2307C26.6149 18.9456 26.5467 18.583 26.2898 18.3771L23.6679 16.2766C23.6352 16.2504 23.6168 16.2104 23.6177 16.1685C23.619 16.1122 23.6196 16.0558 23.6196 15.9993C23.6196 15.9429 23.619 15.8866 23.6177 15.8305C23.6168 15.7886 23.6353 15.7486 23.668 15.7224L26.2903 13.623C26.5474 13.4172 26.6156 13.0544 26.451 12.7692L24.0239 8.56537C23.8592 8.28023 23.5111 8.15797 23.2043 8.27757L20.0758 9.49734C20.0367 9.51258 19.9927 9.50846 19.9569 9.48664C19.8599 9.42762 19.7616 9.37071 19.6618 9.31596C19.6251 9.2958 19.5997 9.25984 19.5933 9.21843L19.0854 5.89915C19.0356 5.57369 18.7556 5.33333 18.4264 5.33333H13.5722ZM16.0001 20.2854C18.3672 20.2854 20.2862 18.3664 20.2862 15.9993C20.2862 13.6322 18.3672 11.7132 16.0001 11.7132C13.6329 11.7132 11.714 13.6322 11.714 15.9993C11.714 18.3664 13.6329 20.2854 16.0001 20.2854Z" fill="currentColor"/>',JTe='<path d="M17.5091 24.6595C17.5091 25.2066 16.8864 25.5208 16.4463 25.1956L9.44847 20.0252C9.42553 20.0083 9.39776 19.9992 9.36923 19.9992H4.66667C4.29848 19.9992 4 19.7007 4 19.3325V12.6658C4 12.2976 4.29848 11.9992 4.66667 11.9992H9.37115C9.39967 11.9992 9.42745 11.99 9.45039 11.9731L16.4463 6.80363C16.8863 6.47845 17.5091 6.79262 17.5091 7.3398L17.5091 24.6595Z" fill="currentColor"/> <path d="M27.5091 9.33336C27.8773 9.33336 28.1758 9.63184 28.1758 10V22C28.1758 22.3682 27.8773 22.6667 27.5091 22.6667H26.1758C25.8076 22.6667 25.5091 22.3682 25.5091 22V10C25.5091 9.63184 25.8076 9.33336 26.1758 9.33336L27.5091 9.33336Z" fill="currentColor"/> <path d="M22.1758 12C22.544 12 22.8424 12.2985 22.8424 12.6667V19.3334C22.8424 19.7016 22.544 20 22.1758 20H20.8424C20.4743 20 20.1758 19.7016 20.1758 19.3334V12.6667C20.1758 12.2985 20.4743 12 20.8424 12H22.1758Z" fill="currentColor"/>',ZTe='<path d="M17.5091 24.6594C17.5091 25.2066 16.8864 25.5207 16.4463 25.1956L9.44847 20.0252C9.42553 20.0083 9.39776 19.9991 9.36923 19.9991H4.66667C4.29848 19.9991 4 19.7006 4 19.3324V12.6658C4 12.2976 4.29848 11.9991 4.66667 11.9991H9.37115C9.39967 11.9991 9.42745 11.99 9.45039 11.973L16.4463 6.80358C16.8863 6.4784 17.5091 6.79258 17.5091 7.33975L17.5091 24.6594Z" fill="currentColor"/> <path d="M22.8424 12.6667C22.8424 12.2985 22.544 12 22.1758 12H20.8424C20.4743 12 20.1758 12.2985 20.1758 12.6667V19.3333C20.1758 19.7015 20.4743 20 20.8424 20H22.1758C22.544 20 22.8424 19.7015 22.8424 19.3333V12.6667Z" fill="currentColor"/>'});function cP(t,e,r){return Ho(t,qp(e,r))}function ek(t,e){return typeof t=="function"?t(e):t}function gd(t){return t.split("-")[0]}function tk(t){return t.split("-")[1]}function uP(t){return t==="x"?"y":"x"}function dP(t){return t==="y"?"height":"width"}function Bp(t){return["top","bottom"].includes(gd(t))?"y":"x"}function fP(t){return uP(Bp(t))}function uG(t,e,r){r===void 0&&(r=!1);let n=tk(t),i=fP(t),s=dP(i),a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Cv(a)),[a,Cv(a)]}function dG(t){let e=Cv(t);return[ZS(t),e,ZS(e)]}function ZS(t){return t.replace(/start|end/g,e=>t2e[e])}function r2e(t,e,r){let n=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?s:a;default:return[]}}function fG(t,e,r,n){let i=tk(t),s=r2e(gd(t),r==="start",n);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(ZS)))),s}function Cv(t){return t.replace(/left|right|bottom|top/g,e=>e2e[e])}function n2e(t){return{top:0,right:0,bottom:0,left:0,...t}}function pG(t){return typeof t!="number"?n2e(t):{top:t,right:t,bottom:t,left:t}}function yd(t){let{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}var qp,Ho,Ev,Tv,fa,e2e,t2e,rk=tt(()=>{qp=Math.min,Ho=Math.max,Ev=Math.round,Tv=Math.floor,fa=t=>({x:t,y:t}),e2e={left:"right",right:"left",bottom:"top",top:"bottom"},t2e={start:"end",end:"start"}});function hG(t,e,r){let{reference:n,floating:i}=t,s=Bp(e),a=fP(e),o=dP(a),l=gd(e),c=s==="y",u=n.x+n.width/2-i.width/2,d=n.y+n.height/2-i.height/2,f=n[o]/2-i[o]/2,p;switch(l){case"top":p={x:u,y:n.y-i.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:d};break;case"left":p={x:n.x-i.width,y:d};break;default:p={x:n.x,y:n.y}}switch(tk(e)){case"start":p[a]-=f*(r&&c?-1:1);break;case"end":p[a]+=f*(r&&c?-1:1);break}return p}async function pP(t,e){var r;e===void 0&&(e={});let{x:n,y:i,platform:s,rects:a,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=ek(e,t),h=pG(p),v=o[f?d==="floating"?"reference":"floating":d],y=yd(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(v)))==null||r?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),b=d==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),x=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},A=yd(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:b,offsetParent:w,strategy:l}):b);return{top:(y.top-A.top+h.top)/x.y,bottom:(A.bottom-y.bottom+h.bottom)/x.y,left:(y.left-A.left+h.left)/x.x,right:(A.right-y.right+h.right)/x.x}}var mG,gG,yG,vG=tt(()=>{rk();rk();mG=async(t,e,r)=>{let{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:a}=r,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e)),c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=hG(c,n,l),f=n,p={},h=0;for(let g=0;g<o.length;g++){let{name:v,fn:y}=o[g],{x:b,y:w,data:x,reset:A}=await y({x:u,y:d,initialPlacement:n,placement:f,strategy:i,middlewareData:p,rects:c,platform:a,elements:{reference:t,floating:e}});u=b??u,d=w??d,p={...p,[v]:{...p[v],...x}},A&&h<=50&&(h++,typeof A=="object"&&(A.placement&&(f=A.placement),A.rects&&(c=A.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):A.rects),{x:u,y:d}=hG(c,f,l)),g=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:p}};gG=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;let{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:g=!0,...v}=ek(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};let y=gd(i),b=Bp(o),w=gd(o)===o,x=await(l.isRTL==null?void 0:l.isRTL(c.floating)),A=f||(w||!g?[Cv(o)]:dG(o)),O=h!=="none";!f&&O&&A.push(...fG(o,g,h,x));let S=[o,...A],k=await pP(e,v),E=[],I=((n=s.flip)==null?void 0:n.overflows)||[];if(u&&E.push(k[y]),d){let F=uG(i,a,x);E.push(k[F[0]],k[F[1]])}if(I=[...I,{placement:i,overflows:E}],!E.every(F=>F<=0)){var R,T;let F=(((R=s.flip)==null?void 0:R.index)||0)+1,Y=S[F];if(Y)return{data:{index:F,overflows:I},reset:{placement:Y}};let H=(T=I.filter(D=>D.overflows[0]<=0).sort((D,U)=>D.overflows[1]-U.overflows[1])[0])==null?void 0:T.placement;if(!H)switch(p){case"bestFit":{var _;let D=(_=I.filter(U=>{if(O){let ue=Bp(U.placement);return ue===b||ue==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(ue=>ue>0).reduce((ue,De)=>ue+De,0)]).sort((U,ue)=>U[1]-ue[1])[0])==null?void 0:_[0];D&&(H=D);break}case"initialPlacement":H=o;break}if(i!==H)return{reset:{placement:H}}}return{}}}},yG=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){let{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:v=>{let{x:y,y:b}=v;return{x:y,y:b}}},...l}=ek(t,e),c={x:r,y:n},u=await pP(e,l),d=Bp(gd(i)),f=uP(d),p=c[f],h=c[d];if(s){let v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=p+u[v],w=p-u[y];p=cP(b,p,w)}if(a){let v=d==="y"?"top":"left",y=d==="y"?"bottom":"right",b=h+u[v],w=h-u[y];h=cP(b,h,w)}let g=o.fn({...e,[f]:p,[d]:h});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[f]:s,[d]:a}}}}}}});function nk(){return typeof window<"u"}function vd(t){return wG(t)?(t.nodeName||"").toLowerCase():"#document"}function Qn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function pa(t){var e;return(e=(wG(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function wG(t){return nk()?t instanceof Node||t instanceof Qn(t).Node:!1}function ys(t){return nk()?t instanceof Element||t instanceof Qn(t).Element:!1}function ha(t){return nk()?t instanceof HTMLElement||t instanceof Qn(t).HTMLElement:!1}function bG(t){return!nk()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Qn(t).ShadowRoot}function zp(t){let{overflow:e,overflowX:r,overflowY:n,display:i}=vs(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function xG(t){return["table","td","th"].includes(vd(t))}function Av(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function ik(t){let e=sk(),r=ys(t)?vs(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function SG(t){let e=Go(t);for(;ha(e)&&!bd(e);){if(ik(e))return e;if(Av(e))return null;e=Go(e)}return null}function sk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bd(t){return["html","body","#document"].includes(vd(t))}function vs(t){return Qn(t).getComputedStyle(t)}function Lv(t){return ys(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Go(t){if(vd(t)==="html")return t;let e=t.assignedSlot||t.parentNode||bG(t)&&t.host||pa(t);return bG(e)?e.host:e}function kG(t){let e=Go(t);return bd(e)?t.ownerDocument?t.ownerDocument.body:t.body:ha(e)&&zp(e)?e:kG(e)}function Up(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);let i=kG(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),a=Qn(i);if(s){let o=ak(a);return e.concat(a,a.visualViewport||[],zp(i)?i:[],o&&r?Up(o):[])}return e.concat(i,Up(i,[],r))}function ak(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}var CG=tt(()=>{});function AG(t){let e=vs(t),r=parseFloat(e.width)||0,n=parseFloat(e.height)||0,i=ha(t),s=i?t.offsetWidth:r,a=i?t.offsetHeight:n,o=Ev(r)!==s||Ev(n)!==a;return o&&(r=s,n=a),{width:r,height:n,$:o}}function mP(t){return ys(t)?t:t.contextElement}function Hp(t){let e=mP(t);if(!ha(e))return fa(1);let r=e.getBoundingClientRect(),{width:n,height:i,$:s}=AG(e),a=(s?Ev(r.width):r.width)/n,o=(s?Ev(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}function LG(t){let e=Qn(t);return!sk()||!e.visualViewport?i2e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function s2e(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Qn(t)?!1:e}function wd(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);let i=t.getBoundingClientRect(),s=mP(t),a=fa(1);e&&(n?ys(n)&&(a=Hp(n)):a=Hp(t));let o=s2e(s,r,n)?LG(s):fa(0),l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,u=i.width/a.x,d=i.height/a.y;if(s){let f=Qn(s),p=n&&ys(n)?Qn(n):n,h=f,g=ak(h);for(;g&&n&&p!==h;){let v=Hp(g),y=g.getBoundingClientRect(),b=vs(g),w=y.left+(g.clientLeft+parseFloat(b.paddingLeft))*v.x,x=y.top+(g.clientTop+parseFloat(b.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,d*=v.y,l+=w,c+=x,h=Qn(g),g=ak(h)}}return yd({width:u,height:d,x:l,y:c})}function gP(t,e){let r=Lv(t).scrollLeft;return e?e.left+r:wd(pa(t)).left+r}function IG(t,e,r){r===void 0&&(r=!1);let n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:gP(t,n)),s=n.top+e.scrollTop;return{x:i,y:s}}function a2e(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t,s=i==="fixed",a=pa(n),o=e?Av(e.floating):!1;if(n===a||o&&s)return r;let l={scrollLeft:0,scrollTop:0},c=fa(1),u=fa(0),d=ha(n);if((d||!d&&!s)&&((vd(n)!=="body"||zp(a))&&(l=Lv(n)),ha(n))){let p=wd(n);c=Hp(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}let f=a&&!d&&!s?IG(a,l,!0):fa(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:r.y*c.y-l.scrollTop*c.y+u.y+f.y}}function o2e(t){return Array.from(t.getClientRects())}function l2e(t){let e=pa(t),r=Lv(t),n=t.ownerDocument.body,i=Ho(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Ho(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight),a=-r.scrollLeft+gP(t),o=-r.scrollTop;return vs(n).direction==="rtl"&&(a+=Ho(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:a,y:o}}function c2e(t,e){let r=Qn(t),n=pa(t),i=r.visualViewport,s=n.clientWidth,a=n.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;let c=sk();(!c||c&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o,y:l}}function u2e(t,e){let r=wd(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=ha(t)?Hp(t):fa(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,l=i*s.x,c=n*s.y;return{width:a,height:o,x:l,y:c}}function EG(t,e,r){let n;if(e==="viewport")n=c2e(t,r);else if(e==="document")n=l2e(pa(t));else if(ys(e))n=u2e(e,r);else{let i=LG(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return yd(n)}function RG(t,e){let r=Go(t);return r===e||!ys(r)||bd(r)?!1:vs(r).position==="fixed"||RG(r,e)}function d2e(t,e){let r=e.get(t);if(r)return r;let n=Up(t,[],!1).filter(o=>ys(o)&&vd(o)!=="body"),i=null,s=vs(t).position==="fixed",a=s?Go(t):t;for(;ys(a)&&!bd(a);){let o=vs(a),l=ik(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||zp(a)&&!l&&RG(t,a))?n=n.filter(u=>u!==a):i=o,a=Go(a)}return e.set(t,n),n}function f2e(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t,a=[...r==="clippingAncestors"?Av(e)?[]:d2e(e,this._c):[].concat(r),n],o=a[0],l=a.reduce((c,u)=>{let d=EG(e,u,i);return c.top=Ho(d.top,c.top),c.right=qp(d.right,c.right),c.bottom=qp(d.bottom,c.bottom),c.left=Ho(d.left,c.left),c},EG(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function p2e(t){let{width:e,height:r}=AG(t);return{width:e,height:r}}function h2e(t,e,r){let n=ha(e),i=pa(e),s=r==="fixed",a=wd(t,!0,s,e),o={scrollLeft:0,scrollTop:0},l=fa(0);if(n||!n&&!s)if((vd(e)!=="body"||zp(i))&&(o=Lv(e)),n){let f=wd(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&(l.x=gP(i));let c=i&&!n&&!s?IG(i,o):fa(0),u=a.left+o.scrollLeft-l.x-c.x,d=a.top+o.scrollTop-l.y-c.y;return{x:u,y:d,width:a.width,height:a.height}}function hP(t){return vs(t).position==="static"}function TG(t,e){if(!ha(t)||vs(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return pa(t)===r&&(r=r.ownerDocument.body),r}function MG(t,e){let r=Qn(t);if(Av(t))return r;if(!ha(t)){let i=Go(t);for(;i&&!bd(i);){if(ys(i)&&!hP(i))return i;i=Go(i)}return r}let n=TG(t,e);for(;n&&xG(n)&&hP(n);)n=TG(n,e);return n&&bd(n)&&hP(n)&&!ik(n)?r:n||SG(t)||r}function g2e(t){return vs(t).direction==="rtl"}function PG(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function v2e(t,e){let r=null,n,i=pa(t);function s(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();let c=t.getBoundingClientRect(),{left:u,top:d,width:f,height:p}=c;if(o||e(),!f||!p)return;let h=Tv(d),g=Tv(i.clientWidth-(u+f)),v=Tv(i.clientHeight-(d+p)),y=Tv(u),w={rootMargin:-h+"px "+-g+"px "+-v+"px "+-y+"px",threshold:Ho(0,qp(1,l))||1},x=!0;function A(O){let S=O[0].intersectionRatio;if(S!==l){if(!x)return a();S?a(!1,S):n=setTimeout(()=>{a(!1,1e-7)},1e3)}S===1&&!PG(c,t.getBoundingClientRect())&&a(),x=!1}try{r=new IntersectionObserver(A,{...w,root:i.ownerDocument})}catch{r=new IntersectionObserver(A,w)}r.observe(t)}return a(!0),s}function OG(t,e,r,n){n===void 0&&(n={});let{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=mP(t),u=i||s?[...c?Up(c):[],...Up(e)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),s&&y.addEventListener("resize",r)});let d=c&&o?v2e(c,r):null,f=-1,p=null;a&&(p=new ResizeObserver(y=>{let[b]=y;b&&b.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(e)})),r()}),c&&!l&&p.observe(c),p.observe(e));let h,g=l?wd(t):null;l&&v();function v(){let y=wd(t);g&&!PG(g,y)&&r(),g=y,h=requestAnimationFrame(v)}return r(),()=>{var y;u.forEach(b=>{i&&b.removeEventListener("scroll",r),s&&b.removeEventListener("resize",r)}),d?.(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(h)}}var i2e,m2e,y2e,_G,DG,NG,FG=tt(()=>{vG();rk();CG();i2e=fa(0);m2e=async function(t){let e=this.getOffsetParent||MG,r=this.getDimensions,n=await r(t.floating);return{reference:h2e(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};y2e={convertOffsetParentRelativeRectToViewportRelativeRect:a2e,getDocumentElement:pa,getClippingRect:f2e,getOffsetParent:MG,getElementRects:m2e,getClientRects:o2e,getDimensions:p2e,getScale:Hp,isElement:ys,isRTL:g2e};_G=yG,DG=gG,NG=(t,e,r)=>{let n=new Map,i={platform:y2e,...r},s={...i.platform,_c:n};return mG(t,e,{...i,platform:s})}});var $G={};Rr($G,{SRTParser:()=>ok,default:()=>x2e});function x2e(){return new ok}var b2e,w2e,ok,jG=tt(()=>{Iv();b2e=/,/g,w2e="-->",ok=class extends Wp{parse(e,r){if(e==="")this.c&&(this.l.push(this.c),this.h.onCue?.(this.c),this.c=null),this.e=Gp.None;else if(this.e===Gp.Cue)this.c.text+=(this.c.text?`
`:"")+e;else if(e.includes(w2e)){let n=this.q(e,r);n&&(this.c=new Wo(n[0],n[1],n[2].join(" ")),this.c.id=this.n,this.e=Gp.Cue)}this.n=e}q(e,r){return super.q(e.replace(b2e,"."),r)}}});var yP={};Rr(yP,{ParseErrorBuilder:()=>S2e});var S2e,vP=tt(()=>{Iv();S2e={r(){return new Jn({code:bs.BadSignature,reason:"missing WEBVTT file header",line:1})},s(t,e){return new Jn({code:bs.BadTimestamp,reason:`cue start timestamp \`${t}\` is invalid on line ${e}`,line:e})},t(t,e){return new Jn({code:bs.BadTimestamp,reason:`cue end timestamp \`${t}\` is invalid on line ${e}`,line:e})},u(t,e,r){return new Jn({code:bs.BadTimestamp,reason:`cue end timestamp \`${e}\` is greater than start \`${t}\` on line ${r}`,line:r})},y(t,e,r){return new Jn({code:bs.BadSettingValue,reason:`invalid value for cue setting \`${t}\` on line ${r} (value: ${e})`,line:r})},x(t,e,r){return new Jn({code:bs.UnknownSetting,reason:`unknown cue setting \`${t}\` on line ${r} (value: ${e})`,line:r})},w(t,e,r){return new Jn({code:bs.BadSettingValue,reason:`invalid value for region setting \`${t}\` on line ${r} (value: ${e})`,line:r})},v(t,e,r){return new Jn({code:bs.UnknownSetting,reason:`unknown region setting \`${t}\` on line ${r} (value: ${e})`,line:r})},T(t,e){return new Jn({code:bs.BadFormat,reason:`format missing for \`${t}\` block on line ${e}`,line:e})}}});var HG={};Rr(HG,{SSAParser:()=>uk,default:()=>k2e});function wP(t){let e=parseInt(t.replace("&H",""),16);if(e>=0){let n=(e>>24&255^255)/255,i=e>>16&255,s=e>>8&255;return"rgba("+[e&255,s,i,n].join(",")+")"}return null}function xP(t,e,r){let n=Math.ceil(2*Math.PI*t),i="";for(let s=0;s<n;s++){let a=2*Math.PI*s/n;i+=t*Math.cos(a)+"px "+e*Math.sin(a)+"px 0 "+r+(s==n-1?"":",")}return i}function k2e(){return new uk}var lk,VG,qG,ck,BG,UG,zG,bP,uk,GG=tt(()=>{Iv();lk=/^Format:[\s\t]*/,VG=/^Style:[\s\t]*/,qG=/^Dialogue:[\s\t]*/,ck=/[\s\t]*,[\s\t]*/,BG=/\{[^}]+\}/g,UG=/\\N/g,zG=/^\[(.*)[\s\t]?Styles\]$/,bP=/^\[(.*)[\s\t]?Events\]$/,uk=class{h;O=0;c=null;l=[];m=[];N=null;f;P={};async init(e){this.h=e,e.errors&&(this.f=(await Promise.resolve().then(()=>(vP(),yP))).ParseErrorBuilder)}parse(e,r){if(this.O)switch(this.O){case 1:if(e==="")this.O=0;else if(VG.test(e))if(this.N){let n=e.replace(VG,"").split(ck);this.S(n)}else this.g(this.f?.T("Style",r));else lk.test(e)?this.N=e.replace(lk,"").split(ck):bP.test(e)&&(this.N=null,this.O=2);break;case 2:if(e==="")this.Q();else if(qG.test(e))if(this.Q(),this.N){let n=e.replace(qG,"").split(ck),i=this.U(n,r);i&&(this.c=i)}else this.g(this.f?.T("Dialogue",r));else this.c?this.c.text+=`
`+e.replace(BG,"").replace(UG,`
`):lk.test(e)?this.N=e.replace(lk,"").split(ck):zG.test(e)?(this.N=null,this.O=1):bP.test(e)&&(this.N=null)}else e===""||(zG.test(e)?(this.N=null,this.O=1):bP.test(e)&&(this.N=null,this.O=2))}done(){return{metadata:{},cues:this.l,regions:[],errors:this.m}}Q(){this.c&&(this.l.push(this.c),this.h.onCue?.(this.c),this.c=null)}S(e){let r="Default",n={},i,s="center",a="bottom",o,l=1.2,c,u,d=3,f=[];for(let p=0;p<this.N.length;p++){let h=this.N[p],g=e[p];switch(h){case"Name":r=g;break;case"Fontname":n["font-family"]=g;break;case"Fontsize":n["font-size"]=`calc(${g} / var(--overlay-height))`;break;case"PrimaryColour":let v=wP(g);v&&(n["--cue-color"]=v);break;case"BorderStyle":d=parseInt(g,10);break;case"BackColour":u=wP(g);break;case"OutlineColour":let y=wP(g);y&&(c=y);break;case"Bold":parseInt(g)&&(n["font-weight"]="bold");break;case"Italic":parseInt(g)&&(n["font-style"]="italic");break;case"Underline":parseInt(g)&&(n["text-decoration"]="underline");break;case"StrikeOut":parseInt(g)&&(n["text-decoration"]="line-through");break;case"Spacing":n["letter-spacing"]=g+"px";break;case"AlphaLevel":n.opacity=parseFloat(g);break;case"ScaleX":f.push(`scaleX(${parseFloat(g)/100})`);break;case"ScaleY":f.push(`scaleY(${parseFloat(g)/100})`);break;case"Angle":f.push(`rotate(${g}deg)`);break;case"Shadow":l=parseInt(g,10)*1.2;break;case"MarginL":n["--cue-width"]="auto",n["--cue-left"]=parseFloat(g)+"px";break;case"MarginR":n["--cue-width"]="auto",n["--cue-right"]=parseFloat(g)+"px";break;case"MarginV":o=parseFloat(g);break;case"Outline":i=parseInt(g,10);break;case"Alignment":let b=parseInt(g,10);switch(b>=4&&(a=b>=7?"top":"center"),b%3){case 1:s="start";break;case 2:s="center";break;case 3:s="end";break}}}if(n.R=a,n["--cue-white-space"]="normal",n["--cue-line-height"]="normal",n["--cue-text-align"]=s,a==="center"?(n["--cue-top"]="50%",f.push("translateY(-50%)")):n[`--cue-${a}`]=(o||0)+"px",d===1&&(n["--cue-padding-y"]="0"),(d===1||u)&&(n["--cue-bg-color"]=d===1?"none":u),d===3&&c&&(n["--cue-outline"]=`${i}px solid ${c}`),d===1&&typeof i=="number"){let p=u??"#000";n["--cue-text-shadow"]=[c&&xP(i*1.2,l*1.2,c),c?xP(i*(i/2),l*(i/2),p):xP(i,l,p)].filter(Boolean).join(", ")}f.length&&(n["--cue-transform"]=f.join(" ")),this.P[r]=n}U(e,r){let n=this.V(e),i=this.q(n.Start,n.End,r);if(!i)return;let s=new Wo(i[0],i[1],""),a={...this.P[n.Style]||{}},o=n.Name?`<v ${n.Name}>`:"",l=a.R,c=n.MarginL&&parseFloat(n.MarginL),u=n.MarginR&&parseFloat(n.MarginR),d=n.MarginV&&parseFloat(n.MarginV);return c&&(a["--cue-width"]="auto",a["--cue-left"]=c+"px"),u&&(a["--cue-width"]="auto",a["--cue-right"]=u+"px"),d&&l!=="center"&&(a[`--cue-${l}`]=d+"px"),s.text=o+e.slice(this.N.length-1).join(", ").replace(BG,"").replace(UG,`
`),delete a.R,Object.keys(a).length&&(s.style=a),s}V(e){let r={};for(let n=0;n<this.N.length;n++)r[this.N[n]]=e[n];return r}q(e,r,n){let i=Ko(e),s=Ko(r);if(i!==null&&s!==null&&s>i)return[i,s];i===null&&this.g(this.f?.s(e,n)),s===null&&this.g(this.f?.t(r,n)),i!=null&&s!==null&&s>i&&this.g(this.f?.u(i,s,n))}g(e){if(e){if(this.m.push(e),this.h.strict)throw this.h.cancel(),e;this.h.onError?.(e)}}}});async function JG(t,e){let r=new ReadableStream({start(n){let i=t.split(QG);for(let s of i)n.enqueue(s);n.close()}});return hk(r,e)}async function hk(t,e){let r=e?.type??"vtt",n;if(typeof r=="string")switch(r){case"srt":n=(await Promise.resolve().then(()=>(jG(),$G))).default;break;case"ssa":case"ass":n=(await Promise.resolve().then(()=>(GG(),HG))).default;break;default:n=(await Promise.resolve().then(function(){return q2e})).default}else n=r;let i,s=t.getReader(),a=n(),o=!!e?.strict||!!e?.errors;await a.init({strict:!1,...e,errors:o,type:r,cancel(){s.cancel(),i=a.done(!0)}});let l=1;for(;;){let{value:c,done:u}=await s.read();if(u){a.parse("",l),i=a.done(!1);break}a.parse(c,l),l++}return i}async function ZG(t,e){let r=await t;if(!r.ok||!r.body)return{metadata:{},cues:[],regions:[],errors:[void 0]};let n=r.headers.get("content-type")||"",i=n.match(/text\/(.*?)(?:;|$)/)?.[1],s=n.match(/charset=(.*?)(?:;|$)/)?.[1];return EP(r.body,{type:i,encoding:s,...e})}async function EP(t,{encoding:e="utf-8",...r}={}){let n=t.pipeThrough(new kP(e));return hk(n,r)}function T2e(t){let e=parseInt(t,10);return Number.isNaN(e)?null:e}function Mv(t){let e=parseInt(t.replace(E2e,""),10);return!Number.isNaN(e)&&e>=0&&e<=100?e:null}function KG(t){if(!t.includes(WG))return null;let[e,r]=t.split(WG).map(Mv);return e!==null&&r!==null?[e,r]:null}function A2e(t){let e=parseFloat(t);return Number.isNaN(e)?null:e}function Ko(t){let e=t.match(j2e);if(!e)return null;let r=e[1]?parseInt(e[1],10):0,n=parseInt(e[2],10),i=parseInt(e[3],10),s=e[4]?parseInt(e[4].padEnd(3,"0"),10):0,a=r*3600+n*60+i+s/1e3;return r<0||n<0||i<0||s<0||n>59||i>59?null:a}function V2e(){return new Wp}function AP(t){let e="",r=1,n=[],i=[],s;for(let c=0;c<t.text.length;c++){let u=t.text[c];switch(r){case 1:u==="<"?(l(),r=2):e+=u;break;case 2:switch(u){case`
`:case"	":case" ":a(),r=4;break;case".":a(),r=3;break;case"/":r=5;break;case">":a(),r=1;break;default:!e&&B2e.test(u)&&(r=6),e+=u;break}break;case 3:switch(u){case"	":case" ":case`
`:o(),s&&s.class?.trim(),r=4;break;case".":o();break;case">":o(),s&&s.class?.trim(),r=1;break;default:e+=u}break;case 4:u===">"?(e=e.replace(U2e," "),s?.type==="v"?s.voice=SP(e):s?.type==="lang"&&(s.lang=SP(e)),e="",r=1):e+=u;break;case 5:u===">"&&(e="",s=i.pop(),r=1);break;case 6:if(u===">"){let d=Ko(e);d!==null&&d>=t.startTime&&d<=t.endTime&&(e="timestamp",a(),s.time=d),e="",r=1}else e+=u;break}}function a(){if(W2e.has(e)){let c=s;s=K2e(e),c?(i[i.length-1]!==c&&i.push(c),c.children.push(s)):n.push(s)}e="",r=1}function o(){if(s&&e){let c=e.replace("bg_","");G2e.has(c)?s[e.startsWith("bg_")?"bgColor":"color"]=c:s.class=s.class?s.class+" "+e:e}e=""}function l(){if(!e)return;let c={type:"text",data:SP(e)};s?s.children.push(c):n.push(c),e=""}return r===1&&l(),n}function K2e(t){return{tagName:eW[t],type:t,children:[]}}function SP(t){return t.replace(H2e,e=>z2e[e]||"'")}function Rn(t,e,r){t.style.setProperty(`--${e}`,r+"")}function sc(t,e,r=!0){t.setAttribute(`data-${e}`,r===!0?"":r+"")}function dk(t,e){t.setAttribute("data-part",e)}function Y2e(t){return parseFloat(getComputedStyle(t).lineHeight)||0}function tW(t){if(TP)throw Error("[media-captions] called `createVTTCueTemplate` on the server - use `renderVTTCueString`");let e=document.createElement("template");return e.innerHTML=mk(t),{cue:t,content:e.content}}function mk(t,e=0){return gk(AP(t),e)}function gk(t,e=0){let r,n="";for(let i of t)if(i.type==="text")n+=i.data;else{let s=i.type==="timestamp";r={},r.class=i.class,r.title=i.type==="v"&&i.voice,r.lang=i.type==="lang"&&i.lang,r["data-part"]=i.type==="v"&&"voice",s&&(r["data-part"]="timed",r["data-time"]=i.time,r["data-future"]=i.time>e,r["data-past"]=i.time<e),r.style=`${i.color?`color: ${i.color};`:""}${i.bgColor?`background-color: ${i.bgColor};`:""}`;let a=Object.entries(r).filter(o=>o[1]).map(o=>`${o[0]}="${o[1]===!0?"":o[1]}"`).join(" ");n+=`<${i.tagName}${a?" "+a:""}>${gk(i.children)}</${i.tagName}>`}return n}function LP(t,e){if(!TP)for(let r of t.querySelectorAll('[data-part="timed"]')){let n=Number(r.getAttribute("data-time"));Number.isNaN(n)||(n>e?sc(r,"future"):r.removeAttribute("data-future"),n<e?sc(r,"past"):r.removeAttribute("data-past"))}}function X2e(t,e){let r=null,n;function i(){s(),t(...n),n=void 0}function s(){clearTimeout(r),r=null}function a(){n=[].slice.call(arguments),s(),r=setTimeout(i,e)}return a}function IP(t){return t instanceof HTMLElement?{top:t.offsetTop,width:t.clientWidth,height:t.clientHeight,left:t.offsetLeft,right:t.offsetLeft+t.clientWidth,bottom:t.offsetTop+t.clientHeight}:{...t}}function fk(t,e,r){switch(e){case"+x":t.left+=r,t.right+=r;break;case"-x":t.left-=r,t.right-=r;break;case"+y":t.top+=r,t.bottom+=r;break;case"-y":t.top-=r,t.bottom-=r;break}}function Q2e(t,e){return t.left<=e.right&&t.right>=e.left&&t.top<=e.bottom&&t.bottom>=e.top}function J2e(t,e){for(let r=0;r<e.length;r++)if(Q2e(t,e[r]))return e[r];return null}function XG(t,e){return e.top>=0&&e.bottom<=t.height&&e.left>=0&&e.right<=t.width}function Z2e(t,e,r){switch(r){case"+x":return e.left<0;case"-x":return e.right>t.width;case"+y":return e.top<0;case"-y":return e.bottom>t.height}}function eAe(t,e){let r=Math.max(0,Math.min(t.width,e.right)-Math.max(0,e.left)),n=Math.max(0,Math.min(t.height,e.bottom)-Math.max(0,e.top));return r*n/(t.height*t.width)}function RP(t,e){return{top:e.top/t.height,left:e.left/t.width,right:(t.width-e.right)/t.width,bottom:(t.height-e.bottom)/t.height}}function rW(t,e){return e.top=e.top*t.height,e.left=e.left*t.width,e.right=t.width-e.right*t.width,e.bottom=t.height-e.bottom*t.height,e}function iW(t,e,r,n){let i=RP(e,r);for(let s of nW)Rn(t,`${n}-${s}`,i[s]*100+"%")}function sW(t,e,r,n){let i=1,s,a={...e};for(let o=0;o<n.length;o++){for(;Z2e(t,e,n[o])||XG(t,e)&&J2e(e,r);)fk(e,n[o],1);if(XG(t,e))return e;let l=eAe(t,e);i>l&&(s={...e},i=l),e={...a}}return s||a}function tAe(t,e,r,n){let i=r.firstElementChild,s=iAe(e),a,o=[];if(r[ac]||(r[ac]=rAe(t,r)),a=rW(t,{...r[ac]}),r[Pv])o=[r[Pv]==="top"?"+y":"-y","+x","-x"];else if(e.snapToLines){let l;switch(e.vertical){case"":o=["+y","-y"],l="height";break;case"rl":o=["+x","-x"],l="width";break;case"lr":o=["-x","+x"],l="width";break}let c=Y2e(i),u=c*Math.round(s),d=t[l]+c,f=o[0];Math.abs(u)>d&&(u=u<0?-1:1,u*=Math.ceil(d/c)*c),s<0&&(u+=e.vertical===""?t.height:t.width,o=o.reverse()),fk(a,f,u)}else{let l=e.vertical==="",c=l?"+y":"+x",u=l?a.height:a.width;fk(a,c,(l?t.height:t.width)*s/100),fk(a,c,e.lineAlign==="center"?u/2:e.lineAlign==="end"?u:0),o=l?["-y","+y","-x","+x"]:["-x","+x","-y","+y"]}return a=sW(t,a,n,o),iW(r,t,a,"cue"),a}function rAe(t,e){let r=IP(e),n=nAe(e);if(e[Pv]=!1,n.top&&(r.top=n.top,r.bottom=n.top+r.height,e[Pv]="top"),n.bottom){let i=t.height-n.bottom;r.top=i-r.height,r.bottom=i,e[Pv]="bottom"}return n.left&&(r.left=n.left),n.right&&(r.right=t.width-n.right),RP(t,r)}function nAe(t){let e={};for(let r of nW)e[r]=parseFloat(t.style.getPropertyValue(`--cue-${r}`));return e}function iAe(t){return t.line==="auto"?t.snapToLines?-1:100:t.line}function sAe(t){if(t.position==="auto")switch(t.align){case"start":case"left":return 0;case"right":case"end":return 100;default:return 50}return t.position}function aAe(t,e){if(t.positionAlign==="auto")switch(t.align){case"start":return e==="ltr"?"line-left":"line-right";case"end":return e==="ltr"?"line-right":"line-left";case"center":return"center";default:return`line-${t.align}`}return t.positionAlign}function lAe(t,e,r,n){let i=Array.from(r.querySelectorAll('[data-part="cue-display"]')),s=0,a=Math.max(0,i.length-e.lines);for(let l=i.length-1;l>=a;l--)s+=i[l].offsetHeight;Rn(r,"region-height",s+"px"),r[ac]||(r[ac]=RP(t,IP(r)));let o={...r[ac]};return o=rW(t,o),o.width=r.clientWidth,o.height=s,o.right=o.left+o.width,o.bottom=o.top+s,o=sW(t,o,n,oAe),iW(r,t,o,"region"),o}var bs,Jn,QG,kP,CP,Ov,TP,C2e,Wo,_v,WG,E2e,L2e,YG,I2e,Kp,R2e,M2e,P2e,O2e,Rv,_2e,D2e,N2e,F2e,$2e,j2e,Gp,Wp,q2e,B2e,U2e,eW,z2e,H2e,G2e,W2e,ac,nW,Pv,oAe,pk,Iv=tt(()=>{bs={LoadFail:0,BadSignature:1,BadTimestamp:2,BadSettingValue:3,BadFormat:4,UnknownSetting:5},Jn=class extends Error{code;line;constructor(e){super(e.reason),this.code=e.code,this.line=e.line}},QG=/\r?\n|\r/gm,kP=class{writable;readable;constructor(e){let r=new CP(e);this.writable=new WritableStream({write(n){r.transform(n)},close(){r.close()}}),this.readable=new ReadableStream({start(n){r.onLine=i=>n.enqueue(i),r.onClose=()=>n.close()}})}},CP=class{a="";b;onLine;onClose;constructor(e){this.b=new TextDecoder(e)}transform(e){this.a+=this.b.decode(e,{stream:!0});let r=this.a.split(QG);this.a=r.pop()||"";for(let n=0;n<r.length;n++)this.onLine(r[n].trim())}close(){this.a&&this.onLine(this.a.trim()),this.a="",this.onClose()}};Ov=class extends EventTarget{id="";startTime;endTime;text;pauseOnExit=!1;constructor(e,r,n){super(),this.startTime=e,this.endTime=r,this.text=n}addEventListener(e,r,n){super.addEventListener(e,r,n)}removeEventListener(e,r,n){super.removeEventListener(e,r,n)}},TP=typeof document>"u",C2e=TP?Ov:window.VTTCue,Wo=class extends C2e{region=null;vertical="";snapToLines=!0;line="auto";lineAlign="start";position="auto";positionAlign="auto";size=100;align="center";style},_v=class{id="";width=100;lines=3;regionAnchorX=0;regionAnchorY=100;viewportAnchorX=0;viewportAnchorY=100;scroll=""},WG=",",E2e="%";L2e="WEBVTT",YG=",",I2e="%",Kp=/[:=]/,R2e=/^[\s\t]*(region|vertical|line|position|size|align)[:=]/,M2e="NOTE",P2e="REGION",O2e=/^REGION:?[\s\t]+/,Rv=/[\s\t]+/,_2e="-->",D2e=/[\s\t]*-->[\s\t]+/,N2e=/start|center|end|left|right/,F2e=/start|center|end/,$2e=/line-(?:left|right)|center|auto/,j2e=/^(?:(\d{1,2}):)?(\d{2}):(\d{2})(?:\.(\d{1,3}))?$/,Gp=(t=>(t[t.None=0]="None",t[t.Header=1]="Header",t[t.Cue=2]="Cue",t[t.Region=3]="Region",t[t.Note=4]="Note",t))(Gp||{}),Wp=class{h;e=0;i={};j={};l=[];c=null;d=null;m=[];f;n="";async init(e){this.h=e,e.strict&&(this.e=1),e.errors&&(this.f=(await Promise.resolve().then(()=>(vP(),yP))).ParseErrorBuilder)}parse(e,r){if(e==="")this.c?(this.l.push(this.c),this.h.onCue?.(this.c),this.c=null):this.d?(this.j[this.d.id]=this.d,this.h.onRegion?.(this.d),this.d=null):this.e===1&&(this.k(e,r),this.h.onHeaderMetadata?.(this.i)),this.e=0;else if(this.e)switch(this.e){case 1:this.k(e,r);break;case 2:if(this.c){let n=this.c.text.length>0;!n&&R2e.test(e)?this.o(e.split(Rv),r):this.c.text+=(n?`
`:"")+e}break;case 3:this.p(e.split(Rv),r);break}else if(e.startsWith(M2e))this.e=4;else if(e.startsWith(P2e))this.e=3,this.d=new _v,this.p(e.replace(O2e,"").split(Rv),r);else if(e.includes(_2e)){let n=this.q(e,r);n&&(this.c=new Wo(n[0],n[1],""),this.c.id=this.n,this.o(n[2],r)),this.e=2}else r===1&&this.k(e,r);this.n=e}done(){return{metadata:this.i,cues:this.l,regions:Object.values(this.j),errors:this.m}}k(e,r){if(r>1){if(Kp.test(e)){let[n,i]=e.split(Kp);n&&(this.i[n]=(i||"").replace(Rv,""))}}else e.startsWith(L2e)?this.e=1:this.g(this.f?.r())}q(e,r){let[n,i=""]=e.split(D2e),[s,...a]=i.split(Rv),o=Ko(n),l=Ko(s);if(o!==null&&l!==null&&l>o)return[o,l,a];o===null&&this.g(this.f?.s(n,r)),l===null&&this.g(this.f?.t(s,r)),o!=null&&l!==null&&l>o&&this.g(this.f?.u(o,l,r))}p(e,r){let n;for(let i=0;i<e.length;i++)if(Kp.test(e[i])){n=!1;let[s,a]=e[i].split(Kp);switch(s){case"id":this.d.id=a;break;case"width":let o=Mv(a);o!==null?this.d.width=o:n=!0;break;case"lines":let l=T2e(a);l!==null?this.d.lines=l:n=!0;break;case"regionanchor":let c=KG(a);c!==null?(this.d.regionAnchorX=c[0],this.d.regionAnchorY=c[1]):n=!0;break;case"viewportanchor":let u=KG(a);u!==null?(this.d.viewportAnchorX=u[0],this.d.viewportAnchorY=u[1]):n=!0;break;case"scroll":a==="up"?this.d.scroll="up":n=!0;break;default:this.g(this.f?.v(s,a,r))}n&&this.g(this.f?.w(s,a,r))}}o(e,r){let n;for(let i=0;i<e.length;i++)if(n=!1,Kp.test(e[i])){let[s,a]=e[i].split(Kp);switch(s){case"region":let o=this.j[a];o&&(this.c.region=o);break;case"vertical":a==="lr"||a==="rl"?(this.c.vertical=a,this.c.region=null):n=!0;break;case"line":let[l,c]=a.split(YG);if(l.includes(I2e)){let h=Mv(l);h!==null?(this.c.line=h,this.c.snapToLines=!1):n=!0}else{let h=A2e(l);h!==null?this.c.line=h:n=!0}F2e.test(c)?this.c.lineAlign=c:c&&(n=!0),this.c.line!=="auto"&&(this.c.region=null);break;case"position":let[u,d]=a.split(YG),f=Mv(u);f!==null?this.c.position=f:n=!0,d&&$2e.test(d)?this.c.positionAlign=d:d&&(n=!0);break;case"size":let p=Mv(a);p!==null?(this.c.size=p,p<100&&(this.c.region=null)):n=!0;break;case"align":N2e.test(a)?this.c.align=a:n=!0;break;default:this.g(this.f?.x(s,a,r))}n&&this.g(this.f?.y(s,a,r))}}g(e){if(e){if(this.m.push(e),this.h.strict)throw this.h.cancel(),e;this.h.onError?.(e)}}};q2e=Object.freeze({__proto__:null,VTTBlock:Gp,VTTParser:Wp,default:V2e,parseVTTTimestamp:Ko}),B2e=/[0-9]/,U2e=/[\s\t]+/,eW={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span",timestamp:"span"},z2e={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&nbsp;":"\xA0","&lrm;":"\u200E","&rlm;":"\u200F"},H2e=/&(?:amp|lt|gt|quot|#(0+)?39|nbsp|lrm|rlm);/g,G2e=new Set(["white","lime","cyan","red","yellow","magenta","blue","black"]),W2e=new Set(Object.keys(eW));ac=Symbol(0);nW=["top","left","right","bottom"];Pv=Symbol(0);oAe=["-y","+y","-x","+x"];pk=class{overlay;z;A=0;C="ltr";B=[];D=!1;E;j=new Map;l=new Map;get dir(){return this.C}set dir(e){this.C=e,sc(this.overlay,"dir",e)}get currentTime(){return this.A}set currentTime(e){this.A=e,this.update()}constructor(e,r){this.overlay=e,this.dir=r?.dir??"ltr",e.setAttribute("translate","yes"),e.setAttribute("aria-live","off"),e.setAttribute("aria-atomic","true"),dk(e,"captions"),this.G(),this.E=new ResizeObserver(this.I.bind(this)),this.E.observe(e)}changeTrack({regions:e,cues:r}){this.reset(),this.J(e);for(let n of r)this.l.set(n,null);this.update()}addCue(e){this.l.set(e,null),this.update()}removeCue(e){this.l.delete(e),this.update()}update(e=!1){this.H(e)}reset(){this.l.clear(),this.j.clear(),this.B=[],this.overlay.textContent=""}destroy(){this.reset(),this.E.disconnect()}I(){this.D=!0,this.K()}K=X2e(()=>{this.D=!1,this.G();for(let e of this.j.values())e[ac]=null;for(let e of this.l.values())e&&(e[ac]=null);this.H(!0)},50);G(){this.z=IP(this.overlay),Rn(this.overlay,"overlay-width",this.z.width+"px"),Rn(this.overlay,"overlay-height",this.z.height+"px")}H(e=!1){if(!this.l.size||this.D)return;let r,n=[...this.l.keys()].filter(s=>this.A>=s.startTime&&this.A<=s.endTime).sort((s,a)=>s.startTime!==a.startTime?s.startTime-a.startTime:s.endTime-a.endTime),i=n.map(s=>s.region);for(let s=0;s<this.B.length;s++){if(r=this.B[s],n[s]===r)continue;if(r.region&&!i.includes(r.region)){let o=this.j.get(r.region.id);o&&(o.removeAttribute("data-active"),e=!0)}let a=this.l.get(r);a&&(a.remove(),e=!0)}for(let s=0;s<n.length;s++){r=n[s];let a=this.l.get(r);a||this.l.set(r,a=this.L(r));let o=this.F(r)&&this.j.get(r.region.id);o&&!o.hasAttribute("data-active")&&(requestAnimationFrame(()=>sc(o,"active")),e=!0),a.isConnected||((o||this.overlay).append(a),e=!0)}if(e){let s=[],a=new Set;for(let o=n.length-1;o>=0;o--){if(r=n[o],a.has(r.region||r))continue;let l=this.F(r),c=l?this.j.get(r.region.id):this.l.get(r);l?s.push(lAe(this.z,r.region,c,s)):s.push(tAe(this.z,r,c,s)),a.add(l?r.region:r)}}LP(this.overlay,this.A),this.B=n}J(e){if(e)for(let r of e){let n=this.M(r);this.j.set(r.id,n),this.overlay.append(n)}}M(e){let r=document.createElement("div");return dk(r,"region"),sc(r,"id",e.id),sc(r,"scroll",e.scroll),Rn(r,"region-width",e.width+"%"),Rn(r,"region-anchor-x",e.regionAnchorX),Rn(r,"region-anchor-y",e.regionAnchorY),Rn(r,"region-viewport-anchor-x",e.viewportAnchorX),Rn(r,"region-viewport-anchor-y",e.viewportAnchorY),Rn(r,"region-lines",e.lines),r}L(e){let r=document.createElement("div"),n=sAe(e),i=aAe(e,this.C);if(dk(r,"cue-display"),e.vertical!==""&&sc(r,"vertical"),Rn(r,"cue-text-align",e.align),e.style)for(let a of Object.keys(e.style))r.style.setProperty(a,e.style[a]);if(this.F(e))Rn(r,"cue-offset",`${n-(i==="line-right"?100:i==="center"?50:0)}%`);else if(Rn(r,"cue-writing-mode",e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl"),!e.style?.["--cue-width"]){let a=n;i==="line-left"?a=100-n:i==="center"&&n<=50?a=n*2:i==="center"&&n>50&&(a=(100-n)*2);let o=e.size<a?e.size:a;e.vertical===""?Rn(r,"cue-width",o+"%"):Rn(r,"cue-height",o+"%")}let s=document.createElement("div");return dk(s,"cue"),e.id&&sc(s,"id",e.id),s.innerHTML=mk(e),r.append(s),r}F(e){return e.region&&e.size===100&&e.vertical===""&&e.line==="auto"}}});var Dv={};Rr(Dv,{CaptionsRenderer:()=>pk,ParseError:()=>Jn,ParseErrorCode:()=>bs,TextCue:()=>Ov,VTTCue:()=>Wo,VTTRegion:()=>_v,createVTTCueTemplate:()=>tW,parseByteStream:()=>EP,parseResponse:()=>ZG,parseText:()=>JG,parseTextStream:()=>hk,parseVTTTimestamp:()=>Ko,renderVTTCueString:()=>mk,renderVTTTokensString:()=>gk,tokenizeVTTCue:()=>AP,updateTimedVTTCueNodes:()=>LP});var Nv=tt(()=>{Iv()});var aW={};Rr(aW,{AudioProvider:()=>MP});var hit,MP,oW=tt(()=>{"use client";ua();ws();hit=z(he(),1),MP=class extends Fv{$$PROVIDER_TYPE="AUDIO";get type(){return"audio"}airPlay;constructor(e,r){super(e,r),Dr(()=>{this.airPlay=new $v(this.media,r)},this.scope)}setup(){super.setup(),this.type==="audio"&&this.ctx.notify("provider-setup",this)}get audio(){return this.media}}});var lW={};Rr(lW,{HLSProvider:()=>_P});async function uAe(t,e={}){if(!Mt(t)){if(e.onLoadStart?.(),t.prototype&&t.prototype!==Function)return e.onLoaded?.(t),t;try{let r=(await t())?.default;if(r&&r.isSupported)e.onLoaded?.(r);else throw Error("");return r}catch(r){e.onLoadError?.(r)}}}async function dAe(t,e={}){if(le(t)){e.onLoadStart?.();try{if(await Vv(t),!Nr(window.Hls))throw Error("");let r=window.Hls;return e.onLoaded?.(r),r}catch(r){e.onLoadError?.(r)}}}var vit,cAe,PP,OP,fAe,_P,cW=tt(()=>{"use client";ua();da();ws();vit=z(he(),1),cAe=t=>ic(t),PP=class{#e;#t;#r=null;#n=null;config={};#i=new Set;get instance(){return this.#r}constructor(e,r){this.#e=e,this.#t=r}setup(e){let{streamType:r}=this.#t.$state,n=W(r).includes("live"),i=W(r).includes("ll-");this.#r=new e({lowLatencyMode:i,backBufferLength:i?4:n?8:void 0,renderTextTracksNatively:!1,...this.config});let s=this.#l.bind(this);for(let a of Object.values(e.Events))this.#r.on(a,s);this.#r.on(e.Events.ERROR,this.#m.bind(this));for(let a of this.#i)a(this.#r);this.#t.player.dispatch("hls-instance",{detail:this.#r}),this.#r.attachMedia(this.#e),this.#r.on(e.Events.AUDIO_TRACK_SWITCHED,this.#f.bind(this)),this.#r.on(e.Events.LEVEL_SWITCHED,this.#d.bind(this)),this.#r.on(e.Events.LEVEL_LOADED,this.#g.bind(this)),this.#r.on(e.Events.LEVEL_UPDATED,this.#p.bind(this)),this.#r.on(e.Events.NON_NATIVE_TEXT_TRACKS_FOUND,this.#u.bind(this)),this.#r.on(e.Events.CUES_PARSED,this.#c.bind(this)),this.#t.qualities[Sr.enableAuto]=this.#x.bind(this),Pe(this.#t.qualities,"change",this.#h.bind(this)),Pe(this.#t.audioTracks,"change",this.#w.bind(this)),this.#n=M(this.#a.bind(this))}#s(e,r){return new me(cAe(e),{detail:r})}#a(){if(!this.#t.$state.live())return;let e=new Qa(this.#o.bind(this));return e.start(),e.stop.bind(e)}#o(){this.#t.$state.liveSyncPosition.set(this.#r?.liveSyncPosition??1/0)}#l(e,r){this.#t.player?.dispatch(this.#s(e,r))}#u(e,r){let n=this.#s(e,r),i=-1;for(let s=0;s<r.tracks.length;s++){let a=r.tracks[s],o=a.subtitleTrack??a.closedCaptions,l=new cn({id:`hls-${a.kind}-${s}`,src:o?.url,label:a.label,language:o?.lang,kind:a.kind,default:a.default});l[ve.readyState]=2,l[ve.onModeChange]=()=>{l.mode==="showing"?(this.#r.subtitleTrack=s,i=s):i===s&&(this.#r.subtitleTrack=-1,i=-1)},this.#t.textTracks.add(l,n)}}#c(e,r){let n=this.#r?.subtitleTrack,i=this.#t.textTracks.getById(`hls-${r.type}-${n}`);if(!i)return;let s=this.#s(e,r);for(let a of r.cues)a.positionAlign="auto",i.addCue(a,s)}#f(e,r){let n=this.#t.audioTracks[r.id];if(n){let i=this.#s(e,r);this.#t.audioTracks[pe.select](n,!0,i)}}#d(e,r){let n=this.#t.qualities[r.level];if(n){let i=this.#s(e,r);this.#t.qualities[pe.select](n,!0,i)}}#p(e,r){r.details.totalduration>0&&this.#t.$state.inferredLiveDVRWindow.set(r.details.totalduration)}#g(e,r){if(this.#t.$state.canPlay())return;let{type:n,live:i,totalduration:s,targetduration:a}=r.details,o=this.#s(e,r);this.#t.notify("stream-type-change",i?n==="EVENT"&&Number.isFinite(s)&&a>=10?"live:dvr":"live":"on-demand",o),this.#t.notify("duration-change",s,o);let l=this.#r.media;this.#r.currentLevel===-1&&this.#t.qualities[Sr.setAuto](!0,o);for(let c of this.#r.audioTracks){let u={id:c.id.toString(),label:c.name,language:c.lang||"",kind:"main"};this.#t.audioTracks[pe.add](u,o)}for(let c of this.#r.levels){let u={id:c.id?.toString()??c.height+"p",width:c.width,height:c.height,codec:c.codecSet,bitrate:c.bitrate};this.#t.qualities[pe.add](u,o)}l.dispatchEvent(new me("canplay",{trigger:o}))}#m(e,r){if(r.fatal)switch(r.type){case"mediaError":this.#r?.recoverMediaError();break;default:this.#y(r.error);break}}#y(e){this.#t.notify("error",{message:e.message,code:1,error:e})}#x(){this.#r&&(this.#r.currentLevel=-1)}#h(){let{qualities:e}=this.#t;!this.#r||e.auto||(this.#r[e.switch+"Level"]=e.selectedIndex,Yp&&(this.#e.currentTime=this.#e.currentTime))}#w(){let{audioTracks:e}=this.#t;this.#r&&this.#r.audioTrack!==e.selectedIndex&&(this.#r.audioTrack=e.selectedIndex)}onInstance(e){return this.#i.add(e),()=>this.#i.delete(e)}loadSource(e){le(e.src)&&this.#r?.loadSource(e.src)}destroy(){this.#r?.destroy(),this.#r=null,this.#n?.(),this.#n=null}},OP=class{#e;#t;#r;constructor(e,r,n){this.#e=e,this.#t=r,this.#r=n,this.#n()}async#n(){let e={onLoadStart:this.#i.bind(this),onLoaded:this.#s.bind(this),onLoadError:this.#a.bind(this)},r=await dAe(this.#e,e);if(Mt(r)&&!le(this.#e)&&(r=await uAe(this.#e,e)),!r)return null;if(!r.isSupported()){let n="[vidstack] `hls.js` is not supported in this environment";return this.#t.player.dispatch(new me("hls-unsupported")),this.#t.notify("error",{message:n,code:4}),null}return r}#i(){this.#t.player.dispatch(new me("hls-lib-load-start"))}#s(e){this.#t.player.dispatch(new me("hls-lib-loaded",{detail:e})),this.#r(e)}#a(e){let r=Qp(e);this.#t.player.dispatch(new me("hls-lib-load-error",{detail:r})),this.#t.notify("error",{message:r.message,code:4,error:r})}};fAe="https://cdn.jsdelivr.net",_P=class extends Xp{$$PROVIDER_TYPE="HLS";#e=null;#t=new PP(this.video,this.ctx);get ctor(){return this.#e}get instance(){return this.#t.instance}static supported=jv();get type(){return"hls"}get canLiveSync(){return!0}#r=`${fAe}/npm/hls.js@^1.5.0/dist/hls.min.js`;get config(){return this.#t.config}set config(e){this.#t.config=e}get library(){return this.#r}set library(e){this.#r=e}preconnect(){le(this.#r)&&xs(this.#r)}setup(){super.setup(),new OP(this.#r,this.ctx,e=>{this.#e=e,this.#t.setup(e),this.ctx.notify("provider-setup",this);let r=W(this.ctx.$state.source);r&&this.loadSource(r)})}async loadSource(e,r){if(!le(e.src)){this.removeSource();return}this.media.preload=r||"",this.appendSource(e,"application/x-mpegurl"),this.#t.loadSource(e),this.currentSrc=e}onInstance(e){let r=this.#t.instance;return r&&e(r),this.#t.onInstance(e)}destroy(){this.#t.destroy()}}});var Jp,DP=tt(()=>{"use client";ws();ua();da();Jp=class{#e;src=ce("");referrerPolicy=null;get iframe(){return this.#e}constructor(e){this.#e=e,e.setAttribute("frameBorder","0"),e.setAttribute("aria-hidden","true"),e.setAttribute("allow","autoplay; fullscreen; encrypted-media; picture-in-picture; accelerometer; gyroscope"),this.referrerPolicy!==null&&e.setAttribute("referrerpolicy",this.referrerPolicy)}setup(){Pe(window,"message",this.#r.bind(this)),Pe(this.#e,"load",this.onLoad.bind(this)),M(this.#t.bind(this))}#t(){let e=this.src();if(!e.length){this.#e.setAttribute("src","");return}let r=W(()=>this.buildParams());this.#e.setAttribute("src",uW(e,r))}postMessage(e,r){ne||this.#e.contentWindow?.postMessage(JSON.stringify(e),r??"*")}#r(e){let r=this.getOrigin();if((e.source===null||e.source===this.#e?.contentWindow)&&(!le(r)||r===e.origin)){try{let i=JSON.parse(e.data);i&&this.onMessage(i,e);return}catch{}e.data&&this.onMessage(e.data,e)}}}});var dW={};Rr(dW,{getVimeoVideoInfo:()=>$P,resolveVimeoVideoId:()=>FP});function FP(t){let e=t.match(pAe);return{videoId:e?.[1],hash:e?.[2]}}async function $P(t,e,r){if(NP.has(t))return NP.get(t);if(yk.has(t))return yk.get(t);let n=`https://vimeo.com/api/oembed.json?url=https://player.vimeo.com/video/${t}`;r&&(n=n.concat(`?h=${r}`));let i=window.fetch(n,{mode:"cors",signal:e.signal}).then(s=>s.json()).then(s=>{let a=/vimeocdn.com\/video\/(.*)?_/,o=s?.thumbnail_url?.match(a)?.[1],l=o?`https://i.vimeocdn.com/video/${o}_1920x1080.webp`:"",c={title:s?.title??"",duration:s?.duration??0,poster:l,pro:s.account_type!=="basic"};return NP.set(t,c),c}).finally(()=>yk.delete(t));return yk.set(t,i),i}var pAe,NP,yk,jP=tt(()=>{"use client";pAe=/(?:https:\/\/)?(?:player\.)?vimeo(?:\.com)?\/(?:video\/)?(\d+)(?:(?:\?hash=|\?h=|\/)(.*))?/,NP=new Map,yk=new Map});var fW={};Rr(fW,{VimeoProvider:()=>VP});var Lit,hAe,VP,pW=tt(()=>{"use client";ua();da();ws();DP();jP();Lit=z(he(),1),hAe=["bufferend","bufferstart","durationchange","ended","enterpictureinpicture","error","fullscreenchange","leavepictureinpicture","loaded","playProgress","loadProgress","pause","play","playbackratechange","qualitychange","seeked","seeking","timeupdate","volumechange","waiting"],VP=class extends Jp{$$PROVIDER_TYPE="VIMEO";scope=Ln();fullscreen;#e;#t=ce("");#r=ce(!1);#n=null;#i=null;#s=!1;#a=new It(0,0);#o=new Qa(this.#m.bind(this));#l=null;#u=null;#c=new Map;#f=null;constructor(e,r){super(e),this.#e=r;let n=this;this.fullscreen={get active(){return n.#s},supported:!0,enter:()=>this.#A("requestFullscreen"),exit:()=>this.#A("exitFullscreen")}}cookies=!1;title=!0;byline=!0;portrait=!0;color="00ADEF";get type(){return"vimeo"}get currentSrc(){return this.#i}get videoId(){return this.#t()}get hash(){return this.#n}get isPro(){return this.#r()}preconnect(){xs(this.getOrigin())}setup(){super.setup(),M(this.#d.bind(this)),M(this.#p.bind(this)),M(this.#g.bind(this)),this.#e.notify("provider-setup",this)}destroy(){this.#$(),this.fullscreen=void 0;let e="provider destroyed";for(let r of this.#c.values())for(let{reject:n}of r)n(e);this.#c.clear(),this.#A("destroy")}async play(){return this.#A("play")}async pause(){return this.#A("pause")}setMuted(e){this.#A("setMuted",e)}setCurrentTime(e){this.#A("seekTo",e),this.#e.notify("seeking",e)}setVolume(e){this.#A("setVolume",e),this.#A("setMuted",W(this.#e.$state.muted))}setPlaybackRate(e){this.#A("setPlaybackRate",e)}async loadSource(e){if(!le(e.src)){this.#i=null,this.#n=null,this.#t.set("");return}let{videoId:r,hash:n}=FP(e.src);this.#t.set(r??""),this.#n=n??null,this.#i=e}#d(){this.#$();let e=this.#t();if(!e){this.src.set("");return}this.src.set(`${this.getOrigin()}/video/${e}`),this.#e.notify("load-start")}#p(){let e=this.#t();if(!e)return;let r=Bo(),n=new AbortController;return this.#f=r,$P(e,n,this.#n).then(i=>{r.resolve(i)}).catch(i=>{r.reject()}),()=>{r.reject(),n.abort()}}#g(){let e=this.#r(),{$state:r,qualities:n}=this.#e;if(r.canSetPlaybackRate.set(e),n[pe.setReadonly](!e),e)return Pe(n,"change",()=>{if(n.auto)return;let i=n.selected?.id;i&&this.#A("setQuality",i)})}getOrigin(){return"https://player.vimeo.com"}buildParams(){let{keyDisabled:e}=this.#e.$props,{playsInline:r,nativeControls:n}=this.#e.$state,i=n();return{title:this.title,byline:this.byline,color:this.color,portrait:this.portrait,controls:i,h:this.hash,keyboard:i&&!e(),transparent:!0,playsinline:r(),dnt:!this.cookies}}#m(){this.#A("getCurrentTime")}#y=!1;#x(e,r){if(this.#y&&e===0)return;let{realCurrentTime:n,paused:i,bufferedEnd:s,seekableEnd:a,live:o}=this.#e.$state;if(n()===e)return;let l=n();this.#e.notify("time-change",e,r),Math.abs(l-e)>1.5&&(this.#e.notify("seeking",e,r),!i()&&s()<e&&this.#e.notify("waiting",void 0,r)),!o()&&a()-e<.01&&(this.#e.notify("end",void 0,r),this.#y=!0,setTimeout(()=>{this.#y=!1},500))}#h(e,r){this.#e.notify("seeked",e,r)}#w(e){let r=this.#t();this.#f?.promise.then(n=>{if(!n)return;let{title:i,poster:s,duration:a,pro:o}=n;this.#r.set(o),this.#e.notify("title-change",i,e),this.#e.notify("poster-change",s,e),this.#e.notify("duration-change",a,e),this.#b(a,e)}).catch(()=>{r===this.#t()&&(this.#A("getVideoTitle"),this.#A("getDuration"))})}#b(e,r){let{nativeControls:n}=this.#e.$state,i=n();this.#a=new It(0,e);let s={buffered:new It(0,0),seekable:this.#a,duration:e};this.#e.delegate.ready(s,r),i||this.#A("_hideOverlay"),this.#A("getQualities"),this.#A("getChapters")}#k(e,r,n){switch(e){case"getVideoTitle":let i=r;this.#e.notify("title-change",i,n);break;case"getDuration":let s=r;this.#e.$state.canPlay()?this.#e.notify("duration-change",s,n):this.#b(s,n);break;case"getCurrentTime":this.#x(r,n);break;case"getBuffered":ar(r)&&r.length&&this.#T(r[r.length-1][1],n);break;case"setMuted":this.#P(W(this.#e.$state.volume),r,n);break;case"getChapters":this.#_(r);break;case"getQualities":this.#D(r,n);break}this.#j(e)?.resolve()}#v(){for(let e of hAe)this.#A("addEventListener",e)}#S(e){this.#o.stop(),this.#e.notify("pause",void 0,e)}#C(e){this.#o.start(),this.#e.notify("play",void 0,e)}#E(e){let{paused:r}=this.#e.$state;!r()&&!this.#y&&this.#e.notify("playing",void 0,e)}#T(e,r){let n={buffered:new It(0,e),seekable:this.#a};this.#e.notify("progress",n,r)}#I(e){this.#e.notify("waiting",void 0,e)}#L(e){let{paused:r}=this.#e.$state;r()||this.#e.notify("playing",void 0,e)}#M(e){let{paused:r}=this.#e.$state;r()&&this.#e.notify("play",void 0,e),this.#e.notify("waiting",void 0,e)}#P(e,r,n){let i={volume:e,muted:r};this.#e.notify("volume-change",i,n)}#_(e){if(this.#R(),!e.length)return;let r=new cn({kind:"chapters",default:!0}),{seekableEnd:n}=this.#e.$state;for(let i=0;i<e.length;i++){let s=e[i],a=e[i+1];r.addCue(new window.VTTCue(s.startTime,a?.startTime??n(),s.title))}this.#u=r,this.#e.textTracks.add(r)}#R(){this.#u&&(this.#e.textTracks.remove(this.#u),this.#u=null)}#D(e,r){this.#e.qualities[Sr.enableAuto]=e.some(n=>n.id==="auto")?()=>this.#A("setQuality","auto"):void 0;for(let n of e){if(n.id==="auto")continue;let i=+n.id.slice(0,-1);isNaN(i)||this.#e.qualities[pe.add]({id:n.id,width:i*(16/9),height:i,codec:"avc1,h.264",bitrate:-1},r)}this.#N(e.find(n=>n.active),r)}#N({id:e}={},r){if(!e)return;let n=e==="auto",i=this.#e.qualities.getById(e);n?(this.#e.qualities[Sr.setAuto](n,r),this.#e.qualities[pe.select](void 0,!0,r)):this.#e.qualities[pe.select](i??void 0,!0,r)}#O(e,r,n){switch(e){case"ready":this.#v();break;case"loaded":this.#w(n);break;case"play":this.#C(n);break;case"playProgress":this.#E(n);break;case"pause":this.#S(n);break;case"loadProgress":this.#T(r.seconds,n);break;case"waiting":this.#M(n);break;case"bufferstart":this.#I(n);break;case"bufferend":this.#L(n);break;case"volumechange":this.#P(r.volume,W(this.#e.$state.muted),n);break;case"durationchange":this.#a=new It(0,r.duration),this.#e.notify("duration-change",r.duration,n);break;case"playbackratechange":this.#e.notify("rate-change",r.playbackRate,n);break;case"qualitychange":this.#N(r,n);break;case"fullscreenchange":this.#s=r.fullscreen,this.#e.notify("fullscreen-change",r.fullscreen,n);break;case"enterpictureinpicture":this.#e.notify("picture-in-picture-change",!0,n);break;case"leavepictureinpicture":this.#e.notify("picture-in-picture-change",!1,n);break;case"ended":this.#e.notify("end",void 0,n);break;case"error":this.#F(r,n);break;case"seek":case"seeked":this.#h(r.seconds,n);break}}#F(e,r){let{message:n,method:i}=e;i==="setPlaybackRate"&&this.#r.set(!1),i&&this.#j(i)?.reject(n)}onMessage(e,r){e.event?this.#O(e.event,e.data,r):e.method&&this.#k(e.method,e.value,r)}onLoad(){}async#A(e,r){let n=Bo(),i=this.#c.get(e);return i||this.#c.set(e,i=[]),i.push(n),this.postMessage({method:e,value:r}),n.promise}#$(){this.#o.stop(),this.#a=new It(0,0),this.#f=null,this.#l=null,this.#r.set(!1),this.#R()}#j(e){return this.#c.get(e)?.shift()}}});var hW={};Rr(hW,{findYouTubePoster:()=>gAe,resolveYouTubeVideoId:()=>BP});function BP(t){return t.match(mAe)?.[1]}async function gAe(t,e){if(qP.has(t))return qP.get(t);if(vk.has(t))return vk.get(t);let r=new Promise(async n=>{let i=["maxresdefault","sddefault","hqdefault"];for(let s of i)for(let a of[!0,!1]){let o=yAe(t,s,a);if((await fetch(o,{mode:"no-cors",signal:e.signal})).status<400){qP.set(t,o),n(o);return}}}).catch(()=>"").finally(()=>vk.delete(t));return vk.set(t,r),r}function yAe(t,e,r){return`https://i.ytimg.com/${r?"vi_webp":"vi"}/${t}/${e}.${r?"webp":"jpg"}`}var mAe,qP,vk,UP=tt(()=>{"use client";mAe=/(?:youtu\.be|youtube|youtube\.com|youtube-nocookie\.com)(?:\/shorts)?\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=|)((?:\w|-){11})/,qP=new Map,vk=new Map});var mW={};Rr(mW,{YouTubeProvider:()=>zP});var _it,xd,zP,gW=tt(()=>{"use client";ua();da();ws();DP();UP();_it=z(he(),1),xd={Ended:0,Playing:1,Paused:2,Buffering:3,Cued:5},zP=class extends Jp{$$PROVIDER_TYPE="YOUTUBE";scope=Ln();#e;#t=ce("");#r=-1;#n=null;#i=-1;#s=!1;#a=new Map;constructor(e,r){super(e),this.#e=r}language="en";color="red";cookies=!1;get currentSrc(){return this.#n}get type(){return"youtube"}get videoId(){return this.#t()}preconnect(){xs(this.getOrigin())}setup(){super.setup(),M(this.#u.bind(this)),this.#e.notify("provider-setup",this)}destroy(){this.#h();let e="provider destroyed";for(let r of this.#a.values())for(let{reject:n}of r)n(e);this.#a.clear()}async play(){return this.#c("playVideo")}#o(e){this.#w("playVideo")?.reject(e)}async pause(){return this.#c("pauseVideo")}#l(e){this.#w("pauseVideo")?.reject(e)}setMuted(e){e?this.#c("mute"):this.#c("unMute")}setCurrentTime(e){this.#c("seekTo",e),this.#e.notify("seeking",e)}setVolume(e){this.#c("setVolume",e*100)}setPlaybackRate(e){this.#c("setPlaybackRate",e)}async loadSource(e){if(!le(e.src)){this.#n=null,this.#t.set("");return}let r=BP(e.src);this.#t.set(r??""),this.#n=e}getOrigin(){return this.cookies?"https://www.youtube.com":"https://www.youtube-nocookie.com"}#u(){this.#h();let e=this.#t();if(!e){this.src.set("");return}this.src.set(`${this.getOrigin()}/embed/${e}`),this.#e.notify("load-start")}buildParams(){let{keyDisabled:e}=this.#e.$props,{muted:r,playsInline:n,nativeControls:i}=this.#e.$state,s=i();return{rel:0,autoplay:0,cc_lang_pref:this.language,cc_load_policy:s?1:void 0,color:this.color,controls:s?1:0,disablekb:!s||e()?1:0,enablejsapi:1,fs:1,hl:this.language,iv_load_policy:s?1:3,mute:r()?1:0,playsinline:n()?1:0}}#c(e,r){let n=Bo(),i=this.#a.get(e);return i||this.#a.set(e,i=[]),i.push(n),this.postMessage({event:"command",func:e,args:r?[r]:void 0}),n.promise}onLoad(){window.setTimeout(()=>this.postMessage({event:"listening"}),100)}#f(e){this.#e.notify("loaded-metadata"),this.#e.notify("loaded-data"),this.#e.delegate.ready(void 0,e)}#d(e){this.#w("pauseVideo")?.resolve(),this.#e.notify("pause",void 0,e)}#p(e,r){let{duration:n,realCurrentTime:i}=this.#e.$state,s=this.#r===xd.Ended,a=s?n():e;this.#e.notify("time-change",a,r),!s&&Math.abs(a-i())>1&&this.#e.notify("seeking",a,r)}#g(e,r,n){let i={buffered:new It(0,e),seekable:r};this.#e.notify("progress",i,n);let{seeking:s,realCurrentTime:a}=this.#e.$state;s()&&e>a()&&this.#m(n)}#m(e){let{paused:r,realCurrentTime:n}=this.#e.$state;window.clearTimeout(this.#i),this.#i=window.setTimeout(()=>{this.#e.notify("seeked",n(),e),this.#i=-1},r()?100:0)}#y(e){let{seeking:r}=this.#e.$state;r()&&this.#m(e),this.#e.notify("pause",void 0,e),this.#e.notify("end",void 0,e)}#x(e,r){let{paused:n,seeking:i}=this.#e.$state,s=e===xd.Playing,a=e===xd.Buffering,o=this.#b("playVideo"),l=n()&&(a||s);if(a&&this.#e.notify("waiting",void 0,r),i()&&s&&this.#m(r),this.#s&&s){this.pause(),this.#s=!1,this.setMuted(this.#e.$state.muted());return}if(!o&&l){this.#s=!0,this.setMuted(!0);return}switch(l&&(this.#w("playVideo")?.resolve(),this.#e.notify("play",void 0,r)),e){case xd.Cued:this.#f(r);break;case xd.Playing:this.#e.notify("playing",void 0,r);break;case xd.Paused:this.#d(r);break;case xd.Ended:this.#y(r);break}this.#r=e}onMessage({info:e},r){if(!e)return;let{title:n,intrinsicDuration:i,playbackRate:s}=this.#e.$state;if(vv(e.videoData)&&e.videoData.title!==n()&&this.#e.notify("title-change",e.videoData.title,r),sr(e.duration)&&e.duration!==i()){if(sr(e.videoLoadedFraction)){let a=e.progressState?.loaded??e.videoLoadedFraction*e.duration,o=new It(0,e.duration);this.#g(a,o,r)}this.#e.notify("duration-change",e.duration,r)}if(sr(e.playbackRate)&&e.playbackRate!==s()&&this.#e.notify("rate-change",e.playbackRate,r),e.progressState){let{current:a,seekableStart:o,seekableEnd:l,loaded:c,duration:u}=e.progressState;this.#p(a,r),this.#g(c,new It(o,l),r),u!==i()&&this.#e.notify("duration-change",u,r)}if(sr(e.volume)&&qS(e.muted)&&!this.#s){let a={muted:e.muted,volume:e.volume/100};this.#e.notify("volume-change",a,r)}sr(e.playerState)&&e.playerState!==this.#r&&this.#x(e.playerState,r)}#h(){this.#r=-1,this.#i=-1,this.#s=!1}#w(e){return this.#a.get(e)?.shift()}#b(e){return!!this.#a.get(e)?.length}}});var yW={};Rr(yW,{GoogleCastProvider:()=>WP});var jit,HP,GP,WP,vW=tt(()=>{"use client";ua();da();ws();YP();jit=z(he(),1),HP=class{#e;constructor(e){this.#e=new chrome.cast.media.MediaInfo(e.src,e.type)}build(){return this.#e}setStreamType(e){return e.includes("live")?this.#e.streamType=chrome.cast.media.StreamType.LIVE:this.#e.streamType=chrome.cast.media.StreamType.BUFFERED,this}setTracks(e){return this.#e.tracks=e.map(this.#t),this}setMetadata(e,r){return this.#e.metadata=new chrome.cast.media.GenericMediaMetadata,this.#e.metadata.title=e,this.#e.metadata.images=[{url:r}],this}#t(e,r){let n=new chrome.cast.media.Track(r,chrome.cast.media.TrackType.TEXT);return n.name=e.label,n.trackContentId=e.src,n.trackContentType="text/vtt",n.language=e.language,n.subtype=e.kind.toUpperCase(),n}},GP=class{#e;#t;#r;constructor(e,r,n){this.#e=e,this.#t=r,this.#r=n}setup(){let e=this.syncRemoteActiveIds.bind(this);Pe(this.#t.audioTracks,"change",e),Pe(this.#t.textTracks,"mode-change",e),M(this.#a.bind(this))}getLocalTextTracks(){return this.#t.$state.textTracks().filter(e=>e.src&&e.type==="vtt")}#n(){return this.#t.$state.audioTracks()}#i(e){let r=this.#e.mediaInfo?.tracks??[];return e?r.filter(n=>n.type===e):r}#s(){let e=[],r=this.#n().find(i=>i.selected),n=this.getLocalTextTracks().filter(i=>i.mode==="showing");if(r){let i=this.#i(chrome.cast.media.TrackType.AUDIO),s=this.#u(i,r);s&&e.push(s.trackId)}if(n?.length){let i=this.#i(chrome.cast.media.TrackType.TEXT);if(i.length)for(let s of n){let a=this.#u(i,s);a&&e.push(a.trackId)}}return e}#a(){let e=this.getLocalTextTracks();if(!this.#e.isMediaLoaded)return;let r=this.#i(chrome.cast.media.TrackType.TEXT);for(let n of e)if(!this.#u(r,n)){Ya(()=>this.#r?.());break}}syncRemoteTracks(e){if(!this.#e.isMediaLoaded)return;let r=this.#n(),n=this.getLocalTextTracks(),i=this.#i(chrome.cast.media.TrackType.AUDIO),s=this.#i(chrome.cast.media.TrackType.TEXT);for(let a of i){if(this.#l(r,a))continue;let l={id:a.trackId.toString(),label:a.name,language:a.language,kind:a.subtype??"main",selected:!1};this.#t.audioTracks[pe.add](l,e)}for(let a of s){if(this.#l(n,a))continue;let l={id:a.trackId.toString(),src:a.trackContentId,label:a.name,language:a.language,kind:a.subtype.toLowerCase()};this.#t.textTracks.add(l,e)}}syncRemoteActiveIds(e){if(!this.#e.isMediaLoaded)return;let r=this.#s(),n=new chrome.cast.media.EditTracksInfoRequest(r);this.#o(n).catch(i=>{})}#o(e){let r=Bv();return new Promise((n,i)=>r?.editTracksInfo(e,n,i))}#l(e,r){return e.find(n=>this.#c(n,r))}#u(e,r){return e.find(n=>this.#c(r,n))}#c(e,r){return r.name===e.label&&r.language===e.language&&r.subtype.toLowerCase()===e.kind.toLowerCase()}},WP=class{$$PROVIDER_TYPE="GOOGLE_CAST";scope=Ln();#e;#t;#r;#n=null;#i="disconnected";#s=0;#a=0;#o=new It(0,0);#l=new Qa(this.#h.bind(this));#u;#c=null;#f=!1;constructor(e,r){this.#e=e,this.#t=r,this.#r=new GP(e,r,this.#F.bind(this))}get type(){return"google-cast"}get currentSrc(){return this.#n}get player(){return this.#e}get cast(){return Sd()}get session(){return qv()}get media(){return Bv()}get hasActiveSession(){return bk(this.#n)}setup(){this.#d(),this.#p(),this.#r.setup(),this.#t.notify("provider-setup",this)}#d(){KP(cast.framework.CastContextEventType.CAST_STATE_CHANGED,this.#b.bind(this))}#p(){let e=cast.framework.RemotePlayerEventType,r={[e.IS_CONNECTED_CHANGED]:this.#b,[e.IS_MEDIA_LOADED_CHANGED]:this.#k,[e.CAN_CONTROL_VOLUME_CHANGED]:this.#v,[e.CAN_SEEK_CHANGED]:this.#S,[e.DURATION_CHANGED]:this.#T,[e.IS_MUTED_CHANGED]:this.#I,[e.VOLUME_LEVEL_CHANGED]:this.#I,[e.IS_PAUSED_CHANGED]:this.#L,[e.LIVE_SEEKABLE_RANGE_CHANGED]:this.#M,[e.PLAYER_STATE_CHANGED]:this.#P};this.#u=r;let n=this.#w.bind(this);for(let i of aP(r))this.#e.controller.addEventListener(i,n);ke(()=>{for(let i of aP(r))this.#e.controller.removeEventListener(i,n)})}async play(){if(!(!this.#e.isPaused&&!this.#f)){if(this.#f){await this.#O(!1,0);return}this.#e.controller?.playOrPause()}}async pause(){this.#e.isPaused||this.#e.controller?.playOrPause()}getMediaStatus(e){return new Promise((r,n)=>{this.media?.getStatus(e,r,n)})}setMuted(e){(e&&!this.#e.isMuted||!e&&this.#e.isMuted)&&this.#e.controller?.muteOrUnmute()}setCurrentTime(e){this.#e.currentTime=e,this.#t.notify("seeking",e),this.#e.controller?.seek()}setVolume(e){this.#e.volumeLevel=e,this.#e.controller?.setVolumeLevel()}async loadSource(e){if(this.#c?.src!==e&&(this.#c=null),bk(e)){this.#m(),this.#n=e;return}this.#t.notify("load-start");let r=this.#N(e),n=await this.session.loadMedia(r);if(n){this.#n=null,this.#t.notify("error",Error(wk(n)));return}this.#n=e}destroy(){this.#g(),this.#y()}#g(){this.#c||(this.#a=0,this.#o=new It(0,0)),this.#l.stop(),this.#s=0,this.#c=null}#m(){let e=new me("resume-session",{detail:this.session});this.#k(e);let{muted:r,volume:n,savedState:i}=this.#t.$state,s=i();this.setCurrentTime(Math.max(this.#e.currentTime,s?.currentTime??0)),this.setMuted(r()),this.setVolume(n()),s?.paused===!1&&this.play()}#y(){this.cast.endCurrentSession(!0);let{remotePlaybackLoader:e}=this.#t.$state;e.set(null)}#x(){let{savedState:e}=this.#t.$state;e.set({paused:this.#e.isPaused,currentTime:this.#e.currentTime}),this.#y()}#h(){this.#E()}#w(e){this.#u[e.type].call(this,e)}#b(e){let r=this.cast.getCastState(),n=r===cast.framework.CastState.CONNECTED?"connected":r===cast.framework.CastState.CONNECTING?"connecting":"disconnected";if(this.#i===n)return;let i={type:"google-cast",state:n},s=this.#R(e);this.#i=n,this.#t.notify("remote-playback-change",i,s),n==="disconnected"&&this.#x()}#k(e){if(!!!this.#e.isMediaLoaded)return;let n=W(this.#t.$state.source);Promise.resolve().then(()=>{if(n!==W(this.#t.$state.source)||!this.#e.isMediaLoaded)return;this.#g();let i=this.#e.duration;this.#o=new It(0,i);let s={provider:this,duration:i,buffered:new It(0,0),seekable:this.#_()},a=this.#R(e);this.#t.notify("loaded-metadata",void 0,a),this.#t.notify("loaded-data",void 0,a),this.#t.notify("can-play",s,a),this.#v(),this.#S(e);let{volume:o,muted:l}=this.#t.$state;this.setVolume(o()),this.setMuted(l()),this.#l.start(),this.#r.syncRemoteTracks(a),this.#r.syncRemoteActiveIds(a)})}#v(){this.#t.$state.canSetVolume.set(this.#e.canControlVolume)}#S(e){let r=this.#R(e);this.#t.notify("stream-type-change",this.#C(),r)}#C(){return this.#e.mediaInfo?.streamType===chrome.cast.media.StreamType.LIVE?this.#e.canSeek?"live:dvr":"live":"on-demand"}#E(){if(this.#c)return;let e=this.#e.currentTime;e!==this.#s&&(this.#t.notify("time-change",e),e>this.#a&&(this.#a=e,this.#M()),this.#t.$state.seeking()&&this.#t.notify("seeked",e),this.#s=e)}#T(e){if(!this.#e.isMediaLoaded||this.#c)return;let r=this.#e.duration,n=this.#R(e);this.#o=new It(0,r),this.#t.notify("duration-change",r,n)}#I(e){if(!this.#e.isMediaLoaded)return;let r={muted:this.#e.isMuted,volume:this.#e.volumeLevel},n=this.#R(e);this.#t.notify("volume-change",r,n)}#L(e){let r=this.#R(e);this.#e.isPaused?this.#t.notify("pause",void 0,r):this.#t.notify("play",void 0,r)}#M(e){let r={seekable:this.#_(),buffered:new It(0,this.#a)},n=e?this.#R(e):void 0;this.#t.notify("progress",r,n)}#P(e){let r=this.#e.playerState,n=chrome.cast.media.PlayerState;if(this.#f=r===n.IDLE,r===n.PAUSED)return;let i=this.#R(e);switch(r){case n.PLAYING:this.#t.notify("playing",void 0,i);break;case n.BUFFERING:this.#t.notify("waiting",void 0,i);break;case n.IDLE:this.#l.stop(),this.#t.notify("pause"),this.#t.notify("end");break}}#_(){return this.#e.liveSeekableRange?new It(this.#e.liveSeekableRange.start,this.#e.liveSeekableRange.end):this.#o}#R(e){return e instanceof Event?e:new me(e.type,{detail:e})}#D(e){let{streamType:r,title:n,poster:i}=this.#t.$state;return new HP(e).setMetadata(n(),i()).setStreamType(r()).setTracks(this.#r.getLocalTextTracks()).build()}#N(e){let r=this.#D(e),n=new chrome.cast.media.LoadRequest(r),i=this.#t.$state.savedState();return n.autoplay=(this.#c?.paused??i?.paused)===!1,n.currentTime=this.#c?.time??i?.currentTime??0,n}async#O(e,r){let n=W(this.#t.$state.source);this.#c={src:n,paused:e,time:r},await this.loadSource(n)}#F(){this.#O(this.#e.isPaused,this.#e.currentTime).catch(e=>{})}}});var wW={};Rr(wW,{getCastContext:()=>Sd,getCastErrorMessage:()=>wk,getCastSession:()=>qv,getCastSessionMedia:()=>Bv,hasActiveCastSession:()=>bk,listenCastContextEvent:()=>KP,loader:()=>SAe});function vAe(){return"https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"}function bAe(){return!!window.cast?.framework}function wAe(){return!!window.chrome?.cast?.isAvailable}function bW(){return Sd().getCastState()===cast.framework.CastState.CONNECTED}function Sd(){return window.cast.framework.CastContext.getInstance()}function qv(){return Sd().getCurrentSession()}function Bv(){return qv()?.getSessionObj().media[0]}function bk(t){return Bv()?.media.contentId===t?.src}function xAe(){return{language:"en-US",autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED,receiverApplicationId:chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,resumeSavedSession:!0,androidReceiverCompatible:!0}}function wk(t){return`Google Cast Error Code: ${t}`}function KP(t,e){return Pe(Sd(),t,e)}var XP,SAe,YP=tt(()=>{"use client";ws();ua();da();XP=class{name="google-cast";target;#e;get cast(){return Sd()}mediaType(){return"video"}canPlay(e){return Yp&&!Uv&&xk(e)}async prompt(e){let r,n,i;try{r=await this.#t(e),this.#e||(this.#e=new cast.framework.RemotePlayer,new cast.framework.RemotePlayerController(this.#e)),n=e.player.createEvent("google-cast-prompt-open",{trigger:r}),e.player.dispatchEvent(n),this.#i(e,"connecting",n),await this.#r(W(e.$props.googleCast)),e.$state.remotePlaybackInfo.set({deviceName:qv()?.getCastDevice().friendlyName}),bW()&&this.#i(e,"connected",n)}catch(s){let a=s instanceof Error?s:this.#s((s+"").toUpperCase(),"Prompt failed.");throw i=e.player.createEvent("google-cast-prompt-error",{detail:a,trigger:n??r,cancelable:!0}),e.player.dispatch(i),this.#i(e,bW()?"connected":"disconnected",i),a}finally{e.player.dispatch("google-cast-prompt-close",{trigger:i??n??r})}}async load(e){if(ne)throw Error("[vidstack] can not load google cast provider server-side");if(!this.#e)throw Error("[vidstack] google cast player was not initialized");return new(await Promise.resolve().then(()=>(vW(),yW))).GoogleCastProvider(this.#e,e)}async#t(e){if(bAe())return;let r=e.player.createEvent("google-cast-load-start");e.player.dispatch(r),await Vv(vAe()),await customElements.whenDefined("google-cast-launcher");let n=e.player.createEvent("google-cast-loaded",{trigger:r});if(e.player.dispatch(n),!wAe())throw this.#s("CAST_NOT_AVAILABLE","Google Cast not available on this platform.");return n}async#r(e){this.#n(e);let r=await this.cast.requestSession();if(r)throw this.#s(r.toUpperCase(),wk(r))}#n(e){this.cast?.setOptions({...xAe(),...e})}#i(e,r,n){let i={type:"google-cast",state:r};e.notify("remote-playback-change",i,n)}#s(e,r){let n=Error(r);return n.code=e,n}},SAe=Object.freeze({__proto__:null,GoogleCastLoader:XP})});function Ek(t){return!le(t)&&"width"in t&&"height"in t&&sr(t.width)&&sr(t.height)}function f_(){return FW()&&Nr(screen.orientation.unlock)}function FW(){return!ne&&!Mt(window.screen.orientation)&&!Mt(window.screen.orientation.lock)}function $W(t,e){return ne?!1:(t||(t=document.createElement("audio")),t.canPlayType(e).length>0)}function jW(t,e){return ne?!1:(t||(t=document.createElement("video")),t.canPlayType(e).length>0)}function p_(t){return ne?!1:(t||(t=document.createElement("video")),t.canPlayType("application/vnd.apple.mpegurl").length>0)}function h_(t){return ne?!1:!!document.pictureInPictureEnabled&&!t?.disablePictureInPicture}function m_(t){return ne?!1:Nr(t?.webkitSupportsPresentationMode)&&Nr(t?.webkitSetPresentationMode)}async function VW(){let t=document.createElement("video");return t.volume=.5,await tG(0),t.volume===.5}function CAe(){return ne?void 0:window?.ManagedMediaSource??window?.MediaSource??window?.WebKitMediaSource}function EAe(){return ne?void 0:window?.SourceBuffer??window?.WebKitSourceBuffer}function jv(){if(ne)return!1;let t=CAe();if(Mt(t))return!1;let e=t&&Nr(t.isTypeSupported)&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=EAe(),n=Mt(r)||!Mt(r.prototype)&&Nr(r.prototype.appendBuffer)&&Nr(r.prototype.remove);return!!e&&!!n}function qW(){return jv()}function nO(t){if(!t.length)return null;let e=t.start(0);for(let r=1;r<t.length;r++){let n=t.start(r);n<e&&(e=n)}return e}function oc(t){if(!t.length)return null;let e=t.end(0);for(let r=1;r<t.length;r++){let n=t.end(r);n>e&&(e=n)}return e}function BW(t){if(t.length<=1)return t;t.sort((n,i)=>n[0]-i[0]);let e=[],r=t[0];for(let n=1;n<t.length;n++){let i=t[n];r[1]>=i[0]-1?r=[r[0],Math.max(r[1],i[1])]:(e.push(r),r=i)}return e.push(r),e}function UW(t,e,r){let n=e[0],i=e[1];return r<n?[r,-1]:r===n?e:n===-1?(e[0]=r,e):(r>n&&(e[1]=r,i===-1&&t.push(e)),BW(t),e)}function g_({src:t,type:e}){return le(t)?zW.test(t)||HW.has(e)||t.startsWith("blob:")&&e==="audio/object":e==="audio/object"}function y_(t){return le(t.src)?GW.test(t.src)||WW.has(t.type)||t.src.startsWith("blob:")&&t.type==="video/object"||Ad(t)&&(ne||p_()):t.type==="video/object"}function Ad({src:t,type:e}){return le(t)&&KW.test(t)||XW.has(e)}function cC({src:t,type:e}){return le(t)&&YW.test(t)||QW.has(e)}function xk(t){return le(t.src)&&(g_(t)||y_(t)||Ad(t))}function JW(t){return!ne&&typeof window.MediaStream<"u"&&t instanceof window.MediaStream}function uW(t,e){let r=new URL(t);for(let n of Object.keys(e))r.searchParams.set(n,e[n]+"");return r.toString()}function xs(t,e="preconnect"){if(ne)return!1;let r=document.querySelector(`link[href="${t}"]`);if(!ms(r))return!0;let n=document.createElement("link");return n.rel=e,n.href=t,n.crossOrigin="true",document.head.append(n),!0}function Vv(t){if(zv[t])return zv[t].promise;let e=Bo(),r=document.querySelector(`script[src="${t}"]`);if(!ms(r))return e.resolve(),e.promise;zv[t]=e;let n=document.createElement("script");return n.src=t,n.onload=()=>{e.resolve(),delete zv[t]},n.onerror=()=>{e.reject(),delete zv[t]},setTimeout(()=>document.head.append(n),0),e.promise}function Wv(t){return t==="use-credentials"?"include":le(t)?"same-origin":void 0}function iO(t,e){return e>=t.startTime&&e<t.endTime}function _b(t,e,r){let n=null,i=fd();function s(){let a=le(e)?[e]:e,o=t.toArray().find(l=>a.includes(l.kind)&&l.mode==="showing");if(o!==n){if(!o){r(null),n=null;return}o.readyState==2?r(o):(r(null),Dr(()=>{let l=Pe(o,"load",()=>{r(o),l()},{once:!0})},i)),n=o}}return s(),Pe(t,"mode-change",s)}function Mn(t){return OAe.test(t.kind)}function ZW(t,e,r){let n=le(t)?JSON.parse(t):t,i=[],s=[];return n.regions&&r&&(i=n.regions.map(a=>Object.assign(new r,a))),(n.cues||ar(n))&&(s=(ar(n)?n:n.cues).filter(a=>sr(a.startTime)&&sr(a.endTime)).map(a=>Object.assign(new e(0,0,""),a))),{regions:i,cues:s}}function sO(t,e=!1){let r=e?eK:_Ae;uc.reset(t,n=>r.has(n)),Ti()}function v_(t,e){let r=t+e.clipStartTime(),n=Math.floor(t)===Math.floor(e.seekableStart()),i=Math.floor(r)===Math.floor(e.seekableEnd());return n?e.seekableStart():i?e.seekableEnd():e.isLiveDVR()&&e.liveDVRWindow()>0&&r<e.seekableEnd()-e.liveDVRWindow()?e.bufferedStart():Math.min(Math.max(e.seekableStart()+.1,r),e.seekableEnd()-.1)}function ot(){return Ht(Db)}function Kr(t,e=2){return Number(t.toFixed(e))}function aO(t){return String(t).split(".")[1]?.length??0}function b_(t,e,r){return Math.max(t,Math.min(r,e))}function xW(t,e){let r=e.composedPath()[0];return YM(r)&&t.contains(r)}function zAe(t){return oO.add(t),()=>oO.delete(t)}function rt(t,e,r){t.hasAttribute(e)||t.setAttribute(e,r)}function dc(t,e){if(t.hasAttribute("aria-label")||t.hasAttribute("data-no-label"))return;if(!Nr(e)){ge(t,"aria-label",e);return}function r(){ge(t,"aria-label",e())}ne?r():M(r)}function tK(t){let e=getComputedStyle(t);return e.display!=="none"&&parseInt(e.opacity)>0}function HAe(t){return!!t&&("checkVisibility"in t?t.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0}):tK(t))}function rK(t,e){return zAe(()=>e(HAe(t)))}function nK(t,e,r){for(;e;){if(e===t)return!0;if(r?.(e))break;e=e.parentElement}return!1}function lc(t,e){return new Ge(t).add("pointerup",r=>{r.button===0&&!r.defaultPrevented&&e(r)}).add("keydown",r=>{US(r)&&e(r)})}function w_(t){return $p(t)&&(t.touches.length>1||t.changedTouches.length>1)}function iK(t){if(ne)return t();let e=fd(),r=window.requestAnimationFrame(()=>{Dr(t,e),r=-1});return()=>void window.cancelAnimationFrame(r)}function sK(t,e,r,{offsetVarName:n,xOffset:i,yOffset:s,...a}){if(!t)return;let o=r.replace(" ","-").replace("-center","");if(on(t,"visibility",e?null:"hidden"),!e)return;let l=r.includes("top"),c=d=>r.includes("left")?`calc(-1 * ${d})`:d,u=d=>l?`calc(-1 * ${d})`:d;return OG(e,t,()=>{NG(e,t,{placement:o,middleware:[...a.middleware??[],DG({fallbackAxisSideDirection:"start",crossAxis:!1}),_G()],...a}).then(({x:d,y:f,middlewareData:p})=>{let h=!!p.flip?.index;l=r.includes(h?"bottom":"top"),t.setAttribute("data-placement",h?r.startsWith("top")?r.replace("top","bottom"):r.replace("bottom","top"):r),Object.assign(t.style,{top:`calc(${f+"px"} + ${u(s?s+"px":`var(--${n}-y-offset, 0px)`)})`,left:`calc(${d+"px"} + ${c(i?i+"px":`var(--${n}-x-offset, 0px)`)})`})})})}function GAe(t){return getComputedStyle(t).animationName!=="none"}function Rk(t){return t instanceof HTMLElement}function aK(t,e){return[...t].sort(e?XAe:YAe)}function YAe(t,e){return t.height===e.height?(t.bitrate??0)-(e.bitrate??0):t.height-e.height}function XAe(t,e){return e.height===t.height?(e.bitrate??0)-(t.bitrate??0):e.height-t.height}function Ss(t){return t?.$$PROVIDER_TYPE==="AUDIO"}function ks(t){return t?.$$PROVIDER_TYPE==="VIDEO"}function fc(t){return t?.$$PROVIDER_TYPE==="YOUTUBE"}function oK(t){return!ne&&t instanceof HTMLAudioElement}function lK(t){return!ne&&t instanceof HTMLVideoElement}function cK(t){return oK(t)||lK(t)}function ZAe(t){return t.replace(/Shift\+(\d)/g,(e,r)=>JAe[r-1])}function eLe(t){for(let e of Gv)if(t[e.toLowerCase()+"Key"])return!0;return!1}function QP(t){if(Uo.fullscreenElement===t)return!0;try{return t.matches(Uo.fullscreenPseudoClass)}catch{return!1}}function kW(){if(!uO)throw Error("[vidstack] no fullscreen API")}function x_(){return Ck??=new AudioContext}function tLe(){let t=x_(),e=t.createGain();return e.connect(t.destination),jk.push(e),e}function rLe(t,e){let r=x_(),n=r.createMediaElementSource(t);return e&&n.connect(e),Vk.push(n),n}function nLe(t){let e=jk.indexOf(t);e!==-1&&(jk.splice(e,1),t.disconnect(),dK())}function iLe(t){let e=Vk.indexOf(t);e!==-1&&(Vk.splice(e,1),t.disconnect(),dK())}function dK(){Ck&&jk.length===0&&Vk.length===0&&Ck.close().then(()=>{Ck=null})}function CW(t){return ne||t?.type==="blur"||document.visibilityState==="hidden"?"hidden":document.hasFocus()?"active":"passive"}function aLe(t,e){return Array.from(t.children).find(r=>r.track===e)}function EW(t){try{return new Intl.DisplayNames(navigator.languages,{type:"language"}).of(t)??null}catch{return null}}function Qp(t){return t instanceof Error?t:Error(typeof t=="string"?t:JSON.stringify(t))}function Yo(t,e){if(!t)throw Error("Assertion failed.")}async function cLe(t,e={}){if(!Mt(t)){if(e.onLoadStart?.(),dLe(t))return e.onLoaded?.(t),t;if(TW(t)){let r=t.MediaPlayer;return e.onLoaded?.(r),r}try{let r=(await t())?.default;if(TW(r))return e.onLoaded?.(r.MediaPlayer),r.MediaPlayer;if(r)e.onLoaded?.(r);else throw Error("");return r}catch(r){e.onLoadError?.(r)}}}async function uLe(t,e={}){if(le(t)){e.onLoadStart?.();try{if(await Vv(t),!Nr(window.dashjs.MediaPlayer))throw Error("");let r=window.dashjs.MediaPlayer;return e.onLoaded?.(r),r}catch(r){e.onLoadError?.(r)}}}function dLe(t){return t&&t.prototype&&t.prototype!==Function}function TW(t){return t&&"MediaPlayer"in t}function JP(t,e){let r=String(t),n=r.length;if(n<e){let s=e-n;return`${"0".repeat(s)}${t}`}return r}function fK(t){let e=Math.trunc(t/3600),r=Math.trunc(t%3600/60),n=Math.trunc(t%60),i=Number((t-Math.trunc(t)).toPrecision(3));return{hours:e,minutes:r,seconds:n,fraction:i}}function Jo(t,{padHrs:e=null,padMins:r=null,showHrs:n=!1,showMs:i=!1}={}){let{hours:s,minutes:a,seconds:o,fraction:l}=fK(t),c=e?JP(s,2):s,u=r||ms(r)&&t>=3600?JP(a,2):a,d=JP(o,2),f=i&&l>0?`.${String(l).replace(/^0?\./,"")}`:"",p=`${u}:${d}${f}`;return s>0||n?`${c}:${p}`:p}function Qv(t){let e=[],{hours:r,minutes:n,seconds:i}=fK(t);return r>0&&e.push(`${r} hour`),n>0&&e.push(`${n} min`),(i>0||e.length===0)&&e.push(`${i} sec`),e.join(" ")}function gLe(t){return t?"true":"false"}function Yr(t){return()=>gLe(t())}function yLe(){return typeof window>"u"?!1:window.matchMedia("(prefers-reduced-motion: reduce)").matches}function eO(t,e){if(!(t&&e))throw Error("[vidstack] media not ready")}function AW(t,e){if(!e?.supported)throw Error("[vidstack] no fullscreen support")}function vLe(t){if(!(!yLe()||!t))throw Error("[vidstack] autoplay blocked")}function Sk(t,e){ge(t,"data-focus",e),ge(t,"data-hocus",e)}function IW(t,e){ge(t,"data-hocus",e),ge(t,"data-hover",e)}function wLe(t,e){return fetch(t,e).then(r=>r.text()).then(r=>/type="static"/.test(r)?"on-demand":"live")}function pK(t,e){return fetch(t,e).then(r=>r.text()).then(r=>{let n=xLe(r);if(n)return pK(/^https?:/.test(n)?n:new URL(n,t).href,e);let i=/EXT-X-PLAYLIST-TYPE:\s*VOD/.test(r)?"on-demand":"live";return i==="live"&&SLe(r)>=10&&(/#EXT-X-DVR-ENABLED:\s*true/.test(r)||r.includes("#EXT-X-DISCONTINUITY"))?"live:dvr":i})}function xLe(t){let e=t.match(/#EXT-X-STREAM-INF:[^\n]+(\n[^\n]+)*/g);return e?e[0].split(`
`)[1].trim():null}function SLe(t){let e=t.split(`
`);for(let r of e)if(r.startsWith("#EXT-X-TARGETDURATION")){let n=parseFloat(r.split(":")[1]);if(!isNaN(n))return n}return-1}function RW(t){return(ar(t)?t:[t]).map(e=>le(e)?{src:e,type:MW(e)}:{...e,type:MW(e.src,e.type)})}function MW(t,e){return le(e)&&e.length?e:le(t)&&MO.has(t)?MO.get(t):!e&&Ad({src:t,type:""})?"application/x-mpegurl":!e&&cC({src:t,type:""})?"application/dash+xml":!le(t)||t.startsWith("blob:")?"video/object":t.includes("youtube")||t.includes("youtu.be")?"video/youtube":t.includes("vimeo")&&!t.includes("progressive_redirect")&&!t.includes(".m3u8")?"video/vimeo":"?"}function PW(t,e){return t?.src===e?.src&&t?.type===e?.type}function OW(t,e,r){let n=e-t,i=r-t;return n>0?i/n:0}function TLe(t,e,r,n){return b_(t,Kr(r,aO(n)),e)}function ALe(t,e,r,n){let i=b_(0,r,1),s=e-t,a=s*i,o=a/n,l=n*Math.round(o);return t+l}function hK(t,{clamp:e,offset:r,orientation:n}){let i=getComputedStyle(t),s=parseFloat(i.width),a=parseFloat(i.height),o={top:null,right:null,bottom:null,left:null};if(o[n==="horizontal"?"bottom":"left"]=`calc(100% + var(--media-slider-preview-offset, ${r}px))`,n==="horizontal"){let l=s/2;if(!e)o.left=`calc(var(--slider-pointer) - ${l}px)`;else{let c=`max(0px, calc(var(--slider-pointer) - ${l}px))`,u=`calc(100% - ${s}px)`;o.left=`min(${c}, ${u})`}}else{let l=a/2;if(!e)o.bottom=`calc(var(--slider-pointer) - ${l}px)`;else{let c=`max(${l}px, calc(var(--slider-pointer) - ${l}px))`,u=`calc(100% - ${a}px)`;o.bottom=`min(${c}, ${u})`}}Object.assign(t.style,o)}function RLe(t,e){let r=oP(t,e);for(let{el:n,top:i,left:s}of r)n.scroll({top:i,left:s,behavior:e.behavior})}function MLe(t,e={}){RLe(t,{scrollMode:"if-needed",block:"center",inline:"center",...e})}function VLe(t){return Pt.isValidElement(t)&&t.type===jLe}function qLe(t,e){let r={...e};for(let n in e){let i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...o)=>{s(...o),i(...o)}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function yK(t){return t?.$$PROVIDER_TYPE==="REMOTION"}function Fb(t,e){let r=qo(pc);return xt((e?.current?.$state||r||ULe)[t])}function ei(t,e){let r=qo(uc);return xt((e?.current?.$state||r||vK)[t])}function dC(t){let e=qo(uc);return sP(t?.current?t.current.$state:e||vK)}var Pt,ne,kAe,Uv,NW,Yp,Tk,It,zW,HW,GW,WW,KW,YW,XW,QW,zv,TAe,AAe,LAe,IAe,RAe,MAe,PAe,ve,cn,OAe,uc,eK,_Ae,Db,Cd,Ak,DAe,NAe,FAe,$Ae,jAe,VAe,qAe,BAe,UAe,pe,Yv,Hv,Lk,Ik,oO,lO,Mk,Pk,WAe,KAe,Sr,Ok,Qo,uK,Gv,QAe,SW,cO,JAe,_k,Dk,uO,Nk,Xv,Fk,Zp,$k,Ck,jk,Vk,dO,sLe,fO,Qa,pO,hO,Fv,mO,$v,gO,yO,vO,bO,wO,Xp,oLe,lLe,xO,SO,fLe,kO,pLe,qk,Bk,Uk,ZP,hLe,mLe,zk,CO,EO,Hk,TO,AO,bLe,LO,IO,LW,RO,Gk,Li,Wk,gt,MO,PO,OO,Kk,kLe,_O,DO,NO,Yk,kd,CLe,FO,$O,jO,Xr,Xk,ELe,VO,qO,BO,UO,zO,HO,GO,WO,KO,pc,Qk,S_,Kv,tO,YO,eh,Zn,Ed,Xo,kk,Jk,Zk,XO,eC,LLe,tC,ILe,QO,JO,ZO,e_,t_,rC,nC,uC,Ja,PLe,OLe,r_,_Le,DLe,Nb,NLe,cc,Jv,FLe,n_,rO,i_,s_,Zv,iC,mK,sC,$Le,a_,o_,l_,c_,u_,Td,aC,eb,tb,rb,oC,nb,ib,sb,ab,ob,lb,cb,ub,db,fb,pb,hb,th,mb,gb,yb,vb,bb,wb,xb,Sb,kb,Cb,Eb,Tb,Ab,Lb,Ib,Rb,Mb,Pb,lC,rh,Ob,gK,d_,jLe,BLe,fe,_W,ULe,DW,vK,ws=tt(()=>{"use client";Pt=z(he(),1);xv();ua();da();lP();FG();ne=typeof document>"u",kAe=ne?"":navigator?.userAgent.toLowerCase()||"",Uv=!ne&&/iphone|ipad|ipod|ios|crios|fxios/i.test(kAe),NW=!ne&&/(iphone|ipod)/gi.test(navigator?.platform||""),Yp=!ne&&!!window.chrome,Tk=!ne&&(!!window.safari||Uv);It=class{#e;get length(){return this.#e.length}constructor(e,r){ar(e)?this.#e=e:!Mt(e)&&!Mt(r)?this.#e=[[e,r]]:this.#e=[]}start(e){return this.#e[e][0]??1/0}end(e){return this.#e[e][1]??1/0}};zW=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx|flac)($|\?)/i,HW=new Set(["audio/mpeg","audio/ogg","audio/3gp","audio/mp3","audio/webm","audio/flac","audio/m4a","audio/m4b","audio/mp4a","audio/mp4"]),GW=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,WW=new Set(["video/mp4","video/webm","video/3gp","video/ogg","video/avi","video/mpeg"]),KW=/\.(m3u8)($|\?)/i,YW=/\.(mpd)($|\?)/i,XW=new Set(["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"]),QW=new Set(["application/dash+xml"]);zv={};TAe=Symbol(0),AAe=Symbol(0),LAe=Symbol(0),IAe=Symbol(0),RAe=Symbol(0),MAe=Symbol(0),PAe=Symbol(0),ve={crossOrigin:TAe,readyState:AAe,updateActiveCues:LAe,canLoad:IAe,onModeChange:RAe,native:MAe,nativeHLS:PAe};cn=class extends Np{static createId(e){return`vds-${e.type}-${e.kind}-${e.src??e.label??"?"}`}src;content;type;encoding;id="";label="";language="";kind;default=!1;#e=!1;#t=0;#r="disabled";#n={};#i=[];#s=[];#a=[];[ve.readyState]=0;[ve.crossOrigin];[ve.onModeChange]=null;[ve.native]=null;get metadata(){return this.#n}get regions(){return this.#i}get cues(){return this.#s}get activeCues(){return this.#a}get readyState(){return this[ve.readyState]}get mode(){return this.#r}set mode(e){this.setMode(e)}#o;constructor(e){super(),this.#o=e.fetch??fetch;for(let r of Object.keys(e))this[r]=e[r];this.type||(this.type="vtt"),!ne&&e.content?this.#l(e):e.src||(this[ve.readyState]=2)}addCue(e,r){let n=0,i=this.#s.length;for(n=0;n<i&&!(e.endTime<=this.#s[n].startTime);n++);n===i?this.#s.push(e):this.#s.splice(n,0,e),e instanceof TextTrackCue||this[ve.native]?.track.addCue(e),this.dispatchEvent(new me("add-cue",{detail:e,trigger:r})),iO(e,this.#t)&&this[ve.updateActiveCues](this.#t,r)}removeCue(e,r){let n=this.#s.indexOf(e);if(n>=0){let i=this.#a.includes(e);this.#s.splice(n,1),this[ve.native]?.track.removeCue(e),this.dispatchEvent(new me("remove-cue",{detail:e,trigger:r})),i&&this[ve.updateActiveCues](this.#t,r)}}setMode(e,r){this.#r!==e&&(this.#r=e,e==="disabled"?(this.#a=[],this.#p()):this.readyState===2?this[ve.updateActiveCues](this.#t,r):this.#u(),this.dispatchEvent(new me("mode-change",{detail:this,trigger:r})),this[ve.onModeChange]?.())}[ve.updateActiveCues](e,r){if(this.#t=e,this.mode==="disabled"||!this.#s.length)return;let n=[];for(let s=0,a=this.#s.length;s<a;s++){let o=this.#s[s];iO(o,e)&&n.push(o)}let i=n.length!==this.#a.length;if(!i){for(let s=0;s<n.length;s++)if(!this.#a.includes(n[s])){i=!0;break}}this.#a=n,i&&this.#p(r)}[ve.canLoad](){this.#e=!0,this.#r!=="disabled"&&this.#u()}#l(e){Promise.resolve().then(()=>(Nv(),Dv)).then(({parseText:r,VTTCue:n,VTTRegion:i})=>{!le(e.content)||e.type==="json"?(this.#d(e.content,n,i),this.readyState!==3&&this.#c()):r(e.content,{type:e.type}).then(({cues:s,regions:a})=>{this.#s=s,this.#i=a,this.#c()})})}async#u(){if(!(!this.#e||this[ve.readyState]>0)){if(this[ve.readyState]=1,this.dispatchEvent(new me("load-start")),!this.src){this.#c();return}try{let{parseResponse:e,VTTCue:r,VTTRegion:n}=await Promise.resolve().then(()=>(Nv(),Dv)),i=this[ve.crossOrigin]?.(),s=this.#o(this.src,{headers:this.type==="json"?{"Content-Type":"application/json"}:void 0,credentials:Wv(i)});if(this.type==="json")this.#d(await(await s).text(),r,n);else{let{errors:a,metadata:o,regions:l,cues:c}=await e(s,{type:this.type,encoding:this.encoding});if(a[0]?.code===0)throw a[0];this.#n=o,this.#i=l,this.#s=c}this.#c()}catch(e){this.#f(e)}}}#c(){if(this[ve.readyState]=2,!this.src||this.type!=="vtt"){let r=this[ve.native];if(r&&!r.managed)for(let n of this.#s)r.track.addCue(n)}let e=new me("load");this[ve.updateActiveCues](this.#t,e),this.dispatchEvent(e)}#f(e){this[ve.readyState]=3,this.dispatchEvent(new me("error",{detail:e}))}#d(e,r,n){try{let{regions:i,cues:s}=ZW(e,r,n);this.#i=i,this.#s=s}catch(i){this.#f(i)}}#p(e){this.dispatchEvent(new me("cue-change",{trigger:e}))}},OAe=/captions|subtitles/;uc=new ca({artist:"",artwork:null,audioTrack:null,audioTracks:[],autoPlay:!1,autoPlayError:null,audioGain:null,buffered:new It,canLoad:!1,canLoadPoster:!1,canFullscreen:!1,canOrientScreen:f_(),canPictureInPicture:!1,canPlay:!1,clipStartTime:0,clipEndTime:0,controls:!1,get iOSControls(){return NW&&this.mediaType==="video"&&(!this.playsInline||!Uo.fullscreenEnabled&&this.fullscreen)},get nativeControls(){return this.controls||this.iOSControls},controlsVisible:!1,get controlsHidden(){return!this.controlsVisible},crossOrigin:null,ended:!1,error:null,fullscreen:!1,get loop(){return this.providedLoop||this.userPrefersLoop},logLevel:"silent",mediaType:"unknown",muted:!1,paused:!0,played:new It,playing:!1,playsInline:!1,pictureInPicture:!1,preload:"metadata",playbackRate:1,qualities:[],quality:null,autoQuality:!1,canSetQuality:!0,canSetPlaybackRate:!0,canSetVolume:!1,canSetAudioGain:!1,seekable:new It,seeking:!1,source:{src:"",type:""},sources:[],started:!1,textTracks:[],textTrack:null,get hasCaptions(){return this.textTracks.filter(Mn).length>0},volume:1,waiting:!1,realCurrentTime:0,get currentTime(){return this.ended?this.duration:this.clipStartTime>0?Math.max(0,Math.min(this.realCurrentTime-this.clipStartTime,this.duration)):this.realCurrentTime},providedDuration:-1,intrinsicDuration:0,get duration(){return this.seekableWindow},get title(){return this.providedTitle||this.inferredTitle},get poster(){return this.providedPoster||this.inferredPoster},get viewType(){return this.providedViewType!=="unknown"?this.providedViewType:this.inferredViewType},get streamType(){return this.providedStreamType!=="unknown"?this.providedStreamType:this.inferredStreamType},get currentSrc(){return this.source},get bufferedStart(){let t=nO(this.buffered)??0;return Math.max(t,this.clipStartTime)},get bufferedEnd(){let t=oc(this.buffered)??0;return Math.min(this.seekableEnd,Math.max(0,t-this.clipStartTime))},get bufferedWindow(){return Math.max(0,this.bufferedEnd-this.bufferedStart)},get seekableStart(){if(this.isLiveDVR&&this.liveDVRWindow>0)return Math.max(0,this.seekableEnd-this.liveDVRWindow);let t=nO(this.seekable)??0;return Math.max(t,this.clipStartTime)},get seekableEnd(){if(this.providedDuration>0)return this.providedDuration;let t=this.liveSyncPosition>0?this.liveSyncPosition:this.canPlay?oc(this.seekable)??1/0:0;return this.clipEndTime>0?Math.min(this.clipEndTime,t):t},get seekableWindow(){let t=this.seekableEnd-this.seekableStart;return isNaN(t)?1/0:Math.max(0,t)},canAirPlay:!1,canGoogleCast:!1,remotePlaybackState:"disconnected",remotePlaybackType:"none",remotePlaybackLoader:null,remotePlaybackInfo:null,get isAirPlayConnected(){return this.remotePlaybackType==="airplay"&&this.remotePlaybackState==="connected"},get isGoogleCastConnected(){return this.remotePlaybackType==="google-cast"&&this.remotePlaybackState==="connected"},pointer:"fine",orientation:"landscape",width:0,height:0,mediaWidth:0,mediaHeight:0,lastKeyboardAction:null,userBehindLiveEdge:!1,liveEdgeTolerance:10,minLiveDVRWindow:60,get canSeek(){return/unknown|on-demand|:dvr/.test(this.streamType)&&Number.isFinite(this.duration)&&(!this.isLiveDVR||this.duration>=this.liveDVRWindow)},get live(){return this.streamType.includes("live")||!Number.isFinite(this.duration)},get liveEdgeStart(){return this.live&&Number.isFinite(this.seekableEnd)?Math.max(0,this.seekableEnd-this.liveEdgeTolerance):0},get liveEdge(){return this.live&&(!this.canSeek||!this.userBehindLiveEdge&&this.currentTime>=this.liveEdgeStart)},get liveEdgeWindow(){return this.live&&Number.isFinite(this.seekableEnd)?this.seekableEnd-this.liveEdgeStart:0},get isLiveDVR(){return/:dvr/.test(this.streamType)},get liveDVRWindow(){return Math.max(this.inferredLiveDVRWindow,this.minLiveDVRWindow)},autoPlaying:!1,providedTitle:"",inferredTitle:"",providedLoop:!1,userPrefersLoop:!1,providedPoster:"",inferredPoster:"",inferredViewType:"unknown",providedViewType:"unknown",providedStreamType:"unknown",inferredStreamType:"unknown",liveSyncPosition:null,inferredLiveDVRWindow:0,savedState:null}),eK=new Set(["autoPlayError","autoPlaying","buffered","canPlay","error","paused","played","playing","seekable","seeking","waiting"]),_Ae=new Set([...eK,"ended","inferredPoster","inferredStreamType","inferredTitle","intrinsicDuration","inferredLiveDVRWindow","liveSyncPosition","realCurrentTime","savedState","started","userBehindLiveEdge"]);Db=Xa();Cd=class{#e=null;#t=null;#r=-1;#n;constructor(e=void 0){this.#n=e}setTarget(e){this.#e=e}getPlayer(e){return this.#t?this.#t:((e??this.#e)?.dispatchEvent(new me("find-media-player",{detail:r=>void(this.#t=r),bubbles:!0,composed:!0})),this.#t)}setPlayer(e){this.#t=e}startLoading(e){this.#i("media-start-loading",e)}startLoadingPoster(e){this.#i("media-poster-start-loading",e)}requestAirPlay(e){this.#i("media-airplay-request",e)}requestGoogleCast(e){this.#i("media-google-cast-request",e)}play(e){this.#i("media-play-request",e)}pause(e){this.#i("media-pause-request",e)}mute(e){this.#i("media-mute-request",e)}unmute(e){this.#i("media-unmute-request",e)}enterFullscreen(e,r){this.#i("media-enter-fullscreen-request",r,e)}exitFullscreen(e,r){this.#i("media-exit-fullscreen-request",r,e)}lockScreenOrientation(e,r){this.#i("media-orientation-lock-request",r,e)}unlockScreenOrientation(e){this.#i("media-orientation-unlock-request",e)}enterPictureInPicture(e){this.#i("media-enter-pip-request",e)}exitPictureInPicture(e){this.#i("media-exit-pip-request",e)}seeking(e,r){this.#i("media-seeking-request",r,e)}seek(e,r){this.#i("media-seek-request",r,e)}seekToLiveEdge(e){this.#i("media-live-edge-request",e)}changeDuration(e,r){this.#i("media-duration-change-request",r,e)}changeClipStart(e,r){this.#i("media-clip-start-change-request",r,e)}changeClipEnd(e,r){this.#i("media-clip-end-change-request",r,e)}changeVolume(e,r){this.#i("media-volume-change-request",r,Math.max(0,Math.min(1,e)))}changeAudioTrack(e,r){this.#i("media-audio-track-change-request",r,e)}changeQuality(e,r){this.#i("media-quality-change-request",r,e)}requestAutoQuality(e){this.changeQuality(-1,e)}changeTextTrackMode(e,r,n){this.#i("media-text-track-change-request",n,{index:e,mode:r})}changePlaybackRate(e,r){this.#i("media-rate-change-request",r,e)}changeAudioGain(e,r){this.#i("media-audio-gain-change-request",r,e)}resumeControls(e){this.#i("media-resume-controls-request",e)}pauseControls(e){this.#i("media-pause-controls-request",e)}togglePaused(e){let r=this.getPlayer(e?.target);r&&(r.state.paused?this.play(e):this.pause(e))}toggleControls(e){let r=this.getPlayer(e?.target);r&&(r.controls.showing?r.controls.hide(0,e):r.controls.show(0,e))}toggleMuted(e){let r=this.getPlayer(e?.target);r&&(r.state.muted?this.unmute(e):this.mute(e))}toggleFullscreen(e,r){let n=this.getPlayer(r?.target);n&&(n.state.fullscreen?this.exitFullscreen(e,r):this.enterFullscreen(e,r))}togglePictureInPicture(e){let r=this.getPlayer(e?.target);r&&(r.state.pictureInPicture?this.exitPictureInPicture(e):this.enterPictureInPicture(e))}showCaptions(e){let r=this.getPlayer(e?.target);if(!r)return;let n=r.state.textTracks,i=this.#r;(!n[i]||!Mn(n[i]))&&(i=-1),i===-1&&(i=n.findIndex(s=>Mn(s)&&s.default)),i===-1&&(i=n.findIndex(s=>Mn(s))),i>=0&&this.changeTextTrackMode(i,"showing",e),this.#r=-1}disableCaptions(e){let r=this.getPlayer(e?.target);if(!r)return;let n=r.state.textTracks,i=r.state.textTrack;if(i){let s=n.indexOf(i);this.changeTextTrackMode(s,"disabled",e),this.#r=s}}toggleCaptions(e){let r=this.getPlayer(e?.target);r&&(r.state.textTrack?this.disableCaptions():this.showCaptions())}userPrefersLoopChange(e,r){this.#i("media-user-loop-change-request",r,e)}#i(e,r,n){let i=new me(e,{bubbles:!0,composed:!0,cancelable:!0,detail:n,trigger:r}),s=r?.target||null;s&&s instanceof Ae&&(s=s.el),s=!s||s===document||s===window||s===document.body||this.#t?.el&&s instanceof Node&&!this.#t.el.contains(s)?this.#e??this.getPlayer()?.el:s??this.#e,this.#t?e==="media-play-request"&&!this.#t.state.canLoad?s?.dispatchEvent(i):this.#t.canPlayQueue.enqueue(e,()=>s?.dispatchEvent(i)):s?.dispatchEvent(i)}#s(e){}},Ak=class{playerId="vds-player";mediaId=null;#e={volume:null,muted:null,audioGain:null,time:null,lang:null,captions:null,rate:null,quality:null};async getVolume(){return this.#e.volume}async setVolume(e){this.#e.volume=e,this.save()}async getMuted(){return this.#e.muted}async setMuted(e){this.#e.muted=e,this.save()}async getTime(){return this.#e.time}async setTime(e,r){let n=e<0;this.#e.time=n?null:e,n||r?this.saveTime():this.saveTimeThrottled()}async getLang(){return this.#e.lang}async setLang(e){this.#e.lang=e,this.save()}async getCaptions(){return this.#e.captions}async setCaptions(e){this.#e.captions=e,this.save()}async getPlaybackRate(){return this.#e.rate}async setPlaybackRate(e){this.#e.rate=e,this.save()}async getAudioGain(){return this.#e.audioGain}async setAudioGain(e){this.#e.audioGain=e,this.save()}async getVideoQuality(){return this.#e.quality}async setVideoQuality(e){this.#e.quality=e,this.save()}onChange(e,r,n="vds-player"){let i=n?localStorage.getItem(n):null,s=r?localStorage.getItem(r):null;this.playerId=n,this.mediaId=r,this.#e={volume:null,muted:null,audioGain:null,lang:null,captions:null,rate:null,quality:null,...i?JSON.parse(i):{},time:s?+s:null}}save(){if(ne||!this.playerId)return;let e=JSON.stringify({...this.#e,time:void 0});localStorage.setItem(this.playerId,e)}saveTimeThrottled=zo(this.saveTime.bind(this),1e3);saveTime(){if(ne||!this.mediaId)return;let e=(this.#e.time??0).toString();localStorage.setItem(this.mediaId,e)}},DAe=Symbol(0),NAe=Symbol(0),FAe=Symbol(0),$Ae=Symbol(0),jAe=Symbol(0),VAe=Symbol(0),qAe=Symbol(0),BAe=Symbol(0),UAe=Symbol(0),pe={add:DAe,remove:NAe,reset:FAe,select:$Ae,readonly:jAe,setReadonly:VAe,onReset:qAe,onRemove:BAe,onUserSelect:UAe},Yv=class extends Np{items=[];[pe.readonly]=!1;get length(){return this.items.length}get readonly(){return this[pe.readonly]}indexOf(e){return this.items.indexOf(e)}getById(e){return e===""?null:this.items.find(r=>r.id===e)??null}toArray(){return[...this.items]}[Symbol.iterator](){return this.items.values()}[pe.add](e,r){let n=this.items.length;""+n in this||Object.defineProperty(this,n,{get(){return this.items[n]}}),!this.items.includes(e)&&(this.items.push(e),this.dispatchEvent(new me("add",{detail:e,trigger:r})))}[pe.remove](e,r){let n=this.items.indexOf(e);n>=0&&(this[pe.onRemove]?.(e,r),this.items.splice(n,1),this.dispatchEvent(new me("remove",{detail:e,trigger:r})))}[pe.reset](e){for(let r of[...this.items])this[pe.remove](r,e);this.items=[],this[pe.setReadonly](!1,e),this[pe.onReset]?.()}[pe.setReadonly](e,r){this[pe.readonly]!==e&&(this[pe.readonly]=e,this.dispatchEvent(new me("readonly-change",{detail:e,trigger:r})))}},Hv=Symbol(0),Lk=class extends Yv{get selected(){return this.items.find(e=>e.selected)??null}get selectedIndex(){return this.items.findIndex(e=>e.selected)}[pe.onRemove](e,r){this[pe.select](e,!1,r)}[pe.add](e,r){e[Hv]=!1,Object.defineProperty(e,"selected",{get(){return this[Hv]},set:n=>{this.readonly||(this[pe.onUserSelect]?.(),this[pe.select](e,n))}}),super[pe.add](e,r)}[pe.select](e,r,n){if(r===e?.[Hv])return;let i=this.selected;e&&(e[Hv]=r),(r?i!==e:i===e)&&(i&&(i[Hv]=!1),this.dispatchEvent(new me("change",{detail:{prev:i,current:this.selected},trigger:n})))}},Ik=class extends Lk{};oO=new Set;if(!ne){let t=function(){for(let e of oO)try{e()}catch{}window.requestAnimationFrame(t)};t()}lO=class{priority=0;#e=!0;#t=null;#r=null;#n=new Set;canRender(e,r){return!!r}attach(e){this.#t=e,e&&(e.textTracks.onchange=this.#o.bind(this))}addTrack(e){this.#n.add(e),this.#i(e)}removeTrack(e){e[ve.native]?.remove?.(),e[ve.native]=null,this.#n.delete(e)}changeTrack(e){let r=e?.[ve.native];r&&r.track.mode!=="showing"&&(r.track.mode="showing"),this.#r=e}setDisplay(e){this.#e=e,this.#o()}detach(){this.#t&&(this.#t.textTracks.onchange=null);for(let e of this.#n)this.removeTrack(e);this.#n.clear(),this.#t=null,this.#r=null}#i(e){if(!this.#t)return;let r=e[ve.native]??=this.#s(e);Rk(r)&&(this.#t.append(r),r.track.mode=r.default?"showing":"disabled")}#s(e){let r=document.createElement("track"),n=e.default||e.mode==="showing",i=e.src&&e.type==="vtt";return r.id=e.id,r.src=i?e.src:"",r.label=e.label,r.kind=e.kind,r.default=n,e.language&&(r.srclang=e.language),n&&!i&&this.#a(e,r.track),r}#a(e,r){if(!(e.src&&e.type==="vtt"||r.cues?.length))for(let n of e.cues)r.addCue(n)}#o(e){for(let r of this.#n){let n=r[ve.native];if(!n)continue;if(!this.#e){n.track.mode=n.managed?"hidden":"disabled";continue}let i=n.track.mode==="showing";i&&this.#a(r,n.track),r.setMode(i?"showing":"disabled",e)}}},Mk=class{#e=null;#t;#r=[];#n;#i=!1;#s=null;#a=null;constructor(e){this.#n=e;let r=e.textTracks;this.#t=r,M(this.#o.bind(this)),ke(this.#p.bind(this)),new Ge(r).add("add",this.#c.bind(this)).add("remove",this.#f.bind(this)).add("mode-change",this.#d.bind(this))}#o(){let{nativeControls:e}=this.#n.$state;this.#i=e(),this.#d()}add(e){this.#r.push(e),Ya(this.#d.bind(this))}remove(e){e.detach(),this.#r.splice(this.#r.indexOf(e),1),Ya(this.#d.bind(this))}attachVideo(e){requestAnimationFrame(()=>{if(this.#e=e,e){this.#s=new lO,this.#s.attach(e);for(let r of this.#t)this.#l(r)}this.#d()})}#l(e){Mn(e)&&this.#s?.addTrack(e)}#u(e){Mn(e)&&this.#s?.removeTrack(e)}#c(e){this.#l(e.detail)}#f(e){this.#u(e.detail)}#d(){let e=this.#t.selected;if(this.#e&&(this.#i||e?.[ve.nativeHLS])){this.#a?.changeTrack(null),this.#s?.setDisplay(!0),this.#s?.changeTrack(e);return}if(this.#s?.setDisplay(!1),this.#s?.changeTrack(null),!e){this.#a?.changeTrack(null);return}let r=this.#r.sort((n,i)=>n.priority-i.priority).find(n=>n.canRender(e,this.#e));this.#a!==r&&(this.#a?.detach(),r?.attach(this.#e),this.#a=r??null),r?.changeTrack(e)}#p(){this.#s?.detach(),this.#s=null,this.#a?.detach(),this.#a=null}},Pk=class extends Yv{#e=!1;#t={};#r=null;#n=null;[ve.crossOrigin];constructor(){super()}get selected(){return this.items.find(r=>r.mode==="showing"&&Mn(r))??null}get selectedIndex(){let e=this.selected;return e?this.indexOf(e):-1}get preferredLang(){return this.#n}set preferredLang(e){this.#n=e,this.#u(e)}add(e,r){let n=e instanceof cn,i=n?e:new cn(e),s=e.kind==="captions"||e.kind==="subtitles"?"captions":e.kind;return this.#t[s]&&e.default&&delete e.default,i.addEventListener("mode-change",this.#a),this[pe.add](i,r),i[ve.crossOrigin]=this[ve.crossOrigin],this.#e&&i[ve.canLoad](),e.default&&(this.#t[s]=i),this.#i(),this}remove(e,r){if(this.#s=e,!!this.items.includes(e))return e===this.#t[e.kind]&&delete this.#t[e.kind],e.mode="disabled",e[ve.onModeChange]=null,e.removeEventListener("mode-change",this.#a),this[pe.remove](e,r),this.#s=null,this}clear(e){for(let r of[...this.items])this.remove(r,e);return this}getByKind(e){let r=Array.isArray(e)?e:[e];return this.items.filter(n=>r.includes(n.kind))}[ve.canLoad](){if(!this.#e){for(let e of this.items)e[ve.canLoad]();this.#e=!0,this.#i()}}#i=kv(async()=>{if(!this.#e)return;!this.#n&&this.#r&&(this.#n=await this.#r.getLang());let e=await this.#r?.getCaptions(),r=[["captions","subtitles"],"chapters","descriptions","metadata"];for(let n of r){let i=this.getByKind(n);if(i.find(c=>c.mode==="showing"))continue;let s=this.#n?i.find(c=>c.language===this.#n):null,a=ar(n)?this.#t[n.find(c=>this.#t[c])||""]:this.#t[n],o=s??a,l=o&&Mn(o);o&&(!l||e!==!1)&&(o.mode="showing",l&&this.#l(o))}},300);#s=null;#a=this.#o.bind(this);#o(e){let r=e.detail;if(this.#r&&Mn(r)&&r!==this.#s&&this.#l(r),r.mode==="showing"){let n=Mn(r)?["captions","subtitles"]:[r.kind];for(let i of this.items)i.mode==="showing"&&i!=r&&n.includes(i.kind)&&(i.mode="disabled")}this.dispatchEvent(new me("mode-change",{detail:e.detail,trigger:e}))}#l(e){e.mode!=="disabled"&&this.#u(e.language),this.#r?.setCaptions?.(e.mode==="showing")}#u(e){this.#r?.setLang?.(this.#n=e)}setStorage(e){this.#r=e}},WAe=Symbol(0),KAe=Symbol(0),Sr={setAuto:WAe,enableAuto:KAe},Ok=class extends Lk{#e=!1;switch="current";get auto(){return this.#e||this.readonly}[Sr.enableAuto];[pe.onUserSelect](){this[Sr.setAuto](!1)}[pe.onReset](e){this[Sr.enableAuto]=void 0,this[Sr.setAuto](!1,e)}autoSelect(e){this.readonly||this.#e||!this[Sr.enableAuto]||(this[Sr.enableAuto]?.(e),this[Sr.setAuto](!0,e))}getBySrc(e){return this.items.find(r=>r.src===e)}[Sr.setAuto](e,r){this.#e!==e&&(this.#e=e,this.dispatchEvent(new me("auto-change",{detail:e,trigger:r})))}};Qo=class extends ln{},uK={togglePaused:"k Space",toggleMuted:"m",toggleFullscreen:"f",togglePictureInPicture:"i",toggleCaptions:"c",seekBackward:"j J ArrowLeft",seekForward:"l L ArrowRight",volumeUp:"ArrowUp",volumeDown:"ArrowDown",speedUp:">",slowDown:"<"},Gv=new Set(["Shift","Alt","Meta","Ctrl"]),QAe='button, [role="button"]',SW='input, textarea, select, [contenteditable], [role^="menuitem"], [role="timer"]',cO=class extends Qo{#e;constructor(e){super(),this.#e=e}onConnect(){M(this.#t.bind(this))}#t(){let{keyDisabled:e,keyTarget:r}=this.$props;if(e())return;let n=r()==="player"?this.el:document,i=ce(!1);n===this.el?new Ge(this.el).add("focusin",()=>i.set(!0)).add("focusout",s=>{this.el.contains(s.target)||i.set(!1)}):(W(i)||i.set(document.querySelector("[data-media-player]")===this.el),Pe(document,"focusin",s=>{let a=s.composedPath().find(o=>o instanceof Element&&o.localName==="media-player");a!==void 0&&i.set(this.el===a)})),M(()=>{i()&&new Ge(n).add("keyup",this.#r.bind(this)).add("keydown",this.#n.bind(this)).add("keydown",this.#i.bind(this),{capture:!0})})}#r(e){let r=document.activeElement;if(!e.key||!this.$state.canSeek()||r?.matches(SW))return;let{method:n,value:i}=this.#s(e);if(!le(i)&&!ar(i)){i?.onKeyUp?.({event:e,player:this.#e.player,remote:this.#e.remote}),i?.callback?.(e,this.#e.remote);return}n?.startsWith("seek")&&(e.preventDefault(),e.stopPropagation(),this.#l?(this.#u(e,n==="seekForward"),this.#l=null):(this.#e.remote.seek(this.#a,e),this.#a=void 0)),n?.startsWith("volume")&&this.el.querySelector("[data-media-volume-slider]")?.dispatchEvent(new KeyboardEvent("keyup",{key:n==="volumeUp"?"Up":"Down",shiftKey:e.shiftKey,trigger:e}))}#n(e){if(!e.key||Gv.has(e.key))return;let r=document.activeElement;if(r?.matches(SW)||US(e)&&r?.matches(QAe))return;let{method:n,value:i}=this.#s(e),s=!e.metaKey&&/^[0-9]$/.test(e.key);if(!le(i)&&!ar(i)&&!s){i?.onKeyDown?.({event:e,player:this.#e.player,remote:this.#e.remote}),i?.callback?.(e,this.#e.remote);return}if(!n&&s&&!eLe(e)){e.preventDefault(),e.stopPropagation(),this.#e.remote.seek(this.$state.duration()/10*Number(e.key),e);return}if(n){switch(e.preventDefault(),e.stopPropagation(),n){case"seekForward":case"seekBackward":this.#c(e,n,n==="seekForward");break;case"volumeUp":case"volumeDown":let a=this.el.querySelector("[data-media-volume-slider]");if(a)a.dispatchEvent(new KeyboardEvent("keydown",{key:n==="volumeUp"?"Up":"Down",shiftKey:e.shiftKey,trigger:e}));else{let l=e.shiftKey?.1:.05;this.#e.remote.changeVolume(this.$state.volume()+(n==="volumeUp"?+l:-l),e)}break;case"toggleFullscreen":this.#e.remote.toggleFullscreen("prefer-media",e);break;case"speedUp":case"slowDown":let o=this.$state.playbackRate();this.#e.remote.changePlaybackRate(Math.max(.25,Math.min(2,o+(n==="speedUp"?.25:-.25))),e);break;default:this.#e.remote[n]?.(e)}this.$state.lastKeyboardAction.set({action:n,event:e})}}#i(e){cK(e.target)&&this.#s(e).method&&e.preventDefault()}#s(e){let r={...this.$props.keyShortcuts(),...this.#e.ariaKeys},n=Object.keys(r).find(i=>{let s=r[i],a=ar(s)?s.join(" "):le(s)?s:s?.keys;return(ar(a)?a:a?.split(" "))?.map(l=>ZAe(l).replace(/Control/g,"Ctrl").split("+"))?.some(l=>{let c=new Set(l.filter(u=>Gv.has(u)));for(let u of Gv){let d=u.toLowerCase()+"Key";if(!c.has(u)&&e[d])return!1}return l.every(u=>Gv.has(u)?e[u.toLowerCase()+"Key"]:e.key===u.replace("Space"," "))})});return{method:n,value:n?r[n]:null}}#a;#o(e,r){let n=e.shiftKey?10:5;return this.#a=Math.max(0,Math.min((this.#a??this.$state.currentTime())+(r==="seekForward"?+n:-n),this.$state.duration()))}#l=null;#u(e,r){this.#l?.dispatchEvent(new KeyboardEvent(e.type,{key:r?"Right":"Left",shiftKey:e.shiftKey,trigger:e}))}#c(e,r,n){this.$state.canSeek()&&(this.#l||(this.#l=this.el.querySelector("[data-media-time-slider]")),this.#l?this.#u(e,n):this.#e.remote.seeking(this.#o(e,r),e))}},JAe=["!","@","#","$","%","^","&","*","(",")"];_k=class extends ln{#e;constructor(e){super(),this.#e=e}onAttach(e){let{$props:r,ariaKeys:n}=ot(),i=e.getAttribute("aria-keyshortcuts");if(i){n[this.#e]=i,ne||ke(()=>{delete n[this.#e]});return}let s=r.keyShortcuts()[this.#e];if(s){let a=ar(s)?s.join(" "):le(s)?s:s?.keys;e.setAttribute("aria-keyshortcuts",ar(a)?a.join(" "):a)}}},Dk=class extends Qo{#e=-2;#t=!1;#r=ce(!1);#n=ce(!1);#i=null;#s=ce(!0);defaultDelay=2e3;get canIdle(){return this.#s()}set canIdle(e){this.#s.set(e)}get hideOnMouseLeave(){let{hideControlsOnMouseLeave:e}=this.$props;return this.#r()||e()}set hideOnMouseLeave(e){this.#r.set(e)}get showing(){return this.$state.controlsVisible()}show(e=0,r){this.#g(),this.#t||this.#y(!0,e,r)}hide(e=this.defaultDelay,r){this.#g(),this.#t||this.#y(!1,e,r)}pause(e){this.#t=!0,this.#g(),this.#y(!0,0,e)}resume(e){this.#t=!1,!this.$state.paused()&&this.#y(!1,this.defaultDelay,e)}onConnect(){M(this.#a.bind(this))}#a(){let{viewType:e}=this.$state;if(!this.el||!this.#s())return;if(e()==="audio"){this.show();return}M(this.#o.bind(this)),M(this.#l.bind(this));let r=this.#u.bind(this),n=this.#c.bind(this),i=this.#f.bind(this);new Ge(this.el).add("can-play",s=>this.show(0,s)).add("play",r).add("pause",n).add("end",i).add("auto-play-fail",n)}#o(){if(!this.el)return;let{started:e,pointer:r,paused:n}=this.$state;if(!e()||r()!=="fine")return;let i=new Ge(this.el),s=this.hideOnMouseLeave;(!s||!this.#n())&&M(()=>{n()||i.add("pointermove",this.#m.bind(this))}),s&&i.add("mouseenter",this.#d.bind(this)).add("mouseleave",this.#p.bind(this))}#l(){let{paused:e,started:r,autoPlayError:n}=this.$state;if(e()||n()&&!r())return;let i=this.#m.bind(this);M(()=>{if(!this.el)return;let s=this.$state.pointer(),a=s==="coarse",o=new Ge(this.el),l=[a?"touchend":"pointerup","keydown"];for(let c of l)o.add(c,i,{passive:!1})})}#u(e){e.triggers.hasType("ended")||(this.show(0,e),this.hide(void 0,e))}#c(e){this.show(0,e)}#f(e){let{loop:r}=this.$state;r()&&this.hide(0,e)}#d(e){this.#n.set(!1),this.show(0,e),this.hide(void 0,e)}#p(e){this.#n.set(!0),this.hide(0,e)}#g(){window.clearTimeout(this.#e),this.#e=-1}#m(e){e.MEDIA_GESTURE||this.#t||w_(e)||(jp(e)&&(e.key==="Escape"?(this.el?.focus(),this.#i=null):this.#i&&(e.preventDefault(),requestAnimationFrame(()=>{this.#i?.focus(),this.#i=null}))),this.show(0,e),this.hide(this.defaultDelay,e))}#y(e,r,n){if(r===0){this.#x(e,n);return}this.#e=window.setTimeout(()=>{this.scope&&this.#x(e&&!this.#t,n)},r)}#x(e,r){this.$state.controlsVisible()!==e&&(this.$state.controlsVisible.set(e),!e&&document.activeElement&&this.el?.contains(document.activeElement)&&(this.#i=document.activeElement,requestAnimationFrame(()=>{this.el?.focus({preventScroll:!0})})),this.dispatch("controls-change",{detail:e,trigger:r}))}},uO=Uo.fullscreenEnabled,Nk=class extends ln{#e=!1;#t=!1;get active(){return this.#t}get supported(){return uO}onConnect(){new Ge(Uo).add("fullscreenchange",this.#n.bind(this)).add("fullscreenerror",this.#i.bind(this)),ke(this.#r.bind(this))}async#r(){uO&&await this.exit()}#n(e){let r=QP(this.el);r!==this.#t&&(r||(this.#e=!1),this.#t=r,this.dispatch("fullscreen-change",{detail:r,trigger:e}))}#i(e){this.#e&&(this.dispatch("fullscreen-error",{detail:null,trigger:e}),this.#e=!1)}async enter(){try{return this.#e=!0,!this.el||QP(this.el)?void 0:(kW(),Uo.requestFullscreen(this.el))}catch(e){throw this.#e=!1,e}}async exit(){if(!(!this.el||!QP(this.el)))return kW(),Uo.exitFullscreen()}};Xv=class t extends ln{#e=ce(this.#a());#t=ce(!1);#r;get type(){return this.#e()}get locked(){return this.#t()}get portrait(){return this.#e().startsWith("portrait")}get landscape(){return this.#e().startsWith("landscape")}static supported=f_();get supported(){return t.supported}onConnect(){if(this.supported)Pe(screen.orientation,"change",this.#i.bind(this));else{let e=window.matchMedia("(orientation: landscape)");e.onchange=this.#i.bind(this),ke(()=>e.onchange=null)}ke(this.#n.bind(this))}async#n(){this.supported&&this.#t()&&await this.unlock()}#i(e){this.#e.set(this.#a()),this.dispatch("orientation-change",{detail:{orientation:W(this.#e),lock:this.#r},trigger:e})}async lock(e){W(this.#t)||this.#r===e||(this.#s(),await screen.orientation.lock(e),this.#t.set(!0),this.#r=e)}async unlock(){W(this.#t)&&(this.#s(),this.#r=void 0,await screen.orientation.unlock(),this.#t.set(!1))}#s(){if(!this.supported)throw Error("[vidstack] no orientation API")}#a(){return ne?"portrait-primary":this.supported?window.screen.orientation.type:window.innerWidth>=window.innerHeight?"landscape-primary":"portrait-primary"}},Fk=class{name="audio";target;canPlay(e){return g_(e)?ne||!le(e.src)||e.type==="?"||$W(this.target,e.type):!1}mediaType(){return"audio"}async load(e){if(ne)throw Error("[vidstack] can not load audio provider server-side");return new(await Promise.resolve().then(()=>(oW(),aW))).AudioProvider(this.target,e)}},Zp=class{name="video";target;canPlay(e){return y_(e)?ne||!le(e.src)||e.type==="?"||jW(this.target,e.type):!1}mediaType(){return"video"}async load(e){if(ne)throw Error("[vidstack] can not load video provider server-side");return new(await Promise.resolve().then(function(){return oLe})).VideoProvider(this.target,e)}},$k=class t extends Zp{static supported=jv();name="hls";canPlay(e){return t.supported&&Ad(e)}async load(e){if(ne)throw Error("[vidstack] can not load hls provider server-side");return new(await Promise.resolve().then(()=>(cW(),lW))).HLSProvider(this.target,e)}},Ck=null,jk=[],Vk=[];dO=class{#e;#t;#r=null;#n=null;get currentGain(){return this.#r?.gain?.value??null}get supported(){return!0}constructor(e,r){this.#e=e,this.#t=r}setGain(e){let r=this.currentGain;if(e!==this.currentGain){if(e===1&&r!==1){this.removeGain();return}this.#r||(this.#r=tLe(),this.#n&&this.#n.connect(this.#r)),this.#n||(this.#n=rLe(this.#e,this.#r)),this.#r.gain.value=e,this.#t(e)}}removeGain(){this.#r&&(this.#n&&this.#n.connect(x_().destination),this.#s(),this.#t(null))}destroy(){this.#i(),this.#s()}#i(){if(this.#n)try{iLe(this.#n)}catch{}finally{this.#n=null}}#s(){if(this.#r)try{nLe(this.#r)}catch{}finally{this.#r=null}}},sLe=["focus","blur","visibilitychange","pageshow","pagehide"],fO=class{#e=ce(CW());#t=ce(ne?"visible":document.visibilityState);#r;connect(){let e=new Ge(window),r=this.#n.bind(this);for(let n of sLe)e.add(n,r);Tk&&e.add("beforeunload",n=>{this.#r=setTimeout(()=>{n.defaultPrevented||n.returnValue.length>0||(this.#e.set("hidden"),this.#t.set("hidden"))},0)})}get pageState(){return this.#e()}get visibility(){return this.#t()}#n(e){Tk&&window.clearTimeout(this.#r),(e.type!=="blur"||this.#e()==="active")&&(this.#e.set(CW(e)),this.#t.set(document.visibilityState=="hidden"?"hidden":"visible"))}};Qa=class{#e;#t;constructor(e){this.#t=e}start(){Mt(this.#e)&&this.#r()}stop(){sr(this.#e)&&window.cancelAnimationFrame(this.#e),this.#e=void 0}#r(){this.#e=window.requestAnimationFrame(()=>{Mt(this.#e)||(this.#t(),this.#r())})}},pO=class{#e;#t;#r=!1;#n=!1;#i=!1;#s=new Qa(this.#d.bind(this));#a=new fO;#o;get#l(){return this.#e.media}constructor(e,r){this.#e=e,this.#t=r,this.#o=new Ge(e.media),this.#p(),this.#a.connect(),M(this.#O.bind(this)),ke(this.#u.bind(this))}#u(){this.#n=!1,this.#i=!1,this.#s.stop(),this.#o.abort(),this.#y?.clear()}#c=0;#f=-1;#d(){let e=this.#l.currentTime;!(Tk&&e-this.#f<.35)&&this.#c!==e&&(this.#b(e),this.#c=e)}#p(){this.#h("loadstart",this.#k),this.#h("abort",this.#v),this.#h("emptied",this.#S),this.#h("error",this.#z),this.#h("volumechange",this.#$)}#g(){this.#n||(this.#h("loadeddata",this.#C),this.#h("loadedmetadata",this.#E),this.#h("canplay",this.#M),this.#h("canplaythrough",this.#P),this.#h("durationchange",this.#A),this.#h("play",this.#I),this.#h("progress",this.#q),this.#h("stalled",this.#R),this.#h("suspend",this.#B),this.#h("ratechange",this.#U),this.#n=!0)}#m(){this.#i||(this.#h("pause",this.#L),this.#h("playing",this.#_),this.#h("seeked",this.#j),this.#h("seeking",this.#V),this.#h("ended",this.#N),this.#h("waiting",this.#D),this.#i=!0)}#y=void 0;#x=void 0;#h(e,r){this.#o.add(e,r.bind(this))}#w(e){}#b(e,r){let n=Math.min(e,this.#t.$state.seekableEnd());this.#t.notify("time-change",n,r)}#k(e){if(this.#l.networkState===3){this.#v(e);return}this.#g(),this.#t.notify("load-start",void 0,e)}#v(e){this.#t.notify("abort",void 0,e)}#S(){this.#t.notify("emptied",void 0,event)}#C(e){this.#t.notify("loaded-data",void 0,e)}#E(e){this.#c=0,this.#f=-1,this.#m(),this.#t.notify("loaded-metadata",void 0,e),(Uv||Tk&&Ad(this.#t.$state.source()))&&this.#t.delegate.ready(this.#T(),e)}#T(){return{provider:W(this.#t.$provider),duration:this.#l.duration,buffered:this.#l.buffered,seekable:this.#l.seekable}}#I(e){this.#t.$state.canPlay&&this.#t.notify("play",void 0,e)}#L(e){this.#l.readyState===1&&!this.#r||(this.#r=!1,this.#s.stop(),this.#t.notify("pause",void 0,e))}#M(e){this.#t.delegate.ready(this.#T(),e)}#P(e){this.#t.$state.started()||this.#t.notify("can-play-through",this.#T(),e)}#_(e){this.#l.paused||(this.#r=!1,this.#t.notify("playing",void 0,e),this.#s.start())}#R(e){this.#t.notify("stalled",void 0,e),this.#l.readyState<3&&(this.#r=!0,this.#t.notify("waiting",void 0,e))}#D(e){this.#l.readyState<3&&(this.#r=!0,this.#t.notify("waiting",void 0,e))}#N(e){this.#s.stop(),this.#b(this.#l.duration,e),this.#t.notify("end",void 0,e),this.#t.$state.loop()&&GM(this.#l.controls)&&(this.#l.controls=!1)}#O(){let e=this.#t.$state.paused(),r=this.#a.visibility==="hidden";(e||r)&&Pe(this.#l,"timeupdate",this.#F.bind(this))}#F(e){this.#b(this.#l.currentTime,e)}#A(e){this.#t.$state.ended()&&this.#b(this.#l.duration,e),this.#t.notify("duration-change",this.#l.duration,e)}#$(e){let r={volume:this.#l.volume,muted:this.#l.muted};this.#t.notify("volume-change",r,e)}#j(e){this.#f=this.#l.currentTime,this.#b(this.#l.currentTime,e),this.#t.notify("seeked",this.#l.currentTime,e),Math.trunc(this.#l.currentTime)===Math.trunc(this.#l.duration)&&aO(this.#l.duration)>aO(this.#l.currentTime)&&(this.#b(this.#l.duration,e),this.#l.ended||this.#t.player.dispatch(new me("media-play-request",{trigger:e})))}#V(e){this.#t.notify("seeking",this.#l.currentTime,e)}#q(e){let r={buffered:this.#l.buffered,seekable:this.#l.seekable};this.#t.notify("progress",r,e)}#B(e){this.#t.notify("suspend",void 0,e)}#U(e){this.#t.notify("rate-change",this.#l.playbackRate,e)}#z(e){let r=this.#l.error;if(!r)return;let n={message:r.message,code:r.code,mediaError:r};this.#t.notify("error",n,e)}},hO=class{#e;#t;get#r(){return this.#e.media.audioTracks}constructor(e,r){this.#e=e,this.#t=r,this.#r.onaddtrack=this.#n.bind(this),this.#r.onremovetrack=this.#i.bind(this),this.#r.onchange=this.#s.bind(this),Pe(this.#t.audioTracks,"change",this.#o.bind(this))}#n(e){let r=e.track;if(r.label==="")return;let n=r.id.toString()||`native-audio-${this.#t.audioTracks.length}`,i={id:n,label:r.label,language:r.language,kind:r.kind,selected:!1};this.#t.audioTracks[pe.add](i,e),r.enabled&&(i.selected=!0)}#i(e){let r=this.#t.audioTracks.getById(e.track.id);r&&this.#t.audioTracks[pe.remove](r,e)}#s(e){let r=this.#a();if(!r)return;let n=this.#t.audioTracks.getById(r.id);n&&this.#t.audioTracks[pe.select](n,!0,e)}#a(){return Array.from(this.#r).find(e=>e.enabled)}#o(e){let{current:r}=e.detail;if(!r)return;let n=this.#r.getTrackById(r.id);if(n){let i=this.#a();i&&(i.enabled=!1),n.enabled=!0}}},Fv=class{constructor(e,r){this.media=e,this.ctx=r,this.audioGain=new dO(e,n=>{this.ctx.notify("audio-gain-change",n)})}scope=Ln();currentSrc=null;audioGain;setup(){new pO(this,this.ctx),"audioTracks"in this.media&&new hO(this,this.ctx),ke(()=>{this.audioGain.destroy(),this.media.srcObject=null,this.media.removeAttribute("src");for(let e of this.media.querySelectorAll("source"))e.remove();this.media.load()})}get type(){return""}setPlaybackRate(e){this.media.playbackRate=e}async play(){return this.media.play()}async pause(){return this.media.pause()}setMuted(e){this.media.muted=e}setVolume(e){this.media.volume=e}setCurrentTime(e){this.media.currentTime=e}setPlaysInline(e){ge(this.media,"playsinline",e)}async loadSource({src:e,type:r},n){this.media.preload=n||"",JW(e)?(this.removeSource(),this.media.srcObject=e):(this.media.srcObject=null,le(e)?r!=="?"?this.appendSource({src:e,type:r}):(this.removeSource(),this.media.src=this.#e(e)):(this.removeSource(),this.media.src=window.URL.createObjectURL(e))),this.media.load(),this.currentSrc={src:e,type:r}}appendSource(e,r){let n=this.media.querySelector("source[data-vds]"),i=n??document.createElement("source");ge(i,"src",this.#e(e.src)),ge(i,"type",e.type!=="?"?e.type:r),ge(i,"data-vds",""),n||this.media.append(i)}removeSource(){this.media.querySelector("source[data-vds]")?.remove()}#e(e){let{clipStartTime:r,clipEndTime:n}=this.ctx.$state,i=r(),s=n();return i>0&&s>0?`${e}#t=${i},${s}`:i>0?`${e}#t=${i}`:s>0?`${e}#t=0,${s}`:e}},mO=class{#e;#t;#r;#n=ce(!1);get supported(){return this.#n()}constructor(e,r){this.#e=e,this.#t=r,this.#i()}#i(){ne||!this.#e?.remote||!this.canPrompt||(this.#e.remote.watchAvailability(e=>{this.#n.set(e)}).catch(()=>{this.#n.set(!1)}),M(this.#s.bind(this)))}#s(){if(!this.#n())return;let e=["connecting","connect","disconnect"],r=this.#a.bind(this);r(),Pe(this.#e,"playing",r);let n=new Ge(this.#e.remote);for(let i of e)n.add(i,r)}async prompt(){if(!this.supported)throw Error("Not supported on this platform.");return this.type==="airplay"&&this.#e.webkitShowPlaybackTargetPicker?this.#e.webkitShowPlaybackTargetPicker():this.#e.remote.prompt()}#a(e){let r=this.#e.remote.state;if(r===this.#r)return;let n={type:this.type,state:r};this.#t.notify("remote-playback-change",n,e),this.#r=r}},$v=class extends mO{type="airplay";get canPrompt(){return"WebKitPlaybackTargetAvailabilityEvent"in window}},gO=class{#e;#t;constructor(e,r){this.#e=e,this.#t=r,e.textTracks.onaddtrack=this.#r.bind(this),ke(this.#n.bind(this))}#r(e){let r=e.track;if(!r||aLe(this.#e,r))return;let n=new cn({id:r.id,kind:r.kind,label:r.label??"",language:r.language,type:"vtt"});n[ve.native]={track:r},n[ve.readyState]=2,n[ve.nativeHLS]=!0;let i=0,s=a=>{if(r.cues)for(let o=i;o<r.cues.length;o++)n.addCue(r.cues[o],a),i++};s(e),r.oncuechange=s,this.#t.textTracks.add(n,e),n.setMode(r.mode,e)}#n(){this.#e.textTracks.onaddtrack=null;for(let e of this.#t.textTracks){let r=e[ve.native]?.track;r?.oncuechange&&(r.oncuechange=null)}}};yO=class{#e;#t;constructor(e,r){this.#e=e,this.#t=r,new Ge(e).add("enterpictureinpicture",this.#r.bind(this)).add("leavepictureinpicture",this.#n.bind(this))}get active(){return document.pictureInPictureElement===this.#e}get supported(){return h_(this.#e)}async enter(){return this.#e.requestPictureInPicture()}exit(){return document.exitPictureInPicture()}#r(e){this.#i(!0,e)}#n(e){this.#i(!1,e)}#i=(e,r)=>{this.#t.notify("picture-in-picture-change",e,r)}},vO=class{#e;#t;#r="inline";get mode(){return this.#r}constructor(e,r){this.#e=e,this.#t=r,Pe(e,"webkitpresentationmodechanged",this.#n.bind(this))}get supported(){return m_(this.#e)}async setPresentationMode(e){this.#r!==e&&this.#e.webkitSetPresentationMode(e)}#n(e){let r=this.#r;this.#r=this.#e.webkitPresentationMode,this.#t.player?.dispatch(new me("video-presentation-change",{detail:this.#r,trigger:e})),["fullscreen","picture-in-picture"].forEach(n=>{(this.#r===n||r===n)&&this.#t.notify(`${n}-change`,this.#r===n,e)})}},bO=class{#e;get active(){return this.#e.mode==="fullscreen"}get supported(){return this.#e.supported}constructor(e){this.#e=e}async enter(){this.#e.setPresentationMode("fullscreen")}async exit(){this.#e.setPresentationMode("inline")}},wO=class{#e;get active(){return this.#e.mode==="picture-in-picture"}get supported(){return this.#e.supported}constructor(e){this.#e=e}async enter(){this.#e.setPresentationMode("picture-in-picture")}async exit(){this.#e.setPresentationMode("inline")}},Xp=class extends Fv{$$PROVIDER_TYPE="VIDEO";get type(){return"video"}airPlay;fullscreen;pictureInPicture;constructor(e,r){super(e,r),Dr(()=>{if(this.airPlay=new $v(e,r),m_(e)){let n=new vO(e,r);this.fullscreen=new bO(n),this.pictureInPicture=new wO(n)}else h_(e)&&(this.pictureInPicture=new yO(e,r))},this.scope)}setup(){super.setup(),p_(this.video)&&new gO(this.video,this.ctx),this.ctx.textRenderers.attachVideo(this.video),ke(()=>{this.ctx.textRenderers.attachVideo(null)}),this.type==="video"&&this.ctx.notify("provider-setup",this)}get video(){return this.media}},oLe=Object.freeze({__proto__:null,VideoProvider:Xp});lLe=t=>`dash-${ic(t)}`,xO=class{#e;#t;#r=null;#n=new Set;#i=null;config={};get instance(){return this.#r}constructor(e,r){this.#e=e,this.#t=r}setup(e){this.#r=e().create();let r=this.#l.bind(this);for(let n of Object.values(e.events))this.#r.on(n,r);this.#r.on(e.events.ERROR,this.#y.bind(this));for(let n of this.#n)n(this.#r);this.#t.player.dispatch("dash-instance",{detail:this.#r}),this.#r.initialize(this.#e,void 0,!1),this.#r.updateSettings({streaming:{text:{defaultEnabled:!1,dispatchForManualRendering:!0},buffer:{fastSwitchEnabled:!0}},...this.config}),this.#r.on(e.events.FRAGMENT_LOADING_STARTED,this.#x.bind(this)),this.#r.on(e.events.FRAGMENT_LOADING_COMPLETED,this.#h.bind(this)),this.#r.on(e.events.MANIFEST_LOADED,this.#m.bind(this)),this.#r.on(e.events.QUALITY_CHANGE_RENDERED,this.#g.bind(this)),this.#r.on(e.events.TEXT_TRACKS_ADDED,this.#d.bind(this)),this.#r.on(e.events.TRACK_CHANGE_RENDERED,this.#p.bind(this)),this.#t.qualities[Sr.enableAuto]=this.#S.bind(this),Pe(this.#t.qualities,"change",this.#E.bind(this)),Pe(this.#t.audioTracks,"change",this.#T.bind(this)),this.#i=M(this.#a.bind(this))}#s(e){return new me(lLe(e.type),{detail:e})}#a(){if(!this.#t.$state.live())return;let e=new Qa(this.#o.bind(this));return e.start(),e.stop.bind(e)}#o(){if(!this.#r)return;let e=this.#r.duration()-this.#r.time();this.#t.$state.liveSyncPosition.set(isNaN(e)?1/0:e)}#l(e){this.#t.player?.dispatch(this.#s(e))}#u=null;#c={};#f(e){let r=this.#u?.[ve.native],n=(r?.track).cues;if(!r||!n)return;let i=this.#u.id,s=this.#c[i]??0,a=this.#s(e);for(let o=s;o<n.length;o++){let l=n[o];l.positionAlign||(l.positionAlign="auto"),this.#u.addCue(l,a)}this.#c[i]=n.length}#d(e){if(!this.#r)return;let r=e.tracks,n=[...this.#e.textTracks].filter(s=>"manualMode"in s),i=this.#s(e);for(let s=0;s<n.length;s++){let a=r[s],o=n[s],l=`dash-${a.kind}-${s}`,c=new cn({id:l,label:a?.label??a.labels.find(u=>u.text)?.text??(a?.lang&&EW(a.lang))??a?.lang??void 0,language:a.lang??void 0,kind:a.kind,default:a.defaultTrack});c[ve.native]={managed:!0,track:o},c[ve.readyState]=2,c[ve.onModeChange]=()=>{this.#r&&(c.mode==="showing"?(this.#r.setTextTrack(s),this.#u=c):(this.#r.setTextTrack(-1),this.#u=null))},this.#t.textTracks.add(c,i)}}#p(e){let{mediaType:r,newMediaInfo:n}=e;if(r==="audio"){let i=this.#t.audioTracks.getById(`dash-audio-${n.index}`);if(i){let s=this.#s(e);this.#t.audioTracks[pe.select](i,!0,s)}}}#g(e){if(e.mediaType!=="video")return;let r=this.#t.qualities[e.newQuality];if(r){let n=this.#s(e);this.#t.qualities[pe.select](r,!0,n)}}#m(e){if(this.#t.$state.canPlay()||!this.#r)return;let{type:r,mediaPresentationDuration:n}=e.data,i=this.#s(e);this.#t.notify("stream-type-change",r!=="static"?"live":"on-demand",i),this.#t.notify("duration-change",n,i),this.#t.qualities[Sr.setAuto](!0,i);let s=this.#r.getVideoElement(),a=this.#r.getTracksForTypeFromManifest("video",e.data),o=[...new Set(a.map(d=>d.mimeType))].find(d=>d&&jW(s,d)),l=a.filter(d=>o===d.mimeType)[0],c=this.#r.getTracksForTypeFromManifest("audio",e.data),u=[...new Set(c.map(d=>d.mimeType))].find(d=>d&&$W(s,d));if(c=c.filter(d=>u===d.mimeType),l.bitrateList.forEach((d,f)=>{let p={id:d.id?.toString()??`dash-bitrate-${f}`,width:d.width??0,height:d.height??0,bitrate:d.bandwidth??0,codec:l.codec,index:f};this.#t.qualities[pe.add](p,i)}),sr(l.index)){let d=this.#t.qualities[l.index];d&&this.#t.qualities[pe.select](d,!0,i)}c.forEach((d,f)=>{let h=d.labels.find(v=>navigator.languages.some(y=>v.lang&&y.toLowerCase().startsWith(v.lang.toLowerCase())))||d.labels[0],g={id:`dash-audio-${d?.index}`,label:h?.text??(d.lang&&EW(d.lang))??d.lang??"",language:d.lang??"",kind:"main",mimeType:d.mimeType,codec:d.codec,index:f};this.#t.audioTracks[pe.add](g,i)}),s.dispatchEvent(new me("canplay",{trigger:i}))}#y(e){let{type:r,error:n}=e;switch(n.code){case 27:this.#b(n);break;default:this.#v(n);break}}#x(){this.#w>=0&&this.#k()}#h(e){e.mediaType==="text"&&requestAnimationFrame(this.#f.bind(this,e))}#w=-1;#b(e){this.#k(),this.#r?.play(),this.#w=window.setTimeout(()=>{this.#w=-1,this.#v(e)},5e3)}#k(){clearTimeout(this.#w),this.#w=-1}#v(e){this.#t.notify("error",{message:e.message??"",code:1,error:e})}#S(){this.#C("video",!0);let{qualities:e}=this.#t;this.#r?.setQualityFor("video",e.selectedIndex,!0)}#C(e,r){this.#r?.updateSettings({streaming:{abr:{autoSwitchBitrate:{[e]:r}}}})}#E(){let{qualities:e}=this.#t;!this.#r||e.auto||!e.selected||(this.#C("video",!1),this.#r.setQualityFor("video",e.selectedIndex,e.switch==="current"),Yp&&(this.#e.currentTime=this.#e.currentTime))}#T(){if(!this.#r)return;let{audioTracks:e}=this.#t,r=this.#r.getTracksFor("audio").find(n=>e.selected&&e.selected.id===`dash-audio-${n.index}`);r&&this.#r.setCurrentTrack(r)}#I(){this.#k(),this.#u=null,this.#c={}}onInstance(e){return this.#n.add(e),()=>this.#n.delete(e)}loadSource(e){this.#I(),le(e.src)&&this.#r?.attachSource(e.src)}destroy(){this.#I(),this.#r?.destroy(),this.#r=null,this.#i?.(),this.#i=null}};SO=class{#e;#t;#r;constructor(e,r,n){this.#e=e,this.#t=r,this.#r=n,this.#n()}async#n(){let e={onLoadStart:this.#i.bind(this),onLoaded:this.#s.bind(this),onLoadError:this.#a.bind(this)},r=await uLe(this.#e,e);if(Mt(r)&&!le(this.#e)&&(r=await cLe(this.#e,e)),!r)return null;if(!window.dashjs.supportsMediaSource()){let n="[vidstack] `dash.js` is not supported in this environment";return this.#t.player.dispatch(new me("dash-unsupported")),this.#t.notify("error",{message:n,code:4}),null}return r}#i(){this.#t.player.dispatch(new me("dash-lib-load-start"))}#s(e){this.#t.player.dispatch(new me("dash-lib-loaded",{detail:e})),this.#r(e)}#a(e){let r=Qp(e);this.#t.player.dispatch(new me("dash-lib-load-error",{detail:r})),this.#t.notify("error",{message:r.message,code:4,error:r})}};fLe="https://cdn.jsdelivr.net",kO=class extends Xp{$$PROVIDER_TYPE="DASH";#e=null;#t=new xO(this.video,this.ctx);get ctor(){return this.#e}get instance(){return this.#t.instance}static supported=qW();get type(){return"dash"}get canLiveSync(){return!0}#r=`${fLe}/npm/dashjs@4.7.4/dist/dash.all.min.js`;get config(){return this.#t.config}set config(e){this.#t.config=e}get library(){return this.#r}set library(e){this.#r=e}preconnect(){le(this.#r)&&xs(this.#r)}setup(){super.setup(),new SO(this.#r,this.ctx,e=>{this.#e=e,this.#t.setup(e),this.ctx.notify("provider-setup",this);let r=W(this.ctx.$state.source);r&&this.loadSource(r)})}async loadSource(e,r){if(!le(e.src)){this.removeSource();return}this.media.preload=r||"",this.appendSource(e,"application/x-mpegurl"),this.#t.loadSource(e),this.currentSrc=e}onInstance(e){let r=this.#t.instance;return r&&e(r),this.#t.onInstance(e)}destroy(){this.#t.destroy()}},pLe=Object.freeze({__proto__:null,DASHProvider:kO}),qk=class t extends Zp{static supported=qW();name="dash";canPlay(e){return t.supported&&cC(e)}async load(e){if(ne)throw Error("[vidstack] can not load dash provider server-side");return new(await Promise.resolve().then(function(){return pLe})).DASHProvider(this.target,e)}},Bk=class{name="vimeo";target;preconnect(){let e=["https://i.vimeocdn.com","https://f.vimeocdn.com","https://fresnel.vimeocdn.com"];for(let r of e)xs(r)}canPlay(e){return le(e.src)&&e.type==="video/vimeo"}mediaType(){return"video"}async load(e){if(ne)throw Error("[vidstack] can not load vimeo provider server-side");return new(await Promise.resolve().then(()=>(pW(),fW))).VimeoProvider(this.target,e)}async loadPoster(e,r,n){let{resolveVimeoVideoId:i,getVimeoVideoInfo:s}=await Promise.resolve().then(()=>(jP(),dW));if(!le(e.src))return null;let{videoId:a,hash:o}=i(e.src);return a?s(a,n,o).then(l=>l?l.poster:null):null}},Uk=class{name="youtube";target;preconnect(){let e=["https://www.google.com","https://i.ytimg.com","https://googleads.g.doubleclick.net","https://static.doubleclick.net"];for(let r of e)xs(r)}canPlay(e){return le(e.src)&&e.type==="video/youtube"}mediaType(){return"video"}async load(e){if(ne)throw Error("[vidstack] can not load youtube provider server-side");return new(await Promise.resolve().then(()=>(gW(),mW))).YouTubeProvider(this.target,e)}async loadPoster(e,r,n){let{findYouTubePoster:i,resolveYouTubeVideoId:s}=await Promise.resolve().then(()=>(UP(),hW)),a=le(e.src)&&s(e.src);return a?i(a,n):null}};ZP=Symbol(0),hLe=["autoPlay","canAirPlay","canFullscreen","canGoogleCast","canLoad","canLoadPoster","canPictureInPicture","canPlay","canSeek","ended","fullscreen","isAirPlayConnected","isGoogleCastConnected","live","liveEdge","loop","mediaType","muted","paused","pictureInPicture","playing","playsInline","remotePlaybackState","remotePlaybackType","seeking","started","streamType","viewType","waiting"],mLe={artist:"",artwork:null,autoplay:!1,autoPlay:!1,clipStartTime:0,clipEndTime:0,controls:!1,currentTime:0,crossorigin:null,crossOrigin:null,duration:-1,fullscreenOrientation:"landscape",googleCast:{},load:"visible",posterLoad:"visible",logLevel:"silent",loop:!1,muted:!1,paused:!0,playsinline:!1,playsInline:!1,playbackRate:1,poster:"",preload:"metadata",preferNativeHLS:!1,src:"",title:"",controlsDelay:2e3,hideControlsOnMouseLeave:!1,viewType:"unknown",streamType:"unknown",volume:1,liveEdgeTolerance:10,minLiveDVRWindow:60,keyDisabled:!1,keyTarget:"player",keyShortcuts:uK,storage:null},zk=class extends Qo{#e;#t;constructor(e,r){super(),this.#e=e,this.#t=r}async onAttach(e){if(ne)return;let r=this.$props[this.#e]();if(r==="eager")requestAnimationFrame(this.#t);else if(r==="idle")rG(this.#t);else if(r==="visible"){let n,i=new IntersectionObserver(s=>{this.scope&&s[0].isIntersecting&&(n?.(),n=void 0,this.#t())});i.observe(e),n=ke(()=>i.disconnect())}}},CO=class{#e;#t;constructor(e,r){this.#e=e,this.#t=r}notify(e,...r){ne||this.#e(new me(e,{detail:r?.[0],trigger:r?.[1]}))}async ready(e,r){if(!ne)return Ya(async()=>{let{logger:n}=this.#t,{autoPlay:i,canPlay:s,started:a,duration:o,seekable:l,buffered:c,remotePlaybackInfo:u,playsInline:d,savedState:f,source:p}=this.#t.$state;if(s())return;let h={duration:e?.duration??o(),seekable:e?.seekable??l(),buffered:e?.buffered??c(),provider:this.#t.$provider()};this.notify("can-play",h,r),Ti();let g=this.#t.$provider(),{storage:v,qualities:y}=this.#t,{muted:b,volume:w,clipStartTime:x,playbackRate:A}=this.#t.$props;await v?.onLoad?.(p());let O=f()?.currentTime,S=f()?.paused,k=await v?.getTime(),E=O??k??x(),I=S===!1||S!==!0&&!a()&&i();if(g){g.setVolume(await v?.getVolume()??w()),g.setMuted(b()||!!await v?.getMuted());let T=await v?.getAudioGain()??1;T>1&&g.audioGain?.setGain?.(T),g.setPlaybackRate?.(await v?.getPlaybackRate()??A()),g.setPlaysInline?.(d()),E>0&&g.setCurrentTime(E)}let R=await v?.getVideoQuality();if(R&&y.length){let T=null,_=1/0;for(let F of y){let Y=Math.abs(R.width-F.width)+Math.abs(R.height-F.height)+(R.bitrate?Math.abs(R.bitrate-(F.bitrate??0)):0);Y<_&&(T=F,_=Y)}T&&(T.selected=!0)}s()&&I?await this.#r(r):k&&k>0&&this.notify("started",void 0,r),u.set(null)})}async#r(e){let{player:r,$state:{autoPlaying:n,muted:i}}=this.#t;n.set(!0);let s=new me("auto-play-attempt",{trigger:e});try{await r.play(s)}catch{}}},EO=class{#e=new Map;enqueue(e,r){this.#e.set(e,r)}serve(e){let r=this.peek(e);return this.#e.delete(e),r}peek(e){return this.#e.get(e)}delete(e){this.#e.delete(e)}clear(){this.#e.clear()}},Hk=class{#e=!1;#t=Bo();#r=new Map;get size(){return this.#r.size}get isServing(){return this.#e}async waitForFlush(){this.#e||await this.#t.promise}enqueue(e,r){if(this.#e){r();return}this.#r.delete(e),this.#r.set(e,r)}serve(e){this.#r.get(e)?.(),this.#r.delete(e)}start(){this.#n(),this.#e=!0,this.#r.size>0&&this.#n()}stop(){this.#e=!1}reset(){this.stop(),this.#r.clear(),this.#i()}#n(){for(let e of this.#r.keys())this.serve(e);this.#i()}#i(){this.#t.resolve(),this.#t=Bo()}};TO=class extends Qo{#e;#t;#r;controls;#n;#i;#s;#a=new Hk;constructor(e,r,n){super(),this.#e=e,this.#t=r,this.#r=n,this.#s=n.$provider,this.controls=new Dk,this.#n=new Nk,this.#i=new Xv}onAttach(){this.listen("fullscreen-change",this.#k.bind(this))}onConnect(e){let r=Object.getOwnPropertyNames(Object.getPrototypeOf(this)),n=new Ge(e),i=this.#u.bind(this);for(let s of r)s.startsWith("media-")&&n.add(s,i);this.#o(),M(this.#l.bind(this)),M(this.#g.bind(this)),M(this.#m.bind(this)),M(this.#y.bind(this)),M(this.#x.bind(this)),M(this.#h.bind(this)),M(this.#w.bind(this))}onDestroy(){try{let e=this.createEvent("destroy"),{pictureInPicture:r,fullscreen:n}=this.$state;n()&&this.exitFullscreen("prefer-media",e),r()&&this.exitPictureInPicture(e)}catch{}this.#a.reset()}#o(){let{load:e}=this.$props,{canLoad:r}=this.$state;if(e()!=="play"||r())return;let n=this.listen("media-play-request",i=>{this.#c(i),n()})}#l(){let e=this.#s(),r=this.$state.canPlay();return e&&r&&this.#a.start(),()=>{this.#a.stop()}}#u(e){e.stopPropagation(),!e.defaultPrevented&&this[e.type]&&(W(this.#s)?this[e.type](e):this.#a.enqueue(e.type,()=>{W(this.#s)&&this[e.type](e)}))}async play(e){if(ne)return;let{canPlay:r,paused:n,autoPlaying:i}=this.$state;if(this.#c(e)||!W(n))return;e&&this.#t.queue.enqueue("media-play-request",e);let s=W(i);try{let a=W(this.#s);return eO(a,W(r)),vLe(s),await a.play()}catch(a){let o=this.createEvent("play-fail",{detail:Qp(a),trigger:e});throw o.autoPlay=s,this.#e.handle(o),a}}#c(e){let{load:r}=this.$props,{canLoad:n}=this.$state;if(r()==="play"&&!n()){let i=this.createEvent("media-start-loading",{trigger:e});return this.dispatchEvent(i),this.#a.enqueue("media-play-request",async()=>{try{await this.play(i)}catch{}}),!0}return!1}async pause(e){if(ne)return;let{canPlay:r,paused:n}=this.$state;if(!W(n)){e&&this.#t.queue.enqueue("media-pause-request",e);try{let i=W(this.#s);return eO(i,W(r)),await i.pause()}catch(i){throw this.#t.queue.delete("media-pause-request"),i}}}setAudioGain(e,r){let{audioGain:n,canSetAudioGain:i}=this.$state;if(n()===e)return;let s=this.#s();if(!s?.audioGain||!i())throw Error("[vidstack] audio gain api not available");r&&this.#t.queue.enqueue("media-audio-gain-change-request",r),s.audioGain.setGain(e)}seekToLiveEdge(e){if(ne)return;let{canPlay:r,live:n,liveEdge:i,canSeek:s,liveSyncPosition:a,seekableEnd:o,userBehindLiveEdge:l}=this.$state;if(l.set(!1),W(()=>!n()||i()||!s()))return;let c=W(this.#s);eO(c,W(r)),e&&this.#t.queue.enqueue("media-seek-request",e);let u=o()-2;c.setCurrentTime(Math.min(u,a()??u))}#f=!1;async enterFullscreen(e="prefer-media",r){if(ne)return;let n=this.#d(e);if(AW(e,n),!n.active)return W(this.$state.pictureInPicture)&&(this.#f=!0,await this.exitPictureInPicture(r)),r&&this.#t.queue.enqueue("media-enter-fullscreen-request",r),n.enter()}async exitFullscreen(e="prefer-media",r){if(ne)return;let n=this.#d(e);if(AW(e,n),!!n.active){r&&this.#t.queue.enqueue("media-exit-fullscreen-request",r);try{let i=await n.exit();return this.#f&&W(this.$state.canPictureInPicture)&&await this.enterPictureInPicture(),i}finally{this.#f=!1}}}#d(e){let r=W(this.#s);return e==="prefer-media"&&this.#n.supported||e==="media"?this.#n:r?.fullscreen}async enterPictureInPicture(e){if(!ne&&(this.#p(),!this.$state.pictureInPicture()))return e&&this.#t.queue.enqueue("media-enter-pip-request",e),await this.#s().pictureInPicture.enter()}async exitPictureInPicture(e){if(!ne&&(this.#p(),!!this.$state.pictureInPicture()))return e&&this.#t.queue.enqueue("media-exit-pip-request",e),await this.#s().pictureInPicture.exit()}#p(){if(!this.$state.canPictureInPicture())throw Error("[vidstack] no pip support")}#g(){this.controls.defaultDelay=this.$props.controlsDelay()}#m(){let{canSetAudioGain:e}=this.$state,r=!!this.#s()?.audioGain?.supported;e.set(r)}#y(){let{canAirPlay:e}=this.$state,r=!!this.#s()?.airPlay?.supported;e.set(r)}#x(){let{canGoogleCast:e,source:r}=this.$state,n=Yp&&!Uv&&xk(r());e.set(n)}#h(){let{canFullscreen:e}=this.$state,r=this.#n.supported||!!this.#s()?.fullscreen?.supported;e.set(r)}#w(){let{canPictureInPicture:e}=this.$state,r=!!this.#s()?.pictureInPicture?.supported;e.set(r)}async"media-airplay-request"(e){try{await this.requestAirPlay(e)}catch{}}async requestAirPlay(e){try{let r=this.#s()?.airPlay;if(!r?.supported)throw Error("No AirPlay adapter.");return e&&this.#t.queue.enqueue("media-airplay-request",e),await r.prompt()}catch(r){throw this.#t.queue.delete("media-airplay-request"),r}}async"media-google-cast-request"(e){try{await this.requestGoogleCast(e)}catch{}}#b;async requestGoogleCast(e){try{let{canGoogleCast:r}=this.$state;if(!W(r)){let i=Error("Cast not available.");throw i.code="CAST_NOT_AVAILABLE",i}if(xs("https://www.gstatic.com"),!this.#b){let i=await Promise.resolve().then(()=>(YP(),wW)).then(function(s){return s.loader});this.#b=new i.GoogleCastLoader}await this.#b.prompt(this.#r),e&&this.#t.queue.enqueue("media-google-cast-request",e);let n=W(this.$state.remotePlaybackState)!=="disconnected";n&&this.$state.savedState.set({paused:W(this.$state.paused),currentTime:W(this.$state.currentTime)}),this.$state.remotePlaybackLoader.set(n?this.#b:null)}catch(r){throw this.#t.queue.delete("media-google-cast-request"),r}}"media-clip-start-change-request"(e){let{clipStartTime:r}=this.$state;r.set(e.detail)}"media-clip-end-change-request"(e){let{clipEndTime:r}=this.$state;r.set(e.detail),this.dispatch("duration-change",{detail:e.detail,trigger:e})}"media-duration-change-request"(e){let{providedDuration:r,clipEndTime:n}=this.$state;r.set(e.detail),n()<=0&&this.dispatch("duration-change",{detail:e.detail,trigger:e})}"media-audio-track-change-request"(e){let{logger:r,audioTracks:n}=this.#r;if(n.readonly)return;let i=e.detail,s=n[i];if(s){let a=e.type;this.#t.queue.enqueue(a,e),s.selected=!0}}async"media-enter-fullscreen-request"(e){try{await this.enterFullscreen(e.detail,e)}catch(r){this.#v(r,e)}}async"media-exit-fullscreen-request"(e){try{await this.exitFullscreen(e.detail,e)}catch(r){this.#v(r,e)}}async#k(e){let r=W(this.$props.fullscreenOrientation),n=e.detail;if(!(Mt(r)||r==="none"||!this.#i.supported))if(n){if(this.#i.locked)return;this.dispatch("media-orientation-lock-request",{detail:r,trigger:e})}else this.#i.locked&&this.dispatch("media-orientation-unlock-request",{trigger:e})}#v(e,r){this.#e.handle(this.createEvent("fullscreen-error",{detail:Qp(e)}))}async"media-orientation-lock-request"(e){let r=e.type;try{this.#t.queue.enqueue(r,e),await this.#i.lock(e.detail)}catch{this.#t.queue.delete(r)}}async"media-orientation-unlock-request"(e){let r=e.type;try{this.#t.queue.enqueue(r,e),await this.#i.unlock()}catch{this.#t.queue.delete(r)}}async"media-enter-pip-request"(e){try{await this.enterPictureInPicture(e)}catch(r){this.#S(r,e)}}async"media-exit-pip-request"(e){try{await this.exitPictureInPicture(e)}catch(r){this.#S(r,e)}}#S(e,r){this.#e.handle(this.createEvent("picture-in-picture-error",{detail:Qp(e)}))}"media-live-edge-request"(e){let{live:r,liveEdge:n,canSeek:i}=this.$state;if(!(!r()||n()||!i())){this.#t.queue.enqueue("media-seek-request",e);try{this.seekToLiveEdge()}catch{this.#t.queue.delete("media-seek-request")}}}async"media-loop-request"(e){try{this.#t.looping=!0,this.#t.replaying=!0,await this.play(e)}catch{this.#t.looping=!1}}"media-user-loop-change-request"(e){this.$state.userPrefersLoop.set(e.detail)}async"media-pause-request"(e){if(!this.$state.paused())try{await this.pause(e)}catch{}}async"media-play-request"(e){if(this.$state.paused())try{await this.play(e)}catch{}}"media-rate-change-request"(e){let{playbackRate:r,canSetPlaybackRate:n}=this.$state;if(r()===e.detail||!n())return;let i=this.#s();i?.setPlaybackRate&&(this.#t.queue.enqueue("media-rate-change-request",e),i.setPlaybackRate(e.detail))}"media-audio-gain-change-request"(e){try{this.setAudioGain(e.detail,e)}catch{}}"media-quality-change-request"(e){let{qualities:r,storage:n,logger:i}=this.#r;if(r.readonly)return;this.#t.queue.enqueue("media-quality-change-request",e);let s=e.detail;if(s<0)r.autoSelect(e),e.isOriginTrusted&&n?.setVideoQuality?.(null);else{let a=r[s];a&&(a.selected=!0,e.isOriginTrusted&&n?.setVideoQuality?.({id:a.id,width:a.width,height:a.height,bitrate:a.bitrate}))}}"media-pause-controls-request"(e){let r=e.type;this.#t.queue.enqueue(r,e),this.controls.pause(e)}"media-resume-controls-request"(e){let r=e.type;this.#t.queue.enqueue(r,e),this.controls.resume(e)}"media-seek-request"(e){let{canSeek:r,ended:n,live:i,seekableEnd:s,userBehindLiveEdge:a}=this.$state,o=e.detail;n()&&(this.#t.replaying=!0);let l=e.type;this.#t.seeking=!1,this.#t.queue.delete(l);let c=v_(o,this.$state);!Number.isFinite(c)||!r()||(this.#t.queue.enqueue(l,e),this.#s().setCurrentTime(c),i()&&e.isOriginTrusted&&Math.abs(s()-c)>=2&&a.set(!0))}"media-seeking-request"(e){let r=e.type;this.#t.queue.enqueue(r,e),this.$state.seeking.set(!0),this.#t.seeking=!0}"media-start-loading"(e){if(this.$state.canLoad())return;let r=e.type;this.#t.queue.enqueue(r,e),this.#e.handle(this.createEvent("can-load"))}"media-poster-start-loading"(e){if(this.$state.canLoadPoster())return;let r=e.type;this.#t.queue.enqueue(r,e),this.#e.handle(this.createEvent("can-load-poster"))}"media-text-track-change-request"(e){let{index:r,mode:n}=e.detail,i=this.#r.textTracks[r];if(i){let s=e.type;this.#t.queue.enqueue(s,e),i.setMode(n,e)}}"media-mute-request"(e){if(this.$state.muted())return;let r=e.type;this.#t.queue.enqueue(r,e),this.#s().setMuted(!0)}"media-unmute-request"(e){let{muted:r,volume:n}=this.$state;if(!r())return;let i=e.type;this.#t.queue.enqueue(i,e),this.#r.$provider().setMuted(!1),n()===0&&(this.#t.queue.enqueue(i,e),this.#s().setVolume(.25))}"media-volume-change-request"(e){let{muted:r,volume:n}=this.$state,i=e.detail;if(n()===i)return;let s=e.type;this.#t.queue.enqueue(s,e),this.#s().setVolume(i),i>0&&r()&&(this.#t.queue.enqueue(s,e),this.#s().setMuted(!1))}#C(e,r,n){}};AO=class{seeking=!1;looping=!1;replaying=!1;queue=new EO},bLe=new Set(["auto-play","auto-play-fail","can-load","sources-change","source-change","load-start","abort","error","loaded-metadata","loaded-data","can-play","play","play-fail","pause","playing","seeking","seeked","waiting"]),LO=class extends Qo{#e;#t;#r=new Map;#n=!1;#i=[];#s=[-1,-1];#a=!1;#o;constructor(e,r){super(),this.#e=e,this.#t=r}onAttach(e){e.setAttribute("aria-busy","true"),new Ge(this).add("fullscreen-change",this["fullscreen-change"].bind(this)).add("fullscreen-error",this["fullscreen-error"].bind(this)).add("orientation-change",this["orientation-change"].bind(this))}onConnect(e){M(this.#I.bind(this)),this.#p(),this.#g(),this.#m(),this.#u(),ke(this.#c.bind(this))}onDestroy(){let{audioTracks:e,qualities:r,textTracks:n}=this.#t;e[pe.reset](),r[pe.reset](),n[pe.reset](),this.#E()}handle(e){if(!this.scope)return;let r=e.type;Ya(()=>this[e.type]?.(e)),ne||(bLe.has(r)&&this.#r.set(r,e),this.dispatch(e))}#l=!1;#u(){this.#l&&(requestAnimationFrame(()=>{this.scope&&this.#t.remote.play(new me("dom-connect"))}),this.#l=!1)}#c(){this.#l||(this.#l=!this.$state.paused(),this.#t.$provider()?.pause())}#f(){this.#A(),this.#n=!1,this.#e.replaying=!1,this.#e.looping=!1,this.#a=!1,this.#o=void 0,this.#r.clear()}#d(e,r){let n=this.#e.queue.serve(e);n&&(r.request=n,r.triggers.add(n))}#p(){this.#y(),this.#x();let e=this.#t.textTracks;new Ge(e).add("add",this.#y.bind(this)).add("remove",this.#y.bind(this)).add("mode-change",this.#x.bind(this))}#g(){let e=this.#t.qualities;new Ge(e).add("add",this.#b.bind(this)).add("remove",this.#b.bind(this)).add("change",this.#k.bind(this)).add("auto-change",this.#v.bind(this)).add("readonly-change",this.#T.bind(this))}#m(){let e=this.#t.audioTracks;new Ge(e).add("add",this.#h.bind(this)).add("remove",this.#h.bind(this)).add("change",this.#w.bind(this))}#y(e){let{textTracks:r}=this.$state;r.set(this.#t.textTracks.toArray()),this.dispatch("text-tracks-change",{detail:r(),trigger:e})}#x(e){e&&this.#d("media-text-track-change-request",e);let r=this.#t.textTracks.selected,{textTrack:n}=this.$state;n()!==r&&(n.set(r),this.dispatch("text-track-change",{detail:r,trigger:e}))}#h(e){let{audioTracks:r}=this.$state;r.set(this.#t.audioTracks.toArray()),this.dispatch("audio-tracks-change",{detail:r(),trigger:e})}#w(e){let{audioTrack:r}=this.$state;r.set(this.#t.audioTracks.selected),e&&this.#d("media-audio-track-change-request",e),this.dispatch("audio-track-change",{detail:r(),trigger:e})}#b(e){let{qualities:r}=this.$state;r.set(this.#t.qualities.toArray()),this.dispatch("qualities-change",{detail:r(),trigger:e})}#k(e){let{quality:r}=this.$state;r.set(this.#t.qualities.selected),e&&this.#d("media-quality-change-request",e),this.dispatch("quality-change",{detail:r(),trigger:e})}#v(){let{qualities:e}=this.#t,r=e.auto;this.$state.autoQuality.set(r),r||this.#E()}#S=null;#C(){this.#E(),this.#S=M(()=>{let{qualities:e}=this.#t,{mediaWidth:r,mediaHeight:n}=this.$state,i=r(),s=n();if(i===0||s===0)return;let a=null,o=1/0;for(let l of e){let c=Math.abs(l.width-i)+Math.abs(l.height-s);c<o&&(o=c,a=l)}a&&e[pe.select](a,!0,new me("resize",{detail:{width:i,height:s}}))})}#E(){this.#S?.(),this.#S=null}#T(){this.$state.canSetQuality.set(!this.#t.qualities.readonly)}#I(){let{canSetVolume:e,isGoogleCastConnected:r}=this.$state;if(r()){e.set(!1);return}VW().then(e.set)}"provider-change"(e){let r=this.#t.$provider(),n=e.detail;r?.type!==n?.type&&(r?.destroy?.(),r?.scope?.dispose(),this.#t.$provider.set(e.detail),r&&e.detail===null&&this.#M(e))}"provider-loader-change"(e){}"auto-play"(e){this.$state.autoPlayError.set(null)}"auto-play-fail"(e){this.$state.autoPlayError.set(e.detail),this.#f()}"can-load"(e){this.$state.canLoad.set(!0),this.#r.set("can-load",e),this.#t.textTracks[ve.canLoad](),this.#d("media-start-loading",e)}"can-load-poster"(e){this.$state.canLoadPoster.set(!0),this.#r.set("can-load-poster",e),this.#d("media-poster-start-loading",e)}"media-type-change"(e){let r=this.#r.get("source-change");r&&e.triggers.add(r);let n=this.$state.viewType();this.$state.mediaType.set(e.detail);let i=this.$state.providedViewType(),s=i==="unknown"?e.detail:i;n!==s&&(ne?this.$state.inferredViewType.set(s):setTimeout(()=>{requestAnimationFrame(()=>{this.scope&&(this.$state.inferredViewType.set(e.detail),this.dispatch("view-type-change",{detail:s,trigger:e}))})},0))}"stream-type-change"(e){let r=this.#r.get("source-change");r&&e.triggers.add(r);let{streamType:n,inferredStreamType:i}=this.$state;i.set(e.detail),e.detail=n()}"rate-change"(e){let{storage:r}=this.#t,{canPlay:n}=this.$state;this.$state.playbackRate.set(e.detail),this.#d("media-rate-change-request",e),n()&&r?.setPlaybackRate?.(e.detail)}"remote-playback-change"(e){let{remotePlaybackState:r,remotePlaybackType:n}=this.$state,{type:i,state:s}=e.detail,a=s==="connected";n.set(i),r.set(s);let o=i==="airplay"?"media-airplay-request":"media-google-cast-request";if(a)this.#d(o,e);else{let l=this.#e.queue.peek(o);l&&(e.request=l,e.triggers.add(l))}}"sources-change"(e){let r=this.$state.sources(),n=e.detail;this.$state.sources.set(n),this.#L(r,n,e)}#L(e,r,n){let{qualities:i}=this.#t,s=!1,a=!1;for(let o of e){if(!Ek(o))continue;if(!r.some(c=>c.src===o.src)){let c=i.getBySrc(o.src);c&&(i[pe.remove](c,n),a=!0)}}a&&!i.length&&(this.$state.savedState.set(null),i[pe.reset](n));for(let o of r){if(!Ek(o)||i.getBySrc(o.src))continue;let l={id:o.id??o.height+"p",bitrate:null,codec:null,...o,selected:!1};i[pe.add](l,n),s=!0}s&&!i[Sr.enableAuto]&&(this.#C(),i[Sr.enableAuto]=this.#C.bind(this),i[Sr.setAuto](!0,n))}"source-change"(e){e.isQualityChange=e.originEvent?.type==="quality-change";let r=e.detail;this.#M(e,e.isQualityChange),this.#r.set(e.type,e),this.$state.source.set(r),this.el?.setAttribute("aria-busy","true")}#M(e,r=!1){let{audioTracks:n,qualities:i}=this.#t;if(!r){this.#i=[],this.#s=[-1,-1],n[pe.reset](e),i[pe.reset](e),sO(this.$state,r),this.#f();return}sO(this.$state,r),this.#f()}abort(e){let r=this.#r.get("source-change");r&&e.triggers.add(r);let n=this.#r.get("can-load");n&&!e.triggers.hasType("can-load")&&e.triggers.add(n)}"load-start"(e){let r=this.#r.get("source-change");r&&e.triggers.add(r)}error(e){this.$state.error.set(e.detail);let r=this.#r.get("abort");r&&e.triggers.add(r)}"loaded-metadata"(e){let r=this.#r.get("load-start");r&&e.triggers.add(r)}"loaded-data"(e){let r=this.#r.get("load-start");r&&e.triggers.add(r)}"can-play"(e){let r=this.#r.get("loaded-metadata");r&&e.triggers.add(r),this.#P(e.detail),this.el?.setAttribute("aria-busy","false")}"can-play-through"(e){this.#P(e.detail);let r=this.#r.get("can-play");r&&e.triggers.add(r)}#P(e){let{seekable:r,buffered:n,intrinsicDuration:i,canPlay:s}=this.$state;s.set(!0),n.set(e.buffered),r.set(e.seekable);let a=oc(e.seekable)??1/0;i.set(a)}"duration-change"(e){let{live:r,intrinsicDuration:n,providedDuration:i,clipEndTime:s,ended:a}=this.$state,o=e.detail;if(!r()){let l=Number.isNaN(o)?0:o;n.set(l),a()&&this.#D(e)}(i()>0||s()>0)&&e.stopImmediatePropagation()}progress(e){let{buffered:r,seekable:n}=this.$state,{buffered:i,seekable:s}=e.detail,a=oc(i),o=i.length!==r().length,l=a!==oc(r()),c=oc(s),u=s.length!==n().length,d=c!==oc(n());(o||l)&&r.set(i),(u||d)&&n.set(s)}play(e){let{paused:r,autoPlayError:n,ended:i,autoPlaying:s,playsInline:a,pointer:o,muted:l,viewType:c,live:u,userBehindLiveEdge:d}=this.$state;if(this.#_(),!r()){e.stopImmediatePropagation();return}e.autoPlay=s();let f=this.#r.get("waiting");f&&e.triggers.add(f),this.#d("media-play-request",e),this.#r.set("play",e),r.set(!1),n.set(null),e.autoPlay&&(this.handle(this.createEvent("auto-play",{detail:{muted:l()},trigger:e})),s.set(!1)),(i()||this.#e.replaying)&&(this.#e.replaying=!1,i.set(!1),this.handle(this.createEvent("replay",{trigger:e}))),!a()&&c()==="video"&&o()==="coarse"&&this.#t.remote.enterFullscreen("prefer-media",e),u()&&!d()&&this.#t.remote.seekToLiveEdge(e)}#_(e){if(!W(this.#t.$provider))return;let{ended:n,seekableStart:i,clipEndTime:s,currentTime:a,realCurrentTime:o,duration:l}=this.$state,c=n()||o()<i()||s()>0&&o()>=s()||Math.abs(a()-l())<.1;return c&&this.dispatch("media-seek-request",{detail:i(),trigger:e}),c}"play-fail"(e){let{muted:r,autoPlaying:n}=this.$state,i=this.#r.get("play");i&&e.triggers.add(i),this.#d("media-play-request",e);let{paused:s,playing:a}=this.$state;s.set(!0),a.set(!1),this.#f(),this.#r.set("play-fail",e),e.autoPlay&&(this.handle(this.createEvent("auto-play-fail",{detail:{muted:r(),error:e.detail},trigger:e})),n.set(!1))}playing(e){let r=this.#r.get("play"),n=this.#r.get("seeked");r?e.triggers.add(r):n&&e.triggers.add(n),setTimeout(()=>this.#f(),0);let{paused:i,playing:s,live:a,liveSyncPosition:o,seekableEnd:l,started:c,currentTime:u,seeking:d,ended:f}=this.$state;if(i.set(!1),s.set(!0),d.set(!1),f.set(!1),this.#e.looping){this.#e.looping=!1;return}if(a()&&!c()&&u()===0){let p=o()??l()-2;Number.isFinite(p)&&this.#t.$provider().setCurrentTime(p)}this.started(e)}started(e){let{started:r}=this.$state;r()||(r.set(!0),this.handle(this.createEvent("started",{trigger:e})))}pause(e){this.el?.isConnected||(this.#l=!0),this.#d("media-pause-request",e);let r=this.#r.get("seeked");r&&e.triggers.add(r);let{paused:n,playing:i}=this.$state;n.set(!0),i.set(!1),this.#n&&setTimeout(()=>{this.handle(this.createEvent("end",{trigger:e})),this.#n=!1},0),this.#f()}"time-change"(e){if(this.#e.looping){e.stopImmediatePropagation();return}let{waiting:r,played:n,clipEndTime:i,realCurrentTime:s,currentTime:a}=this.$state,o=e.detail,l=i();s.set(o),this.#R(),r.set(!1);for(let c of this.#t.textTracks)c[ve.updateActiveCues](o,e);l>0&&o>=l&&(this.#n=!0,this.dispatch("media-pause-request",{trigger:e})),this.#N(),this.dispatch("time-update",{detail:{currentTime:a(),played:n()},trigger:e})}#R(){let{currentTime:e,played:r,paused:n}=this.$state;n()||(this.#s=UW(this.#i,this.#s,e()),r.set(new It(this.#i)))}#D(e){let{clipStartTime:r,clipEndTime:n,duration:i}=this.$state;r()>0||n()>0||this.handle(this.createEvent("time-change",{detail:i(),trigger:e}))}#N(){let{storage:e}=this.#t,{canPlay:r,realCurrentTime:n}=this.$state;r()&&e?.setTime?.(n())}"audio-gain-change"(e){let{storage:r}=this.#t,{canPlay:n,audioGain:i}=this.$state;i.set(e.detail),this.#d("media-audio-gain-change-request",e),n()&&r?.setAudioGain?.(i())}"volume-change"(e){let{storage:r}=this.#t,{volume:n,muted:i,canPlay:s}=this.$state,a=e.detail;n.set(a.volume),i.set(a.muted||a.volume===0),this.#d("media-volume-change-request",e),this.#d(a.muted?"media-mute-request":"media-unmute-request",e),s()&&(r?.setVolume?.(n()),r?.setMuted?.(i()))}seeking=zo(e=>{let{seeking:r,realCurrentTime:n,paused:i}=this.$state;r.set(!0),n.set(e.detail),this.#d("media-seeking-request",e),i()&&(this.#o=e,this.#O()),this.#s=[-1,-1]},150,{leading:!0});seeked(e){let{seeking:r,currentTime:n,realCurrentTime:i,paused:s,seekableEnd:a,ended:o,live:l}=this.$state;if(this.#e.seeking)r.set(!0),e.stopImmediatePropagation();else if(r()){let c=this.#r.get("waiting");c&&e.triggers.add(c);let u=this.#r.get("seeking");u&&!e.triggers.has(u)&&e.triggers.add(u),s()&&this.#A(),r.set(!1),i.set(e.detail),this.#d("media-seek-request",e);let d=e?.originEvent;d?.isTrusted&&!(d instanceof MessageEvent)&&!/seek/.test(d.type)&&this.started(e)}l()||(Math.floor(n())!==Math.floor(a())?o.set(!1):this.end(e))}waiting(e){this.#a||this.#e.seeking||(e.stopImmediatePropagation(),this.#o=e,this.#O())}#O=kv(()=>{if(!this.#o)return;this.#a=!0;let{waiting:e,playing:r}=this.$state;e.set(!0),r.set(!1);let n=this.createEvent("waiting",{trigger:this.#o});this.#r.set("waiting",n),this.dispatch(n),this.#o=void 0,this.#a=!1},300);end(e){let{loop:r,ended:n}=this.$state;if(!(!r()&&n())){if(r()){setTimeout(()=>{requestAnimationFrame(()=>{this.#_(e),this.dispatch("media-loop-request",{trigger:e})})},10);return}setTimeout(()=>this.#F(e),0)}}#F(e){let{storage:r}=this.#t,{paused:n,seeking:i,ended:s,duration:a}=this.$state;this.#D(e),n()||this.dispatch("pause",{trigger:e}),i()&&this.dispatch("seeked",{detail:a(),trigger:e}),s.set(!0),this.#f(),r?.setTime?.(a(),!0),this.dispatch("ended",{trigger:e})}#A(){this.#O.cancel(),this.$state.waiting.set(!1)}"fullscreen-change"(e){let r=e.detail;this.$state.fullscreen.set(r),this.#d(r?"media-enter-fullscreen-request":"media-exit-fullscreen-request",e)}"fullscreen-error"(e){this.#d("media-enter-fullscreen-request",e),this.#d("media-exit-fullscreen-request",e)}"orientation-change"(e){let r=e.detail.lock;this.#d(r?"media-orientation-lock-request":"media-orientation-unlock-request",e)}"picture-in-picture-change"(e){let r=e.detail;this.$state.pictureInPicture.set(r),this.#d(r?"media-enter-pip-request":"media-exit-pip-request",e)}"picture-in-picture-error"(e){this.#d("media-enter-pip-request",e),this.#d("media-exit-pip-request",e)}"title-change"(e){e.trigger&&(e.stopImmediatePropagation(),this.$state.inferredTitle.set(e.detail))}"poster-change"(e){e.trigger&&(e.stopImmediatePropagation(),this.$state.inferredPoster.set(e.detail))}},IO=class extends Qo{onSetup(){if(this.#e(),ne)return;let e=[this.#n,this.#s,this.#d,this.#p,this.#o,this.#u,this.#c,this.#g,this.#y,this.#m,this.#a,this.#f,this.#l,this.#t,this.#i];for(let r of e)M(r.bind(this))}#e(){let e={duration:"providedDuration",loop:"providedLoop",poster:"providedPoster",streamType:"providedStreamType",title:"providedTitle",viewType:"providedViewType"},r=new Set(["currentTime","paused","playbackRate","volume"]);for(let n of Object.keys(this.$props))r.has(n)||this.$state[e[n]??n]?.set(this.$props[n]());this.$state.muted.set(this.$props.muted()||this.$props.volume()===0)}#t(){let{viewType:e,streamType:r,title:n,poster:i,loop:s}=this.$props,a=this.$state;a.providedPoster.set(i()),a.providedStreamType.set(r()),a.providedViewType.set(e()),a.providedTitle.set(n()),a.providedLoop.set(s())}#r(){}#n(){let{artist:e,artwork:r}=this.$props;this.$state.artist.set(e()),this.$state.artwork.set(r())}#i(){let{title:e}=this.$state;this.dispatch("title-change",{detail:e()})}#s(){let e=this.$props.autoPlay()||this.$props.autoplay();this.$state.autoPlay.set(e),this.dispatch("auto-play-change",{detail:e})}#a(){let e=this.$state.loop();this.dispatch("loop-change",{detail:e})}#o(){let e=this.$props.controls();this.$state.controls.set(e)}#l(){let{poster:e}=this.$state;this.dispatch("poster-change",{detail:e()})}#u(){let e=this.$props.crossOrigin()??this.$props.crossorigin(),r=e===!0?"":e;this.$state.crossOrigin.set(r)}#c(){let{duration:e}=this.$props;this.dispatch("media-duration-change-request",{detail:e()})}#f(){let e=this.$props.playsInline()||this.$props.playsinline();this.$state.playsInline.set(e),this.dispatch("plays-inline-change",{detail:e})}#d(){let{clipStartTime:e}=this.$props;this.dispatch("media-clip-start-change-request",{detail:e()})}#p(){let{clipEndTime:e}=this.$props;this.dispatch("media-clip-end-change-request",{detail:e()})}#g(){this.dispatch("live-change",{detail:this.$state.live()})}#m(){this.$state.liveEdgeTolerance.set(this.$props.liveEdgeTolerance()),this.$state.minLiveDVRWindow.set(this.$props.minLiveDVRWindow())}#y(){this.dispatch("live-edge-change",{detail:this.$state.liveEdge()})}},LW=["play","pause","seekforward","seekbackward","seekto"],RO=class extends Qo{onConnect(){M(this.#t.bind(this)),M(this.#r.bind(this));let e=this.#n.bind(this);for(let r of LW)navigator.mediaSession.setActionHandler(r,e);ke(this.#e.bind(this))}#e(){for(let e of LW)navigator.mediaSession.setActionHandler(e,null)}#t(){let{title:e,artist:r,artwork:n,poster:i}=this.$state;navigator.mediaSession.metadata=new MediaMetadata({title:e(),artist:r(),artwork:n()??[{src:i()}]})}#r(){let{canPlay:e,paused:r}=this.$state;navigator.mediaSession.playbackState=e()?r()?"paused":"playing":"none"}#n(e){let r=new me("media-session-action",{detail:e});switch(e.action){case"play":this.dispatch("media-play-request",{trigger:r});break;case"pause":this.dispatch("media-pause-request",{trigger:r});break;case"seekto":case"seekforward":case"seekbackward":this.dispatch("media-seek-request",{detail:sr(e.seekTime)?e.seekTime:this.$state.currentTime()+(e.seekOffset??(e.action==="seekforward"?10:-10)),trigger:r});break}}},Gk=ce(!1);ne||(Pe(document,"pointerdown",()=>{Gk.set(!1)}),Pe(document,"keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||Gk.set(!0)}));Li=class extends ln{#e=ce(!1);onConnect(e){M(()=>{let r=new Ge(e);if(!Gk()){this.#e.set(!1),Sk(e,!1),r.add("pointerenter",this.#n.bind(this)).add("pointerleave",this.#i.bind(this));return}let n=document.activeElement===e;this.#e.set(n),Sk(e,n),r.add("focus",this.#t.bind(this)).add("blur",this.#r.bind(this))})}focused(){return this.#e()}#t(){this.#e.set(!0),Sk(this.el,!0)}#r(){this.#e.set(!1),Sk(this.el,!1)}#n(){IW(this.el,!0)}#i(){IW(this.el,!1)}};Wk=class t extends Ae{static props=mLe;static state=uc;#e;#t;#r;canPlayQueue=new Hk;remoteControl;get#n(){return this.#e.$provider()}get#i(){return this.$props}constructor(){super(),new IO;let e={player:this,qualities:new Ok,audioTracks:new Ik,storage:null,$provider:ce(null),$providerSetup:ce(!1),$props:this.$props,$state:this.$state};e.remote=this.remoteControl=new Cd(void 0),e.remote.setPlayer(this),e.textTracks=new Pk,e.textTracks[ve.crossOrigin]=this.$state.crossOrigin,e.textRenderers=new Mk(e),e.ariaKeys={},this.#e=e,In(Db,e),this.orientation=new Xv,new Li,new cO(e);let r=new AO;this.#t=new LO(r,e),this.#r=new TO(this.#t,r,e),e.delegate=new CO(this.#t.handle.bind(this.#t),e),e.notify=e.delegate.notify.bind(e.delegate),typeof navigator<"u"&&"mediaSession"in navigator&&new RO,new zk("load",this.startLoading.bind(this)),new zk("posterLoad",this.startLoadingPoster.bind(this))}onSetup(){this.#u(),M(this.#l.bind(this)),M(this.#m.bind(this)),M(this.#p.bind(this)),M(this.#w.bind(this)),M(this.#x.bind(this)),M(this.#S.bind(this)),M(this.#k.bind(this))}onAttach(e){e.setAttribute("data-media-player",""),rt(e,"tabindex","0"),rt(e,"role","region"),M(this.#E.bind(this)),ne?this.#a():M(this.#a.bind(this)),ne?this.#o():M(this.#o.bind(this)),Pe(e,"find-media-player",this.#c.bind(this))}onConnect(e){NW&&ge(e,"data-iphone","");let r=window.matchMedia("(pointer: coarse)");this.#d(r),r.onchange=this.#d.bind(this);let n=new ResizeObserver(md(this.#f.bind(this)));n.observe(e),M(this.#f.bind(this)),this.dispatch("media-player-connect",{detail:this,bubbles:!0,composed:!0}),ke(()=>{n.disconnect(),r.onchange=null})}onDestroy(){this.#e.player=null,this.canPlayQueue.reset()}#s=!1;#a(){let e=this.$el,{title:r,live:n,viewType:i,providedTitle:s}=this.$state,a=n(),o=KS(i()),l=o!=="Unknown"?`${a?"Live ":""}${o}`:a?"Live":"Media",c=r();ge(this.el,"aria-label",`${l} Player`+(c?` - ${c}`:"")),!ne&&e?.hasAttribute("title")&&(this.#s=!0,e?.removeAttribute("title"))}#o(){let e=this.orientation.landscape?"landscape":"portrait";this.$state.orientation.set(e),ge(this.el,"data-orientation",e),this.#f()}#l(){this.$state.canPlay()&&this.#n?this.canPlayQueue.start():this.canPlayQueue.stop()}#u(){if(t[ZP]){this.setAttributes(t[ZP]);return}let e={"data-load":function(){return this.$props.load()},"data-captions":function(){let n=this.$state.textTrack();return!!n&&Mn(n)},"data-ios-controls":function(){return this.$state.iOSControls()},"data-controls":function(){return this.controls.showing},"data-buffering":function(){let{canLoad:n,canPlay:i,waiting:s}=this.$state;return n()&&(!i()||s())},"data-error":function(){let{error:n}=this.$state;return!!n()},"data-autoplay-error":function(){let{autoPlayError:n}=this.$state;return!!n()}},r={autoPlay:"autoplay",canAirPlay:"can-airplay",canPictureInPicture:"can-pip",pictureInPicture:"pip",playsInline:"playsinline",remotePlaybackState:"remote-state",remotePlaybackType:"remote-type",isAirPlayConnected:"airplay",isGoogleCastConnected:"google-cast"};for(let n of hLe){let i="data-"+(r[n]??ic(n));e[i]=function(){return this.$state[n]()}}delete e.title,t[ZP]=e,this.setAttributes(e)}#c(e){e.detail(this)}#f(){if(ne||!this.el)return;let e=this.el.clientWidth,r=this.el.clientHeight;this.$state.width.set(e),this.$state.height.set(r),on(this.el,"--player-width",e+"px"),on(this.el,"--player-height",r+"px")}#d(e){if(ne)return;let r=e.matches?"coarse":"fine";ge(this.el,"data-pointer",r),this.$state.pointer.set(r),this.#f()}get provider(){return this.#n}get controls(){return this.#r.controls}set controls(e){this.#i.controls.set(e)}orientation;get title(){return W(this.$state.title)}set title(e){if(this.#s){this.#s=!1;return}this.#i.title.set(e)}get qualities(){return this.#e.qualities}get audioTracks(){return this.#e.audioTracks}get textTracks(){return this.#e.textTracks}get textRenderers(){return this.#e.textRenderers}get duration(){return this.$state.duration()}set duration(e){this.#i.duration.set(e)}get paused(){return W(this.$state.paused)}set paused(e){this.#g(e)}#p(){this.#g(this.$props.paused())}#g(e){e?this.canPlayQueue.enqueue("paused",()=>this.#r.pause()):this.canPlayQueue.enqueue("paused",()=>this.#r.play())}get muted(){return W(this.$state.muted)}set muted(e){this.#y(e)}#m(){this.#y(this.$props.muted())}#y(e){this.canPlayQueue.enqueue("muted",()=>{this.#n&&this.#n.setMuted(e)})}get currentTime(){return W(this.$state.currentTime)}set currentTime(e){this.#h(e)}#x(){this.#h(this.$props.currentTime())}#h(e){this.canPlayQueue.enqueue("currentTime",()=>{let{currentTime:r}=this.$state;e!==W(r)&&W(()=>{if(!this.#n)return;let n=v_(e,this.$state);Number.isFinite(n)&&this.#n.setCurrentTime(n)})})}get volume(){return W(this.$state.volume)}set volume(e){this.#b(e)}#w(){this.#b(this.$props.volume())}#b(e){let r=b_(0,e,1);this.canPlayQueue.enqueue("volume",()=>{this.#n&&this.#n.setVolume(r)})}get playbackRate(){return W(this.$state.playbackRate)}set playbackRate(e){this.#v(e)}#k(){this.#v(this.$props.playbackRate())}#v(e){this.canPlayQueue.enqueue("rate",()=>{this.#n&&this.#n.setPlaybackRate?.(e)})}#S(){this.#C(this.$props.playsInline())}#C(e){this.canPlayQueue.enqueue("playsinline",()=>{this.#n&&this.#n.setPlaysInline?.(e)})}#E(){let e=this.$props.storage(),r=le(e)?new Ak:e;if(r?.onChange){let{source:n}=this.$state,i=le(e)?e:this.el?.id,s=Vo(this.#T.bind(this));M(()=>r.onChange(n(),s(),i||void 0))}this.#e.storage=r,this.#e.textTracks.setStorage(r),ke(()=>{r?.onDestroy?.(),this.#e.storage=null,this.#e.textTracks.setStorage(null)})}#T(){let{clipStartTime:e,clipEndTime:r}=this.$props,{source:n}=this.$state,i=n();return i.src?`${i.src}:${e()}:${r()}`:null}async play(e){return this.#r.play(e)}async pause(e){return this.#r.pause(e)}async enterFullscreen(e,r){return this.#r.enterFullscreen(e,r)}async exitFullscreen(e,r){return this.#r.exitFullscreen(e,r)}enterPictureInPicture(e){return this.#r.enterPictureInPicture(e)}exitPictureInPicture(e){return this.#r.exitPictureInPicture(e)}seekToLiveEdge(e){this.#r.seekToLiveEdge(e)}startLoading(e){this.#e.notify("can-load",void 0,e)}startLoadingPoster(e){this.#e.notify("can-load-poster",void 0,e)}requestAirPlay(e){return this.#r.requestAirPlay(e)}requestGoogleCast(e){return this.#r.requestGoogleCast(e)}setAudioGain(e,r){return this.#r.setAudioGain(e,r)}destroy(){super.destroy(),this.#e.remote.setPlayer(null),this.dispatch("destroy")}},gt=Wk.prototype;et(gt,"canPlayQueue");et(gt,"remoteControl");et(gt,"provider");et(gt,"controls");et(gt,"orientation");et(gt,"title");et(gt,"qualities");et(gt,"audioTracks");et(gt,"textTracks");et(gt,"textRenderers");et(gt,"duration");et(gt,"paused");et(gt,"muted");et(gt,"currentTime");et(gt,"volume");et(gt,"playbackRate");hr(gt,"play");hr(gt,"pause");hr(gt,"enterFullscreen");hr(gt,"exitFullscreen");hr(gt,"enterPictureInPicture");hr(gt,"exitPictureInPicture");hr(gt,"seekToLiveEdge");hr(gt,"startLoading");hr(gt,"startLoadingPoster");hr(gt,"requestAirPlay");hr(gt,"requestGoogleCast");hr(gt,"setAudioGain");MO=new Map,PO=class{#e=!1;#t;#r;#n;#i;constructor(e,r,n,i=[]){this.#r=e,this.#n=r,this.#i=n;let s=new qk,a=new $k,o=new Zp,l=new Fk,c=new Uk,u=new Bk,d=[c,u];this.#t=Vo(()=>{let p=r.$state.remotePlaybackLoader(),h=r.$props.preferNativeHLS()?[o,l,s,a,...d,...i]:[a,o,l,s,...d,...i];return p?[p,...h]:h});let{$state:f}=r;f.sources.set(RW(r.$props.src()));for(let p of f.sources()){let h=this.#t().find(v=>v.canPlay(p));if(!h)continue;let g=h.mediaType(p);r.$state.source.set(p),r.$state.mediaType.set(g),r.$state.inferredViewType.set(g),this.#i.set(h),this.#e=!0;break}}connect(){let e=this.#i();this.#e&&(this.#l(this.#n.$state.source(),e),this.#u(e),this.#e=!1),M(this.#s.bind(this)),M(this.#a.bind(this)),M(this.#c.bind(this)),M(this.#f.bind(this)),M(this.#d.bind(this))}#s(){this.#n.notify("sources-change",[...RW(this.#n.$props.src()),...this.#r()])}#a(){let{$state:e}=this.#n,r=e.sources(),n=W(e.source),i=this.#o(n,r);if(r[0]?.src&&!i.src&&!i.type){let{crossOrigin:a}=e,o=Wv(a()),l=new AbortController;return Promise.all(r.map(c=>le(c.src)&&c.type==="?"?fetch(c.src,{method:"HEAD",credentials:o,signal:l.signal}).then(u=>(c.type=u.headers.get("content-type")||"??",MO.set(c.src,c.type),c)).catch(()=>c):c)).then(c=>{if(l.signal.aborted)return;let u=this.#o(W(e.source),c);Ti(),u.src||this.#n.notify("error",{message:"Failed to load resource.",code:4})}),()=>l.abort()}Ti()}#o(e,r){let n={src:"",type:""},i=null,s=new me("sources-change",{detail:{sources:r}}),a=this.#t(),{started:o,paused:l,currentTime:c,quality:u,savedState:d}=this.#n.$state;for(let f of r){let p=a.find(h=>h.canPlay(f));if(p){n=f,i=p;break}}if(Ek(n)){let f=u(),p=r.find(h=>h.src===f?.src);W(o)?d.set({paused:W(l),currentTime:W(c)}):d.set(null),p&&(n=p,s=new me("quality-change",{detail:{quality:f}}))}return PW(e,n)||this.#l(n,i,s),i!==W(this.#i)&&this.#u(i,s),n}#l(e,r,n){this.#n.notify("source-change",e,n),this.#n.notify("media-type-change",r?.mediaType(e)||"unknown",n)}#u(e,r){this.#n.$providerSetup.set(!1),this.#n.notify("provider-change",null,r),e&&W(()=>e.preconnect?.(this.#n)),this.#i.set(e),this.#n.notify("provider-loader-change",e,r)}#c(){let e=this.#n.$provider();if(!(!e||W(this.#n.$providerSetup))){if(this.#n.$state.canLoad()){Dr(()=>e.setup(),e.scope),this.#n.$providerSetup.set(!0);return}W(()=>e.preconnect?.())}}#f(){if(!this.#n.$providerSetup())return;let e=this.#n.$provider(),r=this.#n.$state.source(),n=W(this.#n.$state.crossOrigin),i=W(this.#n.$props.preferNativeHLS);if(!PW(e?.currentSrc,r)){if(this.#n.$state.canLoad()){let s=new AbortController;return Ad(r)?(i||!jv())&&pK(r.src,{credentials:Wv(n),signal:s.signal}).then(a=>{this.#n.notify("stream-type-change",a)}).catch(oa):cC(r)?wLe(r.src,{credentials:Wv(n),signal:s.signal}).then(a=>{this.#n.notify("stream-type-change",a)}).catch(oa):this.#n.notify("stream-type-change","on-demand"),W(()=>{let a=W(this.#n.$state.preload);return e?.loadSource(r,a).catch(o=>{})}),()=>s.abort()}try{le(r.src)&&xs(new URL(r.src).origin)}catch{}}}#d(){let e=this.#i(),{providedPoster:r,source:n,canLoadPoster:i}=this.#n.$state;if(!e||!e.loadPoster||!n()||!i()||r())return;let s=new AbortController,a=new me("source-change",{detail:n});return e.loadPoster(n(),this.#n,s).then(o=>{this.#n.notify("poster-change",o||"",a)}).catch(()=>{this.#n.notify("poster-change","",a)}),()=>{s.abort()}}};OO=class{#e;#t;#r=[];constructor(e,r){this.#e=e,this.#t=r,M(this.#n.bind(this))}#n(){let e=this.#e();for(let r of this.#r)if(!e.some(n=>n.id===r.id)){let n=r.id&&this.#t.textTracks.getById(r.id);n&&this.#t.textTracks.remove(n)}for(let r of e){let n=r.id||cn.createId(r);this.#t.textTracks.getById(n)||(r.id=n,this.#t.textTracks.add(r))}this.#r=e}},Kk=class extends Ae{static props={loaders:[]};static state=new ca({loader:null});#e;#t;#r=ce([]);#n=ce([]);#i=null;onSetup(){this.#e=ot(),this.#t=new PO(this.#r,this.#e,this.$state.loader,this.$props.loaders())}onAttach(e){e.setAttribute("data-media-provider","")}onConnect(e){this.#t.connect(),new OO(this.#n,this.#e);let r=new ResizeObserver(md(this.#l.bind(this)));r.observe(e);let n=new MutationObserver(this.#u.bind(this));n.observe(e,{attributes:!0,childList:!0}),this.#l(),this.#u(),ke(()=>{r.disconnect(),n.disconnect()})}#s=-1;load(e){e?.setAttribute("aria-hidden","true"),window.cancelAnimationFrame(this.#s),this.#s=requestAnimationFrame(()=>this.#a(e)),ke(()=>{window.cancelAnimationFrame(this.#s)})}#a(e){if(!this.scope)return;let r=this.$state.loader(),{$provider:n}=this.#e;this.#i===r&&r?.target===e&&W(n)||(this.#o(),this.#i=r,r&&(r.target=e||null),!(!r||!e)&&r.load(this.#e).then(i=>{this.scope&&W(this.$state.loader)===r&&this.#e.notify("provider-change",i)}))}onDestroy(){this.#i=null,this.#o()}#o(){this.#e?.notify("provider-change",null)}#l(){if(!this.el)return;let{player:e,$state:r}=this.#e,n=this.el.offsetWidth,i=this.el.offsetHeight;e&&(r.mediaWidth.set(n),r.mediaHeight.set(i),e.el&&(on(e.el,"--media-width",n+"px"),on(e.el,"--media-height",i+"px")))}#u(){let e=[],r=[],n=this.el.children;for(let i of n)if(!i.hasAttribute("data-vds")){if(i instanceof HTMLSourceElement){let s={id:i.id,src:i.src,type:i.type};for(let a of["id","src","width","height","bitrate","codec"]){let o=i.getAttribute(`data-${a}`);le(o)&&(s[a]=/id|src|codec/.test(a)?o:Number(o))}e.push(s)}else if(i instanceof HTMLTrackElement){let s={src:i.src,kind:i.track.kind,language:i.srclang,label:i.label,default:i.default,type:i.getAttribute("data-type")};r.push({id:i.id||cn.createId(s),...s})}}this.#r.set(e),this.#n.set(r),Ti()}},kLe=Kk.prototype;hr(kLe,"load");_O=class extends Ae{static props={translations:null};static state=new ca({label:null,busy:!1});#e;#t=!1;onSetup(){this.#e=ot()}onAttach(e){e.style.display="contents"}onConnect(e){e.setAttribute("data-media-announcer",""),rt(e,"role","status"),rt(e,"aria-live","polite");let{busy:r}=this.$state;this.setAttributes({"aria-busy":()=>r()?"true":null}),this.#t=!0,M(this.#r.bind(this)),M(this.#a.bind(this)),M(this.#s.bind(this)),M(this.#n.bind(this)),M(this.#i.bind(this)),M(this.#u.bind(this)),M(this.#f.bind(this)),Ti(),this.#t=!1}#r(){let{paused:e}=this.#e.$state;this.#d(e()?"Pause":"Play")}#n(){let{fullscreen:e}=this.#e.$state;this.#d(e()?"Enter Fullscreen":"Exit Fullscreen")}#i(){let{pictureInPicture:e}=this.#e.$state;this.#d(e()?"Enter PiP":"Exit PiP")}#s(){let{textTrack:e}=this.#e.$state;this.#d(e()?"Closed-Captions On":"Closed-Captions Off")}#a(){let{muted:e,volume:r,audioGain:n}=this.#e.$state;this.#d(e()||r()===0?"Mute":`${Math.round(r()*(n()??1)*100)}% ${this.#c("Volume")}`)}#o=-1;#l=-1;#u(){let{seeking:e,currentTime:r}=this.#e.$state,n=e();this.#o>0?(window.clearTimeout(this.#l),this.#l=window.setTimeout(()=>{if(!this.scope)return;let i=W(r),s=Math.abs(i-this.#o);if(s>=1){let a=i>=this.#o,o=Qv(s);this.#d(`${this.#c(a?"Seek Forward":"Seek Backward")} ${o}`)}this.#o=-1,this.#l=-1},300)):n&&(this.#o=W(r))}#c(e){let{translations:r}=this.$props;return r?.()?.[e||""]??e}#f(){let{label:e,busy:r}=this.$state,n=this.#c(e());if(this.#t)return;r.set(!0);let i=window.setTimeout(()=>void r.set(!1),150);return this.el&&ge(this.el,"aria-label",n),le(n)&&this.dispatch("change",{detail:n}),()=>window.clearTimeout(i)}#d(e){let{label:r}=this.$state;r.set(e)}},DO=class extends Ae{static props={hideDelay:2e3,hideOnMouseLeave:!1};#e;onSetup(){this.#e=ot(),M(this.#r.bind(this))}onAttach(e){let{pictureInPicture:r,fullscreen:n}=this.#e.$state;on(e,"pointer-events","none"),rt(e,"role","group"),this.setAttributes({"data-visible":this.#n.bind(this),"data-fullscreen":n,"data-pip":r}),M(()=>{this.dispatch("change",{detail:this.#n()})}),M(this.#t.bind(this)),M(()=>{let i=n();for(let s of["top","right","bottom","left"])on(e,`padding-${s}`,i&&`env(safe-area-inset-${s})`)})}#t(){if(!this.el)return;let{nativeControls:e}=this.#e.$state,r=e();ge(this.el,"aria-hidden",r?"true":null),on(this.el,"display",r?"none":null)}#r(){let{controls:e}=this.#e.player,{hideDelay:r,hideOnMouseLeave:n}=this.$props;e.defaultDelay=r()===2e3?this.#e.$props.controlsDelay():r(),e.hideOnMouseLeave=n()}#n(){let{controlsVisible:e}=this.#e.$state;return e()}},NO=class extends Ae{onAttach(e){e.style.pointerEvents||on(e,"pointer-events","auto")}},Yk=class extends ln{#e;constructor(e){super(),this.#e=e,M(this.#t.bind(this))}onDestroy(){this.#i?.(),this.#i=null}#t(){let e=this.#e.trigger();if(!e){this.hide();return}let r=this.show.bind(this),n=this.hide.bind(this);this.#e.listen(e,r,n)}#r=-1;#n=-1;#i=null;show(e){this.#s(),window.cancelAnimationFrame(this.#n),this.#n=-1,this.#i?.(),this.#i=null,this.#r=window.setTimeout(()=>{this.#r=-1;let r=this.#e.content();r&&r.style.removeProperty("display"),W(()=>this.#e.onChange(!0,e))},this.#e.showDelay?.()??0)}hide(e){this.#s(),W(()=>this.#e.onChange(!1,e)),this.#n=requestAnimationFrame(()=>{this.#s(),this.#n=-1;let r=this.#e.content();if(r){let n=()=>{r.style.display="none",this.#i=null};if(GAe(r)){this.#i?.();let s=Pe(r,"animationend",n,{once:!0});this.#i=s}else n()}})}#s(){window.clearTimeout(this.#r),this.#r=-1}},kd=Xa(),CLe=0,FO=class extends Ae{static props={showDelay:700};#e=`media-tooltip-${++CLe}`;#t=ce(null);#r=ce(null);#n=ce(!1);constructor(){super(),new Li;let{showDelay:e}=this.$props;new Yk({trigger:this.#t,content:this.#r,showDelay:e,listen(r,n,i){M(()=>{Gk()&&Pe(r,"focus",n),Pe(r,"blur",i)}),new Ge(r).add("touchstart",s=>s.preventDefault(),{passive:!1}).add("mouseenter",n).add("mouseleave",i)},onChange:this.#l.bind(this)})}onAttach(e){e.style.setProperty("display","contents")}onSetup(){In(kd,{trigger:this.#t,content:this.#r,showing:this.#n,attachTrigger:this.#i.bind(this),detachTrigger:this.#s.bind(this),attachContent:this.#a.bind(this),detachContent:this.#o.bind(this)})}#i(e){this.#t.set(e);let r=e.getAttribute("data-media-tooltip");r&&this.el?.setAttribute(`data-media-${r}-tooltip`,""),ge(e,"data-describedby",this.#e)}#s(e){e.removeAttribute("data-describedby"),e.removeAttribute("aria-describedby"),this.#t.set(null)}#a(e){e.setAttribute("id",this.#e),e.style.display="none",rt(e,"role","tooltip"),this.#r.set(e)}#o(e){e.removeAttribute("id"),e.removeAttribute("role"),this.#r.set(null)}#l(e){let r=this.#t(),n=this.#r();r&&ge(r,"aria-describedby",e?this.#e:null);for(let i of[this.el,r,n])i&&ge(i,"data-visible",e);this.#n.set(e)}},$O=class extends Ae{constructor(){super(),new Li}onConnect(e){ke(iK(()=>{if(!this.connectScope)return;this.#e();let r=Ht(kd);ke(()=>{let n=this.#t();n&&r.detachTrigger(n)})}))}#e(){let e=this.#t(),r=Ht(kd);e&&r.attachTrigger(e)}#t(){let e=this.el.firstElementChild;return e?.localName==="button"||e?.getAttribute("role")==="button"?e:this.el}},jO=class extends Ae{static props={placement:"top center",offset:0,alignOffset:0};constructor(){super(),new Li;let{placement:e}=this.$props;this.setAttributes({"data-placement":e})}onAttach(e){this.#e(e),Object.assign(e.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(e){this.#e(e);let r=Ht(kd);ke(()=>r.detachContent(e)),ke(iK(()=>{this.connectScope&&M(this.#t.bind(this))}))}#e(e){Ht(kd).attachContent(e)}#t(){let{showing:e}=Ht(kd);if(!e())return;let{placement:r,offset:n,alignOffset:i}=this.$props;return sK(this.el,this.#r(),r(),{offsetVarName:"media-tooltip",xOffset:i(),yOffset:n()})}#r(){return Ht(kd).trigger()}},Xr=class extends ln{static props={disabled:!1};#e;constructor(e){super(),this.#e=e,new Li,e.keyShortcut&&new _k(e.keyShortcut)}onSetup(){let{disabled:e}=this.$props;this.setAttributes({"data-pressed":this.#e.isPresssed,"aria-pressed":this.#t.bind(this),"aria-disabled":()=>e()?"true":null})}onAttach(e){rt(e,"tabindex","0"),rt(e,"role","button"),rt(e,"type","button")}onConnect(e){let r=lc(e,this.#n.bind(this));for(let n of["click","touchstart"])r.add(n,this.#i.bind(this),{passive:!0})}#t(){return Sv(this.#e.isPresssed())}#r(e){JM(this.#e.isPresssed)&&this.#e.isPresssed.set(r=>!r)}#n(e){if(this.$props.disabled()||this.el.hasAttribute("data-disabled")){e.preventDefault(),e.stopImmediatePropagation();return}e.preventDefault(),(this.#e.onPress??this.#r).call(this,e)}#i(e){this.$props.disabled()&&(e.preventDefault(),e.stopImmediatePropagation())}},Xk=class extends Ae{static props={disabled:!1,defaultPressed:!1};#e=ce(!1);get pressed(){return this.#e()}constructor(){super(),new Xr({isPresssed:this.#e})}},ELe=Xk.prototype;et(ELe,"pressed");VO=class extends Ae{static props=Xr.props;#e;constructor(){super(),new Xr({isPresssed:this.#r.bind(this),onPress:this.#t.bind(this)})}onSetup(){this.#e=ot();let{canAirPlay:e,isAirPlayConnected:r}=this.#e.$state;this.setAttributes({"data-active":r,"data-supported":e,"data-state":this.#n.bind(this),"aria-hidden":Yr(()=>!e())})}onAttach(e){e.setAttribute("data-media-tooltip","airplay"),dc(e,this.#i.bind(this))}#t(e){this.#e.remote.requestAirPlay(e)}#r(){let{remotePlaybackType:e,remotePlaybackState:r}=this.#e.$state;return e()==="airplay"&&r()!=="disconnected"}#n(){let{remotePlaybackType:e,remotePlaybackState:r}=this.#e.$state;return e()==="airplay"&&r()}#i(){let{remotePlaybackState:e}=this.#e.$state;return`AirPlay ${e()}`}},qO=class extends Ae{static props=Xr.props;#e;constructor(){super(),new Xr({isPresssed:this.#r.bind(this),onPress:this.#t.bind(this)})}onSetup(){this.#e=ot();let{canGoogleCast:e,isGoogleCastConnected:r}=this.#e.$state;this.setAttributes({"data-active":r,"data-supported":e,"data-state":this.#n.bind(this),"aria-hidden":Yr(()=>!e())})}onAttach(e){e.setAttribute("data-media-tooltip","google-cast"),dc(e,this.#i.bind(this))}#t(e){this.#e.remote.requestGoogleCast(e)}#r(){let{remotePlaybackType:e,remotePlaybackState:r}=this.#e.$state;return e()==="google-cast"&&r()!=="disconnected"}#n(){let{remotePlaybackType:e,remotePlaybackState:r}=this.#e.$state;return e()==="google-cast"&&r()}#i(){let{remotePlaybackState:e}=this.#e.$state;return`Google Cast ${e()}`}},BO=class extends Ae{static props=Xr.props;#e;constructor(){super(),new Xr({isPresssed:this.#r.bind(this),keyShortcut:"togglePaused",onPress:this.#t.bind(this)})}onSetup(){this.#e=ot();let{paused:e,ended:r}=this.#e.$state;this.setAttributes({"data-paused":e,"data-ended":r})}onAttach(e){e.setAttribute("data-media-tooltip","play"),dc(e,"Play")}#t(e){let r=this.#e.remote;this.#r()?r.pause(e):r.play(e)}#r(){let{paused:e}=this.#e.$state;return!e()}},UO=class extends Ae{static props=Xr.props;#e;constructor(){super(),new Xr({isPresssed:this.#r.bind(this),keyShortcut:"toggleCaptions",onPress:this.#t.bind(this)})}onSetup(){this.#e=ot(),this.setAttributes({"data-active":this.#r.bind(this),"data-supported":()=>!this.#n(),"aria-hidden":Yr(this.#n.bind(this))})}onAttach(e){e.setAttribute("data-media-tooltip","caption"),dc(e,"Captions")}#t(e){this.#e.remote.toggleCaptions(e)}#r(){let{textTrack:e}=this.#e.$state,r=e();return!!r&&Mn(r)}#n(){let{hasCaptions:e}=this.#e.$state;return!e()}},zO=class extends Ae{static props={...Xr.props,target:"prefer-media"};#e;constructor(){super(),new Xr({isPresssed:this.#r.bind(this),keyShortcut:"toggleFullscreen",onPress:this.#t.bind(this)})}onSetup(){this.#e=ot();let{fullscreen:e}=this.#e.$state,r=this.#n.bind(this);this.setAttributes({"data-active":e,"data-supported":r,"aria-hidden":Yr(()=>!r())})}onAttach(e){e.setAttribute("data-media-tooltip","fullscreen"),dc(e,"Fullscreen")}#t(e){let r=this.#e.remote,n=this.$props.target();this.#r()?r.exitFullscreen(n,e):r.enterFullscreen(n,e)}#r(){let{fullscreen:e}=this.#e.$state;return e()}#n(){let{canFullscreen:e}=this.#e.$state;return e()}},HO=class extends Ae{static props=Xr.props;#e;constructor(){super(),new Xr({isPresssed:this.#r.bind(this),keyShortcut:"toggleMuted",onPress:this.#t.bind(this)})}onSetup(){this.#e=ot(),this.setAttributes({"data-muted":this.#r.bind(this),"data-state":this.#n.bind(this)})}onAttach(e){e.setAttribute("data-media-mute-button",""),e.setAttribute("data-media-tooltip","mute"),dc(e,"Mute")}#t(e){let r=this.#e.remote;this.#r()?r.unmute(e):r.mute(e)}#r(){let{muted:e,volume:r}=this.#e.$state;return e()||r()===0}#n(){let{muted:e,volume:r}=this.#e.$state,n=r();if(e()||n===0)return"muted";if(n>=.5)return"high";if(n<.5)return"low"}},GO=class extends Ae{static props=Xr.props;#e;constructor(){super(),new Xr({isPresssed:this.#r.bind(this),keyShortcut:"togglePictureInPicture",onPress:this.#t.bind(this)})}onSetup(){this.#e=ot();let{pictureInPicture:e}=this.#e.$state,r=this.#n.bind(this);this.setAttributes({"data-active":e,"data-supported":r,"aria-hidden":Yr(()=>!r())})}onAttach(e){e.setAttribute("data-media-tooltip","pip"),dc(e,"PiP")}#t(e){let r=this.#e.remote;this.#r()?r.exitPictureInPicture(e):r.enterPictureInPicture(e)}#r(){let{pictureInPicture:e}=this.#e.$state;return e()}#n(){let{canPictureInPicture:e}=this.#e.$state;return e()}},WO=class extends Ae{static props={disabled:!1,seconds:30};#e;constructor(){super(),new Li}onSetup(){this.#e=ot();let{seeking:e}=this.#e.$state,{seconds:r}=this.$props,n=this.#t.bind(this);this.setAttributes({seconds:r,"data-seeking":e,"data-supported":n,"aria-hidden":Yr(()=>!n())})}onAttach(e){rt(e,"tabindex","0"),rt(e,"role","button"),rt(e,"type","button"),e.setAttribute("data-media-tooltip","seek"),dc(e,this.#r.bind(this))}onConnect(e){lc(e,this.#n.bind(this))}#t(){let{canSeek:e}=this.#e.$state;return e()}#r(){let{seconds:e}=this.$props;return`Seek ${e()>0?"forward":"backward"} ${e()} seconds`}#n(e){let{seconds:r,disabled:n}=this.$props;if(n())return;let{currentTime:i}=this.#e.$state,s=i()+r();this.#e.remote.seek(s,e)}},KO=class extends Ae{static props={disabled:!1};#e;constructor(){super(),new Li}onSetup(){this.#e=ot();let{disabled:e}=this.$props,{live:r,liveEdge:n}=this.#e.$state,i=()=>!r();this.setAttributes({"data-edge":n,"data-hidden":i,"aria-disabled":Yr(()=>e()||n()),"aria-hidden":Yr(i)})}onAttach(e){rt(e,"tabindex","0"),rt(e,"role","button"),rt(e,"type","button"),e.setAttribute("data-media-tooltip","live")}onConnect(e){lc(e,this.#t.bind(this))}#t(e){let{disabled:r}=this.$props,{liveEdge:n}=this.#e.$state;r()||n()||this.#e.remote.seekToLiveEdge(e)}},pc=new ca({min:0,max:100,value:0,step:1,pointerValue:0,focused:!1,dragging:!1,pointing:!1,hidden:!1,get active(){return this.dragging||this.focused||this.pointing},get fillRate(){return OW(this.min,this.max,this.value)},get fillPercent(){return this.fillRate*100},get pointerRate(){return OW(this.min,this.max,this.pointerValue)},get pointerPercent(){return this.pointerRate*100}});Qk=class extends ln{#e;#t;constructor(e){super(),this.#e=e}onConnect(e){this.#t=new IntersectionObserver(r=>{this.#e.callback?.(r,this.#t)},this.#e),this.#t.observe(e),ke(this.#r.bind(this))}#r(){this.#t?.disconnect(),this.#t=void 0}},S_=Xa(),Kv=Xa();tO={Left:-1,ArrowLeft:-1,Up:1,ArrowUp:1,Right:1,ArrowRight:1,Down:-1,ArrowDown:-1},YO=class extends ln{#e;#t;#r;constructor(e,r){super(),this.#e=e,this.#t=r}onSetup(){la(Kv)&&(this.#r=Ht(Kv))}onConnect(e){M(this.#u.bind(this,e)),M(this.#c.bind(this,e)),this.#e.swipeGesture&&M(this.#n.bind(this))}#n(){let{pointer:e}=this.#t.$state;if(e()!=="coarse"||!this.#e.swipeGesture()){this.#i=null;return}this.#i=this.#t.player.el?.querySelector("media-provider,[data-media-provider]"),this.#i&&new Ge(this.#i).add("touchstart",this.#o.bind(this),{passive:!0}).add("touchmove",this.#l.bind(this),{passive:!1})}#i=null;#s=null;#a=null;#o(e){this.#s=e.touches[0]}#l(e){if(ms(this.#s)||w_(e))return;let r=e.touches[0],n=r.clientX-this.#s.clientX,i=r.clientY-this.#s.clientY,s=this.$state.dragging();!s&&Math.abs(i)>5||s||(e.preventDefault(),Math.abs(n)>20&&(this.#s=r,this.#a=this.$state.value(),this.#w(this.#a,e)))}#u(e){let{hidden:r}=this.$props;Pe(e,"focus",this.#f.bind(this)),!(r()||this.#e.isDisabled())&&new Ge(e).add("keyup",this.#C.bind(this)).add("keydown",this.#S.bind(this)).add("pointerenter",this.#m.bind(this)).add("pointermove",this.#y.bind(this)).add("pointerleave",this.#x.bind(this)).add("pointerdown",this.#h.bind(this))}#c(e){this.#e.isDisabled()||!this.$state.dragging()||new Ge(document).add("pointerup",this.#I.bind(this),{capture:!0}).add("pointermove",this.#M.bind(this)).add("touchmove",this.#L.bind(this),{passive:!1})}#f(){this.#p(this.$state.value())}#d(e,r){let{value:n,min:i,max:s,dragging:a}=this.$state,o=Math.max(i(),Math.min(e,s()));n.set(o);let l=this.createEvent("value-change",{detail:o,trigger:r});if(this.dispatch(l),this.#e.onValueChange?.(l),a()){let c=this.createEvent("drag-value-change",{detail:o,trigger:r});this.dispatch(c),this.#e.onDragValueChange?.(c)}}#p(e,r){let{pointerValue:n,dragging:i}=this.$state;n.set(e),this.dispatch("pointer-value-change",{detail:e,trigger:r}),i()&&this.#d(e,r)}#g(e){let r,n=this.el.getBoundingClientRect(),{min:i,max:s}=this.$state;if(this.$props.orientation()==="vertical"){let{bottom:a,height:o}=n;r=(a-e.clientY)/o}else if(this.#s&&sr(this.#a)){let{width:a}=this.#i.getBoundingClientRect(),o=(e.clientX-this.#s.clientX)/a,l=s()-i(),c=l*Math.abs(o);r=(o<0?this.#a-c:this.#a+c)/l}else{let{left:a,width:o}=n;r=(e.clientX-a)/o}return Math.max(i(),Math.min(s(),this.#e.roundValue(ALe(i(),s(),r,this.#e.getStep()))))}#m(e){this.$state.pointing.set(!0)}#y(e){let{dragging:r}=this.$state;r()||this.#p(this.#g(e),e)}#x(e){this.$state.pointing.set(!1)}#h(e){if(e.button!==0)return;let r=this.#g(e);this.#w(r,e),this.#p(r,e)}#w(e,r){let{dragging:n}=this.$state;if(n())return;n.set(!0),this.#t.remote.pauseControls(r);let i=this.createEvent("drag-start",{detail:e,trigger:r});this.dispatch(i),this.#e.onDragStart?.(i),this.#r?.onDragStart?.()}#b(e,r){let{dragging:n}=this.$state;if(!n())return;n.set(!1),this.#t.remote.resumeControls(r);let i=this.createEvent("drag-end",{detail:e,trigger:r});this.dispatch(i),this.#e.onDragEnd?.(i),this.#s=null,this.#a=null,this.#r?.onDragEnd?.()}#k;#v=!1;#S(e){if(!Object.keys(tO).includes(e.key))return;let{key:n}=e,i=this.#E(e);if(!ms(i)){this.#p(i,e),this.#d(i,e);return}let s=this.#T(e);this.#v||(this.#v=n===this.#k,!this.$state.dragging()&&this.#v&&this.#w(s,e)),this.#p(s,e),this.#k=n}#C(e){if(!Object.keys(tO).includes(e.key)||!ms(this.#E(e)))return;let n=this.#v?this.$state.pointerValue():this.#T(e);this.#d(n,e),this.#b(n,e),this.#k="",this.#v=!1}#E(e){let r=e.key,{min:n,max:i}=this.$state;return r==="Home"||r==="PageUp"?n():r==="End"||r==="PageDown"?i():!e.metaKey&&/^[0-9]$/.test(r)?(i()-n())/10*Number(r):null}#T(e){let{key:r,shiftKey:n}=e;e.preventDefault(),e.stopPropagation();let{shiftKeyMultiplier:i}=this.$props,{min:s,max:a,value:o,pointerValue:l}=this.$state,c=this.#e.getStep(),u=this.#e.getKeyStep(),d=n?u*i():u,f=Number(tO[r]),p=d*f,h=this.#v?l():this.#e.getValue?.()??o(),g=(h+p)/c;return Math.max(s(),Math.min(a(),Number((c*g).toFixed(3))))}#I(e){if(e.button!==0)return;e.preventDefault(),e.stopImmediatePropagation();let r=this.#g(e);this.#p(r,e),this.#b(r,e)}#L(e){e.preventDefault()}#M=zo(e=>{this.#p(this.#g(e),e)},20,{leading:!0})},eh=Xa(()=>({})),Zn=class extends ln{static props={hidden:!1,disabled:!1,step:1,keyStep:1,orientation:"horizontal",shiftKeyMultiplier:5};#e;#t;#r=ce(!0);#n=ce(!0);constructor(e){super(),this.#t=e}onSetup(){this.#e=ot();let e=new Li;e.attach(this),this.$state.focused=e.focused.bind(e),la(eh)||In(eh,{default:"value"}),In(S_,{orientation:this.$props.orientation,disabled:this.#t.isDisabled,preview:ce(null)}),M(this.#a.bind(this)),M(this.#o.bind(this)),M(this.#l.bind(this)),this.#c(),new YO(this.#t,this.#e).attach(this),new Qk({callback:this.#i.bind(this)}).attach(this)}onAttach(e){rt(e,"role","slider"),rt(e,"tabindex","0"),rt(e,"autocomplete","off"),ne?this.#f():M(this.#f.bind(this))}onConnect(e){ke(rK(e,this.#r.set)),M(this.#s.bind(this))}#i(e){this.#n.set(e[0].isIntersecting)}#s(){let{hidden:e}=this.$props;this.$state.hidden.set(e()||!this.#r()||!this.#n.bind(this))}#a(){let{dragging:e,value:r,min:n,max:i}=this.$state;W(e)||r.set(TLe(n(),i(),r(),this.#t.getStep()))}#o(){this.$state.step.set(this.#t.getStep())}#l(){if(!this.#t.isDisabled())return;let{dragging:e,pointing:r}=this.$state;e.set(!1),r.set(!1)}#u(){return Sv(this.#t.isDisabled())}#c(){let{orientation:e}=this.$props,{dragging:r,active:n,pointing:i}=this.$state;this.setAttributes({"data-dragging":r,"data-pointing":i,"data-active":n,"aria-disabled":this.#u.bind(this),"aria-valuemin":this.#t.aria.valueMin??this.$state.min,"aria-valuemax":this.#t.aria.valueMax??this.$state.max,"aria-valuenow":this.#t.aria.valueNow,"aria-valuetext":this.#t.aria.valueText,"aria-orientation":e})}#f(){let{fillPercent:e,pointerPercent:r}=this.$state;this.#d(Kr(e(),3),Kr(r(),3))}#d=md((e,r)=>{this.el?.style.setProperty("--slider-fill",e+"%"),this.el?.style.setProperty("--slider-pointer",r+"%")})},Ed=class extends Ae{static props={...Zn.props,min:0,max:100,value:0};static state=pc;constructor(){super(),new Zn({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:Math.round,isDisabled:this.$props.disabled,aria:{valueNow:this.#e.bind(this),valueText:this.#t.bind(this)}})}onSetup(){M(this.#r.bind(this)),M(this.#n.bind(this))}#e(){let{value:e}=this.$state;return Math.round(e())}#t(){let{value:e,max:r}=this.$state;return Kr(e()/r()*100,2)+"%"}#r(){let{value:e}=this.$props;this.$state.value.set(e())}#n(){let{min:e,max:r}=this.$props;this.$state.min.set(e()),this.$state.max.set(r())}},Xo=new Map,kk=new Map,Jk=class t{#e;#t;#r;$images=ce([]);static create(e,r){let n=ot();return new t(e,r,n)}constructor(e,r,n){this.#t=e,this.#r=r,this.#e=n,M(this.#n.bind(this))}#n(){let{canLoad:e}=this.#e.$state;if(!e())return;let r=this.#t();if(r){if(le(r)&&Xo.has(r)){let n=Xo.get(r);if(Xo.delete(r),Xo.set(r,n),Xo.size>99){let i=Xo.keys().next().value;Xo.delete(i)}this.$images.set(Xo.get(r))}else if(le(r)){let n=this.#r(),i=r+"::"+n;if(!kk.has(i)){let s=new Promise(async(a,o)=>{try{let l=await fetch(r,{credentials:Wv(n)});if(l.headers.get("content-type")==="application/json"){let u=await l.json();if(ar(u))if(u[0]&&"text"in u[0])a(this.#a(u));else{for(let d=0;d<u.length;d++){let f=u[d];Yo(vv(f),!1),Yo("url"in f&&le(f.url),!1),Yo("startTime"in f&&sr(f.startTime),!1)}a(u)}else a(this.#s(u));return}Promise.resolve().then(()=>(Nv(),Dv)).then(async({parseResponse:u})=>{try{let{cues:d}=await u(l);a(this.#a(d))}catch(d){o(d)}})}catch(l){o(l)}}).then(a=>(Xo.set(i,a),a)).catch(a=>{this.#c(r,a)}).finally(()=>{le(i)&&kk.delete(i)});kk.set(i,s)}kk.get(i)?.then(s=>{this.$images.set(s||[])})}else if(ar(r))try{this.$images.set(this.#i(r))}catch(n){this.#c(r,n)}else try{this.$images.set(this.#s(r))}catch(n){this.#c(r,n)}return()=>{this.$images.set([])}}}#i(e){let r=this.#o();return e.map((n,i)=>(Yo(n.url&&le(n.url)),Yo("startTime"in n&&sr(n.startTime)),{...n,url:le(n.url)?this.#l(n.url,r):n.url}))}#s(e){Yo(le(e.url)),Yo(ar(e.tiles)&&e.tiles?.length);let r=new URL(e.url),n=[],i="tile_width"in e?e.tile_width:e.tileWidth,s="tile_height"in e?e.tile_height:e.tileHeight;for(let a of e.tiles)n.push({url:r,startTime:"start"in a?a.start:a.startTime,width:i,height:s,coords:{x:a.x,y:a.y}});return n}#a(e){for(let i=0;i<e.length;i++){let s=e[i];Yo("startTime"in s&&sr(s.startTime)),Yo("text"in s&&le(s.text))}let r=[],n=this.#o();for(let i of e){let[s,a]=i.text.split("#"),o=this.#u(a);r.push({url:this.#l(s,n),startTime:i.startTime,endTime:i.endTime,width:o?.w,height:o?.h,coords:o&&sr(o.x)&&sr(o.y)?{x:o.x,y:o.y}:void 0})}return r}#o(){let e=W(this.#t);return!le(e)||!/^https?:/.test(e)?location.href:e}#l(e,r){return/^https?:/.test(e)?new URL(e):new URL(e,r)}#u(e){if(!e)return{};let[r,n]=e.split("="),i=n?.split(","),s={};if(!r||!i)return null;for(let a=0;a<r.length;a++){let o=+i[a];isNaN(o)||(s[r[a]]=o)}return s}#c(e,r){}},Zk=class extends Ae{static props={src:null,time:0,crossOrigin:null};static state=new ca({src:"",img:null,thumbnails:[],activeThumbnail:null,crossOrigin:null,loading:!1,error:null,hidden:!1});media;#e;#t=[];onSetup(){this.media=ot(),this.#e=Jk.create(this.$props.src,this.$state.crossOrigin),this.#n(),this.setAttributes({"data-loading":this.#o.bind(this),"data-error":this.#l.bind(this),"data-hidden":this.$state.hidden,"aria-hidden":Yr(this.$state.hidden)})}onConnect(e){M(this.#r.bind(this)),M(this.#u.bind(this)),M(this.#n.bind(this)),M(this.#i.bind(this)),M(this.#c.bind(this)),M(this.#f.bind(this))}#r(){let e=this.$state.img();e&&new Ge(e).add("load",this.#s.bind(this)).add("error",this.#a.bind(this))}#n(){let{crossOrigin:e}=this.$props,{crossOrigin:r}=this.$state,{crossOrigin:n}=this.media.$state,i=e()!==null?e():n();r.set(i===!0?"anonymous":i)}#i(){let{src:e,loading:r,error:n}=this.$state;return e()&&(r.set(!0),n.set(null)),()=>{this.#p(),r.set(!1),n.set(null)}}#s(){let{loading:e,error:r}=this.$state;this.#f(),e.set(!1),r.set(null)}#a(e){let{loading:r,error:n}=this.$state;r.set(!1),n.set(e)}#o(){let{loading:e,hidden:r}=this.$state;return!r()&&e()}#l(){let{error:e}=this.$state;return!ms(e())}#u(){let{hidden:e}=this.$state,{duration:r}=this.media.$state,n=this.#e.$images();e.set(this.#l()||!Number.isFinite(r())||n.length===0)}getTime(){return this.$props.time()}#c(){let e=this.#e.$images();if(!e.length)return;let r=this.getTime(),{src:n,activeThumbnail:i}=this.$state,s=-1,a=null;for(let o=e.length-1;o>=0;o--){let l=e[o];if(r>=l.startTime&&(!l.endTime||r<l.endTime)){s=o;break}}e[s]&&(a=e[s]),i.set(a),n.set(a?.url.href||"")}#f(){if(!this.scope||this.$state.hidden())return;let e=this.el,r=this.$state.img(),n=this.$state.activeThumbnail();if(!r||!n||!e)return;let i=n.width??r.naturalWidth,s=n?.height??r.naturalHeight,{maxWidth:a,maxHeight:o,minWidth:l,minHeight:c,width:u,height:d}=getComputedStyle(this.el);l==="100%"&&(l=parseFloat(u)+""),c==="100%"&&(c=parseFloat(d)+"");let f=Math.max(parseInt(l)/i,parseInt(c)/s),p=Math.min(Math.max(parseInt(l),parseInt(a))/i,Math.max(parseInt(c),parseInt(o))/s),h=!isNaN(p)&&p<1?p:f>1?f:1;this.#d(e,"--thumbnail-width",`${i*h}px`),this.#d(e,"--thumbnail-height",`${s*h}px`),this.#d(e,"--thumbnail-aspect-ratio",String(Kr(i/s,5))),this.#d(r,"width",`${r.naturalWidth*h}px`),this.#d(r,"height",`${r.naturalHeight*h}px`),this.#d(r,"transform",n.coords?`translate(-${n.coords.x*h}px, -${n.coords.y*h}px)`:""),this.#d(r,"max-width","none")}#d(e,r,n){e.style.setProperty(r,n),this.#t.push(()=>e.style.removeProperty(r))}#p(){for(let e of this.#t)e();this.#t=[]}},XO=class extends Zk{#e;onAttach(e){this.#e=Vp(Ed.state)}getTime(){let{duration:e,clipStartTime:r}=this.media.$state;return r()+this.#e.pointerRate()*e()}},eC=class extends Ae{static props={src:null,crossOrigin:null};static state=new ca({video:null,src:null,crossOrigin:null,canPlay:!1,error:null,hidden:!1});#e;#t;get video(){return this.$state.video()}onSetup(){this.#e=ot(),this.#t=Vp(Ed.state),this.#i(),this.setAttributes({"data-loading":this.#s.bind(this),"data-hidden":this.$state.hidden,"data-error":this.#a.bind(this),"aria-hidden":Yr(this.$state.hidden)})}onAttach(e){M(this.#r.bind(this)),M(this.#n.bind(this)),M(this.#i.bind(this)),M(this.#o.bind(this)),M(this.#l.bind(this)),M(this.#f.bind(this))}#r(){let e=this.$state.video();e&&(e.readyState>=2&&this.#u(),new Ge(e).add("canplay",this.#u.bind(this)).add("error",this.#c.bind(this)))}#n(){let{src:e}=this.$state,{canLoad:r}=this.#e.$state;e.set(r()?this.$props.src():null)}#i(){let{crossOrigin:e}=this.$props,{crossOrigin:r}=this.$state,{crossOrigin:n}=this.#e.$state,i=e()!==null?e():n();r.set(i===!0?"anonymous":i)}#s(){let{canPlay:e,hidden:r}=this.$state;return!e()&&!r()}#a(){let{error:e}=this.$state;return!ms(e)}#o(){let{src:e,hidden:r}=this.$state,{canLoad:n,duration:i}=this.#e.$state;r.set(n()&&(!e()||this.#a()||!Number.isFinite(i())))}#l(){let{src:e,canPlay:r,error:n}=this.$state;e(),r.set(!1),n.set(null)}#u(e){let{canPlay:r,error:n}=this.$state;r.set(!0),n.set(null),this.dispatch("can-play",{trigger:e})}#c(e){let{canPlay:r,error:n}=this.$state;r.set(!1),n.set(e),this.dispatch("error",{trigger:e})}#f(){let{video:e,canPlay:r}=this.$state,{duration:n}=this.#e.$state,{pointerRate:i}=this.#t,s=e();r()&&s&&Number.isFinite(n())&&Number.isFinite(i())&&(s.currentTime=i()*n())}},LLe=eC.prototype;et(LLe,"video");tC=class extends Ae{static props={type:"pointer",format:null,showHours:!1,showMs:!1,padHours:null,padMinutes:null,decimalPlaces:2};#e;#t;#r;onSetup(){this.#r=Vp(Ed.state),this.#e=Ht(eh),this.#t=Vo(this.getValueText.bind(this))}getValueText(){let{type:e,format:r,decimalPlaces:n,padHours:i,padMinutes:s,showHours:a,showMs:o}=this.$props,{value:l,pointerValue:c,min:u,max:d}=this.#r,f=r?.()??this.#e.default,p=e()==="current"?l():c();if(f==="percent"){let h=d()-u(),g=p/h*100;return(this.#e.percent??Kr)(g,n())+"%"}else return f==="time"?(this.#e.time??Jo)(p,{padHrs:i(),padMins:s(),showHrs:a(),showMs:o()}):(this.#e.value?.(p)??p.toFixed(2))+""}},ILe=tC.prototype;hr(ILe,"getValueText");QO=class extends Ae{static props={offset:0,noClamp:!1};#e;onSetup(){this.#e=Ht(S_);let{active:e}=Vp(Ed.state);this.setAttributes({"data-visible":e})}onAttach(e){Object.assign(e.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(e){let{preview:r}=this.#e;r.set(e),ke(()=>r.set(null)),M(this.#t.bind(this));let n=new ResizeObserver(this.#t.bind(this));n.observe(e),ke(()=>n.disconnect())}#t=md(()=>{let{disabled:e,orientation:r}=this.#e;if(e())return;let n=this.el,{offset:i,noClamp:s}=this.$props;n&&hK(n,{clamp:!s(),offset:i(),orientation:r()})})};JO=class extends Ae{static props={...Zn.props,keyStep:5,shiftKeyMultiplier:2};static state=pc;#e;onSetup(){this.#e=ot();let{audioGain:e}=this.#e.$state;In(eh,{default:"percent",value(r){return(r*(e()??1)).toFixed(2)},percent(r){return Math.round(r*(e()??1))}}),new Zn({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:Math.round,isDisabled:this.#i.bind(this),aria:{valueMax:this.#n.bind(this),valueNow:this.#t.bind(this),valueText:this.#r.bind(this)},onDragValueChange:this.#u.bind(this),onValueChange:this.#l.bind(this)}).attach(this),M(this.#s.bind(this))}onAttach(e){e.setAttribute("data-media-volume-slider",""),rt(e,"aria-label","Volume");let{canSetVolume:r}=this.#e.$state;this.setAttributes({"data-supported":r,"aria-hidden":Yr(()=>!r())})}#t(){let{value:e}=this.$state,{audioGain:r}=this.#e.$state;return Math.round(e()*(r()??1))}#r(){let{value:e,max:r}=this.$state,{audioGain:n}=this.#e.$state;return Kr(e()/r()*(n()??1)*100,2)+"%"}#n(){let{audioGain:e}=this.#e.$state;return this.$state.max()*(e()??1)}#i(){let{disabled:e}=this.$props,{canSetVolume:r}=this.#e.$state;return e()||!r()}#s(){let{muted:e,volume:r}=this.#e.$state,n=e()?0:r()*100;this.$state.value.set(n),this.dispatch("value-change",{detail:n})}#a=zo(this.#o.bind(this),25);#o(e){if(!e.trigger)return;let r=Kr(e.detail/100,3);this.#e.remote.changeVolume(r,e)}#l(e){this.#a(e)}#u(e){this.#a(e)}},ZO=class extends Ae{static props={...Zn.props,step:25,keyStep:25,shiftKeyMultiplier:2,min:0,max:300};static state=pc;#e;onSetup(){this.#e=ot(),In(eh,{default:"percent",percent:(e,r)=>Kr(this.$state.value(),r)+"%"}),new Zn({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:Math.round,isDisabled:this.#s.bind(this),aria:{valueNow:this.#t.bind(this),valueText:this.#r.bind(this)},onDragValueChange:this.#l.bind(this),onValueChange:this.#o.bind(this)}).attach(this),M(this.#n.bind(this)),M(this.#i.bind(this))}onAttach(e){e.setAttribute("data-media-audio-gain-slider",""),rt(e,"aria-label","Audio Boost");let{canSetAudioGain:r}=this.#e.$state;this.setAttributes({"data-supported":r,"aria-hidden":Yr(()=>!r())})}#t(){let{value:e}=this.$state;return Math.round(e())}#r(){let{value:e}=this.$state;return e()+"%"}#n(){let{min:e,max:r}=this.$props;this.$state.min.set(e()),this.$state.max.set(r())}#i(){let{audioGain:e}=this.#e.$state,r=((e()??1)-1)*100;this.$state.value.set(r),this.dispatch("value-change",{detail:r})}#s(){let{disabled:e}=this.$props,{canSetAudioGain:r}=this.#e.$state;return e()||!r()}#a(e){if(!e.trigger)return;let r=Kr(1+e.detail/100,2);this.#e.remote.changeAudioGain(r,e)}#o(e){this.#a(e)}#l(e){this.#a(e)}},e_=class extends Ae{static props={...Zn.props,step:.25,keyStep:.25,shiftKeyMultiplier:2,min:0,max:2};static state=pc;#e;onSetup(){this.#e=ot(),new Zn({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:this.#s,isDisabled:this.#a.bind(this),aria:{valueNow:this.#t.bind(this),valueText:this.#r.bind(this)},onDragValueChange:this.#c.bind(this),onValueChange:this.#u.bind(this)}).attach(this),M(this.#n.bind(this)),M(this.#i.bind(this))}onAttach(e){e.setAttribute("data-media-speed-slider",""),rt(e,"aria-label","Speed");let{canSetPlaybackRate:r}=this.#e.$state;this.setAttributes({"data-supported":r,"aria-hidden":Yr(()=>!r())})}#t(){let{value:e}=this.$state;return e()}#r(){let{value:e}=this.$state;return e()+"x"}#n(){let{min:e,max:r}=this.$props;this.$state.min.set(e()),this.$state.max.set(r())}#i(){let{playbackRate:e}=this.#e.$state,r=e();this.$state.value.set(r),this.dispatch("value-change",{detail:r})}#s(e){return Kr(e,2)}#a(){let{disabled:e}=this.$props,{canSetPlaybackRate:r}=this.#e.$state;return e()||!r()}#o=zo(this.#l.bind(this),25);#l(e){if(!e.trigger)return;let r=e.detail;this.#e.remote.changePlaybackRate(r,e)}#u(e){this.#o(e)}#c(e){this.#o(e)}},t_=class extends Ae{static props={...Zn.props,step:1,keyStep:1,shiftKeyMultiplier:1};static state=pc;#e;#t=Vo(()=>{let{qualities:e}=this.#e.$state;return aK(e())});onSetup(){this.#e=ot(),new Zn({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:Math.round,isDisabled:this.#a.bind(this),aria:{valueNow:this.#r.bind(this),valueText:this.#n.bind(this)},onDragValueChange:this.#c.bind(this),onValueChange:this.#u.bind(this)}).attach(this),M(this.#i.bind(this)),M(this.#s.bind(this))}onAttach(e){e.setAttribute("data-media-quality-slider",""),rt(e,"aria-label","Video Quality");let{qualities:r,canSetQuality:n}=this.#e.$state,i=Vo(()=>n()&&r().length>0);this.setAttributes({"data-supported":i,"aria-hidden":Yr(()=>!i())})}#r(){let{value:e}=this.$state;return e()}#n(){let{quality:e}=this.#e.$state;if(!e())return"";let{height:r,bitrate:n}=e(),i=n&&n>0?`${(n/1e6).toFixed(2)} Mbps`:null;return r?`${r}p${i?` (${i})`:""}`:"Auto"}#i(){let e=this.#t();this.$state.max.set(Math.max(0,e.length-1))}#s(){let{quality:e}=this.#e.$state,r=this.#t(),n=Math.max(0,r.indexOf(e()));this.$state.value.set(n),this.dispatch("value-change",{detail:n})}#a(){let{disabled:e}=this.$props,{canSetQuality:r,qualities:n}=this.#e.$state;return e()||n().length<=1||!r()}#o=zo(this.#l.bind(this),25);#l(e){if(!e.trigger)return;let{qualities:r}=this.#e,n=W(this.#t)[e.detail];this.#e.remote.changeQuality(r.indexOf(n),e)}#u(e){this.#o(e)}#c(e){this.#o(e)}},rC=class extends Ae{static props={...Zn.props,step:.1,keyStep:5,shiftKeyMultiplier:2,pauseWhileDragging:!1,noSwipeGesture:!1,seekingRequestThrottle:100};static state=pc;#e;#t;#r=ce(null);constructor(){super();let{noSwipeGesture:e}=this.$props;new Zn({swipeGesture:()=>!e(),getValue:this.#m.bind(this),getStep:this.#y.bind(this),getKeyStep:this.#x.bind(this),roundValue:this.#h,isDisabled:this.#w.bind(this),aria:{valueNow:this.#b.bind(this),valueText:this.#k.bind(this)},onDragStart:this.#f.bind(this),onDragValueChange:this.#d.bind(this),onDragEnd:this.#p.bind(this),onValueChange:this.#g.bind(this)})}onSetup(){this.#e=ot(),In(eh,{default:"time",value:this.#C.bind(this),time:this.#E.bind(this)}),this.setAttributes({"data-chapters":this.#i.bind(this)}),this.setStyles({"--slider-progress":this.#n.bind(this)}),M(this.#a.bind(this)),M(this.#s.bind(this))}onAttach(e){e.setAttribute("data-media-time-slider",""),rt(e,"aria-label","Seek")}onConnect(e){M(this.#o.bind(this)),_b(this.#e.textTracks,"chapters",this.#r.set)}#n(){let{bufferedEnd:e,duration:r}=this.#e.$state;return Kr(Math.min(e()/Math.max(r(),1),1)*100,3)+"%"}#i(){let{duration:e}=this.#e.$state;return this.#r()?.cues.length&&Number.isFinite(e())&&e()>0}#s(){this.#t=zo(this.#l.bind(this),this.$props.seekingRequestThrottle())}#a(){if(this.$state.hidden())return;let{value:e,dragging:r}=this.$state,n=this.#m();W(r)||(e.set(n),this.dispatch("value-change",{detail:n}))}#o(){let e=this.#e.player.el,{preview:r}=Ht(S_);e&&r()&&ge(e,"data-preview",this.$state.active())}#l(e,r){this.#e.remote.seeking(e,r)}#u(e,r,n){this.#t.cancel();let{live:i}=this.#e.$state;if(i()&&r>=99){this.#e.remote.seekToLiveEdge(n);return}this.#e.remote.seek(e,n)}#c=!1;#f(e){let{pauseWhileDragging:r}=this.$props;if(r()){let{paused:n}=this.#e.$state;this.#c=!n(),this.#e.remote.pause(e)}}#d(e){this.#t(this.#v(e.detail),e)}#p(e){let{seeking:r}=this.#e.$state;W(r)||this.#l(this.#v(e.detail),e);let n=e.detail;this.#u(this.#v(n),n,e);let{pauseWhileDragging:i}=this.$props;i()&&this.#c&&(this.#e.remote.play(e),this.#c=!1)}#g(e){let{dragging:r}=this.$state;r()||!e.trigger||this.#p(e)}#m(){let{currentTime:e}=this.#e.$state;return this.#S(e())}#y(){let e=this.$props.step()/this.#e.$state.duration()*100;return Number.isFinite(e)?e:1}#x(){let e=this.$props.keyStep()/this.#e.$state.duration()*100;return Number.isFinite(e)?e:1}#h(e){return Kr(e,3)}#w(){let{disabled:e}=this.$props,{canSeek:r}=this.#e.$state;return e()||!r()}#b(){let{value:e}=this.$state;return Math.round(e())}#k(){let e=this.#v(this.$state.value()),{duration:r}=this.#e.$state;return Number.isFinite(e)?`${Qv(e)} out of ${Qv(r())}`:"live"}#v(e){let{duration:r}=this.#e.$state;return Kr(e/100*r(),5)}#S(e){let{liveEdge:r,duration:n}=this.#e.$state,i=Math.max(0,Math.min(1,r()?1:Math.min(e,n())/n()));return Number.isNaN(i)?0:Number.isFinite(i)?i*100:100}#C(e){let r=this.#v(e),{live:n,duration:i}=this.#e.$state;return Number.isFinite(r)?(n()?r-i():r).toFixed(0):"LIVE"}#E(e,r){let n=this.#v(e),{live:i,duration:s}=this.#e.$state,a=i()?n-s():n;return Number.isFinite(n)?`${a<0?"-":""}${Jo(Math.abs(a),r)}`:"LIVE"}},nC=class extends Ae{static props={disabled:!1};#e;#t;#r;#n=null;#i=[];#s=ce(null);#a=ce([]);#o=ce(-1);#l=ce(-1);#u=0;get cues(){return this.#a()}get activeCue(){return this.#a()[this.#o()]||null}get activePointerCue(){return this.#a()[this.#l()]||null}onSetup(){this.#e=ot(),this.#t=Vp(rC.state)}onAttach(e){_b(this.#e.textTracks,"chapters",this.#c.bind(this)),M(this.#I.bind(this))}onConnect(){ke(()=>this.#f.bind(this))}onDestroy(){this.#c(null)}setRefs(e){if(this.#i=e,this.#r?.dispose(),this.#i.length===1){let r=this.#i[0];r.style.width="100%",r.style.setProperty("--chapter-fill","var(--slider-fill)"),r.style.setProperty("--chapter-progress","var(--slider-progress)")}else this.#i.length>0&&Dr(()=>this.#d(),this.#r=Ln())}#c(e){W(this.#s)!==e&&(this.#f(),this.#s.set(e))}#f(){this.#i=[],this.#a.set([]),this.#o.set(-1),this.#l.set(-1),this.#u=0,this.#r?.dispose()}#d(){this.#i.length&&M(this.#p.bind(this))}#p(){let{hidden:e}=this.#t;e()||(M(this.#g.bind(this)),M(this.#m.bind(this)),M(this.#y.bind(this)),M(this.#b.bind(this)))}#g(){let e=this.#a();if(!e.length)return;let r,{seekableStart:n,seekableEnd:i}=this.#e.$state,s=n(),a=i()||e[e.length-1].endTime,o=a-s,l=100;for(let c=0;c<e.length;c++)if(r=e[c],this.#i[c]){let u=c===e.length-1?l:Kr((r.endTime-Math.max(s,r.startTime))/o*100,3);this.#i[c].style.width=u+"%",l-=u}}#m(){let{liveEdge:e,seekableStart:r,seekableEnd:n}=this.#e.$state,{fillPercent:i,value:s}=this.#t,a=this.#a(),o=e(),l=W(this.#o),c=a[l],u=o?this.#a.length-1:this.#w(c&&c.startTime/n()*100<=W(s)?l:0,i());o||!c?this.#x(0,a.length,100):u>l?this.#x(l,u,100):u<l&&this.#x(u+1,l+1,0);let d=o?100:this.#E(a[u],i(),r(),this.#C(a));this.#h(this.#i[u],d),this.#o.set(u)}#y(){let{hidden:e,pointerPercent:r}=this.#t;if(e()){this.#l.set(-1);return}let n=this.#w(0,r());this.#l.set(n)}#x(e,r,n){for(let i=e;i<r;i++)this.#h(this.#i[i],n)}#h(e,r){e&&(e.style.setProperty("--chapter-fill",r+"%"),ge(e,"data-active",r>0&&r<100),ge(e,"data-ended",r===100))}#w(e,r){let n=0,i=this.#a();if(r===0)return 0;if(r===100)return i.length-1;let{seekableStart:s}=this.#e.$state,a=s(),o=this.#C(i);for(let l=e;l<i.length;l++)if(n=this.#E(i[l],r,a,o),n>=0&&n<100)return l;return 0}#b(){this.#k(this.#v())}#k=md(e=>{let r,n=this.#a(),{seekableStart:i}=this.#e.$state,s=i(),a=this.#C(n);for(let o=this.#u;o<this.#i.length;o++)if(r=this.#E(n[o],e,s,a),this.#i[o]?.style.setProperty("--chapter-progress",r+"%"),r<100){this.#u=o;break}});#v=Vo(this.#S.bind(this));#S(){let{bufferedEnd:e,duration:r}=this.#e.$state;return Kr(Math.min(e()/Math.max(r(),1),1),3)*100}#C(e){let{seekableEnd:r}=this.#e.$state,n=r();return Number.isFinite(n)?n:e[e.length-1]?.endTime||0}#E(e,r,n,i){if(!e||this.#a().length===0)return 0;let a=i-n,o=Math.max(0,e.startTime-n),l=Math.min(i,e.endTime)-n,c=o/a,u=c*100,d=Math.min(1,c+(l-o)/a)*100;return Math.max(0,Kr(r>=d?100:(r-u)/(d-u)*100,3))}#T(e){let r=[],{seekableStart:n,seekableEnd:i,duration:s}=this.#e.$state,a=n(),o=i();e=e.filter(u=>u.startTime<=o&&u.endTime>=a);let l=e[0];l&&l.startTime>a&&r.push(new window.VTTCue(a,l.startTime,""));for(let u=0;u<e.length-1;u++){let d=e[u],f=e[u+1];if(r.push(d),f){let p=f.startTime-d.endTime;p>0&&r.push(new window.VTTCue(d.endTime,d.endTime+p,""))}}let c=e[e.length-1];if(c){r.push(c);let u=s();u>=0&&u-c.endTime>1&&r.push(new window.VTTCue(c.endTime,s(),""))}return r}#I(){let{source:e}=this.#e.$state;e(),this.#L()}#L(){if(!this.scope)return;let{disabled:e}=this.$props;if(e()){this.#a.set([]),this.#o.set(0),this.#u=0;return}let r=this.#s();if(r){let n=this.#P.bind(this);n(),new Ge(r).add("add-cue",n).add("remove-cue",n),M(this.#M.bind(this))}return this.#n=this.#D(),this.#n&&M(this.#_.bind(this)),()=>{this.#n&&(this.#n.textContent="",this.#n=null)}}#M(){this.#e.$state.duration(),this.#P()}#P=kv(()=>{let e=W(this.#s);!this.scope||!e||!e.cues.length||(this.#a.set(this.#T(e.cues)),this.#o.set(0),this.#u=0)},150,!0);#_(){let e=this.activePointerCue||this.activeCue;this.#n&&(this.#n.textContent=e?.text||"")}#R(){let e=this.el;for(;e&&e.getAttribute("role")!=="slider";)e=e.parentElement;return e}#D(){let e=this.#R();return e?e.querySelector('[data-part="chapter-title"]'):null}},uC=nC.prototype;et(uC,"cues");et(uC,"activeCue");et(uC,"activePointerCue");hr(uC,"setRefs");Ja=Xa();PLe=["a[href]","[tabindex]","input","select","button"].map(t=>`${t}:not([aria-hidden='true'])`).join(","),OLe=new Set(["Escape","Tab","ArrowUp","ArrowDown","Home","PageUp","End","PageDown","Enter"," "]),r_=class{#e=-1;#t=null;#r=[];#n;get items(){return this.#r}constructor(e){this.#n=e}attachMenu(e){Pe(e,"focus",this.#a.bind(this)),this.#t=e,ke(()=>{this.#t=null})}listen(){this.#t&&(this.update(),new Ge(this.#t).add("keyup",this.#l.bind(this)).add("keydown",this.#u.bind(this)),ke(()=>{this.#e=-1,this.#r=[]}))}update(){this.#e=0,this.#r=this.#f()}scroll(e=this.#s()){let r=this.#r[e];r&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{MLe(r,{behavior:"smooth",boundary:n=>!n.hasAttribute("data-root")})})})}focusActive(e=!0){let r=this.#s();this.#i(r>=0?r:0,e)}#i(e,r=!0){this.#e=e,this.#r[e]?(this.#r[e].focus({preventScroll:!0}),r&&this.scroll(e)):this.#t?.focus({preventScroll:!0})}#s(){return this.#r.findIndex(e=>document.activeElement===e||e.getAttribute("role")==="menuitemradio"&&e.getAttribute("aria-checked")==="true")}#a(){this.#e>=0||(this.update(),this.focusActive())}#o(e){let r=e.target;if(KM(e)&&r instanceof Element){let n=r.getAttribute("role");return!/a|input|select|button/.test(r.localName)&&!n}return OLe.has(e.key)}#l(e){this.#o(e)&&(e.stopPropagation(),e.preventDefault())}#u(e){if(this.#o(e))switch(e.stopPropagation(),e.preventDefault(),e.key){case"Escape":this.#n.closeMenu(e);break;case"Tab":this.#i(this.#c(e.shiftKey?-1:1));break;case"ArrowUp":this.#i(this.#c(-1));break;case"ArrowDown":this.#i(this.#c(1));break;case"Home":case"PageUp":this.#i(0);break;case"End":case"PageDown":this.#i(this.#r.length-1);break}}#c(e){let r=this.#e;do r=(r+e+this.#r.length)%this.#r.length;while(this.#r[r]?.offsetParent===null);return r}#f(){if(!this.#t)return[];let e=this.#t.querySelectorAll(PLe),r=[],n=i=>i.getAttribute("role")==="menu";for(let i of e)Rk(i)&&i.offsetParent!==null&&nK(this.#t,i,n)&&r.push(i);return r}},_Le=Object.defineProperty,DLe=Object.getOwnPropertyDescriptor,Nb=(t,e,r,n)=>{for(var i=DLe(e,r),s=t.length-1,a;s>=0;s--)(a=t[s])&&(i=a(e,r,i)||i);return i&&_Le(e,r,i),i},NLe=0,cc=class extends Ae{static props={showDelay:0};#e;#t;#r;#n=ce(!1);#i=ce(!1);#s=ce(null);#a=ce(null);#o;#l=new Set;#u=null;#c;#f;#d=!1;#p=ce(!1);#g=new Set;get triggerElement(){return this.#s()}get contentElement(){return this.#a()}get isSubmenu(){return!!this.#o}constructor(){super();let{showDelay:e}=this.$props;this.#c=new Yk({trigger:this.#s,content:this.#a,showDelay:e,listen:(r,n,i)=>{lc(r,a=>{this.#n()?i(a):n(a)});let s=this.#P();s&&lc(s,a=>{a.stopPropagation(),i(a)})},onChange:this.#S.bind(this)})}onSetup(){this.#e=ot();let e=++NLe;this.#t=`media-menu-${e}`,this.#r=`media-menu-button-${e}`,this.#f=new r_({closeMenu:this.close.bind(this)}),la(Ja)&&(this.#o=Ht(Ja)),this.#m(),this.setAttributes({"data-open":this.#n,"data-root":!this.isSubmenu,"data-submenu":this.isSubmenu,"data-disabled":this.#T.bind(this)}),In(Ja,{button:this.#s,content:this.#a,expanded:this.#n,hint:ce(""),submenu:!!this.#o,disable:this.#I.bind(this),attachMenuButton:this.#x.bind(this),attachMenuItems:this.#h.bind(this),attachObserver:this.#w.bind(this),disableMenuButton:this.#k.bind(this),addSubmenu:this.#R.bind(this),onTransitionEvent:r=>{this.#g.add(r),ke(()=>{this.#g.delete(r)})}})}onAttach(e){e.style.setProperty("display","contents")}onConnect(e){M(this.#y.bind(this)),this.isSubmenu&&this.#o?.addSubmenu(this)}onDestroy(){this.#s.set(null),this.#a.set(null),this.#u=null,this.#g.clear()}#m(){let e=-1,r=la(Kv)?Ht(Kv):null;In(Kv,{onDragStart:()=>{r?.onDragStart?.(),window.clearTimeout(e),e=-1,this.#d=!0},onDragEnd:()=>{r?.onDragEnd?.(),e=window.setTimeout(()=>{this.#d=!1,e=-1},300)}})}#y(){let e=this.#E();this.isSubmenu||this.#V(),this.#b(e),e&&(M(()=>{let{height:r}=this.#e.$state,n=this.#a();n&&on(n,"--player-height",r()+"px")}),this.#f.listen(),this.listen("pointerup",this.#L.bind(this)),Pe(window,"pointerup",this.#M.bind(this)))}#x(e){let r=e.el,n=this.isSubmenu,i=Yr(this.#T.bind(this));rt(r,"tabindex",n?"-1":"0"),rt(r,"role",n?"menuitem":"button"),ge(r,"id",this.#r),ge(r,"aria-haspopup","menu"),ge(r,"aria-expanded","false"),ge(r,"data-root",!this.isSubmenu),ge(r,"data-submenu",this.isSubmenu);let s=()=>{ge(r,"data-open",this.#n()),ge(r,"aria-disabled",i())};ne?s():M(s),this.#s.set(r),ke(()=>{this.#s.set(null)})}#h(e){let r=e.el;r.style.setProperty("display","none"),ge(r,"id",this.#t),rt(r,"role","menu"),rt(r,"tabindex","-1"),ge(r,"data-root",!this.isSubmenu),ge(r,"data-submenu",this.isSubmenu),this.#a.set(r),ke(()=>this.#a.set(null));let n=()=>ge(r,"data-open",this.#n());ne?n():M(n),this.#f.attachMenu(r),this.#b(!1);let i=this.#B.bind(this);this.isSubmenu?this.#o?.onTransitionEvent(i):(e.listen("transitionstart",i),e.listen("transitionend",i),e.listen("animationend",this.#V),e.listen("vds-menu-resize",this.#V))}#w(e){this.#u=e}#b(e){let r=W(this.#a);r&&ge(r,"aria-hidden",Sv(!e))}#k(e){this.#p.set(e)}#v=!1;#S(e,r){if(this.#v=jp(r),r?.stopPropagation(),this.#n()===e)return;if(this.#T()){e&&this.#c.hide(r);return}this.el?.dispatchEvent(new Event("vds-menu-resize",{bubbles:!0,composed:!0}));let n=this.#s(),i=this.#a();if(n&&(ge(n,"aria-controls",e&&this.#t),ge(n,"aria-expanded",Sv(e))),i&&ge(i,"aria-labelledby",e&&this.#r),this.#n.set(e),this.#_(r),Ti(),this.#v){e?i?.focus():n?.focus();for(let s of[this.el,i])s&&s.setAttribute("data-keyboard","")}else for(let s of[this.el,i])s&&s.removeAttribute("data-keyboard");if(this.dispatch(e?"open":"close",{trigger:r}),e)!this.isSubmenu&&this.#e.activeMenu!==this&&(this.#e.activeMenu?.close(r),this.#e.activeMenu=this),this.#u?.onOpen?.(r);else{if(this.isSubmenu)for(let s of this.#l)s.close(r);else this.#e.activeMenu=null;this.#u?.onClose?.(r)}e&&requestAnimationFrame(this.#C.bind(this))}#C(){this.#q||this.#O||(this.#f.update(),requestAnimationFrame(()=>{this.#v?this.#f.focusActive():this.#f.scroll()}))}#E(){return!this.#T()&&this.#n()}#T(){return this.#i()||this.#p()}#I(e){this.#i.set(e)}#L(e){let r=this.#a();this.#d||r&&xW(r,e)||e.stopPropagation()}#M(e){let r=this.#a();this.#d||r&&xW(r,e)||this.close(e)}#P(){let e=this.el?.querySelector('[data-part="close-target"]');return this.el&&e&&nK(this.el,e,r=>r.getAttribute("role")==="menu")?e:null}#_(e){this.isSubmenu||(this.#n()?this.#e.remote.pauseControls(e):this.#e.remote.resumeControls(e))}#R(e){this.#l.add(e),new Ge(e).add("open",this.#F).add("close",this.#$),ke(this.#D)}#D=this.#N.bind(this);#N(e){this.#l.delete(e)}#O=!1;#F=this.#A.bind(this);#A(e){this.#O=!0;let r=this.#a();this.isSubmenu&&this.triggerElement?.setAttribute("aria-hidden","true");for(let n of this.#l)if(n!==e.target)for(let i of[n.el,n.triggerElement])i?.setAttribute("aria-hidden","true");if(r){let n=e.target.el;for(let i of r.children)i.contains(n)?i.setAttribute("data-open",""):i!==n&&i.setAttribute("data-hidden","")}}#$=this.#j.bind(this);#j(e){this.#O=!1;let r=this.#a();this.isSubmenu&&this.triggerElement?.setAttribute("aria-hidden","false");for(let n of this.#l)for(let i of[n.el,n.triggerElement])i?.setAttribute("aria-hidden","false");if(r)for(let n of r.children)n.removeAttribute("data-open"),n.removeAttribute("data-hidden")}#V=md(()=>{let e=W(this.#a);if(!e||ne)return;let r=0,n=getComputedStyle(e),i=[...e.children];for(let s of["paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"])r+=parseFloat(n[s])||0;for(let s of i)if(Rk(s)&&s.style.display==="contents")i.push(...s.children);else if(s.nodeType===3)r+=parseFloat(getComputedStyle(s).fontSize);else if(Rk(s)){if(!tK(s))continue;let a=getComputedStyle(s);r+=s.offsetHeight+(parseFloat(a.marginTop)||0)+(parseFloat(a.marginBottom)||0)}on(e,"--menu-height",r+"px")});#q=!1;#B(e){let r=this.#a();r&&e.propertyName==="height"&&(this.#q=e.type==="transitionstart",ge(r,"data-transition",this.#q?"height":null),this.#n()&&this.#C());for(let n of this.#g)n(e)}open(e){W(this.#n)||(this.#c.show(e),Ti())}close(e){W(this.#n)&&(this.#c.hide(e),Ti())}};Nb([et],cc.prototype,"triggerElement");Nb([et],cc.prototype,"contentElement");Nb([et],cc.prototype,"isSubmenu");Nb([hr],cc.prototype,"open");Nb([hr],cc.prototype,"close");Jv=class extends Ae{static props={disabled:!1};#e;#t=ce(null);get expanded(){return this.#e?.expanded()??!1}constructor(){super(),new Li}onSetup(){this.#e=Ht(Ja)}onAttach(e){this.#e.attachMenuButton(this),M(this.#r.bind(this)),rt(e,"type","button")}onConnect(e){M(this.#n.bind(this)),this.#i();let r=new MutationObserver(this.#i.bind(this));r.observe(e,{attributeFilter:["data-part"],childList:!0,subtree:!0}),ke(()=>r.disconnect()),lc(e,n=>{this.dispatch("select",{trigger:n})})}#r(){this.#e.disableMenuButton(this.$props.disabled())}#n(){let e=this.#t();e&&M(()=>{let r=this.#e.hint();r&&(e.textContent=r)})}#i(){let e=this.el?.querySelector('[data-part="hint"]');this.#t.set(e??null)}},FLe=Jv.prototype;et(FLe,"expanded");n_=class extends Jv{},rO=Xa(),i_=class extends Ae{static props={placement:null,offset:0,alignOffset:0};#e;constructor(){super(),new Li;let{placement:e}=this.$props;this.setAttributes({"data-placement":e})}onAttach(e){if(this.#e=Ht(Ja),this.#e.attachMenuItems(this),la(rO)){let r=Ht(rO);r&&(In(rO,null),r.attach(e),ke(()=>r.attach(null)))}}onConnect(e){M(this.#t.bind(this))}#t(){let{expanded:e}=this.#e;if(!this.el||!e())return;let r=this.$props.placement();if(!r)return;Object.assign(this.el.style,{position:"absolute",top:0,left:0,width:"max-content"});let{offset:n,alignOffset:i}=this.$props;ke(sK(this.el,this.#n(),r,{offsetVarName:"media-menu",xOffset:i(),yOffset:n()})),ke(this.#r.bind(this))}#r(){this.el&&(this.el.removeAttribute("style"),this.el.style.display="none")}#n(){return this.#e.button()}},s_=Xa(),Zv=class extends ln{#e=new Set;#t=ce("");#r=null;onValueChange;get values(){return Array.from(this.#e).map(e=>e.value())}get value(){return this.#t()}set value(e){this.#a(e)}onSetup(){In(s_,{add:this.#n.bind(this),remove:this.#i.bind(this)})}onAttach(e){la(Ja)||rt(e,"role","radiogroup"),this.setAttributes({value:this.#t})}onDestroy(){this.#e.clear()}#n(e){this.#e.has(e)||(this.#e.add(e),e.onCheck=this.#s,e.check(e.value()===this.#t()))}#i(e){e.onCheck=null,this.#e.delete(e)}#s=this.#a.bind(this);#a(e,r){let n=W(this.#t);if(!e||e===n)return;let i=this.#o(n),s=this.#o(e);i?.check(!1,r),s?.check(!0,r),this.#t.set(e),this.onValueChange?.(e,r)}#o(e){for(let r of this.#e)if(e===W(r.value))return r;return null}},iC=class extends Ae{static props={value:""};#e;get values(){return this.#e.values}get value(){return this.#e.value}set value(e){this.#e.value=e}constructor(){super(),this.#e=new Zv,this.#e.onValueChange=this.#r.bind(this)}onSetup(){ne?this.#t():M(this.#t.bind(this))}#t(){this.#e.value=this.$props.value()}#r(e,r){let n=this.createEvent("change",{detail:e,trigger:r});this.dispatch(n)}},mK=iC.prototype;et(mK,"values");et(mK,"value");sC=class extends Ae{static props={value:""};#e=ce(!1);#t={value:this.$props.value,check:this.#a.bind(this),onCheck:null};get checked(){return this.#e()}constructor(){super(),new Li}onSetup(){this.setAttributes({value:this.$props.value,"data-checked":this.#e,"aria-checked":Yr(this.#e)})}onAttach(e){let r=la(Ja);rt(e,"tabindex",r?"-1":"0"),rt(e,"role",r?"menuitemradio":"radio"),M(this.#i.bind(this))}onConnect(e){this.#n(),lc(e,this.#s.bind(this)),ke(this.#r.bind(this))}#r(){Dr(()=>{Ht(s_).remove(this.#t)},this.connectScope)}#n(){Ht(s_).add(this.#t)}#i(){let{value:e}=this.$props,r=e();W(this.#e)&&this.#t.onCheck?.(r)}#s(e){W(this.#e)||(this.#o(!0,e),this.#l(e),this.#t.onCheck?.(W(this.$props.value),e))}#a(e,r){W(this.#e)!==e&&this.#o(e,r)}#o(e,r){this.#e.set(e),this.dispatch("change",{detail:e,trigger:r})}#l(e){this.dispatch("select",{trigger:e})}},$Le=sC.prototype;et($Le,"checked");a_=class extends Ae{static props={disabled:!1,event:void 0,action:void 0};#e;#t=null;onSetup(){this.#e=ot();let{event:e,action:r}=this.$props;this.setAttributes({event:e,action:r})}onAttach(e){e.setAttribute("data-media-gesture",""),e.style.setProperty("pointer-events","none")}onConnect(e){this.#t=this.#e.player.el?.querySelector("[data-media-provider]"),M(this.#r.bind(this))}#r(){let e=this.$props.event(),r=this.$props.disabled();!this.#t||!e||r||(/^dbl/.test(e)&&(e=e.split(/^dbl/)[1]),(e==="pointerup"||e==="pointerdown")&&this.#e.$state.pointer()==="coarse"&&(e=e==="pointerup"?"touchend":"touchstart"),Pe(this.#t,e,this.#s.bind(this),{passive:!1}))}#n=0;#i=-1;#s(e){if(this.$props.disabled()||BS(e)&&(e.button!==0||this.#e.activeMenu)||$p(e)&&this.#e.activeMenu||w_(e)||!this.#o(e))return;if(e.MEDIA_GESTURE=!0,e.preventDefault(),!W(this.$props.event)?.startsWith("dbl"))this.#n===0&&setTimeout(()=>{this.#n===1&&this.#a(e)},250);else if(this.#n===1){queueMicrotask(()=>this.#a(e)),clearTimeout(this.#i),this.#n=0;return}this.#n===0&&(this.#i=window.setTimeout(()=>{this.#n=0},275)),this.#n++}#a(e){this.el.setAttribute("data-triggered",""),requestAnimationFrame(()=>{this.#l()&&this.#u(W(this.$props.action),e),requestAnimationFrame(()=>{this.el.removeAttribute("data-triggered")})})}#o(e){if(!this.el)return!1;if(BS(e)||WM(e)||$p(e)){let r=$p(e)?e.changedTouches[0]??e.touches[0]:void 0,n=r?.clientX??e.clientX,i=r?.clientY??e.clientY,s=this.el.getBoundingClientRect(),a=i>=s.top&&i<=s.bottom&&n>=s.left&&n<=s.right;return e.type.includes("leave")?!a:a}return!0}#l(){let e=this.#e.player.el.querySelectorAll("[data-media-gesture][data-triggered]");return Array.from(e).sort((r,n)=>+getComputedStyle(n).zIndex-+getComputedStyle(r).zIndex)[0]===this.el}#u(e,r){if(!e)return;let n=new me("will-trigger",{detail:e,cancelable:!0,trigger:r});if(this.dispatchEvent(n),n.defaultPrevented)return;let[i,s]=e.replace(/:([a-z])/,"-$1").split(":");e.includes(":fullscreen")?this.#e.remote.toggleFullscreen("prefer-media",r):e.includes("seek:")?this.#e.remote.seek(W(this.#e.$state.currentTime)+(+s||0),r):this.#e.remote[eP(i)](r),this.dispatch("trigger",{detail:e,trigger:r})}},o_=class{priority=10;#e=null;#t;#r;constructor(e){this.#t=e}attach(){}canRender(){return!0}detach(){this.#r?.abort(),this.#r=void 0,this.#t.reset(),this.#e=null}changeTrack(e){!e||this.#e===e||(this.#r?.abort(),this.#r=new Ge(e),e.readyState<2?(this.#t.reset(),this.#r.add("load",()=>this.#n(e),{once:!0})):this.#n(e),this.#r.add("add-cue",r=>{this.#t.addCue(r.detail)}).add("remove-cue",r=>{this.#t.removeCue(r.detail)}),this.#e=e)}#n(e){this.#t.changeTrack({cues:[...e.cues],regions:[...e.regions]})}},l_=class t extends Ae{static props={textDir:"ltr",exampleText:"Captions look like this."};#e;static lib=ce(null);onSetup(){this.#e=ot(),this.setAttributes({"aria-hidden":Yr(this.#t.bind(this))})}onAttach(e){e.style.setProperty("pointer-events","none")}onConnect(e){t.lib()||Promise.resolve().then(()=>(Nv(),Dv)).then(r=>t.lib.set(r)),M(this.#r.bind(this))}#t(){let{textTrack:e,remotePlaybackState:r,iOSControls:n}=this.#e.$state,i=e();return n()||r()==="connected"||!i||!Mn(i)}#r(){if(!t.lib())return;let{viewType:e}=this.#e.$state;return e()==="audio"?this.#n():this.#o()}#n(){return M(this.#i.bind(this)),this.#c(null),()=>{this.el.textContent=""}}#i(){if(this.#t())return;this.#s();let{textTrack:e}=this.#e.$state;Pe(e(),"cue-change",this.#s.bind(this)),M(this.#a.bind(this))}#s(){this.el.textContent="",this.#p>=0&&this.#m();let{realCurrentTime:e,textTrack:r}=this.#e.$state,{renderVTTCueString:n}=t.lib(),i=W(e),s=W(r).activeCues;for(let a of s){let o=this.#y(),l=this.#x();l.innerHTML=n(a,i),o.append(l),this.el.append(l)}}#a(){let{realCurrentTime:e}=this.#e.$state,{updateTimedVTTCueNodes:r}=t.lib();r(this.el,e())}#o(){let{CaptionsRenderer:e}=t.lib(),r=new e(this.el),n=new o_(r);return this.#e.textRenderers.add(n),M(this.#l.bind(this,r)),M(this.#u.bind(this,r)),this.#c(r),()=>{this.el.textContent="",this.#e.textRenderers.remove(n),r.destroy()}}#l(e){e.dir=this.$props.textDir()}#u(e){if(this.#t())return;let{realCurrentTime:r,textTrack:n}=this.#e.$state;e.currentTime=r(),this.#p>=0&&n()?.activeCues[0]&&this.#m()}#c(e){let r=this.#e.player;if(!r)return;let n=this.#f.bind(this,e);Pe(r,"vds-font-change",n)}#f(e){if(this.#p>=0){this.#g();return}let{textTrack:r}=this.#e.$state;r()?.activeCues[0]?e?.update(!0):this.#d()}#d(){let e=this.#y();ge(e,"data-example","");let r=this.#x();ge(r,"data-example",""),r.textContent=this.$props.exampleText(),e?.append(r),this.el?.append(e),this.el?.setAttribute("data-example",""),this.#g()}#p=-1;#g(){window.clearTimeout(this.#p),this.#p=window.setTimeout(this.#m.bind(this),2500)}#m(){this.el?.removeAttribute("data-example"),this.el?.querySelector("[data-example]")&&(this.el.textContent=""),this.#p=-1}#y(){let e=document.createElement("div");return ge(e,"data-part","cue-display"),e}#x(){let e=document.createElement("div");return ge(e,"data-part","cue"),e}},c_=class extends Ae{static props={src:null,alt:null,crossOrigin:null};static state=new ca({img:null,src:null,alt:null,crossOrigin:null,loading:!0,error:null,hidden:!1});#e;onSetup(){this.#e=ot(),this.#o(),this.#l(),this.#u(),this.#n()}onAttach(e){e.style.setProperty("pointer-events","none"),M(this.#s.bind(this)),M(this.#o.bind(this)),M(this.#l.bind(this)),M(this.#u.bind(this)),M(this.#n.bind(this));let{started:r}=this.#e.$state;this.setAttributes({"data-visible":()=>!r()&&!this.$state.hidden(),"data-loading":this.#i.bind(this),"data-error":this.#t.bind(this),"data-hidden":this.$state.hidden})}onConnect(e){M(this.#r.bind(this)),M(this.#c.bind(this))}#t(){let{error:e}=this.$state;return!ms(e())}#r(){let{canLoadPoster:e,poster:r}=this.#e.$state;!e()&&r()&&xs(r(),"preconnect")}#n(){let{src:e}=this.$props,{poster:r,nativeControls:n}=this.#e.$state;this.el&&ge(this.el,"display",n()?"none":null),this.$state.hidden.set(this.#t()||!(e()||r())||n())}#i(){let{loading:e,hidden:r}=this.$state;return!r()&&e()}#s(){let e=this.$state.img();e&&(new Ge(e).add("load",this.#f.bind(this)).add("error",this.#d.bind(this)),e.complete&&this.#f())}#a="";#o(){let{poster:e}=this.#e.$props,{canLoadPoster:r,providedPoster:n,inferredPoster:i}=this.#e.$state,s=this.$props.src()||"",a=s||e()||i();this.#a===n()&&n.set(s),this.$state.src.set(r()&&a.length?a:null),this.#a=s}#l(){let{src:e}=this.$props,{alt:r}=this.$state,{poster:n}=this.#e.$state;r.set(e()||n()?this.$props.alt():null)}#u(){let{crossOrigin:e}=this.$props,{crossOrigin:r}=this.$state,{crossOrigin:n,poster:i}=this.#e.$state,s=e()!==null?e():n();r.set(/ytimg\.com|vimeo/.test(i()||"")?null:s===!0?"anonymous":s)}#c(){let{loading:e,error:r}=this.$state,{canLoadPoster:n,poster:i}=this.#e.$state;e.set(n()&&!!i()),r.set(null)}#f(){let{loading:e,error:r}=this.$state;e.set(!1),r.set(null)}#d(e){let{loading:r,error:n}=this.$state;r.set(!1),n.set(e)}},u_=class extends Ae{static props={type:"current",showHours:!1,padHours:null,padMinutes:null,remainder:!1,toggle:!1,hidden:!1};static state=new ca({timeText:"",hidden:!1});#e;#t=ce(null);#r=ce(!0);#n=ce(!0);onSetup(){this.#e=ot(),this.#o();let{type:e}=this.$props;this.setAttributes({"data-type":e,"data-remainder":this.#c.bind(this)}),new Qk({callback:this.#i.bind(this)}).attach(this)}onAttach(e){e.hasAttribute("role")||M(this.#l.bind(this)),M(this.#o.bind(this))}onConnect(e){ke(rK(e,this.#r.set)),M(this.#s.bind(this)),M(this.#a.bind(this))}#i(e){this.#n.set(e[0].isIntersecting)}#s(){let{hidden:e}=this.$props;this.$state.hidden.set(e()||!this.#r()||!this.#n())}#a(){if(!this.$props.toggle()){this.#t.set(null);return}this.el&&lc(this.el,this.#f.bind(this))}#o(){let{hidden:e,timeText:r}=this.$state,{duration:n}=this.#e.$state;if(e())return;let{type:i,padHours:s,padMinutes:a,showHours:o}=this.$props,l=this.#u(i()),c=n(),u=this.#c();if(!Number.isFinite(l+c)){r.set("LIVE");return}let d=u?Math.max(0,c-l):l,f=Jo(d,{padHrs:s(),padMins:a(),showHrs:o()});r.set((u?"-":"")+f)}#l(){if(!this.el)return;let{toggle:e}=this.$props;ge(this.el,"role",e()?"timer":null),ge(this.el,"tabindex",e()?0:null)}#u(e){let{bufferedEnd:r,duration:n,currentTime:i}=this.#e.$state;switch(e){case"buffered":return r();case"duration":return n();default:return i()}}#c(){return this.$props.remainder()&&this.#t()!==!1}#f(e){if(e.preventDefault(),this.#t()===null){this.#t.set(!this.$props.remainder());return}this.#t.set(r=>!r)}},Td=class extends Wk{},aC=class extends Kk{},eb=class extends _O{},tb=class extends DO{},rb=class extends NO{},oC=class extends Xk{},nb=class extends UO{},ib=class extends zO{},sb=class extends KO{},ab=class extends HO{},ob=class extends GO{},lb=class extends BO{},cb=class extends VO{},ub=class extends qO{},db=class extends WO{},fb=class extends FO{},pb=class extends $O{},hb=class extends jO{},th=class extends Ed{},mb=class extends rC{},gb=class extends JO{},yb=class extends ZO{},vb=class extends e_{},bb=class extends t_{},wb=class extends XO{},xb=class extends tC{},Sb=class extends eC{},kb=class extends QO{},Cb=class extends nC{},Eb=class extends cc{},Tb=class extends Jv{},Ab=class extends i_{},Lb=class extends n_{},Ib=class extends iC{},Rb=class extends sC{},Mb=class extends l_{},Pb=class extends a_{},lC=class extends c_{},rh=class extends Zk{},Ob=class extends u_{},gK=Pt.forwardRef((t,e)=>{let{children:r,...n}=t,i=Pt.Children.toArray(r),s=i.find(VLe);if(s){let a=s.props.children,o=i.map(l=>l===s?Pt.Children.count(a)>1?Pt.Children.only(null):Pt.isValidElement(a)?a.props.children:null:l);return Pt.createElement(d_,{...n,ref:e},Pt.isValidElement(a)?Pt.cloneElement(a,void 0,o):null)}return Pt.createElement(d_,{...n,ref:e},r)});gK.displayName="Slot";d_=Pt.forwardRef((t,e)=>{let{children:r,...n}=t;return Pt.isValidElement(r)?Pt.cloneElement(r,{...qLe(n,r.props),ref:e?We(e,r.ref):r.ref}):Pt.Children.count(r)>1?Pt.Children.only(null):null});d_.displayName="SlotClone";jLe=({children:t})=>Pt.createElement(Pt.Fragment,null,t);BLe=["button","div","span","img","video","audio"],fe=BLe.reduce((t,e)=>{let r=Pt.forwardRef((n,i)=>{let{asChild:s,...a}=n;return Pt.createElement(s?gK:e,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});_W=th.state.record,ULe=Object.keys(_W).reduce((t,e)=>({...t,[e](){return _W[e]}}),{});DW=Td.state.record,vK=Object.keys(DW).reduce((t,e)=>({...t,[e](){return DW[e]}}),{})});var aZ={};Rr(aZ,{SRTParser:()=>RE,default:()=>e_e});function e_e(){return new RE}var JOe,ZOe,RE,oZ=tt(()=>{I0();JOe=/,/g,ZOe="-->",RE=class extends Sh{parse(e,r){if(e==="")this.a&&(this.j.push(this.a),this.f.onCue?.(this.a),this.a=null),this.c=xh.None;else if(this.c===xh.Cue)this.a.text+=(this.a.text?`
`:"")+e;else if(e.includes(ZOe)){let n=this.o(e,r);n&&(this.a=new Sc(n[0],n[1],n[2].join(" ")),this.a.id=this.l,this.c=xh.Cue)}this.l=e}o(e,r){return super.o(e.replace(JOe,"."),r)}}});var pD={};Rr(pD,{ParseErrorBuilder:()=>t_e});var t_e,hD=tt(()=>{I0();t_e={p(){return new $i({code:ga.BadSignature,reason:"missing WEBVTT file header",line:1})},q(t,e){return new $i({code:ga.BadTimestamp,reason:`cue start timestamp \`${t}\` is invalid on line ${e}`,line:e})},r(t,e){return new $i({code:ga.BadTimestamp,reason:`cue end timestamp \`${t}\` is invalid on line ${e}`,line:e})},s(t,e,r){return new $i({code:ga.BadTimestamp,reason:`cue end timestamp \`${e}\` is greater than start \`${t}\` on line ${r}`,line:r})},w(t,e,r){return new $i({code:ga.BadSettingValue,reason:`invalid value for cue setting \`${t}\` on line ${r} (value: ${e})`,line:r})},v(t,e,r){return new $i({code:ga.UnknownSetting,reason:`unknown cue setting \`${t}\` on line ${r} (value: ${e})`,line:r})},u(t,e,r){return new $i({code:ga.BadSettingValue,reason:`invalid value for region setting \`${t}\` on line ${r} (value: ${e})`,line:r})},t(t,e,r){return new $i({code:ga.UnknownSetting,reason:`unknown region setting \`${t}\` on line ${r} (value: ${e})`,line:r})},T(t,e){return new $i({code:ga.BadFormat,reason:`format missing for \`${t}\` block on line ${e}`,line:e})}}});var pZ={};Rr(pZ,{SSAParser:()=>OE,default:()=>r_e});function gD(t){let e=parseInt(t.replace("&H",""),16);if(e>=0){let n=(e>>24&255^255)/255,i=e>>16&255,s=e>>8&255;return"rgba("+[e&255,s,i,n].join(",")+")"}return null}function yD(t,e,r){let n=Math.ceil(2*Math.PI*t),i="";for(let s=0;s<n;s++){let a=2*Math.PI*s/n;i+=t*Math.cos(a)+"px "+e*Math.sin(a)+"px 0 "+r+(s==n-1?"":",")}return i}function r_e(){return new OE}var ME,lZ,cZ,PE,uZ,dZ,fZ,mD,OE,hZ=tt(()=>{I0();ME=/^Format:[\s\t]*/,lZ=/^Style:[\s\t]*/,cZ=/^Dialogue:[\s\t]*/,PE=/[\s\t]*,[\s\t]*/,uZ=/\{[^}]+\}/g,dZ=/\\N/g,fZ=/^\[(.*)[\s\t]?Styles\]$/,mD=/^\[(.*)[\s\t]?Events\]$/,OE=class{f;O=0;a=null;j=[];k=[];N=null;d;P={};async init(e){this.f=e,e.errors&&(this.d=(await Promise.resolve().then(()=>(hD(),pD))).ParseErrorBuilder)}parse(e,r){if(this.O)switch(this.O){case 1:if(e==="")this.O=0;else if(lZ.test(e))if(this.N){let n=e.replace(lZ,"").split(PE);this.S(n)}else this.e(this.d?.T("Style",r));else ME.test(e)?this.N=e.replace(ME,"").split(PE):mD.test(e)&&(this.N=null,this.O=2);break;case 2:if(e==="")this.Q();else if(cZ.test(e))if(this.Q(),this.N){let n=e.replace(cZ,"").split(PE),i=this.U(n,r);i&&(this.a=i)}else this.e(this.d?.T("Dialogue",r));else this.a?this.a.text+=`
`+e.replace(uZ,"").replace(dZ,`
`):ME.test(e)?this.N=e.replace(ME,"").split(PE):fZ.test(e)?(this.N=null,this.O=1):mD.test(e)&&(this.N=null)}else e===""||(fZ.test(e)?(this.N=null,this.O=1):mD.test(e)&&(this.N=null,this.O=2))}done(){return{metadata:{},cues:this.j,regions:[],errors:this.k}}Q(){this.a&&(this.j.push(this.a),this.f.onCue?.(this.a),this.a=null)}S(e){let r="Default",n={},i,s="center",a="bottom",o,l=1.2,c,u,d=3,f=[];for(let p=0;p<this.N.length;p++){let h=this.N[p],g=e[p];switch(h){case"Name":r=g;break;case"Fontname":n["font-family"]=g;break;case"Fontsize":n["font-size"]=`calc(${g} / var(--overlay-height))`;break;case"PrimaryColour":let v=gD(g);v&&(n["--cue-color"]=v);break;case"BorderStyle":d=parseInt(g,10);break;case"BackColour":u=gD(g);break;case"OutlineColour":let y=gD(g);y&&(c=y);break;case"Bold":parseInt(g)&&(n["font-weight"]="bold");break;case"Italic":parseInt(g)&&(n["font-style"]="italic");break;case"Underline":parseInt(g)&&(n["text-decoration"]="underline");break;case"StrikeOut":parseInt(g)&&(n["text-decoration"]="line-through");break;case"Spacing":n["letter-spacing"]=g+"px";break;case"AlphaLevel":n.opacity=parseFloat(g);break;case"ScaleX":f.push(`scaleX(${parseFloat(g)/100})`);break;case"ScaleY":f.push(`scaleY(${parseFloat(g)/100})`);break;case"Angle":f.push(`rotate(${g}deg)`);break;case"Shadow":l=parseInt(g,10)*1.2;break;case"MarginL":n["--cue-width"]="auto",n["--cue-left"]=parseFloat(g)+"px";break;case"MarginR":n["--cue-width"]="auto",n["--cue-right"]=parseFloat(g)+"px";break;case"MarginV":o=parseFloat(g);break;case"Outline":i=parseInt(g,10);break;case"Alignment":let b=parseInt(g,10);switch(b>=4&&(a=b>=7?"top":"center"),b%3){case 1:s="start";break;case 2:s="center";break;case 3:s="end";break}}}if(n.R=a,n["--cue-white-space"]="normal",n["--cue-line-height"]="normal",n["--cue-text-align"]=s,a==="center"?(n["--cue-top"]="50%",f.push("translateY(-50%)")):n[`--cue-${a}`]=(o||0)+"px",d===1&&(n["--cue-padding-y"]="0"),(d===1||u)&&(n["--cue-bg-color"]=d===1?"none":u),d===3&&c&&(n["--cue-outline"]=`${i}px solid ${c}`),d===1&&typeof i=="number"){let p=u??"#000";n["--cue-text-shadow"]=[c&&yD(i*1.2,l*1.2,c),c?yD(i*(i/2),l*(i/2),p):yD(i,l,p)].filter(Boolean).join(", ")}f.length&&(n["--cue-transform"]=f.join(" ")),this.P[r]=n}U(e,r){let n=this.V(e),i=this.o(n.Start,n.End,r);if(!i)return;let s=new Sc(i[0],i[1],""),a={...this.P[n.Style]||{}},o=n.Name?`<v ${n.Name}>`:"",l=a.R,c=n.MarginL&&parseFloat(n.MarginL),u=n.MarginR&&parseFloat(n.MarginR),d=n.MarginV&&parseFloat(n.MarginV);return c&&(a["--cue-width"]="auto",a["--cue-left"]=c+"px"),u&&(a["--cue-width"]="auto",a["--cue-right"]=u+"px"),d&&l!=="center"&&(a[`--cue-${l}`]=d+"px"),s.text=o+e.slice(this.N.length-1).join(", ").replace(uZ,"").replace(dZ,`
`),delete a.R,Object.keys(a).length&&(s.style=a),s}V(e){let r={};for(let n=0;n<this.N.length;n++)r[this.N[n]]=e[n];return r}o(e,r,n){let i=kc(e),s=kc(r);if(i!==null&&s!==null&&s>i)return[i,s];i===null&&this.e(this.d?.q(e,n)),s===null&&this.e(this.d?.r(r,n)),i!=null&&s!==null&&s>i&&this.e(this.d?.s(i,s,n))}e(e){if(e){if(this.k.push(e),this.f.strict)throw this.f.cancel(),e;this.f.onError?.(e)}}}});async function bD(t,e){let r=new ReadableStream({start(n){let i=t.split(n_e);for(let s of i)n.enqueue(s);n.close()}});return vZ(r,e)}async function vZ(t,e){let r=e?.type??"vtt",n;if(typeof r=="string")switch(r){case"srt":n=(await Promise.resolve().then(()=>(oZ(),aZ))).default;break;case"ssa":case"ass":n=(await Promise.resolve().then(()=>(hZ(),pZ))).default;break;default:n=(await Promise.resolve().then(function(){return x_e})).default}else n=r;let i,s=t.getReader(),a=n(),o=!!e?.strict||!!e?.errors;await a.init({strict:!1,...e,errors:o,type:r,cancel(){s.cancel(),i=a.done(!0)}});let l=1;for(;;){let{value:c,done:u}=await s.read();if(u){a.parse("",l),i=a.done(!1);break}a.parse(c,l),l++}return i}function a_e(t){let e=parseInt(t,10);return Number.isNaN(e)?null:e}function M0(t){let e=parseInt(t.replace(s_e,""),10);return!Number.isNaN(e)&&e>=0&&e<=100?e:null}function gZ(t){if(!t.includes(mZ))return null;let[e,r]=t.split(mZ).map(M0);return e!==null&&r!==null?[e,r]:null}function o_e(t){let e=parseFloat(t);return Number.isNaN(e)?null:e}function kc(t){let e=t.match(b_e);if(!e)return null;let r=e[1]?parseInt(e[1],10):0,n=parseInt(e[2],10),i=parseInt(e[3],10),s=e[4]?parseInt(e[4].padEnd(3,"0"),10):0,a=r*3600+n*60+i+s/1e3;return r<0||n<0||i<0||s<0||n>59||i>59?null:a}function w_e(){return new Sh}function wD(t){let e="",r=1,n=[],i=[],s;for(let c=0;c<t.text.length;c++){let u=t.text[c];switch(r){case 1:u==="<"?(l(),r=2):e+=u;break;case 2:switch(u){case`
`:case"	":case" ":a(),r=4;break;case".":a(),r=3;break;case"/":r=5;break;case">":a(),r=1;break;default:!e&&S_e.test(u)&&(r=6),e+=u;break}break;case 3:switch(u){case"	":case" ":case`
`:o(),s&&s.class?.trim(),r=4;break;case".":o();break;case">":o(),s&&s.class?.trim(),r=1;break;default:e+=u}break;case 4:u===">"?(e=e.replace(k_e," "),s?.type==="v"?s.voice=vD(e):s?.type==="lang"&&(s.lang=vD(e)),e="",r=1):e+=u;break;case 5:u===">"&&(e="",s=i.pop(),r=1);break;case 6:if(u===">"){let d=kc(e);d!==null&&d>=t.startTime&&d<=t.endTime&&(e="timestamp",a(),s.time=d),e="",r=1}else e+=u;break}}function a(){if(A_e.has(e)){let c=s;s=L_e(e),c?(i[i.length-1]!==c&&i.push(c),c.children.push(s)):n.push(s)}e="",r=1}function o(){if(s&&e){let c=e.replace("bg_","");T_e.has(c)?s[e.startsWith("bg_")?"bgColor":"color"]=c:s.class=s.class?s.class+" "+e:e}e=""}function l(){if(!e)return;let c={type:"text",data:vD(e)};s?s.children.push(c):n.push(c),e=""}return r===1&&l(),n}function L_e(t){return{tagName:bZ[t],type:t,children:[]}}function vD(t){return t.replace(E_e,e=>C_e[e]||"'")}var ga,$i,n_e,i_e,Sc,_E,mZ,s_e,l_e,yZ,c_e,kh,u_e,d_e,f_e,p_e,R0,h_e,m_e,g_e,y_e,v_e,b_e,xh,Sh,x_e,S_e,k_e,bZ,C_e,E_e,T_e,A_e,Wut,Kut,I0=tt(()=>{ga={LoadFail:0,BadSignature:1,BadTimestamp:2,BadSettingValue:3,BadFormat:4,UnknownSetting:5},$i=class extends Error{code;line;constructor(e){super(e.reason),this.code=e.code,this.line=e.line}},n_e=/\r?\n|\r/gm;i_e=window.VTTCue,Sc=class extends i_e{region=null;vertical="";snapToLines=!0;line="auto";lineAlign="start";position="auto";positionAlign="auto";size=100;align="center";style},_E=class{id="";width=100;lines=3;regionAnchorX=0;regionAnchorY=100;viewportAnchorX=0;viewportAnchorY=100;scroll=""},mZ=",",s_e="%";l_e="WEBVTT",yZ=",",c_e="%",kh=/[:=]/,u_e=/^[\s\t]*(region|vertical|line|position|size|align)[:=]/,d_e="NOTE",f_e="REGION",p_e=/^REGION:?[\s\t]+/,R0=/[\s\t]+/,h_e="-->",m_e=/[\s\t]*-->[\s\t]+/,g_e=/start|center|end|left|right/,y_e=/start|center|end/,v_e=/line-(?:left|right)|center|auto/,b_e=/^(?:(\d{1,2}):)?(\d{2}):(\d{2})(?:\.(\d{1,3}))?$/,xh=(t=>(t[t.None=0]="None",t[t.Header=1]="Header",t[t.Cue=2]="Cue",t[t.Region=3]="Region",t[t.Note=4]="Note",t))(xh||{}),Sh=class{f;c=0;g={};h={};j=[];a=null;b=null;k=[];d;l="";async init(e){this.f=e,e.strict&&(this.c=1),e.errors&&(this.d=(await Promise.resolve().then(()=>(hD(),pD))).ParseErrorBuilder)}parse(e,r){if(e==="")this.a?(this.j.push(this.a),this.f.onCue?.(this.a),this.a=null):this.b?(this.h[this.b.id]=this.b,this.f.onRegion?.(this.b),this.b=null):this.c===1&&(this.i(e,r),this.f.onHeaderMetadata?.(this.g)),this.c=0;else if(this.c)switch(this.c){case 1:this.i(e,r);break;case 2:if(this.a){let n=this.a.text.length>0;!n&&u_e.test(e)?this.m(e.split(R0),r):this.a.text+=(n?`
`:"")+e}break;case 3:this.n(e.split(R0),r);break}else if(e.startsWith(d_e))this.c=4;else if(e.startsWith(f_e))this.c=3,this.b=new _E,this.n(e.replace(p_e,"").split(R0),r);else if(e.includes(h_e)){let n=this.o(e,r);n&&(this.a=new Sc(n[0],n[1],""),this.a.id=this.l,this.m(n[2],r)),this.c=2}else r===1&&this.i(e,r);this.l=e}done(){return{metadata:this.g,cues:this.j,regions:Object.values(this.h),errors:this.k}}i(e,r){if(r>1){if(kh.test(e)){let[n,i]=e.split(kh);n&&(this.g[n]=(i||"").replace(R0,""))}}else e.startsWith(l_e)?this.c=1:this.e(this.d?.p())}o(e,r){let[n,i=""]=e.split(m_e),[s,...a]=i.split(R0),o=kc(n),l=kc(s);if(o!==null&&l!==null&&l>o)return[o,l,a];o===null&&this.e(this.d?.q(n,r)),l===null&&this.e(this.d?.r(s,r)),o!=null&&l!==null&&l>o&&this.e(this.d?.s(o,l,r))}n(e,r){let n;for(let i=0;i<e.length;i++)if(kh.test(e[i])){n=!1;let[s,a]=e[i].split(kh);switch(s){case"id":this.b.id=a;break;case"width":let o=M0(a);o!==null?this.b.width=o:n=!0;break;case"lines":let l=a_e(a);l!==null?this.b.lines=l:n=!0;break;case"regionanchor":let c=gZ(a);c!==null?(this.b.regionAnchorX=c[0],this.b.regionAnchorY=c[1]):n=!0;break;case"viewportanchor":let u=gZ(a);u!==null?(this.b.viewportAnchorX=u[0],this.b.viewportAnchorY=u[1]):n=!0;break;case"scroll":a==="up"?this.b.scroll="up":n=!0;break;default:this.e(this.d?.t(s,a,r))}n&&this.e(this.d?.u(s,a,r))}}m(e,r){let n;for(let i=0;i<e.length;i++)if(n=!1,kh.test(e[i])){let[s,a]=e[i].split(kh);switch(s){case"region":let o=this.h[a];o&&(this.a.region=o);break;case"vertical":a==="lr"||a==="rl"?(this.a.vertical=a,this.a.region=null):n=!0;break;case"line":let[l,c]=a.split(yZ);if(l.includes(c_e)){let h=M0(l);h!==null?(this.a.line=h,this.a.snapToLines=!1):n=!0}else{let h=o_e(l);h!==null?this.a.line=h:n=!0}y_e.test(c)?this.a.lineAlign=c:c&&(n=!0),this.a.line!=="auto"&&(this.a.region=null);break;case"position":let[u,d]=a.split(yZ),f=M0(u);f!==null?this.a.position=f:n=!0,d&&v_e.test(d)?this.a.positionAlign=d:d&&(n=!0);break;case"size":let p=M0(a);p!==null?(this.a.size=p,p<100&&(this.a.region=null)):n=!0;break;case"align":g_e.test(a)?this.a.align=a:n=!0;break;default:this.e(this.d?.v(s,a,r))}n&&this.e(this.d?.w(s,a,r))}}e(e){if(e){if(this.k.push(e),this.f.strict)throw this.f.cancel(),e;this.f.onError?.(e)}}};x_e=Object.freeze({__proto__:null,VTTBlock:xh,VTTParser:Sh,default:w_e,parseVTTTimestamp:kc}),S_e=/[0-9]/,k_e=/[\s\t]+/,bZ={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span",timestamp:"span"},C_e={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&nbsp;":"\xA0","&lrm;":"\u200E","&rlm;":"\u200F"},E_e=/&(?:amp|lt|gt|quot|#(0+)?39|nbsp|lrm|rlm);/g,T_e=new Set(["white","lime","cyan","red","yellow","magenta","blue","black"]),A_e=new Set(Object.keys(bZ));Wut=Symbol(0),Kut=Symbol(0)});var bne=C(Bt=>{"use strict";function PN(t,e){var r=t.length;t.push(e);e:for(;0<r;){var n=r-1>>>1,i=t[n];if(0<_T(i,e))t[n]=e,t[r]=i,r=n;else break e}}function fo(t){return t.length===0?null:t[0]}function NT(t){if(t.length===0)return null;var e=t[0],r=t.pop();if(r!==e){t[0]=r;e:for(var n=0,i=t.length,s=i>>>1;n<s;){var a=2*(n+1)-1,o=t[a],l=a+1,c=t[l];if(0>_T(o,r))l<i&&0>_T(c,o)?(t[n]=c,t[l]=r,n=l):(t[n]=o,t[a]=r,n=a);else if(l<i&&0>_T(c,r))t[n]=c,t[l]=r,n=l;else break e}}return e}function _T(t,e){var r=t.sortIndex-e.sortIndex;return r!==0?r:t.id-e.id}Bt.unstable_now=void 0;typeof performance=="object"&&typeof performance.now=="function"?(une=performance,Bt.unstable_now=function(){return une.now()}):(IN=Date,dne=IN.now(),Bt.unstable_now=function(){return IN.now()-dne});var une,IN,dne,ml=[],Fc=[],Y5e=1,Ms=null,gn=3,ON=!1,Q0=!1,J0=!1,_N=!1,hne=typeof setTimeout=="function"?setTimeout:null,mne=typeof clearTimeout=="function"?clearTimeout:null,fne=typeof setImmediate<"u"?setImmediate:null;function DT(t){for(var e=fo(Fc);e!==null;){if(e.callback===null)NT(Fc);else if(e.startTime<=t)NT(Fc),e.sortIndex=e.expirationTime,PN(ml,e);else break;e=fo(Fc)}}function DN(t){if(J0=!1,DT(t),!Q0)if(fo(ml)!==null)Q0=!0,Hh||(Hh=!0,zh());else{var e=fo(Fc);e!==null&&NN(DN,e.startTime-t)}}var Hh=!1,Z0=-1,gne=5,yne=-1;function vne(){return _N?!0:!(Bt.unstable_now()-yne<gne)}function RN(){if(_N=!1,Hh){var t=Bt.unstable_now();yne=t;var e=!0;try{e:{Q0=!1,J0&&(J0=!1,mne(Z0),Z0=-1),ON=!0;var r=gn;try{t:{for(DT(t),Ms=fo(ml);Ms!==null&&!(Ms.expirationTime>t&&vne());){var n=Ms.callback;if(typeof n=="function"){Ms.callback=null,gn=Ms.priorityLevel;var i=n(Ms.expirationTime<=t);if(t=Bt.unstable_now(),typeof i=="function"){Ms.callback=i,DT(t),e=!0;break t}Ms===fo(ml)&&NT(ml),DT(t)}else NT(ml);Ms=fo(ml)}if(Ms!==null)e=!0;else{var s=fo(Fc);s!==null&&NN(DN,s.startTime-t),e=!1}}break e}finally{Ms=null,gn=r,ON=!1}e=void 0}}finally{e?zh():Hh=!1}}}var zh;typeof fne=="function"?zh=function(){fne(RN)}:typeof MessageChannel<"u"?(MN=new MessageChannel,pne=MN.port2,MN.port1.onmessage=RN,zh=function(){pne.postMessage(null)}):zh=function(){hne(RN,0)};var MN,pne;function NN(t,e){Z0=hne(function(){t(Bt.unstable_now())},e)}Bt.unstable_IdlePriority=5;Bt.unstable_ImmediatePriority=1;Bt.unstable_LowPriority=4;Bt.unstable_NormalPriority=3;Bt.unstable_Profiling=null;Bt.unstable_UserBlockingPriority=2;Bt.unstable_cancelCallback=function(t){t.callback=null};Bt.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):gne=0<t?Math.floor(1e3/t):5};Bt.unstable_getCurrentPriorityLevel=function(){return gn};Bt.unstable_next=function(t){switch(gn){case 1:case 2:case 3:var e=3;break;default:e=gn}var r=gn;gn=e;try{return t()}finally{gn=r}};Bt.unstable_requestPaint=function(){_N=!0};Bt.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=gn;gn=t;try{return e()}finally{gn=r}};Bt.unstable_scheduleCallback=function(t,e,r){var n=Bt.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,t){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=r+i,t={id:Y5e++,callback:e,priorityLevel:t,startTime:r,expirationTime:i,sortIndex:-1},r>n?(t.sortIndex=r,PN(Fc,t),fo(ml)===null&&t===fo(Fc)&&(J0?(mne(Z0),Z0=-1):J0=!0,NN(DN,r-n))):(t.sortIndex=i,PN(ml,t),Q0||ON||(Q0=!0,Hh||(Hh=!0,zh()))),t};Bt.unstable_shouldYield=vne;Bt.unstable_wrapCallback=function(t){var e=gn;return function(){var r=gn;gn=e;try{return t.apply(this,arguments)}finally{gn=r}}}});var xne=C((npt,wne)=>{"use strict";wne.exports=bne()});var koe=C(iA=>{"use strict";var Ir=xne(),Uie=he(),X5e=Pu();function B(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function zie(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vw(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Hie(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Sne(t){if(Vw(t)!==t)throw Error(B(188))}function Q5e(t){var e=t.alternate;if(!e){if(e=Vw(t),e===null)throw Error(B(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Sne(i),t;if(s===n)return Sne(i),e;s=s.sibling}throw Error(B(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(B(189))}}if(r.alternate!==n)throw Error(B(190))}if(r.tag!==3)throw Error(B(188));return r.stateNode.current===r?t:e}function Gie(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=Gie(t),e!==null)return e;t=t.sibling}return null}var _t=Object.assign,J5e=Symbol.for("react.element"),FT=Symbol.for("react.transitional.element"),lw=Symbol.for("react.portal"),Jh=Symbol.for("react.fragment"),Wie=Symbol.for("react.strict_mode"),h4=Symbol.for("react.profiler"),Z5e=Symbol.for("react.provider"),Kie=Symbol.for("react.consumer"),wl=Symbol.for("react.context"),c5=Symbol.for("react.forward_ref"),m4=Symbol.for("react.suspense"),g4=Symbol.for("react.suspense_list"),u5=Symbol.for("react.memo"),Vc=Symbol.for("react.lazy");Symbol.for("react.scope");var y4=Symbol.for("react.activity");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var e9e=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var kne=Symbol.iterator;function ew(t){return t===null||typeof t!="object"?null:(t=kne&&t[kne]||t["@@iterator"],typeof t=="function"?t:null)}var t9e=Symbol.for("react.client.reference");function v4(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===t9e?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Jh:return"Fragment";case h4:return"Profiler";case Wie:return"StrictMode";case m4:return"Suspense";case g4:return"SuspenseList";case y4:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case lw:return"Portal";case wl:return(t.displayName||"Context")+".Provider";case Kie:return(t._context.displayName||"Context")+".Consumer";case c5:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case u5:return e=t.displayName||null,e!==null?e:v4(t.type)||"Memo";case Vc:e=t._payload,t=t._init;try{return v4(t(e))}catch{}}return null}var cw=Array.isArray,Se=Uie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=X5e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lf={pending:!1,data:null,method:null,action:null},b4=[],Zh=-1;function bo(t){return{current:t}}function Ur(t){0>Zh||(t.current=b4[Zh],b4[Zh]=null,Zh--)}function zt(t,e){Zh++,b4[Zh]=t.current,t.current=e}var go=bo(null),Tw=bo(null),Xc=bo(null),p2=bo(null);function h2(t,e){switch(zt(Xc,e),zt(Tw,t),zt(go,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Iie(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Iie(e),t=doe(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ur(go),zt(go,t)}function vm(){Ur(go),Ur(Tw),Ur(Xc)}function w4(t){t.memoizedState!==null&&zt(p2,t);var e=go.current,r=doe(e,t.type);e!==r&&(zt(Tw,t),zt(go,r))}function m2(t){Tw.current===t&&(Ur(go),Ur(Tw)),p2.current===t&&(Ur(p2),Nw._currentValue=lf)}var x4=Object.prototype.hasOwnProperty,d5=Ir.unstable_scheduleCallback,FN=Ir.unstable_cancelCallback,r9e=Ir.unstable_shouldYield,n9e=Ir.unstable_requestPaint,yo=Ir.unstable_now,i9e=Ir.unstable_getCurrentPriorityLevel,Yie=Ir.unstable_ImmediatePriority,Xie=Ir.unstable_UserBlockingPriority,g2=Ir.unstable_NormalPriority,s9e=Ir.unstable_LowPriority,Qie=Ir.unstable_IdlePriority,a9e=Ir.log,o9e=Ir.unstable_setDisableYieldValue,qw=null,Gi=null;function Gc(t){if(typeof a9e=="function"&&o9e(t),Gi&&typeof Gi.setStrictMode=="function")try{Gi.setStrictMode(qw,t)}catch{}}var Wi=Math.clz32?Math.clz32:u9e,l9e=Math.log,c9e=Math.LN2;function u9e(t){return t>>>=0,t===0?32:31-(l9e(t)/c9e|0)|0}var $T=256,jT=4194304;function sf(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function U2(t,e,r){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var o=n&134217727;return o!==0?(n=o&~s,n!==0?i=sf(n):(a&=o,a!==0?i=sf(a):r||(r=o&~t,r!==0&&(i=sf(r))))):(o=n&~s,o!==0?i=sf(o):a!==0?i=sf(a):r||(r=n&~t,r!==0&&(i=sf(r)))),i===0?0:e!==0&&e!==i&&(e&s)===0&&(s=i&-i,r=e&-e,s>=r||s===32&&(r&4194048)!==0)?e:i}function Bw(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function d9e(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jie(){var t=$T;return $T<<=1,($T&4194048)===0&&($T=256),t}function Zie(){var t=jT;return jT<<=1,(jT&62914560)===0&&(jT=4194304),t}function $N(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Uw(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function f9e(t,e,r,n,i,s){var a=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(r=a&~r;0<r;){var u=31-Wi(r),d=1<<u;o[u]=0,l[u]=-1;var f=c[u];if(f!==null)for(c[u]=null,u=0;u<f.length;u++){var p=f[u];p!==null&&(p.lane&=-536870913)}r&=~d}n!==0&&ese(t,n,0),s!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function ese(t,e,r){t.pendingLanes|=e,t.suspendedLanes&=~e;var n=31-Wi(e);t.entangledLanes|=e,t.entanglements[n]=t.entanglements[n]|1073741824|r&4194090}function tse(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Wi(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}function f5(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function p5(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function rse(){var t=it.p;return t!==0?t:(t=window.event,t===void 0?32:xoe(t.type))}function p9e(t,e){var r=it.p;try{return it.p=t,e()}finally{it.p=r}}var ou=Math.random().toString(36).slice(2),yn="__reactFiber$"+ou,ui="__reactProps$"+ou,Im="__reactContainer$"+ou,S4="__reactEvents$"+ou,h9e="__reactListeners$"+ou,m9e="__reactHandles$"+ou,Cne="__reactResources$"+ou,zw="__reactMarker$"+ou;function h5(t){delete t[yn],delete t[ui],delete t[S4],delete t[h9e],delete t[m9e]}function em(t){var e=t[yn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Im]||r[yn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Pie(t);t!==null;){if(r=t[yn])return r;t=Pie(t)}return e}t=r,r=t.parentNode}return null}function Rm(t){if(t=t[yn]||t[Im]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function uw(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(B(33))}function um(t){var e=t[Cne];return e||(e=t[Cne]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function qr(t){t[zw]=!0}var nse=new Set,ise={};function bf(t,e){bm(t,e),bm(t+"Capture",e)}function bm(t,e){for(ise[t]=e,t=0;t<e.length;t++)nse.add(e[t])}var g9e=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ene={},Tne={};function y9e(t){return x4.call(Tne,t)?!0:x4.call(Ene,t)?!1:g9e.test(t)?Tne[t]=!0:(Ene[t]=!0,!1)}function e2(t,e,r){if(y9e(e))if(r===null)t.removeAttribute(e);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var n=e.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+r)}}function VT(t,e,r){if(r===null)t.removeAttribute(e);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+r)}}function gl(t,e,r,n){if(n===null)t.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(e,r,""+n)}}var jN,Ane;function Yh(t){if(jN===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);jN=e&&e[1]||"",Ane=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jN+t+Ane}var VN=!1;function qN(t,e){if(!t||VN)return"";VN=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(e){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(p){var f=p}Reflect.construct(t,[],d)}else{try{d.call()}catch(p){f=p}t.call(d.prototype)}}else{try{throw Error()}catch(p){f=p}(d=t())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(p){if(p&&f&&typeof p.stack=="string")return[p.stack,f.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=n.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split(`
`),c=o.split(`
`);for(i=n=0;n<l.length&&!l[n].includes("DetermineComponentFrameRoot");)n++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(n===l.length||i===c.length)for(n=l.length-1,i=c.length-1;1<=n&&0<=i&&l[n]!==c[i];)i--;for(;1<=n&&0<=i;n--,i--)if(l[n]!==c[i]){if(n!==1||i!==1)do if(n--,i--,0>i||l[n]!==c[i]){var u=`
`+l[n].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=n&&0<=i);break}}}finally{VN=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Yh(r):""}function v9e(t){switch(t.tag){case 26:case 27:case 5:return Yh(t.type);case 16:return Yh("Lazy");case 13:return Yh("Suspense");case 19:return Yh("SuspenseList");case 0:case 15:return qN(t.type,!1);case 11:return qN(t.type.render,!1);case 1:return qN(t.type,!0);case 31:return Yh("Activity");default:return""}}function Lne(t){try{var e="";do e+=v9e(t),t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Os(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sse(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function b9e(t){var e=sse(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function y2(t){t._valueTracker||(t._valueTracker=b9e(t))}function ase(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=sse(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function v2(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var w9e=/[\n"\\]/g;function Ns(t){return t.replace(w9e,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function k4(t,e,r,n,i,s,a,o){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Os(e)):t.value!==""+Os(e)&&(t.value=""+Os(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?C4(t,a,Os(e)):r!=null?C4(t,a,Os(r)):n!=null&&t.removeAttribute("value"),i==null&&s!=null&&(t.defaultChecked=!!s),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Os(o):t.removeAttribute("name")}function ose(t,e,r,n,i,s,a,o){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||r!=null){if(!(s!=="submit"&&s!=="reset"||e!=null))return;r=r!=null?""+Os(r):"",e=e!=null?""+Os(e):r,o||e===t.value||(t.value=e),t.defaultValue=e}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,t.checked=o?t.checked:!!n,t.defaultChecked=!!n,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a)}function C4(t,e,r){e==="number"&&v2(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function dm(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Os(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function lse(t,e,r){if(e!=null&&(e=""+Os(e),e!==t.value&&(t.value=e),r==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=r!=null?""+Os(r):""}function cse(t,e,r,n){if(e==null){if(n!=null){if(r!=null)throw Error(B(92));if(cw(n)){if(1<n.length)throw Error(B(93));n=n[0]}r=n}r==null&&(r=""),e=r}r=Os(e),t.defaultValue=r,n=t.textContent,n===r&&n!==""&&n!==null&&(t.value=n)}function wm(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var x9e=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ine(t,e,r){var n=e.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":n?t.setProperty(e,r):typeof r!="number"||r===0||x9e.has(e)?e==="float"?t.cssFloat=r:t[e]=(""+r).trim():t[e]=r+"px"}function use(t,e,r){if(e!=null&&typeof e!="object")throw Error(B(62));if(t=t.style,r!=null){for(var n in r)!r.hasOwnProperty(n)||e!=null&&e.hasOwnProperty(n)||(n.indexOf("--")===0?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="");for(var i in e)n=e[i],e.hasOwnProperty(i)&&r[i]!==n&&Ine(t,i,n)}else for(var s in e)e.hasOwnProperty(s)&&Ine(t,s,e[s])}function m5(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var S9e=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),k9e=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function t2(t){return k9e.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var E4=null;function g5(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tm=null,fm=null;function Rne(t){var e=Rm(t);if(e&&(t=e.stateNode)){var r=t[ui]||null;e:switch(t=e.stateNode,e.type){case"input":if(k4(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Ns(""+e)+'"][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=n[ui]||null;if(!i)throw Error(B(90));k4(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<r.length;e++)n=r[e],n.form===t.form&&ase(n)}break e;case"textarea":lse(t,r.value,r.defaultValue);break e;case"select":e=r.value,e!=null&&dm(t,!!r.multiple,e,!1)}}}var BN=!1;function dse(t,e,r){if(BN)return t(e,r);BN=!0;try{var n=t(e);return n}finally{if(BN=!1,(tm!==null||fm!==null)&&(Z2(),tm&&(e=tm,t=fm,fm=tm=null,Rne(e),t)))for(e=0;e<t.length;e++)Rne(t[e])}}function Aw(t,e){var r=t.stateNode;if(r===null)return null;var n=r[ui]||null;if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(B(231,e,typeof r));return r}var Al=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),T4=!1;if(Al)try{Gh={},Object.defineProperty(Gh,"passive",{get:function(){T4=!0}}),window.addEventListener("test",Gh,Gh),window.removeEventListener("test",Gh,Gh)}catch{T4=!1}var Gh,Wc=null,y5=null,r2=null;function fse(){if(r2)return r2;var t,e=y5,r=e.length,n,i="value"in Wc?Wc.value:Wc.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return r2=i.slice(t,1<n?1-n:void 0)}function n2(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qT(){return!0}function Mne(){return!1}function di(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?qT:Mne,this.isPropagationStopped=Mne,this}return _t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qT)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qT)},persist:function(){},isPersistent:qT}),e}var wf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},z2=di(wf),Hw=_t({},wf,{view:0,detail:0}),C9e=di(Hw),UN,zN,tw,H2=_t({},Hw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:v5,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tw&&(tw&&t.type==="mousemove"?(UN=t.screenX-tw.screenX,zN=t.screenY-tw.screenY):zN=UN=0,tw=t),UN)},movementY:function(t){return"movementY"in t?t.movementY:zN}}),Pne=di(H2),E9e=_t({},H2,{dataTransfer:0}),T9e=di(E9e),A9e=_t({},Hw,{relatedTarget:0}),HN=di(A9e),L9e=_t({},wf,{animationName:0,elapsedTime:0,pseudoElement:0}),I9e=di(L9e),R9e=_t({},wf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),M9e=di(R9e),P9e=_t({},wf,{data:0}),One=di(P9e),O9e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_9e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D9e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N9e(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=D9e[t])?!!e[t]:!1}function v5(){return N9e}var F9e=_t({},Hw,{key:function(t){if(t.key){var e=O9e[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=n2(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_9e[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:v5,charCode:function(t){return t.type==="keypress"?n2(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?n2(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$9e=di(F9e),j9e=_t({},H2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_ne=di(j9e),V9e=_t({},Hw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:v5}),q9e=di(V9e),B9e=_t({},wf,{propertyName:0,elapsedTime:0,pseudoElement:0}),U9e=di(B9e),z9e=_t({},H2,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H9e=di(z9e),G9e=_t({},wf,{newState:0,oldState:0}),W9e=di(G9e),K9e=[9,13,27,32],b5=Al&&"CompositionEvent"in window,fw=null;Al&&"documentMode"in document&&(fw=document.documentMode);var Y9e=Al&&"TextEvent"in window&&!fw,pse=Al&&(!b5||fw&&8<fw&&11>=fw),Dne=" ",Nne=!1;function hse(t,e){switch(t){case"keyup":return K9e.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mse(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rm=!1;function X9e(t,e){switch(t){case"compositionend":return mse(e);case"keypress":return e.which!==32?null:(Nne=!0,Dne);case"textInput":return t=e.data,t===Dne&&Nne?null:t;default:return null}}function Q9e(t,e){if(rm)return t==="compositionend"||!b5&&hse(t,e)?(t=fse(),r2=y5=Wc=null,rm=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pse&&e.locale!=="ko"?null:e.data;default:return null}}var J9e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fne(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!J9e[t.type]:e==="textarea"}function gse(t,e,r,n){tm?fm?fm.push(n):fm=[n]:tm=n,e=N2(e,"onChange"),0<e.length&&(r=new z2("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var pw=null,Lw=null;function Z9e(t){loe(t,0)}function G2(t){var e=uw(t);if(ase(e))return t}function $ne(t,e){if(t==="change")return e}var yse=!1;Al&&(Al?(UT="oninput"in document,UT||(GN=document.createElement("div"),GN.setAttribute("oninput","return;"),UT=typeof GN.oninput=="function"),BT=UT):BT=!1,yse=BT&&(!document.documentMode||9<document.documentMode));var BT,UT,GN;function jne(){pw&&(pw.detachEvent("onpropertychange",vse),Lw=pw=null)}function vse(t){if(t.propertyName==="value"&&G2(Lw)){var e=[];gse(e,Lw,t,g5(t)),dse(Z9e,e)}}function eFe(t,e,r){t==="focusin"?(jne(),pw=e,Lw=r,pw.attachEvent("onpropertychange",vse)):t==="focusout"&&jne()}function tFe(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return G2(Lw)}function rFe(t,e){if(t==="click")return G2(e)}function nFe(t,e){if(t==="input"||t==="change")return G2(e)}function iFe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xi=typeof Object.is=="function"?Object.is:iFe;function Iw(t,e){if(Xi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!x4.call(e,i)||!Xi(t[i],e[i]))return!1}return!0}function Vne(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qne(t,e){var r=Vne(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vne(r)}}function bse(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?bse(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wse(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=v2(t.document);e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=v2(t.document)}return e}function w5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var sFe=Al&&"documentMode"in document&&11>=document.documentMode,nm=null,A4=null,hw=null,L4=!1;function Bne(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;L4||nm==null||nm!==v2(n)||(n=nm,"selectionStart"in n&&w5(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),hw&&Iw(hw,n)||(hw=n,n=N2(A4,"onSelect"),0<n.length&&(e=new z2("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=nm)))}function nf(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var im={animationend:nf("Animation","AnimationEnd"),animationiteration:nf("Animation","AnimationIteration"),animationstart:nf("Animation","AnimationStart"),transitionrun:nf("Transition","TransitionRun"),transitionstart:nf("Transition","TransitionStart"),transitioncancel:nf("Transition","TransitionCancel"),transitionend:nf("Transition","TransitionEnd")},WN={},xse={};Al&&(xse=document.createElement("div").style,"AnimationEvent"in window||(delete im.animationend.animation,delete im.animationiteration.animation,delete im.animationstart.animation),"TransitionEvent"in window||delete im.transitionend.transition);function xf(t){if(WN[t])return WN[t];if(!im[t])return t;var e=im[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in xse)return WN[t]=e[r];return t}var Sse=xf("animationend"),kse=xf("animationiteration"),Cse=xf("animationstart"),aFe=xf("transitionrun"),oFe=xf("transitionstart"),lFe=xf("transitioncancel"),Ese=xf("transitionend"),Tse=new Map,I4="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");I4.push("scrollEnd");function Aa(t,e){Tse.set(t,e),bf(e,[t])}var Une=new WeakMap;function Fs(t,e){if(typeof t=="object"&&t!==null){var r=Une.get(t);return r!==void 0?r:(e={value:t,source:e,stack:Lne(e)},Une.set(t,e),e)}return{value:t,source:e,stack:Lne(e)}}var Ps=[],sm=0,x5=0;function W2(){for(var t=sm,e=x5=sm=0;e<t;){var r=Ps[e];Ps[e++]=null;var n=Ps[e];Ps[e++]=null;var i=Ps[e];Ps[e++]=null;var s=Ps[e];if(Ps[e++]=null,n!==null&&i!==null){var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}s!==0&&Ase(r,i,s)}}function K2(t,e,r,n){Ps[sm++]=t,Ps[sm++]=e,Ps[sm++]=r,Ps[sm++]=n,x5|=n,t.lanes|=n,t=t.alternate,t!==null&&(t.lanes|=n)}function S5(t,e,r,n){return K2(t,e,r,n),b2(t)}function Mm(t,e){return K2(t,null,null,e),b2(t)}function Ase(t,e,r){t.lanes|=r;var n=t.alternate;n!==null&&(n.lanes|=r);for(var i=!1,s=t.return;s!==null;)s.childLanes|=r,n=s.alternate,n!==null&&(n.childLanes|=r),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(i=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,i&&e!==null&&(i=31-Wi(r),t=s.hiddenUpdates,n=t[i],n===null?t[i]=[e]:n.push(e),e.lane=r|536870912),s):null}function b2(t){if(50<Cw)throw Cw=0,X4=null,Error(B(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var am={};function cFe(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hi(t,e,r,n){return new cFe(t,e,r,n)}function k5(t){return t=t.prototype,!(!t||!t.isReactComponent)}function El(t,e){var r=t.alternate;return r===null?(r=Hi(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Lse(t,e){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function i2(t,e,r,n,i,s){var a=0;if(n=t,typeof t=="function")k5(t)&&(a=1);else if(typeof t=="string")a=c7e(t,r,go.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case y4:return t=Hi(31,r,e,i),t.elementType=y4,t.lanes=s,t;case Jh:return cf(r.children,i,s,e);case Wie:a=8,i|=24;break;case h4:return t=Hi(12,r,e,i|2),t.elementType=h4,t.lanes=s,t;case m4:return t=Hi(13,r,e,i),t.elementType=m4,t.lanes=s,t;case g4:return t=Hi(19,r,e,i),t.elementType=g4,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z5e:case wl:a=10;break e;case Kie:a=9;break e;case c5:a=11;break e;case u5:a=14;break e;case Vc:a=16,n=null;break e}a=29,r=Error(B(130,t===null?"null":typeof t,"")),n=null}return e=Hi(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function cf(t,e,r,n){return t=Hi(7,t,n,e),t.lanes=r,t}function KN(t,e,r){return t=Hi(6,t,null,e),t.lanes=r,t}function YN(t,e,r){return e=Hi(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var om=[],lm=0,w2=null,x2=0,_s=[],Ds=0,uf=null,xl=1,Sl="";function af(t,e){om[lm++]=x2,om[lm++]=w2,w2=t,x2=e}function Ise(t,e,r){_s[Ds++]=xl,_s[Ds++]=Sl,_s[Ds++]=uf,uf=t;var n=xl;t=Sl;var i=32-Wi(n)-1;n&=~(1<<i),r+=1;var s=32-Wi(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,xl=1<<32-Wi(e)+i|r<<i|n,Sl=s+t}else xl=1<<s|r<<i|n,Sl=t}function C5(t){t.return!==null&&(af(t,1),Ise(t,1,0))}function E5(t){for(;t===w2;)w2=om[--lm],om[lm]=null,x2=om[--lm],om[lm]=null;for(;t===uf;)uf=_s[--Ds],_s[Ds]=null,Sl=_s[--Ds],_s[Ds]=null,xl=_s[--Ds],_s[Ds]=null}var jn=null,tr=null,nt=!1,df=null,ho=!1,R4=Error(B(519));function mf(t){var e=Error(B(418,""));throw Rw(Fs(e,t)),R4}function zne(t){var e=t.stateNode,r=t.type,n=t.memoizedProps;switch(e[yn]=t,e[ui]=n,r){case"dialog":ze("cancel",e),ze("close",e);break;case"iframe":case"object":case"embed":ze("load",e);break;case"video":case"audio":for(r=0;r<Ow.length;r++)ze(Ow[r],e);break;case"source":ze("error",e);break;case"img":case"image":case"link":ze("error",e),ze("load",e);break;case"details":ze("toggle",e);break;case"input":ze("invalid",e),ose(e,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),y2(e);break;case"select":ze("invalid",e);break;case"textarea":ze("invalid",e),cse(e,n.value,n.defaultValue,n.children),y2(e)}r=n.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||e.textContent===""+r||n.suppressHydrationWarning===!0||uoe(e.textContent,r)?(n.popover!=null&&(ze("beforetoggle",e),ze("toggle",e)),n.onScroll!=null&&ze("scroll",e),n.onScrollEnd!=null&&ze("scrollend",e),n.onClick!=null&&(e.onclick=rA),e=!0):e=!1,e||mf(t)}function Hne(t){for(jn=t.return;jn;)switch(jn.tag){case 5:case 13:ho=!1;return;case 27:case 3:ho=!0;return;default:jn=jn.return}}function rw(t){if(t!==jn)return!1;if(!nt)return Hne(t),nt=!0,!1;var e=t.tag,r;if((r=e!==3&&e!==27)&&((r=e===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||r5(t.type,t.memoizedProps)),r=!r),r&&tr&&mf(t),Hne(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(e===0){tr=Ta(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++;t=t.nextSibling}tr=null}}else e===27?(e=tr,lu(t.type)?(t=s5,s5=null,tr=t):tr=e):tr=jn?Ta(t.stateNode.nextSibling):null;return!0}function Gw(){tr=jn=null,nt=!1}function Gne(){var t=df;return t!==null&&(ci===null?ci=t:ci.push.apply(ci,t),df=null),t}function Rw(t){df===null?df=[t]:df.push(t)}var M4=bo(null),Sf=null,kl=null;function Bc(t,e,r){zt(M4,e._currentValue),e._currentValue=r}function Tl(t){t._currentValue=M4.current,Ur(M4)}function P4(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function O4(t,e,r,n){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){var a=i.child;s=s.firstContext;e:for(;s!==null;){var o=s;s=i;for(var l=0;l<e.length;l++)if(o.context===e[l]){s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),P4(s.return,r,t),n||(a=null);break e}s=o.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(B(341));a.lanes|=r,s=a.alternate,s!==null&&(s.lanes|=r),P4(a,r,t),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function Ww(t,e,r,n){t=null;for(var i=e,s=!1;i!==null;){if(!s){if((i.flags&524288)!==0)s=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(B(387));if(a=a.memoizedProps,a!==null){var o=i.type;Xi(i.pendingProps.value,a.value)||(t!==null?t.push(o):t=[o])}}else if(i===p2.current){if(a=i.alternate,a===null)throw Error(B(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Nw):t=[Nw])}i=i.return}t!==null&&O4(e,t,r,n),e.flags|=262144}function S2(t){for(t=t.firstContext;t!==null;){if(!Xi(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function gf(t){Sf=t,kl=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function vn(t){return Rse(Sf,t)}function zT(t,e){return Sf===null&&gf(t),Rse(t,e)}function Rse(t,e){var r=e._currentValue;if(e={context:e,memoizedValue:r,next:null},kl===null){if(t===null)throw Error(B(308));kl=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else kl=kl.next=e;return r}var uFe=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(r,n){t.push(n)}};this.abort=function(){e.aborted=!0,t.forEach(function(r){return r()})}},dFe=Ir.unstable_scheduleCallback,fFe=Ir.unstable_NormalPriority,Ar={$$typeof:wl,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function T5(){return{controller:new uFe,data:new Map,refCount:0}}function Kw(t){t.refCount--,t.refCount===0&&dFe(fFe,function(){t.controller.abort()})}var mw=null,_4=0,xm=0,pm=null;function pFe(t,e){if(mw===null){var r=mw=[];_4=0,xm=Y5(),pm={status:"pending",value:void 0,then:function(n){r.push(n)}}}return _4++,e.then(Wne,Wne),e}function Wne(){if(--_4===0&&mw!==null){pm!==null&&(pm.status="fulfilled");var t=mw;mw=null,xm=0,pm=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function hFe(t,e){var r=[],n={status:"pending",value:null,reason:null,then:function(i){r.push(i)}};return t.then(function(){n.status="fulfilled",n.value=e;for(var i=0;i<r.length;i++)(0,r[i])(e)},function(i){for(n.status="rejected",n.reason=i,i=0;i<r.length;i++)(0,r[i])(void 0)}),n}var Kne=Se.S;Se.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&pFe(t,e),Kne!==null&&Kne(t,e)};var ff=bo(null);function A5(){var t=ff.current;return t!==null?t:Rt.pooledCache}function s2(t,e){e===null?zt(ff,ff.current):zt(ff,e.pool)}function Mse(){var t=A5();return t===null?null:{parent:Ar._currentValue,pool:t}}var Yw=Error(B(460)),Pse=Error(B(474)),Y2=Error(B(542)),D4={then:function(){}};function Yne(t){return t=t.status,t==="fulfilled"||t==="rejected"}function HT(){}function Ose(t,e,r){switch(r=t[r],r===void 0?t.push(e):r!==e&&(e.then(HT,HT),e=r),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Qne(t),t;default:if(typeof e.status=="string")e.then(HT,HT);else{if(t=Rt,t!==null&&100<t.shellSuspendCounter)throw Error(B(482));t=e,t.status="pending",t.then(function(n){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=n}},function(n){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=n}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Qne(t),t}throw gw=e,Yw}}var gw=null;function Xne(){if(gw===null)throw Error(B(459));var t=gw;return gw=null,t}function Qne(t){if(t===Yw||t===Y2)throw Error(B(483))}var qc=!1;function L5(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function N4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qc(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Jc(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,(pt&2)!==0){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,e=b2(t),Ase(t,null,r),e}return K2(t,n,e,r),b2(t)}function yw(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194048)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,tse(t,r)}}function XN(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,callbacks:n.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}var F4=!1;function vw(){if(F4){var t=pm;if(t!==null)throw t}}function bw(t,e,r,n){F4=!1;var i=t.updateQueue;qc=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,u=c=l=null,o=s;do{var f=o.lane&-536870913,p=f!==o.lane;if(p?(Ke&f)===f:(n&f)===f){f!==0&&f===xm&&(F4=!0),u!==null&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var h=t,g=o;f=e;var v=r;switch(g.tag){case 1:if(h=g.payload,typeof h=="function"){d=h.call(v,d,f);break e}d=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=g.payload,f=typeof h=="function"?h.call(v,d,f):h,f==null)break e;d=_t({},d,f);break e;case 2:qc=!0}}f=o.callback,f!==null&&(t.flags|=64,p&&(t.flags|=8192),p=i.callbacks,p===null?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,s===null&&(i.shared.lanes=0),au|=a,t.lanes=a,t.memoizedState=d}}function _se(t,e){if(typeof t!="function")throw Error(B(191,t));t.call(e)}function Dse(t,e){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)_se(r[t],e)}var Sm=bo(null),k2=bo(0);function Jne(t,e){t=Rl,zt(k2,t),zt(Sm,e),Rl=t|e.baseLanes}function $4(){zt(k2,Rl),zt(Sm,Sm.current)}function I5(){Rl=k2.current,Ur(Sm),Ur(k2)}var iu=0,Ve=null,vt=null,yr=null,C2=!1,hm=!1,yf=!1,E2=0,Mw=0,mm=null,mFe=0;function lr(){throw Error(B(321))}function R5(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Xi(t[r],e[r]))return!1;return!0}function M5(t,e,r,n,i,s){return iu=s,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Se.H=t===null||t.memoizedState===null?fae:pae,yf=!1,s=r(n,i),yf=!1,hm&&(s=Fse(e,r,n,i)),Nse(t),s}function Nse(t){Se.H=T2;var e=vt!==null&&vt.next!==null;if(iu=0,yr=vt=Ve=null,C2=!1,Mw=0,mm=null,e)throw Error(B(300));t===null||Br||(t=t.dependencies,t!==null&&S2(t)&&(Br=!0))}function Fse(t,e,r,n){Ve=t;var i=0;do{if(hm&&(mm=null),Mw=0,hm=!1,25<=i)throw Error(B(301));if(i+=1,yr=vt=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}Se.H=SFe,s=e(r,n)}while(hm);return s}function gFe(){var t=Se.H,e=t.useState()[0];return e=typeof e.then=="function"?Xw(e):e,t=t.useState()[0],(vt!==null?vt.memoizedState:null)!==t&&(Ve.flags|=1024),e}function P5(){var t=E2!==0;return E2=0,t}function O5(t,e,r){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r}function _5(t){if(C2){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}C2=!1}iu=0,yr=vt=Ve=null,hm=!1,Mw=E2=0,mm=null}function oi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?Ve.memoizedState=yr=t:yr=yr.next=t,yr}function vr(){if(vt===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=yr===null?Ve.memoizedState:yr.next;if(e!==null)yr=e,vt=t;else{if(t===null)throw Ve.alternate===null?Error(B(467)):Error(B(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},yr===null?Ve.memoizedState=yr=t:yr=yr.next=t}return yr}function D5(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xw(t){var e=Mw;return Mw+=1,mm===null&&(mm=[]),t=Ose(mm,t,e),e=Ve,(yr===null?e.memoizedState:yr.next)===null&&(e=e.alternate,Se.H=e===null||e.memoizedState===null?fae:pae),t}function X2(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Xw(t);if(t.$$typeof===wl)return vn(t)}throw Error(B(438,String(t)))}function N5(t){var e=null,r=Ve.updateQueue;if(r!==null&&(e=r.memoCache),e==null){var n=Ve.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(e={data:n.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),r===null&&(r=D5(),Ve.updateQueue=r),r.memoCache=e,r=e.data[e.index],r===void 0)for(r=e.data[e.index]=Array(t),n=0;n<t;n++)r[n]=e9e;return e.index++,r}function Ll(t,e){return typeof e=="function"?e(t):e}function a2(t){var e=vr();return F5(e,vt,t)}function F5(t,e,r){var n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=r;var i=t.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}e.baseQueue=i=s,n.pending=null}if(s=t.baseState,i===null)t.memoizedState=s;else{e=i.next;var o=a=null,l=null,c=e,u=!1;do{var d=c.lane&-536870913;if(d!==c.lane?(Ke&d)===d:(iu&d)===d){var f=c.revertLane;if(f===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===xm&&(u=!0);else if((iu&f)===f){c=c.next,f===xm&&(u=!0);continue}else d={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=d,a=s):l=l.next=d,Ve.lanes|=f,au|=f;d=c.action,yf&&r(s,d),s=c.hasEagerState?c.eagerState:r(s,d)}else f={lane:d,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=f,a=s):l=l.next=f,Ve.lanes|=d,au|=d;c=c.next}while(c!==null&&c!==e);if(l===null?a=s:l.next=o,!Xi(s,t.memoizedState)&&(Br=!0,u&&(r=pm,r!==null)))throw r;t.memoizedState=s,t.baseState=a,t.baseQueue=l,n.lastRenderedState=s}return i===null&&(n.lanes=0),[t.memoizedState,n.dispatch]}function QN(t){var e=vr(),r=e.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Xi(s,e.memoizedState)||(Br=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function $se(t,e,r){var n=Ve,i=vr(),s=nt;if(s){if(r===void 0)throw Error(B(407));r=r()}else r=e();var a=!Xi((vt||i).memoizedState,r);a&&(i.memoizedState=r,Br=!0),i=i.queue;var o=qse.bind(null,n,i,t);if(Qw(2048,8,o,[t]),i.getSnapshot!==e||a||yr!==null&&yr.memoizedState.tag&1){if(n.flags|=2048,km(9,Q2(),Vse.bind(null,n,i,r,e),null),Rt===null)throw Error(B(349));s||(iu&124)!==0||jse(n,e,r)}return r}function jse(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ve.updateQueue,e===null?(e=D5(),Ve.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Vse(t,e,r,n){e.value=r,e.getSnapshot=n,Bse(e)&&Use(t)}function qse(t,e,r){return r(function(){Bse(e)&&Use(t)})}function Bse(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Xi(t,r)}catch{return!0}}function Use(t){var e=Mm(t,2);e!==null&&Yi(e,t,2)}function j4(t){var e=oi();if(typeof t=="function"){var r=t;if(t=r(),yf){Gc(!0);try{r()}finally{Gc(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ll,lastRenderedState:t},e}function zse(t,e,r,n){return t.baseState=r,F5(t,vt,typeof n=="function"?n:Ll)}function yFe(t,e,r,n,i){if(J2(t))throw Error(B(485));if(t=e.action,t!==null){var s={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};Se.T!==null?r(!0):s.isTransition=!1,n(s),r=e.pending,r===null?(s.next=e.pending=s,Hse(e,s)):(s.next=r.next,e.pending=r.next=s)}}function Hse(t,e){var r=e.action,n=e.payload,i=t.state;if(e.isTransition){var s=Se.T,a={};Se.T=a;try{var o=r(i,n),l=Se.S;l!==null&&l(a,o),Zne(t,e,o)}catch(c){V4(t,e,c)}finally{Se.T=s}}else try{s=r(i,n),Zne(t,e,s)}catch(c){V4(t,e,c)}}function Zne(t,e,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(n){eie(t,e,n)},function(n){return V4(t,e,n)}):eie(t,e,r)}function eie(t,e,r){e.status="fulfilled",e.value=r,Gse(e),t.state=r,e=t.pending,e!==null&&(r=e.next,r===e?t.pending=null:(r=r.next,e.next=r,Hse(t,r)))}function V4(t,e,r){var n=t.pending;if(t.pending=null,n!==null){n=n.next;do e.status="rejected",e.reason=r,Gse(e),e=e.next;while(e!==n)}t.action=null}function Gse(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Wse(t,e){return e}function tie(t,e){if(nt){var r=Rt.formState;if(r!==null){e:{var n=Ve;if(nt){if(tr){t:{for(var i=tr,s=ho;i.nodeType!==8;){if(!s){i=null;break t}if(i=Ta(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){tr=Ta(i.nextSibling),n=i.data==="F!";break e}}mf(n)}n=!1}n&&(e=r[0])}}return r=oi(),r.memoizedState=r.baseState=e,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wse,lastRenderedState:e},r.queue=n,r=cae.bind(null,Ve,n),n.dispatch=r,n=j4(!1),s=q5.bind(null,Ve,!1,n.queue),n=oi(),i={state:e,dispatch:null,action:t,pending:null},n.queue=i,r=yFe.bind(null,Ve,i,s,r),i.dispatch=r,n.memoizedState=t,[e,r,!1]}function rie(t){var e=vr();return Kse(e,vt,t)}function Kse(t,e,r){if(e=F5(t,e,Wse)[0],t=a2(Ll)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var n=Xw(e)}catch(a){throw a===Yw?Y2:a}else n=e;e=vr();var i=e.queue,s=i.dispatch;return r!==e.memoizedState&&(Ve.flags|=2048,km(9,Q2(),vFe.bind(null,i,r),null)),[n,s,t]}function vFe(t,e){t.action=e}function nie(t){var e=vr(),r=vt;if(r!==null)return Kse(e,r,t);vr(),e=e.memoizedState,r=vr();var n=r.queue.dispatch;return r.memoizedState=t,[e,n,!1]}function km(t,e,r,n){return t={tag:t,create:r,deps:n,inst:e,next:null},e=Ve.updateQueue,e===null&&(e=D5(),Ve.updateQueue=e),r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t),t}function Q2(){return{destroy:void 0,resource:void 0}}function Yse(){return vr().memoizedState}function o2(t,e,r,n){var i=oi();n=n===void 0?null:n,Ve.flags|=t,i.memoizedState=km(1|e,Q2(),r,n)}function Qw(t,e,r,n){var i=vr();n=n===void 0?null:n;var s=i.memoizedState.inst;vt!==null&&n!==null&&R5(n,vt.memoizedState.deps)?i.memoizedState=km(e,s,r,n):(Ve.flags|=t,i.memoizedState=km(1|e,s,r,n))}function iie(t,e){o2(8390656,8,t,e)}function Xse(t,e){Qw(2048,8,t,e)}function Qse(t,e){return Qw(4,2,t,e)}function Jse(t,e){return Qw(4,4,t,e)}function Zse(t,e){if(typeof e=="function"){t=t();var r=e(t);return function(){typeof r=="function"?r():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function eae(t,e,r){r=r!=null?r.concat([t]):null,Qw(4,4,Zse.bind(null,e,t),r)}function $5(){}function tae(t,e){var r=vr();e=e===void 0?null:e;var n=r.memoizedState;return e!==null&&R5(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function rae(t,e){var r=vr();e=e===void 0?null:e;var n=r.memoizedState;if(e!==null&&R5(e,n[1]))return n[0];if(n=t(),yf){Gc(!0);try{t()}finally{Gc(!1)}}return r.memoizedState=[n,e],n}function j5(t,e,r){return r===void 0||(iu&1073741824)!==0?t.memoizedState=e:(t.memoizedState=r,t=Gae(),Ve.lanes|=t,au|=t,r)}function nae(t,e,r,n){return Xi(r,e)?r:Sm.current!==null?(t=j5(t,r,n),Xi(t,e)||(Br=!0),t):(iu&42)===0?(Br=!0,t.memoizedState=r):(t=Gae(),Ve.lanes|=t,au|=t,e)}function iae(t,e,r,n,i){var s=it.p;it.p=s!==0&&8>s?s:8;var a=Se.T,o={};Se.T=o,q5(t,!1,e,r);try{var l=i(),c=Se.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=hFe(l,n);ww(t,e,u,Ki(t))}else ww(t,e,n,Ki(t))}catch(d){ww(t,e,{then:function(){},status:"rejected",reason:d},Ki())}finally{it.p=s,Se.T=a}}function bFe(){}function q4(t,e,r,n){if(t.tag!==5)throw Error(B(476));var i=sae(t).queue;iae(t,i,e,lf,r===null?bFe:function(){return aae(t),r(n)})}function sae(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:lf,baseState:lf,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ll,lastRenderedState:lf},next:null};var r={};return e.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ll,lastRenderedState:r},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function aae(t){var e=sae(t).next.queue;ww(t,e,{},Ki())}function V5(){return vn(Nw)}function oae(){return vr().memoizedState}function lae(){return vr().memoizedState}function wFe(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var r=Ki();t=Qc(r);var n=Jc(e,t,r);n!==null&&(Yi(n,e,r),yw(n,e,r)),e={cache:T5()},t.payload=e;return}e=e.return}}function xFe(t,e,r){var n=Ki();r={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},J2(t)?uae(e,r):(r=S5(t,e,r,n),r!==null&&(Yi(r,t,n),dae(r,e,n)))}function cae(t,e,r){var n=Ki();ww(t,e,r,n)}function ww(t,e,r,n){var i={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(J2(t))uae(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,Xi(o,a))return K2(t,e,i,0),Rt===null&&W2(),!1}catch{}finally{}if(r=S5(t,e,i,n),r!==null)return Yi(r,t,n),dae(r,e,n),!0}return!1}function q5(t,e,r,n){if(n={lane:2,revertLane:Y5(),action:n,hasEagerState:!1,eagerState:null,next:null},J2(t)){if(e)throw Error(B(479))}else e=S5(t,r,n,2),e!==null&&Yi(e,t,2)}function J2(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function uae(t,e){hm=C2=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function dae(t,e,r){if((r&4194048)!==0){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,tse(t,r)}}var T2={readContext:vn,use:X2,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useLayoutEffect:lr,useInsertionEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useSyncExternalStore:lr,useId:lr,useHostTransitionStatus:lr,useFormState:lr,useActionState:lr,useOptimistic:lr,useMemoCache:lr,useCacheRefresh:lr},fae={readContext:vn,use:X2,useCallback:function(t,e){return oi().memoizedState=[t,e===void 0?null:e],t},useContext:vn,useEffect:iie,useImperativeHandle:function(t,e,r){r=r!=null?r.concat([t]):null,o2(4194308,4,Zse.bind(null,e,t),r)},useLayoutEffect:function(t,e){return o2(4194308,4,t,e)},useInsertionEffect:function(t,e){o2(4,2,t,e)},useMemo:function(t,e){var r=oi();e=e===void 0?null:e;var n=t();if(yf){Gc(!0);try{t()}finally{Gc(!1)}}return r.memoizedState=[n,e],n},useReducer:function(t,e,r){var n=oi();if(r!==void 0){var i=r(e);if(yf){Gc(!0);try{r(e)}finally{Gc(!1)}}}else i=e;return n.memoizedState=n.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},n.queue=t,t=t.dispatch=xFe.bind(null,Ve,t),[n.memoizedState,t]},useRef:function(t){var e=oi();return t={current:t},e.memoizedState=t},useState:function(t){t=j4(t);var e=t.queue,r=cae.bind(null,Ve,e);return e.dispatch=r,[t.memoizedState,r]},useDebugValue:$5,useDeferredValue:function(t,e){var r=oi();return j5(r,t,e)},useTransition:function(){var t=j4(!1);return t=iae.bind(null,Ve,t.queue,!0,!1),oi().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,r){var n=Ve,i=oi();if(nt){if(r===void 0)throw Error(B(407));r=r()}else{if(r=e(),Rt===null)throw Error(B(349));(Ke&124)!==0||jse(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,iie(qse.bind(null,n,s,t),[t]),n.flags|=2048,km(9,Q2(),Vse.bind(null,n,s,r,e),null),r},useId:function(){var t=oi(),e=Rt.identifierPrefix;if(nt){var r=Sl,n=xl;r=(n&~(1<<32-Wi(n)-1)).toString(32)+r,e="\xAB"+e+"R"+r,r=E2++,0<r&&(e+="H"+r.toString(32)),e+="\xBB"}else r=mFe++,e="\xAB"+e+"r"+r.toString(32)+"\xBB";return t.memoizedState=e},useHostTransitionStatus:V5,useFormState:tie,useActionState:tie,useOptimistic:function(t){var e=oi();e.memoizedState=e.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=r,e=q5.bind(null,Ve,!0,r),r.dispatch=e,[t,e]},useMemoCache:N5,useCacheRefresh:function(){return oi().memoizedState=wFe.bind(null,Ve)}},pae={readContext:vn,use:X2,useCallback:tae,useContext:vn,useEffect:Xse,useImperativeHandle:eae,useInsertionEffect:Qse,useLayoutEffect:Jse,useMemo:rae,useReducer:a2,useRef:Yse,useState:function(){return a2(Ll)},useDebugValue:$5,useDeferredValue:function(t,e){var r=vr();return nae(r,vt.memoizedState,t,e)},useTransition:function(){var t=a2(Ll)[0],e=vr().memoizedState;return[typeof t=="boolean"?t:Xw(t),e]},useSyncExternalStore:$se,useId:oae,useHostTransitionStatus:V5,useFormState:rie,useActionState:rie,useOptimistic:function(t,e){var r=vr();return zse(r,vt,t,e)},useMemoCache:N5,useCacheRefresh:lae},SFe={readContext:vn,use:X2,useCallback:tae,useContext:vn,useEffect:Xse,useImperativeHandle:eae,useInsertionEffect:Qse,useLayoutEffect:Jse,useMemo:rae,useReducer:QN,useRef:Yse,useState:function(){return QN(Ll)},useDebugValue:$5,useDeferredValue:function(t,e){var r=vr();return vt===null?j5(r,t,e):nae(r,vt.memoizedState,t,e)},useTransition:function(){var t=QN(Ll)[0],e=vr().memoizedState;return[typeof t=="boolean"?t:Xw(t),e]},useSyncExternalStore:$se,useId:oae,useHostTransitionStatus:V5,useFormState:nie,useActionState:nie,useOptimistic:function(t,e){var r=vr();return vt!==null?zse(r,vt,t,e):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:N5,useCacheRefresh:lae},gm=null,Pw=0;function GT(t){var e=Pw;return Pw+=1,gm===null&&(gm=[]),Ose(gm,t,e)}function nw(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function WT(t,e){throw e.$$typeof===J5e?Error(B(525)):(t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function sie(t){var e=t._init;return e(t._payload)}function hae(t){function e(y,b){if(t){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function r(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function n(y){for(var b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function i(y,b){return y=El(y,b),y.index=0,y.sibling=null,y}function s(y,b,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=67108866,b):w):(y.flags|=67108866,b)):(y.flags|=1048576,b)}function a(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function o(y,b,w,x){return b===null||b.tag!==6?(b=KN(w,y.mode,x),b.return=y,b):(b=i(b,w),b.return=y,b)}function l(y,b,w,x){var A=w.type;return A===Jh?u(y,b,w.props.children,x,w.key):b!==null&&(b.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Vc&&sie(A)===b.type)?(b=i(b,w.props),nw(b,w),b.return=y,b):(b=i2(w.type,w.key,w.props,null,y.mode,x),nw(b,w),b.return=y,b)}function c(y,b,w,x){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=YN(w,y.mode,x),b.return=y,b):(b=i(b,w.children||[]),b.return=y,b)}function u(y,b,w,x,A){return b===null||b.tag!==7?(b=cf(w,y.mode,x,A),b.return=y,b):(b=i(b,w),b.return=y,b)}function d(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=KN(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case FT:return w=i2(b.type,b.key,b.props,null,y.mode,w),nw(w,b),w.return=y,w;case lw:return b=YN(b,y.mode,w),b.return=y,b;case Vc:var x=b._init;return b=x(b._payload),d(y,b,w)}if(cw(b)||ew(b))return b=cf(b,y.mode,w,null),b.return=y,b;if(typeof b.then=="function")return d(y,GT(b),w);if(b.$$typeof===wl)return d(y,zT(y,b),w);WT(y,b)}return null}function f(y,b,w,x){var A=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return A!==null?null:o(y,b,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case FT:return w.key===A?l(y,b,w,x):null;case lw:return w.key===A?c(y,b,w,x):null;case Vc:return A=w._init,w=A(w._payload),f(y,b,w,x)}if(cw(w)||ew(w))return A!==null?null:u(y,b,w,x,null);if(typeof w.then=="function")return f(y,b,GT(w),x);if(w.$$typeof===wl)return f(y,b,zT(y,w),x);WT(y,w)}return null}function p(y,b,w,x,A){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return y=y.get(w)||null,o(b,y,""+x,A);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case FT:return y=y.get(x.key===null?w:x.key)||null,l(b,y,x,A);case lw:return y=y.get(x.key===null?w:x.key)||null,c(b,y,x,A);case Vc:var O=x._init;return x=O(x._payload),p(y,b,w,x,A)}if(cw(x)||ew(x))return y=y.get(w)||null,u(b,y,x,A,null);if(typeof x.then=="function")return p(y,b,w,GT(x),A);if(x.$$typeof===wl)return p(y,b,w,zT(b,x),A);WT(b,x)}return null}function h(y,b,w,x){for(var A=null,O=null,S=b,k=b=0,E=null;S!==null&&k<w.length;k++){S.index>k?(E=S,S=null):E=S.sibling;var I=f(y,S,w[k],x);if(I===null){S===null&&(S=E);break}t&&S&&I.alternate===null&&e(y,S),b=s(I,b,k),O===null?A=I:O.sibling=I,O=I,S=E}if(k===w.length)return r(y,S),nt&&af(y,k),A;if(S===null){for(;k<w.length;k++)S=d(y,w[k],x),S!==null&&(b=s(S,b,k),O===null?A=S:O.sibling=S,O=S);return nt&&af(y,k),A}for(S=n(S);k<w.length;k++)E=p(S,y,k,w[k],x),E!==null&&(t&&E.alternate!==null&&S.delete(E.key===null?k:E.key),b=s(E,b,k),O===null?A=E:O.sibling=E,O=E);return t&&S.forEach(function(R){return e(y,R)}),nt&&af(y,k),A}function g(y,b,w,x){if(w==null)throw Error(B(151));for(var A=null,O=null,S=b,k=b=0,E=null,I=w.next();S!==null&&!I.done;k++,I=w.next()){S.index>k?(E=S,S=null):E=S.sibling;var R=f(y,S,I.value,x);if(R===null){S===null&&(S=E);break}t&&S&&R.alternate===null&&e(y,S),b=s(R,b,k),O===null?A=R:O.sibling=R,O=R,S=E}if(I.done)return r(y,S),nt&&af(y,k),A;if(S===null){for(;!I.done;k++,I=w.next())I=d(y,I.value,x),I!==null&&(b=s(I,b,k),O===null?A=I:O.sibling=I,O=I);return nt&&af(y,k),A}for(S=n(S);!I.done;k++,I=w.next())I=p(S,y,k,I.value,x),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?k:I.key),b=s(I,b,k),O===null?A=I:O.sibling=I,O=I);return t&&S.forEach(function(T){return e(y,T)}),nt&&af(y,k),A}function v(y,b,w,x){if(typeof w=="object"&&w!==null&&w.type===Jh&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case FT:e:{for(var A=w.key;b!==null;){if(b.key===A){if(A=w.type,A===Jh){if(b.tag===7){r(y,b.sibling),x=i(b,w.props.children),x.return=y,y=x;break e}}else if(b.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Vc&&sie(A)===b.type){r(y,b.sibling),x=i(b,w.props),nw(x,w),x.return=y,y=x;break e}r(y,b);break}else e(y,b);b=b.sibling}w.type===Jh?(x=cf(w.props.children,y.mode,x,w.key),x.return=y,y=x):(x=i2(w.type,w.key,w.props,null,y.mode,x),nw(x,w),x.return=y,y=x)}return a(y);case lw:e:{for(A=w.key;b!==null;){if(b.key===A)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(y,b.sibling),x=i(b,w.children||[]),x.return=y,y=x;break e}else{r(y,b);break}else e(y,b);b=b.sibling}x=YN(w,y.mode,x),x.return=y,y=x}return a(y);case Vc:return A=w._init,w=A(w._payload),v(y,b,w,x)}if(cw(w))return h(y,b,w,x);if(ew(w)){if(A=ew(w),typeof A!="function")throw Error(B(150));return w=A.call(w),g(y,b,w,x)}if(typeof w.then=="function")return v(y,b,GT(w),x);if(w.$$typeof===wl)return v(y,b,zT(y,w),x);WT(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,b!==null&&b.tag===6?(r(y,b.sibling),x=i(b,w),x.return=y,y=x):(r(y,b),x=KN(w,y.mode,x),x.return=y,y=x),a(y)):r(y,b)}return function(y,b,w,x){try{Pw=0;var A=v(y,b,w,x);return gm=null,A}catch(S){if(S===Yw||S===Y2)throw S;var O=Hi(29,S,null,y.mode);return O.lanes=x,O.return=y,O}finally{}}}var Cm=hae(!0),mae=hae(!1),js=bo(null),vo=null;function Uc(t){var e=t.alternate;zt(Lr,Lr.current&1),zt(js,t),vo===null&&(e===null||Sm.current!==null||e.memoizedState!==null)&&(vo=t)}function gae(t){if(t.tag===22){if(zt(Lr,Lr.current),zt(js,t),vo===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(vo=t)}}else zc(t)}function zc(){zt(Lr,Lr.current),zt(js,js.current)}function Cl(t){Ur(js),vo===t&&(vo=null),Ur(Lr)}var Lr=bo(0);function A2(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||i5(r)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function JN(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:_t({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var B4={enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ki(),i=Qc(n);i.payload=e,r!=null&&(i.callback=r),e=Jc(t,i,n),e!==null&&(Yi(e,t,n),yw(e,t,n))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ki(),i=Qc(n);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Jc(t,i,n),e!==null&&(Yi(e,t,n),yw(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ki(),n=Qc(r);n.tag=2,e!=null&&(n.callback=e),e=Jc(t,n,r),e!==null&&(Yi(e,t,r),yw(e,t,r))}};function aie(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Iw(r,n)||!Iw(i,s):!0}function oie(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&B4.enqueueReplaceState(e,e.state,null)}function vf(t,e){var r=e;if("ref"in e){r={};for(var n in e)n!=="ref"&&(r[n]=e[n])}if(t=t.defaultProps){r===e&&(r=_t({},r));for(var i in t)r[i]===void 0&&(r[i]=t[i])}return r}var L2=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function yae(t){L2(t)}function vae(t){console.error(t)}function bae(t){L2(t)}function I2(t,e){try{var r=t.onUncaughtError;r(e.value,{componentStack:e.stack})}catch(n){setTimeout(function(){throw n})}}function lie(t,e,r){try{var n=t.onCaughtError;n(r.value,{componentStack:r.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function U4(t,e,r){return r=Qc(r),r.tag=3,r.payload={element:null},r.callback=function(){I2(t,e)},r}function wae(t){return t=Qc(t),t.tag=3,t}function xae(t,e,r,n){var i=r.type.getDerivedStateFromError;if(typeof i=="function"){var s=n.value;t.payload=function(){return i(s)},t.callback=function(){lie(e,r,n)}}var a=r.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){lie(e,r,n),typeof i!="function"&&(Zc===null?Zc=new Set([this]):Zc.add(this));var o=n.stack;this.componentDidCatch(n.value,{componentStack:o!==null?o:""})})}function kFe(t,e,r,n,i){if(r.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(e=r.alternate,e!==null&&Ww(e,r,i,!0),r=js.current,r!==null){switch(r.tag){case 13:return vo===null?Q4():r.alternate===null&&rr===0&&(rr=3),r.flags&=-257,r.flags|=65536,r.lanes=i,n===D4?r.flags|=16384:(e=r.updateQueue,e===null?r.updateQueue=new Set([n]):e.add(n),c4(t,n,i)),!1;case 22:return r.flags|=65536,n===D4?r.flags|=16384:(e=r.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=e):(r=e.retryQueue,r===null?e.retryQueue=new Set([n]):r.add(n)),c4(t,n,i)),!1}throw Error(B(435,r.tag))}return c4(t,n,i),Q4(),!1}if(nt)return e=js.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=i,n!==R4&&(t=Error(B(422),{cause:n}),Rw(Fs(t,r)))):(n!==R4&&(e=Error(B(423),{cause:n}),Rw(Fs(e,r))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,n=Fs(n,r),i=U4(t.stateNode,n,i),XN(t,i),rr!==4&&(rr=2)),!1;var s=Error(B(520),{cause:n});if(s=Fs(s,r),kw===null?kw=[s]:kw.push(s),rr!==4&&(rr=2),e===null)return!0;n=Fs(n,r),r=e;do{switch(r.tag){case 3:return r.flags|=65536,t=i&-i,r.lanes|=t,t=U4(r.stateNode,n,t),XN(r,t),!1;case 1:if(e=r.type,s=r.stateNode,(r.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Zc===null||!Zc.has(s))))return r.flags|=65536,i&=-i,r.lanes|=i,i=wae(i),xae(i,t,r,n),XN(r,i),!1}r=r.return}while(r!==null);return!1}var Sae=Error(B(461)),Br=!1;function tn(t,e,r,n){e.child=t===null?mae(e,null,r,n):Cm(e,t.child,r,n)}function cie(t,e,r,n,i){r=r.render;var s=e.ref;if("ref"in n){var a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}else a=n;return gf(e),n=M5(t,e,r,a,s,i),o=P5(),t!==null&&!Br?(O5(t,e,i),Il(t,e,i)):(nt&&o&&C5(e),e.flags|=1,tn(t,e,n,i),e.child)}function uie(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!k5(s)&&s.defaultProps===void 0&&r.compare===null?(e.tag=15,e.type=s,kae(t,e,s,n,i)):(t=i2(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!B5(t,i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Iw,r(a,n)&&t.ref===e.ref)return Il(t,e,i)}return e.flags|=1,t=El(s,n),t.ref=e.ref,t.return=e,e.child=t}function kae(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Iw(s,n)&&t.ref===e.ref)if(Br=!1,e.pendingProps=n=s,B5(t,i))(t.flags&131072)!==0&&(Br=!0);else return e.lanes=t.lanes,Il(t,e,i)}return z4(t,e,r,n,i)}function Cae(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden"){if((e.flags&128)!==0){if(n=s!==null?s.baseLanes|r:r,t!==null){for(i=e.child=t.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;e.childLanes=s&~n}else e.childLanes=0,e.child=null;return die(t,e,n,r)}if((r&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&s2(e,s!==null?s.cachePool:null),s!==null?Jne(e,s):$4(),gae(e);else return e.lanes=e.childLanes=536870912,die(t,e,s!==null?s.baseLanes|r:r,r)}else s!==null?(s2(e,s.cachePool),Jne(e,s),zc(e),e.memoizedState=null):(t!==null&&s2(e,null),$4(),zc(e));return tn(t,e,i,r),e.child}function die(t,e,r,n){var i=A5();return i=i===null?null:{parent:Ar._currentValue,pool:i},e.memoizedState={baseLanes:r,cachePool:i},t!==null&&s2(e,null),$4(),gae(e),t!==null&&Ww(t,e,n,!0),null}function l2(t,e){var r=e.ref;if(r===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(B(284));(t===null||t.ref!==r)&&(e.flags|=4194816)}}function z4(t,e,r,n,i){return gf(e),r=M5(t,e,r,n,void 0,i),n=P5(),t!==null&&!Br?(O5(t,e,i),Il(t,e,i)):(nt&&n&&C5(e),e.flags|=1,tn(t,e,r,i),e.child)}function fie(t,e,r,n,i,s){return gf(e),e.updateQueue=null,r=Fse(e,n,r,i),Nse(t),n=P5(),t!==null&&!Br?(O5(t,e,s),Il(t,e,s)):(nt&&n&&C5(e),e.flags|=1,tn(t,e,r,s),e.child)}function pie(t,e,r,n,i){if(gf(e),e.stateNode===null){var s=am,a=r.contextType;typeof a=="object"&&a!==null&&(s=vn(a)),s=new r(n,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=B4,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=n,s.state=e.memoizedState,s.refs={},L5(e),a=r.contextType,s.context=typeof a=="object"&&a!==null?vn(a):am,s.state=e.memoizedState,a=r.getDerivedStateFromProps,typeof a=="function"&&(JN(e,r,a,n),s.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&B4.enqueueReplaceState(s,s.state,null),bw(e,n,s,i),vw(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!0}else if(t===null){s=e.stateNode;var o=e.memoizedProps,l=vf(r,o);s.props=l;var c=s.context,u=r.contextType;a=am,typeof u=="object"&&u!==null&&(a=vn(u));var d=r.getDerivedStateFromProps;u=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,u||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o||c!==a)&&oie(e,s,n,a),qc=!1;var f=e.memoizedState;s.state=f,bw(e,n,s,i),vw(),c=e.memoizedState,o||f!==c||qc?(typeof d=="function"&&(JN(e,r,d,n),c=e.memoizedState),(l=qc||aie(e,r,l,n,f,c,a))?(u||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),s.props=n,s.state=c,s.context=a,n=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,N4(t,e),a=e.memoizedProps,u=vf(r,a),s.props=u,d=e.pendingProps,f=s.context,c=r.contextType,l=am,typeof c=="object"&&c!==null&&(l=vn(c)),o=r.getDerivedStateFromProps,(c=typeof o=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&oie(e,s,n,l),qc=!1,f=e.memoizedState,s.state=f,bw(e,n,s,i),vw();var p=e.memoizedState;a!==d||f!==p||qc||t!==null&&t.dependencies!==null&&S2(t.dependencies)?(typeof o=="function"&&(JN(e,r,o,n),p=e.memoizedState),(u=qc||aie(e,r,u,n,f,p,l)||t!==null&&t.dependencies!==null&&S2(t.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),s.props=n,s.state=p,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return s=n,l2(t,e),n=(e.flags&128)!==0,s||n?(s=e.stateNode,r=n&&typeof r.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&n?(e.child=Cm(e,t.child,null,i),e.child=Cm(e,null,r,i)):tn(t,e,r,i),e.memoizedState=s.state,t=e.child):t=Il(t,e,i),t}function hie(t,e,r,n){return Gw(),e.flags|=256,tn(t,e,r,n),e.child}var ZN={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function e4(t){return{baseLanes:t,cachePool:Mse()}}function t4(t,e,r){return t=t!==null?t.childLanes&~r:0,e&&(t|=$s),t}function Eae(t,e,r){var n=e.pendingProps,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(Lr.current&2)!==0),a&&(i=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(nt){if(i?Uc(e):zc(e),nt){var o=tr,l;if(l=o){e:{for(l=o,o=ho;l.nodeType!==8;){if(!o){o=null;break e}if(l=Ta(l.nextSibling),l===null){o=null;break e}}o=l}o!==null?(e.memoizedState={dehydrated:o,treeContext:uf!==null?{id:xl,overflow:Sl}:null,retryLane:536870912,hydrationErrors:null},l=Hi(18,null,null,0),l.stateNode=o,l.return=e,e.child=l,jn=e,tr=null,l=!0):l=!1}l||mf(e)}if(o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return i5(o)?e.lanes=32:e.lanes=536870912,null;Cl(e)}return o=n.children,n=n.fallback,i?(zc(e),i=e.mode,o=R2({mode:"hidden",children:o},i),n=cf(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,i=e.child,i.memoizedState=e4(r),i.childLanes=t4(t,a,r),e.memoizedState=ZN,n):(Uc(e),H4(e,o))}if(l=t.memoizedState,l!==null&&(o=l.dehydrated,o!==null)){if(s)e.flags&256?(Uc(e),e.flags&=-257,e=r4(t,e,r)):e.memoizedState!==null?(zc(e),e.child=t.child,e.flags|=128,e=null):(zc(e),i=n.fallback,o=e.mode,n=R2({mode:"visible",children:n.children},o),i=cf(i,o,r,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,Cm(e,t.child,null,r),n=e.child,n.memoizedState=e4(r),n.childLanes=t4(t,a,r),e.memoizedState=ZN,e=i);else if(Uc(e),i5(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var c=a.dgst;a=c,n=Error(B(419)),n.stack="",n.digest=a,Rw({value:n,source:null,stack:null}),e=r4(t,e,r)}else if(Br||Ww(t,e,r,!1),a=(r&t.childLanes)!==0,Br||a){if(a=Rt,a!==null&&(n=r&-r,n=(n&42)!==0?1:f5(n),n=(n&(a.suspendedLanes|r))!==0?0:n,n!==0&&n!==l.retryLane))throw l.retryLane=n,Mm(t,n),Yi(a,t,n),Sae;o.data==="$?"||Q4(),e=r4(t,e,r)}else o.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,tr=Ta(o.nextSibling),jn=e,nt=!0,df=null,ho=!1,t!==null&&(_s[Ds++]=xl,_s[Ds++]=Sl,_s[Ds++]=uf,xl=t.id,Sl=t.overflow,uf=e),e=H4(e,n.children),e.flags|=4096);return e}return i?(zc(e),i=n.fallback,o=e.mode,l=t.child,c=l.sibling,n=El(l,{mode:"hidden",children:n.children}),n.subtreeFlags=l.subtreeFlags&65011712,c!==null?i=El(c,i):(i=cf(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o===null?o=e4(r):(l=o.cachePool,l!==null?(c=Ar._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=Mse(),o={baseLanes:o.baseLanes|r,cachePool:l}),i.memoizedState=o,i.childLanes=t4(t,a,r),e.memoizedState=ZN,n):(Uc(e),r=t.child,t=r.sibling,r=El(r,{mode:"visible",children:n.children}),r.return=e,r.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=r,e.memoizedState=null,r)}function H4(t,e){return e=R2({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function R2(t,e){return t=Hi(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function r4(t,e,r){return Cm(e,t.child,null,r),t=H4(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function mie(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),P4(t.return,e,r)}function n4(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Tae(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(tn(t,e,n.children,r),n=Lr.current,(n&2)!==0)n=n&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mie(t,r,e);else if(t.tag===19)mie(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}switch(zt(Lr,n),i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&A2(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),n4(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&A2(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}n4(e,!0,r,null,s);break;case"together":n4(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Il(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),au|=e.lanes,(r&e.childLanes)===0)if(t!==null){if(Ww(t,e,r,!1),(r&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,r=El(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=El(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function B5(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&S2(t)))}function CFe(t,e,r){switch(e.tag){case 3:h2(e,e.stateNode.containerInfo),Bc(e,Ar,t.memoizedState.cache),Gw();break;case 27:case 5:w4(e);break;case 4:h2(e,e.stateNode.containerInfo);break;case 10:Bc(e,e.type,e.memoizedProps.value);break;case 13:var n=e.memoizedState;if(n!==null)return n.dehydrated!==null?(Uc(e),e.flags|=128,null):(r&e.child.childLanes)!==0?Eae(t,e,r):(Uc(e),t=Il(t,e,r),t!==null?t.sibling:null);Uc(e);break;case 19:var i=(t.flags&128)!==0;if(n=(r&e.childLanes)!==0,n||(Ww(t,e,r,!1),n=(r&e.childLanes)!==0),i){if(n)return Tae(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),zt(Lr,Lr.current),n)break;return null;case 22:case 23:return e.lanes=0,Cae(t,e,r);case 24:Bc(e,Ar,t.memoizedState.cache)}return Il(t,e,r)}function Aae(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps)Br=!0;else{if(!B5(t,r)&&(e.flags&128)===0)return Br=!1,CFe(t,e,r);Br=(t.flags&131072)!==0}else Br=!1,nt&&(e.flags&1048576)!==0&&Ise(e,x2,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var n=e.elementType,i=n._init;if(n=i(n._payload),e.type=n,typeof n=="function")k5(n)?(t=vf(n,t),e.tag=1,e=pie(null,e,n,t,r)):(e.tag=0,e=z4(null,e,n,t,r));else{if(n!=null){if(i=n.$$typeof,i===c5){e.tag=11,e=cie(null,e,n,t,r);break e}else if(i===u5){e.tag=14,e=uie(null,e,n,t,r);break e}}throw e=v4(n)||n,Error(B(306,e,""))}}return e;case 0:return z4(t,e,e.type,e.pendingProps,r);case 1:return n=e.type,i=vf(n,e.pendingProps),pie(t,e,n,i,r);case 3:e:{if(h2(e,e.stateNode.containerInfo),t===null)throw Error(B(387));n=e.pendingProps;var s=e.memoizedState;i=s.element,N4(t,e),bw(e,n,null,r);var a=e.memoizedState;if(n=a.cache,Bc(e,Ar,n),n!==s.cache&&O4(e,[Ar],r,!0),vw(),n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=hie(t,e,n,r);break e}else if(n!==i){i=Fs(Error(B(424)),e),Rw(i),e=hie(t,e,n,r);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(tr=Ta(t.firstChild),jn=e,nt=!0,df=null,ho=!0,r=mae(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Gw(),n===i){e=Il(t,e,r);break e}tn(t,e,n,r)}e=e.child}return e;case 26:return l2(t,e),t===null?(r=_ie(e.type,null,e.pendingProps,null))?e.memoizedState=r:nt||(r=e.type,t=e.pendingProps,n=F2(Xc.current).createElement(r),n[yn]=e,n[ui]=t,nn(n,r,t),qr(n),e.stateNode=n):e.memoizedState=_ie(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return w4(e),t===null&&nt&&(n=e.stateNode=poe(e.type,e.pendingProps,Xc.current),jn=e,ho=!0,i=tr,lu(e.type)?(s5=i,tr=Ta(n.firstChild)):tr=i),tn(t,e,e.pendingProps.children,r),l2(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&nt&&((i=n=tr)&&(n=XFe(n,e.type,e.pendingProps,ho),n!==null?(e.stateNode=n,jn=e,tr=Ta(n.firstChild),ho=!1,i=!0):i=!1),i||mf(e)),w4(e),i=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,n=s.children,r5(i,s)?n=null:a!==null&&r5(i,a)&&(e.flags|=32),e.memoizedState!==null&&(i=M5(t,e,gFe,null,null,r),Nw._currentValue=i),l2(t,e),tn(t,e,n,r),e.child;case 6:return t===null&&nt&&((t=r=tr)&&(r=QFe(r,e.pendingProps,ho),r!==null?(e.stateNode=r,jn=e,tr=null,t=!0):t=!1),t||mf(e)),null;case 13:return Eae(t,e,r);case 4:return h2(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Cm(e,null,n,r):tn(t,e,n,r),e.child;case 11:return cie(t,e,e.type,e.pendingProps,r);case 7:return tn(t,e,e.pendingProps,r),e.child;case 8:return tn(t,e,e.pendingProps.children,r),e.child;case 12:return tn(t,e,e.pendingProps.children,r),e.child;case 10:return n=e.pendingProps,Bc(e,e.type,n.value),tn(t,e,n.children,r),e.child;case 9:return i=e.type._context,n=e.pendingProps.children,gf(e),i=vn(i),n=n(i),e.flags|=1,tn(t,e,n,r),e.child;case 14:return uie(t,e,e.type,e.pendingProps,r);case 15:return kae(t,e,e.type,e.pendingProps,r);case 19:return Tae(t,e,r);case 31:return n=e.pendingProps,r=e.mode,n={mode:n.mode,children:n.children},t===null?(r=R2(n,r),r.ref=e.ref,e.child=r,r.return=e,e=r):(r=El(t.child,n),r.ref=e.ref,e.child=r,r.return=e,e=r),e;case 22:return Cae(t,e,r);case 24:return gf(e),n=vn(Ar),t===null?(i=A5(),i===null&&(i=Rt,s=T5(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=r),i=s),e.memoizedState={parent:n,cache:i},L5(e),Bc(e,Ar,i)):((t.lanes&r)!==0&&(N4(t,e),bw(e,null,null,r),vw()),i=t.memoizedState,s=e.memoizedState,i.parent!==n?(i={parent:n,cache:n},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Bc(e,Ar,n)):(n=s.cache,Bc(e,Ar,n),n!==i.cache&&O4(e,[Ar],r,!0))),tn(t,e,e.pendingProps.children,r),e.child;case 29:throw e.pendingProps}throw Error(B(156,e.tag))}function yl(t){t.flags|=4}function gie(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!goe(e)){if(e=js.current,e!==null&&((Ke&4194048)===Ke?vo!==null:(Ke&62914560)!==Ke&&(Ke&536870912)===0||e!==vo))throw gw=D4,Pse;t.flags|=8192}}function KT(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Zie():536870912,t.lanes|=e,Em|=e)}function iw(t,e){if(!nt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function EFe(t,e,r){var n=e.pendingProps;switch(E5(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return Wt(e),null;case 3:return r=e.stateNode,n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Tl(Ar),vm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(rw(e)?yl(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Gne())),Wt(e),null;case 26:return r=e.memoizedState,t===null?(yl(e),r!==null?(Wt(e),gie(e,r)):(Wt(e),e.flags&=-16777217)):r?r!==t.memoizedState?(yl(e),Wt(e),gie(e,r)):(Wt(e),e.flags&=-16777217):(t.memoizedProps!==n&&yl(e),Wt(e),e.flags&=-16777217),null;case 27:m2(e),r=Xc.current;var i=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==n&&yl(e);else{if(!n){if(e.stateNode===null)throw Error(B(166));return Wt(e),null}t=go.current,rw(e)?zne(e,t):(t=poe(i,n,r),e.stateNode=t,yl(e))}return Wt(e),null;case 5:if(m2(e),r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==n&&yl(e);else{if(!n){if(e.stateNode===null)throw Error(B(166));return Wt(e),null}if(t=go.current,rw(e))zne(e,t);else{switch(i=F2(Xc.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof n.is=="string"?i.createElement("select",{is:n.is}):i.createElement("select"),n.multiple?t.multiple=!0:n.size&&(t.size=n.size);break;default:t=typeof n.is=="string"?i.createElement(r,{is:n.is}):i.createElement(r)}}t[yn]=e,t[ui]=n;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;e:switch(nn(t,r,n),r){case"button":case"input":case"select":case"textarea":t=!!n.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&yl(e)}}return Wt(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==n&&yl(e);else{if(typeof n!="string"&&e.stateNode===null)throw Error(B(166));if(t=Xc.current,rw(e)){if(t=e.stateNode,r=e.memoizedProps,n=null,i=jn,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}t[yn]=e,t=!!(t.nodeValue===r||n!==null&&n.suppressHydrationWarning===!0||uoe(t.nodeValue,r)),t||mf(e)}else t=F2(t).createTextNode(n),t[yn]=e,e.stateNode=t}return Wt(e),null;case 13:if(n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=rw(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[yn]=e}else Gw(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Wt(e),i=!1}else i=Gne(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(Cl(e),e):(Cl(e),null)}if(Cl(e),(e.flags&128)!==0)return e.lanes=r,e;if(r=n!==null,t=t!==null&&t.memoizedState!==null,r){n=e.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool);var s=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==i&&(n.flags|=2048)}return r!==t&&r&&(e.child.flags|=8192),KT(e,e.updateQueue),Wt(e),null;case 4:return vm(),t===null&&X5(e.stateNode.containerInfo),Wt(e),null;case 10:return Tl(e.type),Wt(e),null;case 19:if(Ur(Lr),i=e.memoizedState,i===null)return Wt(e),null;if(n=(e.flags&128)!==0,s=i.rendering,s===null)if(n)iw(i,!1);else{if(rr!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(s=A2(t),s!==null){for(e.flags|=128,iw(i,!1),t=s.updateQueue,e.updateQueue=t,KT(e,t),e.subtreeFlags=0,t=r,r=e.child;r!==null;)Lse(r,t),r=r.sibling;return zt(Lr,Lr.current&1|2),e.child}t=t.sibling}i.tail!==null&&yo()>P2&&(e.flags|=128,n=!0,iw(i,!1),e.lanes=4194304)}else{if(!n)if(t=A2(s),t!==null){if(e.flags|=128,n=!0,t=t.updateQueue,e.updateQueue=t,KT(e,t),iw(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!nt)return Wt(e),null}else 2*yo()-i.renderingStartTime>P2&&r!==536870912&&(e.flags|=128,n=!0,iw(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(t=i.last,t!==null?t.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=yo(),e.sibling=null,t=Lr.current,zt(Lr,n?t&1|2:t&1),e):(Wt(e),null);case 22:case 23:return Cl(e),I5(),n=e.memoizedState!==null,t!==null?t.memoizedState!==null!==n&&(e.flags|=8192):n&&(e.flags|=8192),n?(r&536870912)!==0&&(e.flags&128)===0&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),r=e.updateQueue,r!==null&&KT(e,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==r&&(e.flags|=2048),t!==null&&Ur(ff),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Tl(Ar),Wt(e),null;case 25:return null;case 30:return null}throw Error(B(156,e.tag))}function TFe(t,e){switch(E5(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Tl(Ar),vm(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return m2(e),null;case 13:if(Cl(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Gw()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ur(Lr),null;case 4:return vm(),null;case 10:return Tl(e.type),null;case 22:case 23:return Cl(e),I5(),t!==null&&Ur(ff),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Tl(Ar),null;case 25:return null;default:return null}}function Lae(t,e){switch(E5(e),e.tag){case 3:Tl(Ar),vm();break;case 26:case 27:case 5:m2(e);break;case 4:vm();break;case 13:Cl(e);break;case 19:Ur(Lr);break;case 10:Tl(e.type);break;case 22:case 23:Cl(e),I5(),t!==null&&Ur(ff);break;case 24:Tl(Ar)}}function Jw(t,e){try{var r=e.updateQueue,n=r!==null?r.lastEffect:null;if(n!==null){var i=n.next;r=i;do{if((r.tag&t)===t){n=void 0;var s=r.create,a=r.inst;n=s(),a.destroy=n}r=r.next}while(r!==i)}}catch(o){St(e,e.return,o)}}function su(t,e,r){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&t)===t){var a=n.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,i=e;var l=r,c=o;try{c()}catch(u){St(i,l,u)}}}n=n.next}while(n!==s)}}catch(u){St(e,e.return,u)}}function Iae(t){var e=t.updateQueue;if(e!==null){var r=t.stateNode;try{Dse(e,r)}catch(n){St(t,t.return,n)}}}function Rae(t,e,r){r.props=vf(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(n){St(t,e,n)}}function xw(t,e){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var n=t.stateNode;break;case 30:n=t.stateNode;break;default:n=t.stateNode}typeof r=="function"?t.refCleanup=r(n):r.current=n}}catch(i){St(t,e,i)}}function mo(t,e){var r=t.ref,n=t.refCleanup;if(r!==null)if(typeof n=="function")try{n()}catch(i){St(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(i){St(t,e,i)}else r.current=null}function Mae(t){var e=t.type,r=t.memoizedProps,n=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(i){St(t,t.return,i)}}function i4(t,e,r){try{var n=t.stateNode;HFe(n,t.type,r,e),n[ui]=e}catch(i){St(t,t.return,i)}}function Pae(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&lu(t.type)||t.tag===4}function s4(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Pae(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&lu(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function G4(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,e):(e=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,e.appendChild(t),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=rA));else if(n!==4&&(n===27&&lu(t.type)&&(r=t.stateNode,e=null),t=t.child,t!==null))for(G4(t,e,r),t=t.sibling;t!==null;)G4(t,e,r),t=t.sibling}function M2(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(n===27&&lu(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(M2(t,e,r),t=t.sibling;t!==null;)M2(t,e,r),t=t.sibling}function Oae(t){var e=t.stateNode,r=t.memoizedProps;try{for(var n=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);nn(e,n,r),e[yn]=t,e[ui]=r}catch(s){St(t,t.return,s)}}var bl=!1,cr=!1,a4=!1,yie=typeof WeakSet=="function"?WeakSet:Set,Vr=null;function AFe(t,e){if(t=t.containerInfo,e5=q2,t=wse(t),w5(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==r||i!==0&&d.nodeType!==3||(o=a+i),d!==s||n!==0&&d.nodeType!==3||(l=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===r&&++c===i&&(o=a),f===s&&++u===n&&(l=a),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(t5={focusedElem:t,selectionRange:r},q2=!1,Vr=e;Vr!==null;)if(e=Vr,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Vr=t;else for(;Vr!==null;){switch(e=Vr,s=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&s!==null){t=void 0,r=e,i=s.memoizedProps,s=s.memoizedState,n=r.stateNode;try{var h=vf(r.type,i,r.elementType===r.type);t=n.getSnapshotBeforeUpdate(h,s),n.__reactInternalSnapshotBeforeUpdate=t}catch(g){St(r,r.return,g)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,r=t.nodeType,r===9)n5(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":n5(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(B(163))}if(t=e.sibling,t!==null){t.return=e.return,Vr=t;break}Vr=e.return}}function _ae(t,e,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:$c(t,r),n&4&&Jw(5,r);break;case 1:if($c(t,r),n&4)if(t=r.stateNode,e===null)try{t.componentDidMount()}catch(a){St(r,r.return,a)}else{var i=vf(r.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){St(r,r.return,a)}}n&64&&Iae(r),n&512&&xw(r,r.return);break;case 3:if($c(t,r),n&64&&(t=r.updateQueue,t!==null)){if(e=null,r.child!==null)switch(r.child.tag){case 27:case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}try{Dse(t,e)}catch(a){St(r,r.return,a)}}break;case 27:e===null&&n&4&&Oae(r);case 26:case 5:$c(t,r),e===null&&n&4&&Mae(r),n&512&&xw(r,r.return);break;case 12:$c(t,r);break;case 13:$c(t,r),n&4&&Fae(t,r),n&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=NFe.bind(null,r),JFe(t,r))));break;case 22:if(n=r.memoizedState!==null||bl,!n){e=e!==null&&e.memoizedState!==null||cr,i=bl;var s=cr;bl=n,(cr=e)&&!s?jc(t,r,(r.subtreeFlags&8772)!==0):$c(t,r),bl=i,cr=s}break;case 30:break;default:$c(t,r)}}function Dae(t){var e=t.alternate;e!==null&&(t.alternate=null,Dae(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&h5(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ut=null,li=!1;function vl(t,e,r){for(r=r.child;r!==null;)Nae(t,e,r),r=r.sibling}function Nae(t,e,r){if(Gi&&typeof Gi.onCommitFiberUnmount=="function")try{Gi.onCommitFiberUnmount(qw,r)}catch{}switch(r.tag){case 26:cr||mo(r,e),vl(t,e,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:cr||mo(r,e);var n=Ut,i=li;lu(r.type)&&(Ut=r.stateNode,li=!1),vl(t,e,r),Ew(r.stateNode),Ut=n,li=i;break;case 5:cr||mo(r,e);case 6:if(n=Ut,i=li,Ut=null,vl(t,e,r),Ut=n,li=i,Ut!==null)if(li)try{(Ut.nodeType===9?Ut.body:Ut.nodeName==="HTML"?Ut.ownerDocument.body:Ut).removeChild(r.stateNode)}catch(s){St(r,e,s)}else try{Ut.removeChild(r.stateNode)}catch(s){St(r,e,s)}break;case 18:Ut!==null&&(li?(t=Ut,Mie(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),jw(t)):Mie(Ut,r.stateNode));break;case 4:n=Ut,i=li,Ut=r.stateNode.containerInfo,li=!0,vl(t,e,r),Ut=n,li=i;break;case 0:case 11:case 14:case 15:cr||su(2,r,e),cr||su(4,r,e),vl(t,e,r);break;case 1:cr||(mo(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"&&Rae(r,e,n)),vl(t,e,r);break;case 21:vl(t,e,r);break;case 22:cr=(n=cr)||r.memoizedState!==null,vl(t,e,r),cr=n;break;default:vl(t,e,r)}}function Fae(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jw(t)}catch(r){St(e,e.return,r)}}function LFe(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new yie),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new yie),e;default:throw Error(B(435,t.tag))}}function o4(t,e){var r=LFe(t);e.forEach(function(n){var i=FFe.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}function Bi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n],s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 27:if(lu(o.type)){Ut=o.stateNode,li=!1;break e}break;case 5:Ut=o.stateNode,li=!1;break e;case 3:case 4:Ut=o.stateNode.containerInfo,li=!0;break e}o=o.return}if(Ut===null)throw Error(B(160));Nae(s,a,i),Ut=null,li=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)$ae(e,t),e=e.sibling}var Ea=null;function $ae(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Bi(e,t),Ui(t),n&4&&(su(3,t,t.return),Jw(3,t),su(5,t,t.return));break;case 1:Bi(e,t),Ui(t),n&512&&(cr||r===null||mo(r,r.return)),n&64&&bl&&(t=t.updateQueue,t!==null&&(n=t.callbacks,n!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?n:r.concat(n))));break;case 26:var i=Ea;if(Bi(e,t),Ui(t),n&512&&(cr||r===null||mo(r,r.return)),n&4){var s=r!==null?r.memoizedState:null;if(n=t.memoizedState,r===null)if(n===null)if(t.stateNode===null){e:{n=t.type,r=t.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":s=i.getElementsByTagName("title")[0],(!s||s[zw]||s[yn]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(n),i.head.insertBefore(s,i.querySelector("head > title"))),nn(s,n,r),s[yn]=t,qr(s),n=s;break e;case"link":var a=Nie("link","href",i).get(n+(r.href||""));if(a){for(var o=0;o<a.length;o++)if(s=a[o],s.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&s.getAttribute("rel")===(r.rel==null?null:r.rel)&&s.getAttribute("title")===(r.title==null?null:r.title)&&s.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){a.splice(o,1);break t}}s=i.createElement(n),nn(s,n,r),i.head.appendChild(s);break;case"meta":if(a=Nie("meta","content",i).get(n+(r.content||""))){for(o=0;o<a.length;o++)if(s=a[o],s.getAttribute("content")===(r.content==null?null:""+r.content)&&s.getAttribute("name")===(r.name==null?null:r.name)&&s.getAttribute("property")===(r.property==null?null:r.property)&&s.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&s.getAttribute("charset")===(r.charSet==null?null:r.charSet)){a.splice(o,1);break t}}s=i.createElement(n),nn(s,n,r),i.head.appendChild(s);break;default:throw Error(B(468,n))}s[yn]=t,qr(s),n=s}t.stateNode=n}else Fie(i,t.type,t.stateNode);else t.stateNode=Die(i,n,t.memoizedProps);else s!==n?(s===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):s.count--,n===null?Fie(i,t.type,t.stateNode):Die(i,n,t.memoizedProps)):n===null&&t.stateNode!==null&&i4(t,t.memoizedProps,r.memoizedProps)}break;case 27:Bi(e,t),Ui(t),n&512&&(cr||r===null||mo(r,r.return)),r!==null&&n&4&&i4(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Bi(e,t),Ui(t),n&512&&(cr||r===null||mo(r,r.return)),t.flags&32){i=t.stateNode;try{wm(i,"")}catch(p){St(t,t.return,p)}}n&4&&t.stateNode!=null&&(i=t.memoizedProps,i4(t,i,r!==null?r.memoizedProps:i)),n&1024&&(a4=!0);break;case 6:if(Bi(e,t),Ui(t),n&4){if(t.stateNode===null)throw Error(B(162));n=t.memoizedProps,r=t.stateNode;try{r.nodeValue=n}catch(p){St(t,t.return,p)}}break;case 3:if(d2=null,i=Ea,Ea=$2(e.containerInfo),Bi(e,t),Ea=i,Ui(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{jw(e.containerInfo)}catch(p){St(t,t.return,p)}a4&&(a4=!1,jae(t));break;case 4:n=Ea,Ea=$2(t.stateNode.containerInfo),Bi(e,t),Ui(t),Ea=n;break;case 12:Bi(e,t),Ui(t);break;case 13:Bi(e,t),Ui(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(W5=yo()),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,o4(t,n)));break;case 22:i=t.memoizedState!==null;var l=r!==null&&r.memoizedState!==null,c=bl,u=cr;if(bl=c||i,cr=u||l,Bi(e,t),cr=u,bl=c,Ui(t),n&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(r===null||l||bl||cr||of(t)),r=null,e=t;;){if(e.tag===5||e.tag===26){if(r===null){l=r=e;try{if(s=l.stateNode,i)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=l.stateNode;var d=l.memoizedProps.style,f=d!=null&&d.hasOwnProperty("display")?d.display:null;o.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(p){St(l,l.return,p)}}}else if(e.tag===6){if(r===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(p){St(l,l.return,p)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;r===e&&(r=null),e=e.return}r===e&&(r=null),e.sibling.return=e.return,e=e.sibling}n&4&&(n=t.updateQueue,n!==null&&(r=n.retryQueue,r!==null&&(n.retryQueue=null,o4(t,r))));break;case 19:Bi(e,t),Ui(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,o4(t,n)));break;case 30:break;case 21:break;default:Bi(e,t),Ui(t)}}function Ui(t){var e=t.flags;if(e&2){try{for(var r,n=t.return;n!==null;){if(Pae(n)){r=n;break}n=n.return}if(r==null)throw Error(B(160));switch(r.tag){case 27:var i=r.stateNode,s=s4(t);M2(t,s,i);break;case 5:var a=r.stateNode;r.flags&32&&(wm(a,""),r.flags&=-33);var o=s4(t);M2(t,o,a);break;case 3:case 4:var l=r.stateNode.containerInfo,c=s4(t);G4(t,c,l);break;default:throw Error(B(161))}}catch(u){St(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jae(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;jae(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function $c(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)_ae(t,e.alternate,e),e=e.sibling}function of(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:su(4,e,e.return),of(e);break;case 1:mo(e,e.return);var r=e.stateNode;typeof r.componentWillUnmount=="function"&&Rae(e,e.return,r),of(e);break;case 27:Ew(e.stateNode);case 26:case 5:mo(e,e.return),of(e);break;case 22:e.memoizedState===null&&of(e);break;case 30:of(e);break;default:of(e)}t=t.sibling}}function jc(t,e,r){for(r=r&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var n=e.alternate,i=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:jc(i,s,r),Jw(4,s);break;case 1:if(jc(i,s,r),n=s,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){St(n,n.return,c)}if(n=s,i=n.updateQueue,i!==null){var o=n.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)_se(l[i],o)}catch(c){St(n,n.return,c)}}r&&a&64&&Iae(s),xw(s,s.return);break;case 27:Oae(s);case 26:case 5:jc(i,s,r),r&&n===null&&a&4&&Mae(s),xw(s,s.return);break;case 12:jc(i,s,r);break;case 13:jc(i,s,r),r&&a&4&&Fae(i,s);break;case 22:s.memoizedState===null&&jc(i,s,r),xw(s,s.return);break;case 30:break;default:jc(i,s,r)}e=e.sibling}}function U5(t,e){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Kw(r))}function z5(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Kw(t))}function po(t,e,r,n){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Vae(t,e,r,n),e=e.sibling}function Vae(t,e,r,n){var i=e.flags;switch(e.tag){case 0:case 11:case 15:po(t,e,r,n),i&2048&&Jw(9,e);break;case 1:po(t,e,r,n);break;case 3:po(t,e,r,n),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Kw(t)));break;case 12:if(i&2048){po(t,e,r,n),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,o=s.onPostCommit;typeof o=="function"&&o(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){St(e,e.return,l)}}else po(t,e,r,n);break;case 13:po(t,e,r,n);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?po(t,e,r,n):Sw(t,e):s._visibility&2?po(t,e,r,n):(s._visibility|=2,Xh(t,e,r,n,(e.subtreeFlags&10256)!==0)),i&2048&&U5(a,e);break;case 24:po(t,e,r,n),i&2048&&z5(e.alternate,e);break;default:po(t,e,r,n)}}function Xh(t,e,r,n,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var s=t,a=e,o=r,l=n,c=a.flags;switch(a.tag){case 0:case 11:case 15:Xh(s,a,o,l,i),Jw(8,a);break;case 23:break;case 22:var u=a.stateNode;a.memoizedState!==null?u._visibility&2?Xh(s,a,o,l,i):Sw(s,a):(u._visibility|=2,Xh(s,a,o,l,i)),i&&c&2048&&U5(a.alternate,a);break;case 24:Xh(s,a,o,l,i),i&&c&2048&&z5(a.alternate,a);break;default:Xh(s,a,o,l,i)}e=e.sibling}}function Sw(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var r=t,n=e,i=n.flags;switch(n.tag){case 22:Sw(r,n),i&2048&&U5(n.alternate,n);break;case 24:Sw(r,n),i&2048&&z5(n.alternate,n);break;default:Sw(r,n)}e=e.sibling}}var dw=8192;function Wh(t){if(t.subtreeFlags&dw)for(t=t.child;t!==null;)qae(t),t=t.sibling}function qae(t){switch(t.tag){case 26:Wh(t),t.flags&dw&&t.memoizedState!==null&&d7e(Ea,t.memoizedState,t.memoizedProps);break;case 5:Wh(t);break;case 3:case 4:var e=Ea;Ea=$2(t.stateNode.containerInfo),Wh(t),Ea=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=dw,dw=16777216,Wh(t),dw=e):Wh(t));break;default:Wh(t)}}function Bae(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function sw(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var r=0;r<e.length;r++){var n=e[r];Vr=n,zae(n,t)}Bae(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Uae(t),t=t.sibling}function Uae(t){switch(t.tag){case 0:case 11:case 15:sw(t),t.flags&2048&&su(9,t,t.return);break;case 3:sw(t);break;case 12:sw(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,c2(t)):sw(t);break;default:sw(t)}}function c2(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var r=0;r<e.length;r++){var n=e[r];Vr=n,zae(n,t)}Bae(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:su(8,e,e.return),c2(e);break;case 22:r=e.stateNode,r._visibility&2&&(r._visibility&=-3,c2(e));break;default:c2(e)}t=t.sibling}}function zae(t,e){for(;Vr!==null;){var r=Vr;switch(r.tag){case 0:case 11:case 15:su(8,r,e);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var n=r.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Kw(r.memoizedState.cache)}if(n=r.child,n!==null)n.return=r,Vr=n;else e:for(r=t;Vr!==null;){n=Vr;var i=n.sibling,s=n.return;if(Dae(n),n===r){Vr=null;break e}if(i!==null){i.return=s,Vr=i;break e}Vr=s}}}var IFe={getCacheForType:function(t){var e=vn(Ar),r=e.data.get(t);return r===void 0&&(r=t(),e.data.set(t,r)),r}},RFe=typeof WeakMap=="function"?WeakMap:Map,pt=0,Rt=null,He=null,Ke=0,ft=0,zi=null,Kc=!1,Pm=!1,H5=!1,Rl=0,rr=0,au=0,pf=0,G5=0,$s=0,Em=0,kw=null,ci=null,W4=!1,W5=0,P2=1/0,O2=null,Zc=null,rn=0,eu=null,Tm=null,ym=0,K4=0,Y4=null,Hae=null,Cw=0,X4=null;function Ki(){if((pt&2)!==0&&Ke!==0)return Ke&-Ke;if(Se.T!==null){var t=xm;return t!==0?t:Y5()}return rse()}function Gae(){$s===0&&($s=(Ke&536870912)===0||nt?Jie():536870912);var t=js.current;return t!==null&&(t.flags|=32),$s}function Yi(t,e,r){(t===Rt&&(ft===2||ft===9)||t.cancelPendingCommit!==null)&&(Am(t,0),Yc(t,Ke,$s,!1)),Uw(t,r),((pt&2)===0||t!==Rt)&&(t===Rt&&((pt&2)===0&&(pf|=r),rr===4&&Yc(t,Ke,$s,!1)),wo(t))}function Wae(t,e,r){if((pt&6)!==0)throw Error(B(327));var n=!r&&(e&124)===0&&(e&t.expiredLanes)===0||Bw(t,e),i=n?OFe(t,e):l4(t,e,!0),s=n;do{if(i===0){Pm&&!n&&Yc(t,e,0,!1);break}else{if(r=t.current.alternate,s&&!MFe(r)){i=l4(t,e,!1),s=!1;continue}if(i===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var o=t;i=kw;var l=o.current.memoizedState.isDehydrated;if(l&&(Am(o,a).flags|=256),a=l4(o,a,!1),a!==2){if(H5&&!l){o.errorRecoveryDisabledLanes|=s,pf|=s,i=4;break e}s=ci,ci=i,s!==null&&(ci===null?ci=s:ci.push.apply(ci,s))}i=a}if(s=!1,i!==2)continue}}if(i===1){Am(t,0),Yc(t,e,0,!0);break}e:{switch(n=t,s=i,s){case 0:case 1:throw Error(B(345));case 4:if((e&4194048)!==e)break;case 6:Yc(n,e,$s,!Kc);break e;case 2:ci=null;break;case 3:case 5:break;default:throw Error(B(329))}if((e&62914560)===e&&(i=W5+300-yo(),10<i)){if(Yc(n,e,$s,!Kc),U2(n,0,!0)!==0)break e;n.timeoutHandle=foe(vie.bind(null,n,r,ci,O2,W4,e,$s,pf,Em,Kc,s,2,-0,0),i);break e}vie(n,r,ci,O2,W4,e,$s,pf,Em,Kc,s,0,-0,0)}}break}while(!0);wo(t)}function vie(t,e,r,n,i,s,a,o,l,c,u,d,f,p){if(t.timeoutHandle=-1,d=e.subtreeFlags,(d&8192||(d&16785408)===16785408)&&(Dw={stylesheets:null,count:0,unsuspend:u7e},qae(e),d=f7e(),d!==null)){t.cancelPendingCommit=d(wie.bind(null,t,e,s,r,n,i,a,o,l,u,1,f,p)),Yc(t,s,a,!c);return}wie(t,e,s,r,n,i,a,o,l)}function MFe(t){for(var e=t;;){var r=e.tag;if((r===0||r===11||r===15)&&e.flags&16384&&(r=e.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Xi(s(),i))return!1}catch{return!1}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yc(t,e,r,n){e&=~G5,e&=~pf,t.suspendedLanes|=e,t.pingedLanes&=~e,n&&(t.warmLanes|=e),n=t.expirationTimes;for(var i=e;0<i;){var s=31-Wi(i),a=1<<s;n[s]=-1,i&=~a}r!==0&&ese(t,r,e)}function Z2(){return(pt&6)===0?(Zw(0,!1),!1):!0}function K5(){if(He!==null){if(ft===0)var t=He.return;else t=He,kl=Sf=null,_5(t),gm=null,Pw=0,t=He;for(;t!==null;)Lae(t.alternate,t),t=t.return;He=null}}function Am(t,e){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,WFe(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),K5(),Rt=t,He=r=El(t.current,null),Ke=e,ft=0,zi=null,Kc=!1,Pm=Bw(t,e),H5=!1,Em=$s=G5=pf=au=rr=0,ci=kw=null,W4=!1,(e&8)!==0&&(e|=e&32);var n=t.entangledLanes;if(n!==0)for(t=t.entanglements,n&=e;0<n;){var i=31-Wi(n),s=1<<i;e|=t[i],n&=~s}return Rl=e,W2(),r}function Kae(t,e){Ve=null,Se.H=T2,e===Yw||e===Y2?(e=Xne(),ft=3):e===Pse?(e=Xne(),ft=4):ft=e===Sae?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,zi=e,He===null&&(rr=1,I2(t,Fs(e,t.current)))}function Yae(){var t=Se.H;return Se.H=T2,t===null?T2:t}function Xae(){var t=Se.A;return Se.A=IFe,t}function Q4(){rr=4,Kc||(Ke&4194048)!==Ke&&js.current!==null||(Pm=!0),(au&134217727)===0&&(pf&134217727)===0||Rt===null||Yc(Rt,Ke,$s,!1)}function l4(t,e,r){var n=pt;pt|=2;var i=Yae(),s=Xae();(Rt!==t||Ke!==e)&&(O2=null,Am(t,e)),e=!1;var a=rr;e:do try{if(ft!==0&&He!==null){var o=He,l=zi;switch(ft){case 8:K5(),a=6;break e;case 3:case 2:case 9:case 6:js.current===null&&(e=!0);var c=ft;if(ft=0,zi=null,cm(t,o,l,c),r&&Pm){a=0;break e}break;default:c=ft,ft=0,zi=null,cm(t,o,l,c)}}PFe(),a=rr;break}catch(u){Kae(t,u)}while(!0);return e&&t.shellSuspendCounter++,kl=Sf=null,pt=n,Se.H=i,Se.A=s,He===null&&(Rt=null,Ke=0,W2()),a}function PFe(){for(;He!==null;)Qae(He)}function OFe(t,e){var r=pt;pt|=2;var n=Yae(),i=Xae();Rt!==t||Ke!==e?(O2=null,P2=yo()+500,Am(t,e)):Pm=Bw(t,e);e:do try{if(ft!==0&&He!==null){e=He;var s=zi;t:switch(ft){case 1:ft=0,zi=null,cm(t,e,s,1);break;case 2:case 9:if(Yne(s)){ft=0,zi=null,bie(e);break}e=function(){ft!==2&&ft!==9||Rt!==t||(ft=7),wo(t)},s.then(e,e);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:Yne(s)?(ft=0,zi=null,bie(e)):(ft=0,zi=null,cm(t,e,s,7));break;case 5:var a=null;switch(He.tag){case 26:a=He.memoizedState;case 5:case 27:var o=He;if(!a||goe(a)){ft=0,zi=null;var l=o.sibling;if(l!==null)He=l;else{var c=o.return;c!==null?(He=c,eA(c)):He=null}break t}}ft=0,zi=null,cm(t,e,s,5);break;case 6:ft=0,zi=null,cm(t,e,s,6);break;case 8:K5(),rr=6;break e;default:throw Error(B(462))}}_Fe();break}catch(u){Kae(t,u)}while(!0);return kl=Sf=null,Se.H=n,Se.A=i,pt=r,He!==null?0:(Rt=null,Ke=0,W2(),rr)}function _Fe(){for(;He!==null&&!r9e();)Qae(He)}function Qae(t){var e=Aae(t.alternate,t,Rl);t.memoizedProps=t.pendingProps,e===null?eA(t):He=e}function bie(t){var e=t,r=e.alternate;switch(e.tag){case 15:case 0:e=fie(r,e,e.pendingProps,e.type,void 0,Ke);break;case 11:e=fie(r,e,e.pendingProps,e.type.render,e.ref,Ke);break;case 5:_5(e);default:Lae(r,e),e=He=Lse(e,Rl),e=Aae(r,e,Rl)}t.memoizedProps=t.pendingProps,e===null?eA(t):He=e}function cm(t,e,r,n){kl=Sf=null,_5(e),gm=null,Pw=0;var i=e.return;try{if(kFe(t,i,e,r,Ke)){rr=1,I2(t,Fs(r,t.current)),He=null;return}}catch(s){if(i!==null)throw He=i,s;rr=1,I2(t,Fs(r,t.current)),He=null;return}e.flags&32768?(nt||n===1?t=!0:Pm||(Ke&536870912)!==0?t=!1:(Kc=t=!0,(n===2||n===9||n===3||n===6)&&(n=js.current,n!==null&&n.tag===13&&(n.flags|=16384))),Jae(e,t)):eA(e)}function eA(t){var e=t;do{if((e.flags&32768)!==0){Jae(e,Kc);return}t=e.return;var r=EFe(e.alternate,e,Rl);if(r!==null){He=r;return}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);rr===0&&(rr=5)}function Jae(t,e){do{var r=TFe(t.alternate,t);if(r!==null){r.flags&=32767,He=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!e&&(t=t.sibling,t!==null)){He=t;return}He=t=r}while(t!==null);rr=6,He=null}function wie(t,e,r,n,i,s,a,o,l){t.cancelPendingCommit=null;do tA();while(rn!==0);if((pt&6)!==0)throw Error(B(327));if(e!==null){if(e===t.current)throw Error(B(177));if(s=e.lanes|e.childLanes,s|=x5,f9e(t,r,s,a,o,l),t===Rt&&(He=Rt=null,Ke=0),Tm=e,eu=t,ym=r,K4=s,Y4=i,Hae=n,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,$Fe(g2,function(){return noe(!0),null})):(t.callbackNode=null,t.callbackPriority=0),n=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||n){n=Se.T,Se.T=null,i=it.p,it.p=2,a=pt,pt|=4;try{AFe(t,e,r)}finally{pt=a,it.p=i,Se.T=n}}rn=1,Zae(),eoe(),toe()}}function Zae(){if(rn===1){rn=0;var t=eu,e=Tm,r=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||r){r=Se.T,Se.T=null;var n=it.p;it.p=2;var i=pt;pt|=4;try{$ae(e,t);var s=t5,a=wse(t.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&bse(o.ownerDocument.documentElement,o)){if(l!==null&&w5(o)){var c=l.start,u=l.end;if(u===void 0&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),h=o.textContent.length,g=Math.min(l.start,h),v=l.end===void 0?g:Math.min(l.end,h);!p.extend&&g>v&&(a=v,v=g,g=a);var y=qne(o,g),b=qne(o,v);if(y&&b&&(p.rangeCount!==1||p.anchorNode!==y.node||p.anchorOffset!==y.offset||p.focusNode!==b.node||p.focusOffset!==b.offset)){var w=d.createRange();w.setStart(y.node,y.offset),p.removeAllRanges(),g>v?(p.addRange(w),p.extend(b.node,b.offset)):(w.setEnd(b.node,b.offset),p.addRange(w))}}}}for(d=[],p=o;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<d.length;o++){var x=d[o];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}q2=!!e5,t5=e5=null}finally{pt=i,it.p=n,Se.T=r}}t.current=e,rn=2}}function eoe(){if(rn===2){rn=0;var t=eu,e=Tm,r=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||r){r=Se.T,Se.T=null;var n=it.p;it.p=2;var i=pt;pt|=4;try{_ae(t,e.alternate,e)}finally{pt=i,it.p=n,Se.T=r}}rn=3}}function toe(){if(rn===4||rn===3){rn=0,n9e();var t=eu,e=Tm,r=ym,n=Hae;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?rn=5:(rn=0,Tm=eu=null,roe(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Zc=null),p5(r),e=e.stateNode,Gi&&typeof Gi.onCommitFiberRoot=="function")try{Gi.onCommitFiberRoot(qw,e,void 0,(e.current.flags&128)===128)}catch{}if(n!==null){e=Se.T,i=it.p,it.p=2,Se.T=null;try{for(var s=t.onRecoverableError,a=0;a<n.length;a++){var o=n[a];s(o.value,{componentStack:o.stack})}}finally{Se.T=e,it.p=i}}(ym&3)!==0&&tA(),wo(t),i=t.pendingLanes,(r&4194090)!==0&&(i&42)!==0?t===X4?Cw++:(Cw=0,X4=t):Cw=0,Zw(0,!1)}}function roe(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Kw(e)))}function tA(t){return Zae(),eoe(),toe(),noe(t)}function noe(){if(rn!==5)return!1;var t=eu,e=K4;K4=0;var r=p5(ym),n=Se.T,i=it.p;try{it.p=32>r?32:r,Se.T=null,r=Y4,Y4=null;var s=eu,a=ym;if(rn=0,Tm=eu=null,ym=0,(pt&6)!==0)throw Error(B(331));var o=pt;if(pt|=4,Uae(s.current),Vae(s,s.current,a,r),pt=o,Zw(0,!1),Gi&&typeof Gi.onPostCommitFiberRoot=="function")try{Gi.onPostCommitFiberRoot(qw,s)}catch{}return!0}finally{it.p=i,Se.T=n,roe(t,e)}}function xie(t,e,r){e=Fs(r,e),e=U4(t.stateNode,e,2),t=Jc(t,e,2),t!==null&&(Uw(t,2),wo(t))}function St(t,e,r){if(t.tag===3)xie(t,t,r);else for(;e!==null;){if(e.tag===3){xie(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zc===null||!Zc.has(n))){t=Fs(r,t),r=wae(2),n=Jc(e,r,2),n!==null&&(xae(r,n,e,t),Uw(n,2),wo(n));break}}e=e.return}}function c4(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new RFe;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(H5=!0,i.add(r),t=DFe.bind(null,t,e,r),e.then(t,t))}function DFe(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Rt===t&&(Ke&r)===r&&(rr===4||rr===3&&(Ke&62914560)===Ke&&300>yo()-W5?(pt&2)===0&&Am(t,0):G5|=r,Em===Ke&&(Em=0)),wo(t)}function ioe(t,e){e===0&&(e=Zie()),t=Mm(t,e),t!==null&&(Uw(t,e),wo(t))}function NFe(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),ioe(t,r)}function FFe(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;case 22:n=t.stateNode._retryCache;break;default:throw Error(B(314))}n!==null&&n.delete(e),ioe(t,r)}function $Fe(t,e){return d5(t,e)}var _2=null,Qh=null,J4=!1,D2=!1,u4=!1,hf=0;function wo(t){t!==Qh&&t.next===null&&(Qh===null?_2=Qh=t:Qh=Qh.next=t),D2=!0,J4||(J4=!0,VFe())}function Zw(t,e){if(!u4&&D2){u4=!0;do for(var r=!1,n=_2;n!==null;){if(!e)if(t!==0){var i=n.pendingLanes;if(i===0)var s=0;else{var a=n.suspendedLanes,o=n.pingedLanes;s=(1<<31-Wi(42|t)+1)-1,s&=i&~(a&~o),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(r=!0,Sie(n,s))}else s=Ke,s=U2(n,n===Rt?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(s&3)===0||Bw(n,s)||(r=!0,Sie(n,s));n=n.next}while(r);u4=!1}}function jFe(){soe()}function soe(){D2=J4=!1;var t=0;hf!==0&&(GFe()&&(t=hf),hf=0);for(var e=yo(),r=null,n=_2;n!==null;){var i=n.next,s=aoe(n,e);s===0?(n.next=null,r===null?_2=i:r.next=i,i===null&&(Qh=r)):(r=n,(t!==0||(s&3)!==0)&&(D2=!0)),n=i}Zw(t,!1)}function aoe(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-Wi(s),o=1<<a,l=i[a];l===-1?((o&r)===0||(o&n)!==0)&&(i[a]=d9e(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}if(e=Rt,r=Ke,r=U2(t,t===e?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n=t.callbackNode,r===0||t===e&&(ft===2||ft===9)||t.cancelPendingCommit!==null)return n!==null&&n!==null&&FN(n),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Bw(t,r)){if(e=r&-r,e===t.callbackPriority)return e;switch(n!==null&&FN(n),p5(r)){case 2:case 8:r=Xie;break;case 32:r=g2;break;case 268435456:r=Qie;break;default:r=g2}return n=ooe.bind(null,t),r=d5(r,n),t.callbackPriority=e,t.callbackNode=r,e}return n!==null&&n!==null&&FN(n),t.callbackPriority=2,t.callbackNode=null,2}function ooe(t,e){if(rn!==0&&rn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(tA(!0)&&t.callbackNode!==r)return null;var n=Ke;return n=U2(t,t===Rt?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n===0?null:(Wae(t,n,e),aoe(t,yo()),t.callbackNode!=null&&t.callbackNode===r?ooe.bind(null,t):null)}function Sie(t,e){if(tA())return null;Wae(t,e,!0)}function VFe(){KFe(function(){(pt&6)!==0?d5(Yie,jFe):soe()})}function Y5(){return hf===0&&(hf=Jie()),hf}function kie(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:t2(""+t)}function Cie(t,e){var r=e.ownerDocument.createElement("input");return r.name=e.name,r.value=e.value,t.id&&r.setAttribute("form",t.id),e.parentNode.insertBefore(r,e),t=new FormData(t),r.parentNode.removeChild(r),t}function qFe(t,e,r,n,i){if(e==="submit"&&r&&r.stateNode===i){var s=kie((i[ui]||null).action),a=n.submitter;a&&(e=(e=a[ui]||null)?kie(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var o=new z2("action","action",null,n,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(hf!==0){var l=a?Cie(i,a):new FormData(i);q4(r,{pending:!0,data:l,method:i.method,action:s},null,l)}}else typeof s=="function"&&(o.preventDefault(),l=a?Cie(i,a):new FormData(i),q4(r,{pending:!0,data:l,method:i.method,action:s},s,l))},currentTarget:i}]})}}for(YT=0;YT<I4.length;YT++)XT=I4[YT],Eie=XT.toLowerCase(),Tie=XT[0].toUpperCase()+XT.slice(1),Aa(Eie,"on"+Tie);var XT,Eie,Tie,YT;Aa(Sse,"onAnimationEnd");Aa(kse,"onAnimationIteration");Aa(Cse,"onAnimationStart");Aa("dblclick","onDoubleClick");Aa("focusin","onFocus");Aa("focusout","onBlur");Aa(aFe,"onTransitionRun");Aa(oFe,"onTransitionStart");Aa(lFe,"onTransitionCancel");Aa(Ese,"onTransitionEnd");bm("onMouseEnter",["mouseout","mouseover"]);bm("onMouseLeave",["mouseout","mouseover"]);bm("onPointerEnter",["pointerout","pointerover"]);bm("onPointerLeave",["pointerout","pointerover"]);bf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bf("onBeforeInput",["compositionend","keypress","textInput","paste"]);bf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ow="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BFe=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ow));function loe(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){L2(u)}i.currentTarget=null,s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){L2(u)}i.currentTarget=null,s=l}}}}function ze(t,e){var r=e[S4];r===void 0&&(r=e[S4]=new Set);var n=t+"__bubble";r.has(n)||(coe(e,t,2,!1),r.add(n))}function d4(t,e,r){var n=0;e&&(n|=4),coe(r,t,n,e)}var QT="_reactListening"+Math.random().toString(36).slice(2);function X5(t){if(!t[QT]){t[QT]=!0,nse.forEach(function(r){r!=="selectionchange"&&(BFe.has(r)||d4(r,!1,t),d4(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[QT]||(e[QT]=!0,d4("selectionchange",!1,e))}}function coe(t,e,r,n){switch(xoe(e)){case 2:var i=m7e;break;case 8:i=g7e;break;default:i=e9}r=i.bind(null,e,r,t),i=void 0,!T4||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function f4(t,e,r,n,i){var s=n;if((e&1)===0&&(e&2)===0&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&a.stateNode.containerInfo===i)return;a=a.return}for(;o!==null;){if(a=em(o),a===null)return;if(l=a.tag,l===5||l===6||l===26||l===27){n=s=a;continue e}o=o.parentNode}}n=n.return}dse(function(){var c=s,u=g5(r),d=[];e:{var f=Tse.get(t);if(f!==void 0){var p=z2,h=t;switch(t){case"keypress":if(n2(r)===0)break e;case"keydown":case"keyup":p=$9e;break;case"focusin":h="focus",p=HN;break;case"focusout":h="blur",p=HN;break;case"beforeblur":case"afterblur":p=HN;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Pne;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=T9e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=q9e;break;case Sse:case kse:case Cse:p=I9e;break;case Ese:p=U9e;break;case"scroll":case"scrollend":p=C9e;break;case"wheel":p=H9e;break;case"copy":case"cut":case"paste":p=M9e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=_ne;break;case"toggle":case"beforetoggle":p=W9e}var g=(e&4)!==0,v=!g&&(t==="scroll"||t==="scrollend"),y=g?f!==null?f+"Capture":null:f;g=[];for(var b=c,w;b!==null;){var x=b;if(w=x.stateNode,x=x.tag,x!==5&&x!==26&&x!==27||w===null||y===null||(x=Aw(b,y),x!=null&&g.push(_w(b,x,w))),v)break;b=b.return}0<g.length&&(f=new p(f,h,null,r,u),d.push({event:f,listeners:g}))}}if((e&7)===0){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==E4&&(h=r.relatedTarget||r.fromElement)&&(em(h)||h[Im]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(h=r.relatedTarget||r.toElement,p=c,h=h?em(h):null,h!==null&&(v=Vw(h),g=h.tag,h!==v||g!==5&&g!==27&&g!==6)&&(h=null)):(p=null,h=c),p!==h)){if(g=Pne,x="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(g=_ne,x="onPointerLeave",y="onPointerEnter",b="pointer"),v=p==null?f:uw(p),w=h==null?f:uw(h),f=new g(x,b+"leave",p,r,u),f.target=v,f.relatedTarget=w,x=null,em(u)===c&&(g=new g(y,b+"enter",h,r,u),g.target=w,g.relatedTarget=v,x=g),v=x,p&&h)t:{for(g=p,y=h,b=0,w=g;w;w=Kh(w))b++;for(w=0,x=y;x;x=Kh(x))w++;for(;0<b-w;)g=Kh(g),b--;for(;0<w-b;)y=Kh(y),w--;for(;b--;){if(g===y||y!==null&&g===y.alternate)break t;g=Kh(g),y=Kh(y)}g=null}else g=null;p!==null&&Aie(d,f,p,g,!1),h!==null&&v!==null&&Aie(d,v,h,g,!0)}}e:{if(f=c?uw(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var A=$ne;else if(Fne(f))if(yse)A=nFe;else{A=tFe;var O=eFe}else p=f.nodeName,!p||p.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?c&&m5(c.elementType)&&(A=$ne):A=rFe;if(A&&(A=A(t,c))){gse(d,A,r,u);break e}O&&O(t,f,c),t==="focusout"&&c&&f.type==="number"&&c.memoizedProps.value!=null&&C4(f,"number",f.value)}switch(O=c?uw(c):window,t){case"focusin":(Fne(O)||O.contentEditable==="true")&&(nm=O,A4=c,hw=null);break;case"focusout":hw=A4=nm=null;break;case"mousedown":L4=!0;break;case"contextmenu":case"mouseup":case"dragend":L4=!1,Bne(d,r,u);break;case"selectionchange":if(sFe)break;case"keydown":case"keyup":Bne(d,r,u)}var S;if(b5)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else rm?hse(t,r)&&(k="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(pse&&r.locale!=="ko"&&(rm||k!=="onCompositionStart"?k==="onCompositionEnd"&&rm&&(S=fse()):(Wc=u,y5="value"in Wc?Wc.value:Wc.textContent,rm=!0)),O=N2(c,k),0<O.length&&(k=new One(k,t,null,r,u),d.push({event:k,listeners:O}),S?k.data=S:(S=mse(r),S!==null&&(k.data=S)))),(S=Y9e?X9e(t,r):Q9e(t,r))&&(k=N2(c,"onBeforeInput"),0<k.length&&(O=new One("onBeforeInput","beforeinput",null,r,u),d.push({event:O,listeners:k}),O.data=S)),qFe(d,t,c,r,u)}loe(d,e)})}function _w(t,e,r){return{instance:t,listener:e,currentTarget:r}}function N2(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Aw(t,r),i!=null&&n.unshift(_w(t,i,s)),i=Aw(t,e),i!=null&&n.push(_w(t,i,s))),t.tag===3)return n;t=t.return}return[]}function Kh(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Aie(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===n)break;o!==5&&o!==26&&o!==27||c===null||(l=c,i?(c=Aw(r,s),c!=null&&a.unshift(_w(r,c,l))):i||(c=Aw(r,s),c!=null&&a.push(_w(r,c,l)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var UFe=/\r\n?/g,zFe=/\u0000|\uFFFD/g;function Lie(t){return(typeof t=="string"?t:""+t).replace(UFe,`
`).replace(zFe,"")}function uoe(t,e){return e=Lie(e),Lie(t)===e}function rA(){}function yt(t,e,r,n,i,s){switch(r){case"children":typeof n=="string"?e==="body"||e==="textarea"&&n===""||wm(t,n):(typeof n=="number"||typeof n=="bigint")&&e!=="body"&&wm(t,""+n);break;case"className":VT(t,"class",n);break;case"tabIndex":VT(t,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":VT(t,r,n);break;case"style":use(t,n,s);break;case"data":if(e!=="object"){VT(t,"data",n);break}case"src":case"href":if(n===""&&(e!=="a"||r!=="href")){t.removeAttribute(r);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(r);break}n=t2(""+n),t.setAttribute(r,n);break;case"action":case"formAction":if(typeof n=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(r==="formAction"?(e!=="input"&&yt(t,e,"name",i.name,i,null),yt(t,e,"formEncType",i.formEncType,i,null),yt(t,e,"formMethod",i.formMethod,i,null),yt(t,e,"formTarget",i.formTarget,i,null)):(yt(t,e,"encType",i.encType,i,null),yt(t,e,"method",i.method,i,null),yt(t,e,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(r);break}n=t2(""+n),t.setAttribute(r,n);break;case"onClick":n!=null&&(t.onclick=rA);break;case"onScroll":n!=null&&ze("scroll",t);break;case"onScrollEnd":n!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(B(61));if(r=n.__html,r!=null){if(i.children!=null)throw Error(B(60));t.innerHTML=r}}break;case"multiple":t.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":t.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){t.removeAttribute("xlink:href");break}r=t2(""+n),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,""+n):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":n===!0?t.setAttribute(r,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,n):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?t.setAttribute(r,n):t.removeAttribute(r);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?t.removeAttribute(r):t.setAttribute(r,n);break;case"popover":ze("beforetoggle",t),ze("toggle",t),e2(t,"popover",n);break;case"xlinkActuate":gl(t,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":gl(t,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":gl(t,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":gl(t,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":gl(t,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":gl(t,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":gl(t,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":gl(t,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":gl(t,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":e2(t,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=S9e.get(r)||r,e2(t,r,n))}}function Z4(t,e,r,n,i,s){switch(r){case"style":use(t,n,s);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(B(61));if(r=n.__html,r!=null){if(i.children!=null)throw Error(B(60));t.innerHTML=r}}break;case"children":typeof n=="string"?wm(t,n):(typeof n=="number"||typeof n=="bigint")&&wm(t,""+n);break;case"onScroll":n!=null&&ze("scroll",t);break;case"onScrollEnd":n!=null&&ze("scrollend",t);break;case"onClick":n!=null&&(t.onclick=rA);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ise.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(i=r.endsWith("Capture"),e=r.slice(2,i?r.length-7:void 0),s=t[ui]||null,s=s!=null?s[r]:null,typeof s=="function"&&t.removeEventListener(e,s,i),typeof n=="function")){typeof s!="function"&&s!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(e,n,i);break e}r in t?t[r]=n:n===!0?t.setAttribute(r,""):e2(t,r,n)}}}function nn(t,e,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var n=!1,i=!1,s;for(s in r)if(r.hasOwnProperty(s)){var a=r[s];if(a!=null)switch(s){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(B(137,e));default:yt(t,e,s,a,r,null)}}i&&yt(t,e,"srcSet",r.srcSet,r,null),n&&yt(t,e,"src",r.src,r,null);return;case"input":ze("invalid",t);var o=s=a=i=null,l=null,c=null;for(n in r)if(r.hasOwnProperty(n)){var u=r[n];if(u!=null)switch(n){case"name":i=u;break;case"type":a=u;break;case"checked":l=u;break;case"defaultChecked":c=u;break;case"value":s=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(B(137,e));break;default:yt(t,e,n,u,r,null)}}ose(t,s,o,l,c,a,i,!1),y2(t);return;case"select":ze("invalid",t),n=a=s=null;for(i in r)if(r.hasOwnProperty(i)&&(o=r[i],o!=null))switch(i){case"value":s=o;break;case"defaultValue":a=o;break;case"multiple":n=o;default:yt(t,e,i,o,r,null)}e=s,r=a,t.multiple=!!n,e!=null?dm(t,!!n,e,!1):r!=null&&dm(t,!!n,r,!0);return;case"textarea":ze("invalid",t),s=i=n=null;for(a in r)if(r.hasOwnProperty(a)&&(o=r[a],o!=null))switch(a){case"value":n=o;break;case"defaultValue":i=o;break;case"children":s=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(B(91));break;default:yt(t,e,a,o,r,null)}cse(t,n,i,s),y2(t);return;case"option":for(l in r)if(r.hasOwnProperty(l)&&(n=r[l],n!=null))switch(l){case"selected":t.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:yt(t,e,l,n,r,null)}return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(n=0;n<Ow.length;n++)ze(Ow[n],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in r)if(r.hasOwnProperty(c)&&(n=r[c],n!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(B(137,e));default:yt(t,e,c,n,r,null)}return;default:if(m5(e)){for(u in r)r.hasOwnProperty(u)&&(n=r[u],n!==void 0&&Z4(t,e,u,n,r,void 0));return}}for(o in r)r.hasOwnProperty(o)&&(n=r[o],n!=null&&yt(t,e,o,n,r,null))}function HFe(t,e,r,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,o=null,l=null,c=null,u=null;for(p in r){var d=r[p];if(r.hasOwnProperty(p)&&d!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":l=d;default:n.hasOwnProperty(p)||yt(t,e,p,null,n,d)}}for(var f in n){var p=n[f];if(d=r[f],n.hasOwnProperty(f)&&(p!=null||d!=null))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":c=p;break;case"defaultChecked":u=p;break;case"value":a=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(B(137,e));break;default:p!==d&&yt(t,e,f,p,n,d)}}k4(t,a,o,l,c,u,s,i);return;case"select":p=a=o=f=null;for(s in r)if(l=r[s],r.hasOwnProperty(s)&&l!=null)switch(s){case"value":break;case"multiple":p=l;default:n.hasOwnProperty(s)||yt(t,e,s,null,n,l)}for(i in n)if(s=n[i],l=r[i],n.hasOwnProperty(i)&&(s!=null||l!=null))switch(i){case"value":f=s;break;case"defaultValue":o=s;break;case"multiple":a=s;default:s!==l&&yt(t,e,i,s,n,l)}e=o,r=a,n=p,f!=null?dm(t,!!r,f,!1):!!n!=!!r&&(e!=null?dm(t,!!r,e,!0):dm(t,!!r,r?[]:"",!1));return;case"textarea":p=f=null;for(o in r)if(i=r[o],r.hasOwnProperty(o)&&i!=null&&!n.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:yt(t,e,o,null,n,i)}for(a in n)if(i=n[a],s=r[a],n.hasOwnProperty(a)&&(i!=null||s!=null))switch(a){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(B(91));break;default:i!==s&&yt(t,e,a,i,n,s)}lse(t,f,p);return;case"option":for(var h in r)if(f=r[h],r.hasOwnProperty(h)&&f!=null&&!n.hasOwnProperty(h))switch(h){case"selected":t.selected=!1;break;default:yt(t,e,h,null,n,f)}for(l in n)if(f=n[l],p=r[l],n.hasOwnProperty(l)&&f!==p&&(f!=null||p!=null))switch(l){case"selected":t.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:yt(t,e,l,f,n,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in r)f=r[g],r.hasOwnProperty(g)&&f!=null&&!n.hasOwnProperty(g)&&yt(t,e,g,null,n,f);for(c in n)if(f=n[c],p=r[c],n.hasOwnProperty(c)&&f!==p&&(f!=null||p!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(B(137,e));break;default:yt(t,e,c,f,n,p)}return;default:if(m5(e)){for(var v in r)f=r[v],r.hasOwnProperty(v)&&f!==void 0&&!n.hasOwnProperty(v)&&Z4(t,e,v,void 0,n,f);for(u in n)f=n[u],p=r[u],!n.hasOwnProperty(u)||f===p||f===void 0&&p===void 0||Z4(t,e,u,f,n,p);return}}for(var y in r)f=r[y],r.hasOwnProperty(y)&&f!=null&&!n.hasOwnProperty(y)&&yt(t,e,y,null,n,f);for(d in n)f=n[d],p=r[d],!n.hasOwnProperty(d)||f===p||f==null&&p==null||yt(t,e,d,f,n,p)}var e5=null,t5=null;function F2(t){return t.nodeType===9?t:t.ownerDocument}function Iie(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function doe(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function r5(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var p4=null;function GFe(){var t=window.event;return t&&t.type==="popstate"?t===p4?!1:(p4=t,!0):(p4=null,!1)}var foe=typeof setTimeout=="function"?setTimeout:void 0,WFe=typeof clearTimeout=="function"?clearTimeout:void 0,Rie=typeof Promise=="function"?Promise:void 0,KFe=typeof queueMicrotask=="function"?queueMicrotask:typeof Rie<"u"?function(t){return Rie.resolve(null).then(t).catch(YFe)}:foe;function YFe(t){setTimeout(function(){throw t})}function lu(t){return t==="head"}function Mie(t,e){var r=e,n=0,i=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(0<n&&8>n){r=n;var a=t.ownerDocument;if(r&1&&Ew(a.documentElement),r&2&&Ew(a.body),r&4)for(r=a.head,Ew(r),a=r.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[zw]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&a.rel.toLowerCase()==="stylesheet"||r.removeChild(a),a=o}}if(i===0){t.removeChild(s),jw(e);return}i--}else r==="$"||r==="$?"||r==="$!"?i++:n=r.charCodeAt(0)-48;else n=0;r=s}while(r);jw(e)}function n5(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var r=e;switch(e=e.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":n5(r),h5(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function XFe(t,e,r,n){for(;t.nodeType===1;){var i=r;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!n&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(n){if(!t[zw])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=Ta(t.nextSibling),t===null)break}return null}function QFe(t,e,r){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Ta(t.nextSibling),t===null))return null;return t}function i5(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function JFe(t,e){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")e();else{var n=function(){e(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),t._reactRetry=n}}function Ta(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var s5=null;function Pie(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}function poe(t,e,r){switch(e=F2(r),t){case"html":if(t=e.documentElement,!t)throw Error(B(452));return t;case"head":if(t=e.head,!t)throw Error(B(453));return t;case"body":if(t=e.body,!t)throw Error(B(454));return t;default:throw Error(B(451))}}function Ew(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);h5(t)}var Vs=new Map,Oie=new Set;function $2(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ml=it.d;it.d={f:ZFe,r:e7e,D:t7e,C:r7e,L:n7e,m:i7e,X:a7e,S:s7e,M:o7e};function ZFe(){var t=Ml.f(),e=Z2();return t||e}function e7e(t){var e=Rm(t);e!==null&&e.tag===5&&e.type==="form"?aae(e):Ml.r(t)}var Om=typeof document>"u"?null:document;function hoe(t,e,r){var n=Om;if(n&&typeof e=="string"&&e){var i=Ns(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof r=="string"&&(i+='[crossorigin="'+r+'"]'),Oie.has(i)||(Oie.add(i),t={rel:t,crossOrigin:r,href:e},n.querySelector(i)===null&&(e=n.createElement("link"),nn(e,"link",t),qr(e),n.head.appendChild(e)))}}function t7e(t){Ml.D(t),hoe("dns-prefetch",t,null)}function r7e(t,e){Ml.C(t,e),hoe("preconnect",t,e)}function n7e(t,e,r){Ml.L(t,e,r);var n=Om;if(n&&t&&e){var i='link[rel="preload"][as="'+Ns(e)+'"]';e==="image"&&r&&r.imageSrcSet?(i+='[imagesrcset="'+Ns(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(i+='[imagesizes="'+Ns(r.imageSizes)+'"]')):i+='[href="'+Ns(t)+'"]';var s=i;switch(e){case"style":s=Lm(t);break;case"script":s=_m(t)}Vs.has(s)||(t=_t({rel:"preload",href:e==="image"&&r&&r.imageSrcSet?void 0:t,as:e},r),Vs.set(s,t),n.querySelector(i)!==null||e==="style"&&n.querySelector(ex(s))||e==="script"&&n.querySelector(tx(s))||(e=n.createElement("link"),nn(e,"link",t),qr(e),n.head.appendChild(e)))}}function i7e(t,e){Ml.m(t,e);var r=Om;if(r&&t){var n=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Ns(n)+'"][href="'+Ns(t)+'"]',s=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=_m(t)}if(!Vs.has(s)&&(t=_t({rel:"modulepreload",href:t},e),Vs.set(s,t),r.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(tx(s)))return}n=r.createElement("link"),nn(n,"link",t),qr(n),r.head.appendChild(n)}}}function s7e(t,e,r){Ml.S(t,e,r);var n=Om;if(n&&t){var i=um(n).hoistableStyles,s=Lm(t);e=e||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=n.querySelector(ex(s)))o.loading=5;else{t=_t({rel:"stylesheet",href:t,"data-precedence":e},r),(r=Vs.get(s))&&Q5(t,r);var l=a=n.createElement("link");qr(l),nn(l,"link",t),l._p=new Promise(function(c,u){l.onload=c,l.onerror=u}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,u2(a,e,n)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}}function a7e(t,e){Ml.X(t,e);var r=Om;if(r&&t){var n=um(r).hoistableScripts,i=_m(t),s=n.get(i);s||(s=r.querySelector(tx(i)),s||(t=_t({src:t,async:!0},e),(e=Vs.get(i))&&J5(t,e),s=r.createElement("script"),qr(s),nn(s,"link",t),r.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(i,s))}}function o7e(t,e){Ml.M(t,e);var r=Om;if(r&&t){var n=um(r).hoistableScripts,i=_m(t),s=n.get(i);s||(s=r.querySelector(tx(i)),s||(t=_t({src:t,async:!0,type:"module"},e),(e=Vs.get(i))&&J5(t,e),s=r.createElement("script"),qr(s),nn(s,"link",t),r.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(i,s))}}function _ie(t,e,r,n){var i=(i=Xc.current)?$2(i):null;if(!i)throw Error(B(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(e=Lm(r.href),r=um(i).hoistableStyles,n=r.get(e),n||(n={type:"style",instance:null,count:0,state:null},r.set(e,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Lm(r.href);var s=um(i).hoistableStyles,a=s.get(t);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=i.querySelector(ex(t)))&&!s._p&&(a.instance=s,a.state.loading=5),Vs.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Vs.set(t,r),s||l7e(i,t,r,a.state))),e&&n===null)throw Error(B(528,""));return a}if(e&&n!==null)throw Error(B(529,""));return null;case"script":return e=r.async,r=r.src,typeof r=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=_m(r),r=um(i).hoistableScripts,n=r.get(e),n||(n={type:"script",instance:null,count:0,state:null},r.set(e,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(B(444,t))}}function Lm(t){return'href="'+Ns(t)+'"'}function ex(t){return'link[rel="stylesheet"]['+t+"]"}function moe(t){return _t({},t,{"data-precedence":t.precedence,precedence:null})}function l7e(t,e,r,n){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?n.loading=1:(e=t.createElement("link"),n.preload=e,e.addEventListener("load",function(){return n.loading|=1}),e.addEventListener("error",function(){return n.loading|=2}),nn(e,"link",r),qr(e),t.head.appendChild(e))}function _m(t){return'[src="'+Ns(t)+'"]'}function tx(t){return"script[async]"+t}function Die(t,e,r){if(e.count++,e.instance===null)switch(e.type){case"style":var n=t.querySelector('style[data-href~="'+Ns(r.href)+'"]');if(n)return e.instance=n,qr(n),n;var i=_t({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return n=(t.ownerDocument||t).createElement("style"),qr(n),nn(n,"style",i),u2(n,r.precedence,t),e.instance=n;case"stylesheet":i=Lm(r.href);var s=t.querySelector(ex(i));if(s)return e.state.loading|=4,e.instance=s,qr(s),s;n=moe(r),(i=Vs.get(i))&&Q5(n,i),s=(t.ownerDocument||t).createElement("link"),qr(s);var a=s;return a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),nn(s,"link",n),e.state.loading|=4,u2(s,r.precedence,t),e.instance=s;case"script":return s=_m(r.src),(i=t.querySelector(tx(s)))?(e.instance=i,qr(i),i):(n=r,(i=Vs.get(s))&&(n=_t({},r),J5(n,i)),t=t.ownerDocument||t,i=t.createElement("script"),qr(i),nn(i,"link",n),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(B(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(n=e.instance,e.state.loading|=4,u2(n,r.precedence,t));return e.instance}function u2(t,e,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,s=i,a=0;a<n.length;a++){var o=n[a];if(o.dataset.precedence===e)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=r.nodeType===9?r.head:r,e.insertBefore(t,e.firstChild))}function Q5(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function J5(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var d2=null;function Nie(t,e,r){if(d2===null){var n=new Map,i=d2=new Map;i.set(r,n)}else i=d2,n=i.get(r),n||(n=new Map,i.set(r,n));if(n.has(t))return n;for(n.set(t,null),r=r.getElementsByTagName(t),i=0;i<r.length;i++){var s=r[i];if(!(s[zw]||s[yn]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var o=n.get(a);o?o.push(s):n.set(a,[s])}}return n}function Fie(t,e,r){t=t.ownerDocument||t,t.head.insertBefore(r,e==="title"?t.querySelector("head > title"):null)}function c7e(t,e,r){if(r===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function goe(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Dw=null;function u7e(){}function d7e(t,e,r){if(Dw===null)throw Error(B(475));var n=Dw;if(e.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var i=Lm(r.href),s=t.querySelector(ex(i));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(n.count++,n=j2.bind(n),t.then(n,n)),e.state.loading|=4,e.instance=s,qr(s);return}s=t.ownerDocument||t,r=moe(r),(i=Vs.get(i))&&Q5(r,i),s=s.createElement("link"),qr(s);var a=s;a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),nn(s,"link",r),e.instance=s}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(n.count++,e=j2.bind(n),t.addEventListener("load",e),t.addEventListener("error",e))}}function f7e(){if(Dw===null)throw Error(B(475));var t=Dw;return t.stylesheets&&t.count===0&&a5(t,t.stylesheets),0<t.count?function(e){var r=setTimeout(function(){if(t.stylesheets&&a5(t,t.stylesheets),t.unsuspend){var n=t.unsuspend;t.unsuspend=null,n()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(r)}}:null}function j2(){if(this.count--,this.count===0){if(this.stylesheets)a5(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var V2=null;function a5(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,V2=new Map,e.forEach(p7e,t),V2=null,j2.call(t))}function p7e(t,e){if(!(e.state.loading&4)){var r=V2.get(t);if(r)var n=r.get(null);else{r=new Map,V2.set(t,r);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(r.set(a.dataset.precedence,a),n=a)}n&&r.set(null,n)}i=e.instance,a=i.getAttribute("data-precedence"),s=r.get(a)||n,s===n&&r.set(null,i),r.set(a,i),this.count++,n=j2.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),s?s.parentNode.insertBefore(i,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Nw={$$typeof:wl,Provider:null,Consumer:null,_currentValue:lf,_currentValue2:lf,_threadCount:0};function h7e(t,e,r,n,i,s,a,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$N(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$N(0),this.hiddenUpdates=$N(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function yoe(t,e,r,n,i,s,a,o,l,c,u,d){return t=new h7e(t,e,r,a,o,l,c,d),e=1,s===!0&&(e|=24),s=Hi(3,null,null,e),t.current=s,s.stateNode=t,e=T5(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:n,isDehydrated:r,cache:e},L5(s),t}function voe(t){return t?(t=am,t):am}function boe(t,e,r,n,i,s){i=voe(i),n.context===null?n.context=i:n.pendingContext=i,n=Qc(e),n.payload={element:r},s=s===void 0?null:s,s!==null&&(n.callback=s),r=Jc(t,n,e),r!==null&&(Yi(r,t,e),yw(r,t,e))}function $ie(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Z5(t,e){$ie(t,e),(t=t.alternate)&&$ie(t,e)}function woe(t){if(t.tag===13){var e=Mm(t,67108864);e!==null&&Yi(e,t,67108864),Z5(t,67108864)}}var q2=!0;function m7e(t,e,r,n){var i=Se.T;Se.T=null;var s=it.p;try{it.p=2,e9(t,e,r,n)}finally{it.p=s,Se.T=i}}function g7e(t,e,r,n){var i=Se.T;Se.T=null;var s=it.p;try{it.p=8,e9(t,e,r,n)}finally{it.p=s,Se.T=i}}function e9(t,e,r,n){if(q2){var i=o5(n);if(i===null)f4(t,e,n,B2,r),jie(t,n);else if(v7e(i,t,e,r,n))n.stopPropagation();else if(jie(t,n),e&4&&-1<y7e.indexOf(t)){for(;i!==null;){var s=Rm(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=sf(s.pendingLanes);if(a!==0){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-Wi(a);o.entanglements[1]|=l,a&=~l}wo(s),(pt&6)===0&&(P2=yo()+500,Zw(0,!1))}}break;case 13:o=Mm(s,2),o!==null&&Yi(o,s,2),Z2(),Z5(s,2)}if(s=o5(n),s===null&&f4(t,e,n,B2,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else f4(t,e,n,null,r)}}function o5(t){return t=g5(t),t9(t)}var B2=null;function t9(t){if(B2=null,t=em(t),t!==null){var e=Vw(t);if(e===null)t=null;else{var r=e.tag;if(r===13){if(t=Hie(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return B2=t,null}function xoe(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(i9e()){case Yie:return 2;case Xie:return 8;case g2:case s9e:return 32;case Qie:return 268435456;default:return 32}default:return 32}}var l5=!1,tu=null,ru=null,nu=null,Fw=new Map,$w=new Map,Hc=[],y7e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jie(t,e){switch(t){case"focusin":case"focusout":tu=null;break;case"dragenter":case"dragleave":ru=null;break;case"mouseover":case"mouseout":nu=null;break;case"pointerover":case"pointerout":Fw.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$w.delete(e.pointerId)}}function aw(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Rm(e),e!==null&&woe(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function v7e(t,e,r,n,i){switch(e){case"focusin":return tu=aw(tu,t,e,r,n,i),!0;case"dragenter":return ru=aw(ru,t,e,r,n,i),!0;case"mouseover":return nu=aw(nu,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Fw.set(s,aw(Fw.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,$w.set(s,aw($w.get(s)||null,t,e,r,n,i)),!0}return!1}function Soe(t){var e=em(t.target);if(e!==null){var r=Vw(e);if(r!==null){if(e=r.tag,e===13){if(e=Hie(r),e!==null){t.blockedOn=e,p9e(t.priority,function(){if(r.tag===13){var n=Ki();n=f5(n);var i=Mm(r,n);i!==null&&Yi(i,r,n),Z5(r,n)}});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function f2(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=o5(t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);E4=n,r.target.dispatchEvent(n),E4=null}else return e=Rm(r),e!==null&&woe(e),t.blockedOn=r,!1;e.shift()}return!0}function Vie(t,e,r){f2(t)&&r.delete(e)}function b7e(){l5=!1,tu!==null&&f2(tu)&&(tu=null),ru!==null&&f2(ru)&&(ru=null),nu!==null&&f2(nu)&&(nu=null),Fw.forEach(Vie),$w.forEach(Vie)}function JT(t,e){t.blockedOn===e&&(t.blockedOn=null,l5||(l5=!0,Ir.unstable_scheduleCallback(Ir.unstable_NormalPriority,b7e)))}var ZT=null;function qie(t){ZT!==t&&(ZT=t,Ir.unstable_scheduleCallback(Ir.unstable_NormalPriority,function(){ZT===t&&(ZT=null);for(var e=0;e<t.length;e+=3){var r=t[e],n=t[e+1],i=t[e+2];if(typeof n!="function"){if(t9(n||r)===null)continue;break}var s=Rm(r);s!==null&&(t.splice(e,3),e-=3,q4(s,{pending:!0,data:i,method:r.method,action:n},n,i))}}))}function jw(t){function e(l){return JT(l,t)}tu!==null&&JT(tu,t),ru!==null&&JT(ru,t),nu!==null&&JT(nu,t),Fw.forEach(e),$w.forEach(e);for(var r=0;r<Hc.length;r++){var n=Hc[r];n.blockedOn===t&&(n.blockedOn=null)}for(;0<Hc.length&&(r=Hc[0],r.blockedOn===null);)Soe(r),r.blockedOn===null&&Hc.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(n=0;n<r.length;n+=3){var i=r[n],s=r[n+1],a=i[ui]||null;if(typeof s=="function")a||qie(r);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[ui]||null)o=a.formAction;else if(t9(i)!==null)continue}else o=a.action;typeof o=="function"?r[n+1]=o:(r.splice(n,3),n-=3),qie(r)}}}function r9(t){this._internalRoot=t}nA.prototype.render=r9.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));var r=e.current,n=Ki();boe(r,n,t,e,null,null)};nA.prototype.unmount=r9.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;boe(t.current,2,null,t,null,null),Z2(),e[Im]=null}};function nA(t){this._internalRoot=t}nA.prototype.unstable_scheduleHydration=function(t){if(t){var e=rse();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Hc.length&&e!==0&&e<Hc[r].priority;r++);Hc.splice(r,0,t),r===0&&Soe(t)}};var Bie=Uie.version;if(Bie!=="19.1.0")throw Error(B(527,Bie,"19.1.0"));it.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=Q5e(e),t=t!==null?Gie(t):null,t=t===null?null:t.stateNode,t};var w7e={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Se,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(ow=__REACT_DEVTOOLS_GLOBAL_HOOK__,!ow.isDisabled&&ow.supportsFiber))try{qw=ow.inject(w7e),Gi=ow}catch{}var ow;iA.createRoot=function(t,e){if(!zie(t))throw Error(B(299));var r=!1,n="",i=yae,s=vae,a=bae,o=null;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(o=e.unstable_transitionCallbacks)),e=yoe(t,1,!1,null,null,r,n,i,s,a,o,null),t[Im]=e.current,X5(t),new r9(e)};iA.hydrateRoot=function(t,e,r){if(!zie(t))throw Error(B(299));var n=!1,i="",s=yae,a=vae,o=bae,l=null,c=null;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onUncaughtError!==void 0&&(s=r.onUncaughtError),r.onCaughtError!==void 0&&(a=r.onCaughtError),r.onRecoverableError!==void 0&&(o=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(l=r.unstable_transitionCallbacks),r.formState!==void 0&&(c=r.formState)),e=yoe(t,1,!0,e,r??null,n,i,s,a,o,l,c),e.context=voe(null),r=e.current,n=Ki(),n=f5(n),i=Qc(n),i.callback=null,Jc(r,i,n),r=n,e.current.lanes=r,Uw(e,r),wo(e),t[Im]=e.current,X5(t),new nA(e)};iA.version="19.1.0"});var sA=C((spt,Eoe)=>{"use strict";function Coe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Coe)}catch(t){console.error(t)}}Coe(),Eoe.exports=koe()});var H9=C(Rf=>{"use strict";Object.defineProperty(Rf,"__esModule",{value:!0});Rf.anumber=z9;Rf.abytes=yce;Rf.ahash=c$e;Rf.aexists=u$e;Rf.aoutput=d$e;function z9(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function l$e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function yce(t,...e){if(!l$e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function c$e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");z9(t.outputLen),z9(t.blockLen)}function u$e(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function d$e(t,e){yce(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}});var jce=C(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.add5L=Le.add5H=Le.add4H=Le.add4L=Le.add3H=Le.add3L=Le.rotlBL=Le.rotlBH=Le.rotlSL=Le.rotlSH=Le.rotr32L=Le.rotr32H=Le.rotrBL=Le.rotrBH=Le.rotrSL=Le.rotrSH=Le.shrSL=Le.shrSH=Le.toBig=void 0;Le.fromBig=W9;Le.split=vce;Le.add=Pce;var ZA=BigInt(2**32-1),G9=BigInt(32);function W9(t,e=!1){return e?{h:Number(t&ZA),l:Number(t>>G9&ZA)}:{h:Number(t>>G9&ZA)|0,l:Number(t&ZA)|0}}function vce(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:s,l:a}=W9(t[i],e);[r[i],n[i]]=[s,a]}return[r,n]}var bce=(t,e)=>BigInt(t>>>0)<<G9|BigInt(e>>>0);Le.toBig=bce;var wce=(t,e,r)=>t>>>r;Le.shrSH=wce;var xce=(t,e,r)=>t<<32-r|e>>>r;Le.shrSL=xce;var Sce=(t,e,r)=>t>>>r|e<<32-r;Le.rotrSH=Sce;var kce=(t,e,r)=>t<<32-r|e>>>r;Le.rotrSL=kce;var Cce=(t,e,r)=>t<<64-r|e>>>r-32;Le.rotrBH=Cce;var Ece=(t,e,r)=>t>>>r-32|e<<64-r;Le.rotrBL=Ece;var Tce=(t,e)=>e;Le.rotr32H=Tce;var Ace=(t,e)=>t;Le.rotr32L=Ace;var Lce=(t,e,r)=>t<<r|e>>>32-r;Le.rotlSH=Lce;var Ice=(t,e,r)=>e<<r|t>>>32-r;Le.rotlSL=Ice;var Rce=(t,e,r)=>e<<r-32|t>>>64-r;Le.rotlBH=Rce;var Mce=(t,e,r)=>t<<r-32|e>>>64-r;Le.rotlBL=Mce;function Pce(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var Oce=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0);Le.add3L=Oce;var _ce=(t,e,r,n)=>e+r+n+(t/2**32|0)|0;Le.add3H=_ce;var Dce=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0);Le.add4L=Dce;var Nce=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0;Le.add4H=Nce;var Fce=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0);Le.add5L=Fce;var $ce=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0;Le.add5H=$ce;var f$e={fromBig:W9,split:vce,toBig:bce,shrSH:wce,shrSL:xce,rotrSH:Sce,rotrSL:kce,rotrBH:Cce,rotrBL:Ece,rotr32H:Tce,rotr32L:Ace,rotlSH:Lce,rotlSL:Ice,rotlBH:Rce,rotlBL:Mce,add:Pce,add3L:Oce,add3H:_ce,add4L:Dce,add4H:Nce,add5H:$ce,add5L:Fce};Le.default=f$e});var Vce=C(eL=>{"use strict";Object.defineProperty(eL,"__esModule",{value:!0});eL.crypto=void 0;eL.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var Uce=C(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.Hash=at.nextTick=at.byteSwapIfBE=at.isLE=void 0;at.isBytes=p$e;at.u8=h$e;at.u32=m$e;at.createView=g$e;at.rotr=y$e;at.rotl=v$e;at.byteSwap=X9;at.byteSwap32=b$e;at.bytesToHex=x$e;at.hexToBytes=S$e;at.asyncLoop=C$e;at.utf8ToBytes=Bce;at.toBytes=tL;at.concatBytes=E$e;at.checkOpts=T$e;at.wrapConstructor=A$e;at.wrapConstructorWithOpts=L$e;at.wrapXOFConstructorWithOpts=I$e;at.randomBytes=R$e;var Km=Vce(),Y9=H9();function p$e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function h$e(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}function m$e(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function g$e(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function y$e(t,e){return t<<32-e|t>>>e}function v$e(t,e){return t<<e|t>>>32-e>>>0}at.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function X9(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}at.byteSwapIfBE=at.isLE?t=>t:t=>X9(t);function b$e(t){for(let e=0;e<t.length;e++)t[e]=X9(t[e])}var w$e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function x$e(t){(0,Y9.abytes)(t);let e="";for(let r=0;r<t.length;r++)e+=w$e[t[r]];return e}var Dl={_0:48,_9:57,A:65,F:70,a:97,f:102};function qce(t){if(t>=Dl._0&&t<=Dl._9)return t-Dl._0;if(t>=Dl.A&&t<=Dl.F)return t-(Dl.A-10);if(t>=Dl.a&&t<=Dl.f)return t-(Dl.a-10)}function S$e(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){let a=qce(t.charCodeAt(s)),o=qce(t.charCodeAt(s+1));if(a===void 0||o===void 0){let l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=a*16+o}return n}var k$e=async()=>{};at.nextTick=k$e;async function C$e(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await(0,at.nextTick)(),n+=s)}}function Bce(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function tL(t){return typeof t=="string"&&(t=Bce(t)),(0,Y9.abytes)(t),t}function E$e(...t){let e=0;for(let n=0;n<t.length;n++){let i=t[n];(0,Y9.abytes)(i),e+=i.length}let r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}var K9=class{clone(){return this._cloneInto()}};at.Hash=K9;function T$e(t,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function A$e(t){let e=n=>t().update(tL(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function L$e(t){let e=(n,i)=>t(i).update(tL(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function I$e(t){let e=(n,i)=>t(i).update(tL(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function R$e(t=32){if(Km.crypto&&typeof Km.crypto.getRandomValues=="function")return Km.crypto.getRandomValues(new Uint8Array(t));if(Km.crypto&&typeof Km.crypto.randomBytes=="function")return Km.crypto.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}});var Qce=C(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.shake256=Dt.shake128=Dt.keccak_512=Dt.keccak_384=Dt.keccak_256=Dt.keccak_224=Dt.sha3_512=Dt.sha3_384=Dt.sha3_256=Dt.sha3_224=Dt.Keccak=void 0;Dt.keccakP=Yce;var Ym=H9(),hx=jce(),Nl=Uce(),Gce=[],Wce=[],Kce=[],M$e=BigInt(0),px=BigInt(1),P$e=BigInt(2),O$e=BigInt(7),_$e=BigInt(256),D$e=BigInt(113);for(let t=0,e=px,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Gce.push(2*(5*n+r)),Wce.push((t+1)*(t+2)/2%64);let i=M$e;for(let s=0;s<7;s++)e=(e<<px^(e>>O$e)*D$e)%_$e,e&P$e&&(i^=px<<(px<<BigInt(s))-px);Kce.push(i)}var[N$e,F$e]=(0,hx.split)(Kce,!0),zce=(t,e,r)=>r>32?(0,hx.rotlBH)(t,e,r):(0,hx.rotlSH)(t,e,r),Hce=(t,e,r)=>r>32?(0,hx.rotlBL)(t,e,r):(0,hx.rotlSL)(t,e,r);function Yce(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){let o=(a+8)%10,l=(a+2)%10,c=r[l],u=r[l+1],d=zce(c,u,1)^r[o],f=Hce(c,u,1)^r[o+1];for(let p=0;p<50;p+=10)t[a+p]^=d,t[a+p+1]^=f}let i=t[2],s=t[3];for(let a=0;a<24;a++){let o=Wce[a],l=zce(i,s,o),c=Hce(i,s,o),u=Gce[a];i=t[u],s=t[u+1],t[u]=l,t[u+1]=c}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)r[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~r[(o+2)%10]&r[(o+4)%10]}t[0]^=N$e[n],t[1]^=F$e[n]}r.fill(0)}var mx=class t extends Nl.Hash{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,Ym.anumber)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Nl.u32)(this.state)}keccak(){Nl.isLE||(0,Nl.byteSwap32)(this.state32),Yce(this.state32,this.rounds),Nl.isLE||(0,Nl.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(e){(0,Ym.aexists)(this);let{blockLen:r,state:n}=this;e=(0,Nl.toBytes)(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(r-this.pos,i-s);for(let o=0;o<a;o++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){(0,Ym.aexists)(this,!1),(0,Ym.abytes)(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();let a=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,Ym.anumber)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,Ym.aoutput)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new t(r,n,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}};Dt.Keccak=mx;var mu=(t,e,r)=>(0,Nl.wrapConstructor)(()=>new mx(e,t,r));Dt.sha3_224=mu(6,144,224/8);Dt.sha3_256=mu(6,136,256/8);Dt.sha3_384=mu(6,104,384/8);Dt.sha3_512=mu(6,72,512/8);Dt.keccak_224=mu(1,144,224/8);Dt.keccak_256=mu(1,136,256/8);Dt.keccak_384=mu(1,104,384/8);Dt.keccak_512=mu(1,72,512/8);var Xce=(t,e,r)=>(0,Nl.wrapXOFConstructorWithOpts)((n={})=>new mx(e,t,n.dkLen===void 0?r:n.dkLen,!0));Dt.shake128=Xce(31,168,128/8);Dt.shake256=Xce(31,136,256/8)});var sue=C((Ewt,gu)=>{var{sha3_512:$$e}=Qce(),Zce=24,gx=32,Q9=(t=4,e=Math.random)=>{let r="";for(;r.length<t;)r=r+Math.floor(e()*36).toString(36);return r};function eue(t){let e=8n,r=0n;for(let n of t.values()){let i=BigInt(n);r=(r<<e)+i}return r}var tue=(t="")=>eue($$e(t)).toString(36).slice(1),Jce=Array.from({length:26},(t,e)=>String.fromCharCode(e+97)),j$e=t=>Jce[Math.floor(t()*Jce.length)],rue=({globalObj:t=typeof global<"u"?global:typeof window<"u"?window:{},random:e=Math.random}={})=>{let r=Object.keys(t).toString(),n=r.length?r+Q9(gx,e):Q9(gx,e);return tue(n).substring(0,gx)},nue=t=>()=>t++,V$e=476782367,iue=({random:t=Math.random,counter:e=nue(Math.floor(t()*V$e)),length:r=Zce,fingerprint:n=rue({random:t})}={})=>function(){let s=j$e(t),a=Date.now().toString(36),o=e().toString(36),l=Q9(r,t),c=`${a+l+o+n}`;return`${s+tue(c).substring(1,r)}`},q$e=iue(),B$e=(t,{minLength:e=2,maxLength:r=gx}={})=>{let n=t.length,i=/^[0-9a-z]+$/;try{if(typeof t=="string"&&n>=e&&n<=r&&i.test(t))return!0}finally{}return!1};gu.exports.getConstants=()=>({defaultLength:Zce,bigLength:gx});gu.exports.init=iue;gu.exports.createId=q$e;gu.exports.bufToBigInt=eue;gu.exports.createCounter=nue;gu.exports.createFingerprint=rue;gu.exports.isCuid=B$e});var J9=C((Twt,yx)=>{var{createId:U$e,init:z$e,getConstants:H$e,isCuid:G$e}=sue();yx.exports.createId=U$e;yx.exports.init=z$e;yx.exports.getConstants=H$e;yx.exports.isCuid=G$e});var xx=C((kTt,Dde)=>{var I8e="2.0.0",R8e=Number.MAX_SAFE_INTEGER||9007199254740991,M8e=16,P8e=250,O8e=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Dde.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:M8e,MAX_SAFE_BUILD_LENGTH:P8e,MAX_SAFE_INTEGER:R8e,RELEASE_TYPES:O8e,SEMVER_SPEC_VERSION:I8e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Sx=C((CTt,Nde)=>{var _8e=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Nde.exports=_8e});var ig=C((Co,Fde)=>{var{MAX_SAFE_COMPONENT_LENGTH:vF,MAX_SAFE_BUILD_LENGTH:D8e,MAX_LENGTH:N8e}=xx(),F8e=Sx();Co=Fde.exports={};var $8e=Co.re=[],j8e=Co.safeRe=[],ie=Co.src=[],V8e=Co.safeSrc=[],se=Co.t={},q8e=0,bF="[a-zA-Z0-9-]",B8e=[["\\s",1],["\\d",N8e],[bF,D8e]],U8e=t=>{for(let[e,r]of B8e)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},Re=(t,e,r)=>{let n=U8e(e),i=q8e++;F8e(t,i,e),se[t]=i,ie[i]=e,V8e[i]=n,$8e[i]=new RegExp(e,r?"g":void 0),j8e[i]=new RegExp(n,r?"g":void 0)};Re("NUMERICIDENTIFIER","0|[1-9]\\d*");Re("NUMERICIDENTIFIERLOOSE","\\d+");Re("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${bF}*`);Re("MAINVERSION",`(${ie[se.NUMERICIDENTIFIER]})\\.(${ie[se.NUMERICIDENTIFIER]})\\.(${ie[se.NUMERICIDENTIFIER]})`);Re("MAINVERSIONLOOSE",`(${ie[se.NUMERICIDENTIFIERLOOSE]})\\.(${ie[se.NUMERICIDENTIFIERLOOSE]})\\.(${ie[se.NUMERICIDENTIFIERLOOSE]})`);Re("PRERELEASEIDENTIFIER",`(?:${ie[se.NUMERICIDENTIFIER]}|${ie[se.NONNUMERICIDENTIFIER]})`);Re("PRERELEASEIDENTIFIERLOOSE",`(?:${ie[se.NUMERICIDENTIFIERLOOSE]}|${ie[se.NONNUMERICIDENTIFIER]})`);Re("PRERELEASE",`(?:-(${ie[se.PRERELEASEIDENTIFIER]}(?:\\.${ie[se.PRERELEASEIDENTIFIER]})*))`);Re("PRERELEASELOOSE",`(?:-?(${ie[se.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${ie[se.PRERELEASEIDENTIFIERLOOSE]})*))`);Re("BUILDIDENTIFIER",`${bF}+`);Re("BUILD",`(?:\\+(${ie[se.BUILDIDENTIFIER]}(?:\\.${ie[se.BUILDIDENTIFIER]})*))`);Re("FULLPLAIN",`v?${ie[se.MAINVERSION]}${ie[se.PRERELEASE]}?${ie[se.BUILD]}?`);Re("FULL",`^${ie[se.FULLPLAIN]}$`);Re("LOOSEPLAIN",`[v=\\s]*${ie[se.MAINVERSIONLOOSE]}${ie[se.PRERELEASELOOSE]}?${ie[se.BUILD]}?`);Re("LOOSE",`^${ie[se.LOOSEPLAIN]}$`);Re("GTLT","((?:<|>)?=?)");Re("XRANGEIDENTIFIERLOOSE",`${ie[se.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Re("XRANGEIDENTIFIER",`${ie[se.NUMERICIDENTIFIER]}|x|X|\\*`);Re("XRANGEPLAIN",`[v=\\s]*(${ie[se.XRANGEIDENTIFIER]})(?:\\.(${ie[se.XRANGEIDENTIFIER]})(?:\\.(${ie[se.XRANGEIDENTIFIER]})(?:${ie[se.PRERELEASE]})?${ie[se.BUILD]}?)?)?`);Re("XRANGEPLAINLOOSE",`[v=\\s]*(${ie[se.XRANGEIDENTIFIERLOOSE]})(?:\\.(${ie[se.XRANGEIDENTIFIERLOOSE]})(?:\\.(${ie[se.XRANGEIDENTIFIERLOOSE]})(?:${ie[se.PRERELEASELOOSE]})?${ie[se.BUILD]}?)?)?`);Re("XRANGE",`^${ie[se.GTLT]}\\s*${ie[se.XRANGEPLAIN]}$`);Re("XRANGELOOSE",`^${ie[se.GTLT]}\\s*${ie[se.XRANGEPLAINLOOSE]}$`);Re("COERCEPLAIN",`(^|[^\\d])(\\d{1,${vF}})(?:\\.(\\d{1,${vF}}))?(?:\\.(\\d{1,${vF}}))?`);Re("COERCE",`${ie[se.COERCEPLAIN]}(?:$|[^\\d])`);Re("COERCEFULL",ie[se.COERCEPLAIN]+`(?:${ie[se.PRERELEASE]})?(?:${ie[se.BUILD]})?(?:$|[^\\d])`);Re("COERCERTL",ie[se.COERCE],!0);Re("COERCERTLFULL",ie[se.COERCEFULL],!0);Re("LONETILDE","(?:~>?)");Re("TILDETRIM",`(\\s*)${ie[se.LONETILDE]}\\s+`,!0);Co.tildeTrimReplace="$1~";Re("TILDE",`^${ie[se.LONETILDE]}${ie[se.XRANGEPLAIN]}$`);Re("TILDELOOSE",`^${ie[se.LONETILDE]}${ie[se.XRANGEPLAINLOOSE]}$`);Re("LONECARET","(?:\\^)");Re("CARETTRIM",`(\\s*)${ie[se.LONECARET]}\\s+`,!0);Co.caretTrimReplace="$1^";Re("CARET",`^${ie[se.LONECARET]}${ie[se.XRANGEPLAIN]}$`);Re("CARETLOOSE",`^${ie[se.LONECARET]}${ie[se.XRANGEPLAINLOOSE]}$`);Re("COMPARATORLOOSE",`^${ie[se.GTLT]}\\s*(${ie[se.LOOSEPLAIN]})$|^$`);Re("COMPARATOR",`^${ie[se.GTLT]}\\s*(${ie[se.FULLPLAIN]})$|^$`);Re("COMPARATORTRIM",`(\\s*)${ie[se.GTLT]}\\s*(${ie[se.LOOSEPLAIN]}|${ie[se.XRANGEPLAIN]})`,!0);Co.comparatorTrimReplace="$1$2$3";Re("HYPHENRANGE",`^\\s*(${ie[se.XRANGEPLAIN]})\\s+-\\s+(${ie[se.XRANGEPLAIN]})\\s*$`);Re("HYPHENRANGELOOSE",`^\\s*(${ie[se.XRANGEPLAINLOOSE]})\\s+-\\s+(${ie[se.XRANGEPLAINLOOSE]})\\s*$`);Re("STAR","(<|>)?=?\\s*\\*");Re("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Re("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var zL=C((ETt,$de)=>{var z8e=Object.freeze({loose:!0}),H8e=Object.freeze({}),G8e=t=>t?typeof t!="object"?z8e:t:H8e;$de.exports=G8e});var wF=C((TTt,qde)=>{var jde=/^[0-9]+$/,Vde=(t,e)=>{let r=jde.test(t),n=jde.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},W8e=(t,e)=>Vde(e,t);qde.exports={compareIdentifiers:Vde,rcompareIdentifiers:W8e}});var wn=C((ATt,Hde)=>{var HL=Sx(),{MAX_LENGTH:Bde,MAX_SAFE_INTEGER:GL}=xx(),{safeRe:Ude,safeSrc:zde,t:WL}=ig(),K8e=zL(),{compareIdentifiers:sg}=wF(),xF=class t{constructor(e,r){if(r=K8e(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Bde)throw new TypeError(`version is longer than ${Bde} characters`);HL("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?Ude[WL.LOOSE]:Ude[WL.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>GL||this.major<0)throw new TypeError("Invalid major version");if(this.minor>GL||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>GL||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<GL)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(HL("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),sg(this.major,e.major)||sg(this.minor,e.minor)||sg(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(HL("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return sg(n,i)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(HL("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return sg(n,i)}while(++r)}inc(e,r,n){if(e.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let i=new RegExp(`^${this.options.loose?zde[WL.PRERELEASELOOSE]:zde[WL.PRERELEASE]}$`),s=`-${r}`.match(i);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),sg(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Hde.exports=xF});var Pf=C((LTt,Wde)=>{var Gde=wn(),Y8e=(t,e,r=!1)=>{if(t instanceof Gde)return t;try{return new Gde(t,e)}catch(n){if(!r)return null;throw n}};Wde.exports=Y8e});var Yde=C((ITt,Kde)=>{var X8e=Pf(),Q8e=(t,e)=>{let r=X8e(t,e);return r?r.version:null};Kde.exports=Q8e});var Qde=C((RTt,Xde)=>{var J8e=Pf(),Z8e=(t,e)=>{let r=J8e(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};Xde.exports=Z8e});var efe=C((MTt,Zde)=>{var Jde=wn(),eje=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new Jde(t instanceof Jde?t.version:t,r).inc(e,n,i).version}catch{return null}};Zde.exports=eje});var nfe=C((PTt,rfe)=>{var tfe=Pf(),tje=(t,e)=>{let r=tfe(t,null,!0),n=tfe(e,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,a=s?r:n,o=s?n:r,l=!!a.prerelease.length;if(!!o.prerelease.length&&!l){if(!o.patch&&!o.minor)return"major";if(o.compareMain(a)===0)return o.minor&&!o.patch?"minor":"patch"}let u=l?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"};rfe.exports=tje});var sfe=C((OTt,ife)=>{var rje=wn(),nje=(t,e)=>new rje(t,e).major;ife.exports=nje});var ofe=C((_Tt,afe)=>{var ije=wn(),sje=(t,e)=>new ije(t,e).minor;afe.exports=sje});var cfe=C((DTt,lfe)=>{var aje=wn(),oje=(t,e)=>new aje(t,e).patch;lfe.exports=oje});var dfe=C((NTt,ufe)=>{var lje=Pf(),cje=(t,e)=>{let r=lje(t,e);return r&&r.prerelease.length?r.prerelease:null};ufe.exports=cje});var Hs=C((FTt,pfe)=>{var ffe=wn(),uje=(t,e,r)=>new ffe(t,r).compare(new ffe(e,r));pfe.exports=uje});var mfe=C(($Tt,hfe)=>{var dje=Hs(),fje=(t,e,r)=>dje(e,t,r);hfe.exports=fje});var yfe=C((jTt,gfe)=>{var pje=Hs(),hje=(t,e)=>pje(t,e,!0);gfe.exports=hje});var KL=C((VTt,bfe)=>{var vfe=wn(),mje=(t,e,r)=>{let n=new vfe(t,r),i=new vfe(e,r);return n.compare(i)||n.compareBuild(i)};bfe.exports=mje});var xfe=C((qTt,wfe)=>{var gje=KL(),yje=(t,e)=>t.sort((r,n)=>gje(r,n,e));wfe.exports=yje});var kfe=C((BTt,Sfe)=>{var vje=KL(),bje=(t,e)=>t.sort((r,n)=>vje(n,r,e));Sfe.exports=bje});var kx=C((UTt,Cfe)=>{var wje=Hs(),xje=(t,e,r)=>wje(t,e,r)>0;Cfe.exports=xje});var YL=C((zTt,Efe)=>{var Sje=Hs(),kje=(t,e,r)=>Sje(t,e,r)<0;Efe.exports=kje});var SF=C((HTt,Tfe)=>{var Cje=Hs(),Eje=(t,e,r)=>Cje(t,e,r)===0;Tfe.exports=Eje});var kF=C((GTt,Afe)=>{var Tje=Hs(),Aje=(t,e,r)=>Tje(t,e,r)!==0;Afe.exports=Aje});var XL=C((WTt,Lfe)=>{var Lje=Hs(),Ije=(t,e,r)=>Lje(t,e,r)>=0;Lfe.exports=Ije});var QL=C((KTt,Ife)=>{var Rje=Hs(),Mje=(t,e,r)=>Rje(t,e,r)<=0;Ife.exports=Mje});var CF=C((YTt,Rfe)=>{var Pje=SF(),Oje=kF(),_je=kx(),Dje=XL(),Nje=YL(),Fje=QL(),$je=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Pje(t,r,n);case"!=":return Oje(t,r,n);case">":return _je(t,r,n);case">=":return Dje(t,r,n);case"<":return Nje(t,r,n);case"<=":return Fje(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};Rfe.exports=$je});var Pfe=C((XTt,Mfe)=>{var jje=wn(),Vje=Pf(),{safeRe:JL,t:ZL}=ig(),qje=(t,e)=>{if(t instanceof jje)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?JL[ZL.COERCEFULL]:JL[ZL.COERCE]);else{let l=e.includePrerelease?JL[ZL.COERCERTLFULL]:JL[ZL.COERCERTL],c;for(;(c=l.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||c.index+c[0].length!==r.index+r[0].length)&&(r=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",s=r[4]||"0",a=e.includePrerelease&&r[5]?`-${r[5]}`:"",o=e.includePrerelease&&r[6]?`+${r[6]}`:"";return Vje(`${n}.${i}.${s}${a}${o}`,e)};Mfe.exports=qje});var _fe=C((QTt,Ofe)=>{var EF=class{constructor(){this.max=1e3,this.map=new Map}get(e){let r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,r)}return this}};Ofe.exports=EF});var Gs=C((JTt,$fe)=>{var Bje=/\s+/g,TF=class t{constructor(e,r){if(r=zje(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof AF)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().replace(Bje," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!Nfe(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&Qje(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let r=this.set[e];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&Yje)|(this.options.loose&&Xje))+":"+e,i=Dfe.get(n);if(i)return i;let s=this.options.loose,a=s?hi[Bn.HYPHENRANGELOOSE]:hi[Bn.HYPHENRANGE];e=e.replace(a,oVe(this.options.includePrerelease)),Nt("hyphen replace",e),e=e.replace(hi[Bn.COMPARATORTRIM],Gje),Nt("comparator trim",e),e=e.replace(hi[Bn.TILDETRIM],Wje),Nt("tilde trim",e),e=e.replace(hi[Bn.CARETTRIM],Kje),Nt("caret trim",e);let o=e.split(" ").map(d=>Jje(d,this.options)).join(" ").split(/\s+/).map(d=>aVe(d,this.options));s&&(o=o.filter(d=>(Nt("loose invalid filter",d,this.options),!!d.match(hi[Bn.COMPARATORLOOSE])))),Nt("range list",o);let l=new Map,c=o.map(d=>new AF(d,this.options));for(let d of c){if(Nfe(d))return[d];l.set(d.value,d)}l.size>1&&l.has("")&&l.delete("");let u=[...l.values()];return Dfe.set(n,u),u}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>Ffe(n,r)&&e.set.some(i=>Ffe(i,r)&&n.every(s=>i.every(a=>s.intersects(a,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Hje(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(lVe(this.set[r],e,this.options))return!0;return!1}};$fe.exports=TF;var Uje=_fe(),Dfe=new Uje,zje=zL(),AF=Cx(),Nt=Sx(),Hje=wn(),{safeRe:hi,t:Bn,comparatorTrimReplace:Gje,tildeTrimReplace:Wje,caretTrimReplace:Kje}=ig(),{FLAG_INCLUDE_PRERELEASE:Yje,FLAG_LOOSE:Xje}=xx(),Nfe=t=>t.value==="<0.0.0-0",Qje=t=>t.value==="",Ffe=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,e)),i=n.pop();return r},Jje=(t,e)=>(Nt("comp",t,e),t=tVe(t,e),Nt("caret",t),t=Zje(t,e),Nt("tildes",t),t=nVe(t,e),Nt("xrange",t),t=sVe(t,e),Nt("stars",t),t),Un=t=>!t||t.toLowerCase()==="x"||t==="*",Zje=(t,e)=>t.trim().split(/\s+/).map(r=>eVe(r,e)).join(" "),eVe=(t,e)=>{let r=e.loose?hi[Bn.TILDELOOSE]:hi[Bn.TILDE];return t.replace(r,(n,i,s,a,o)=>{Nt("tilde",t,n,i,s,a,o);let l;return Un(i)?l="":Un(s)?l=`>=${i}.0.0 <${+i+1}.0.0-0`:Un(a)?l=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:o?(Nt("replaceTilde pr",o),l=`>=${i}.${s}.${a}-${o} <${i}.${+s+1}.0-0`):l=`>=${i}.${s}.${a} <${i}.${+s+1}.0-0`,Nt("tilde return",l),l})},tVe=(t,e)=>t.trim().split(/\s+/).map(r=>rVe(r,e)).join(" "),rVe=(t,e)=>{Nt("caret",t,e);let r=e.loose?hi[Bn.CARETLOOSE]:hi[Bn.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,s,a,o,l)=>{Nt("caret",t,i,s,a,o,l);let c;return Un(s)?c="":Un(a)?c=`>=${s}.0.0${n} <${+s+1}.0.0-0`:Un(o)?s==="0"?c=`>=${s}.${a}.0${n} <${s}.${+a+1}.0-0`:c=`>=${s}.${a}.0${n} <${+s+1}.0.0-0`:l?(Nt("replaceCaret pr",l),s==="0"?a==="0"?c=`>=${s}.${a}.${o}-${l} <${s}.${a}.${+o+1}-0`:c=`>=${s}.${a}.${o}-${l} <${s}.${+a+1}.0-0`:c=`>=${s}.${a}.${o}-${l} <${+s+1}.0.0-0`):(Nt("no pr"),s==="0"?a==="0"?c=`>=${s}.${a}.${o}${n} <${s}.${a}.${+o+1}-0`:c=`>=${s}.${a}.${o}${n} <${s}.${+a+1}.0-0`:c=`>=${s}.${a}.${o} <${+s+1}.0.0-0`),Nt("caret return",c),c})},nVe=(t,e)=>(Nt("replaceXRanges",t,e),t.split(/\s+/).map(r=>iVe(r,e)).join(" ")),iVe=(t,e)=>{t=t.trim();let r=e.loose?hi[Bn.XRANGELOOSE]:hi[Bn.XRANGE];return t.replace(r,(n,i,s,a,o,l)=>{Nt("xRange",t,n,i,s,a,o,l);let c=Un(s),u=c||Un(a),d=u||Un(o),f=d;return i==="="&&f&&(i=""),l=e.includePrerelease?"-0":"",c?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&f?(u&&(a=0),o=0,i===">"?(i=">=",u?(s=+s+1,a=0,o=0):(a=+a+1,o=0)):i==="<="&&(i="<",u?s=+s+1:a=+a+1),i==="<"&&(l="-0"),n=`${i+s}.${a}.${o}${l}`):u?n=`>=${s}.0.0${l} <${+s+1}.0.0-0`:d&&(n=`>=${s}.${a}.0${l} <${s}.${+a+1}.0-0`),Nt("xRange return",n),n})},sVe=(t,e)=>(Nt("replaceStars",t,e),t.trim().replace(hi[Bn.STAR],"")),aVe=(t,e)=>(Nt("replaceGTE0",t,e),t.trim().replace(hi[e.includePrerelease?Bn.GTE0PRE:Bn.GTE0],"")),oVe=t=>(e,r,n,i,s,a,o,l,c,u,d,f)=>(Un(n)?r="":Un(i)?r=`>=${n}.0.0${t?"-0":""}`:Un(s)?r=`>=${n}.${i}.0${t?"-0":""}`:a?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,Un(c)?l="":Un(u)?l=`<${+c+1}.0.0-0`:Un(d)?l=`<${c}.${+u+1}.0-0`:f?l=`<=${c}.${u}.${d}-${f}`:t?l=`<${c}.${u}.${+d+1}-0`:l=`<=${l}`,`${r} ${l}`.trim()),lVe=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(Nt(t[n].semver),t[n].semver!==AF.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var Cx=C((ZTt,zfe)=>{var Ex=Symbol("SemVer ANY"),RF=class t{static get ANY(){return Ex}constructor(e,r){if(r=jfe(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),IF("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===Ex?this.value="":this.value=this.operator+this.semver.version,IF("comp",this)}parse(e){let r=this.options.loose?Vfe[qfe.COMPARATORLOOSE]:Vfe[qfe.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Bfe(n[2],this.options.loose):this.semver=Ex}toString(){return this.value}test(e){if(IF("Comparator.test",e,this.options.loose),this.semver===Ex||e===Ex)return!0;if(typeof e=="string")try{e=new Bfe(e,this.options)}catch{return!1}return LF(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Ufe(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new Ufe(this.value,r).test(e.semver):(r=jfe(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||LF(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||LF(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};zfe.exports=RF;var jfe=zL(),{safeRe:Vfe,t:qfe}=ig(),LF=CF(),IF=Sx(),Bfe=wn(),Ufe=Gs()});var Tx=C((e2t,Hfe)=>{var cVe=Gs(),uVe=(t,e,r)=>{try{e=new cVe(e,r)}catch{return!1}return e.test(t)};Hfe.exports=uVe});var Wfe=C((t2t,Gfe)=>{var dVe=Gs(),fVe=(t,e)=>new dVe(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));Gfe.exports=fVe});var Yfe=C((r2t,Kfe)=>{var pVe=wn(),hVe=Gs(),mVe=(t,e,r)=>{let n=null,i=null,s=null;try{s=new hVe(e,r)}catch{return null}return t.forEach(a=>{s.test(a)&&(!n||i.compare(a)===-1)&&(n=a,i=new pVe(n,r))}),n};Kfe.exports=mVe});var Qfe=C((n2t,Xfe)=>{var gVe=wn(),yVe=Gs(),vVe=(t,e,r)=>{let n=null,i=null,s=null;try{s=new yVe(e,r)}catch{return null}return t.forEach(a=>{s.test(a)&&(!n||i.compare(a)===1)&&(n=a,i=new gVe(n,r))}),n};Xfe.exports=vVe});var epe=C((i2t,Zfe)=>{var MF=wn(),bVe=Gs(),Jfe=kx(),wVe=(t,e)=>{t=new bVe(t,e);let r=new MF("0.0.0");if(t.test(r)||(r=new MF("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],s=null;i.forEach(a=>{let o=new MF(a.semver.version);switch(a.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!s||Jfe(o,s))&&(s=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!r||Jfe(r,s))&&(r=s)}return r&&t.test(r)?r:null};Zfe.exports=wVe});var rpe=C((s2t,tpe)=>{var xVe=Gs(),SVe=(t,e)=>{try{return new xVe(t,e).range||"*"}catch{return null}};tpe.exports=SVe});var eI=C((a2t,ape)=>{var kVe=wn(),spe=Cx(),{ANY:CVe}=spe,EVe=Gs(),TVe=Tx(),npe=kx(),ipe=YL(),AVe=QL(),LVe=XL(),IVe=(t,e,r,n)=>{t=new kVe(t,n),e=new EVe(e,n);let i,s,a,o,l;switch(r){case">":i=npe,s=AVe,a=ipe,o=">",l=">=";break;case"<":i=ipe,s=LVe,a=npe,o="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(TVe(t,e,n))return!1;for(let c=0;c<e.set.length;++c){let u=e.set[c],d=null,f=null;if(u.forEach(p=>{p.semver===CVe&&(p=new spe(">=0.0.0")),d=d||p,f=f||p,i(p.semver,d.semver,n)?d=p:a(p.semver,f.semver,n)&&(f=p)}),d.operator===o||d.operator===l||(!f.operator||f.operator===o)&&s(t,f.semver))return!1;if(f.operator===l&&a(t,f.semver))return!1}return!0};ape.exports=IVe});var lpe=C((o2t,ope)=>{var RVe=eI(),MVe=(t,e,r)=>RVe(t,e,">",r);ope.exports=MVe});var upe=C((l2t,cpe)=>{var PVe=eI(),OVe=(t,e,r)=>PVe(t,e,"<",r);cpe.exports=OVe});var ppe=C((c2t,fpe)=>{var dpe=Gs(),_Ve=(t,e,r)=>(t=new dpe(t,r),e=new dpe(e,r),t.intersects(e,r));fpe.exports=_Ve});var mpe=C((u2t,hpe)=>{var DVe=Tx(),NVe=Hs();hpe.exports=(t,e,r)=>{let n=[],i=null,s=null,a=t.sort((u,d)=>NVe(u,d,r));for(let u of a)DVe(u,e,r)?(s=u,i||(i=u)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let o=[];for(let[u,d]of n)u===d?o.push(u):!d&&u===a[0]?o.push("*"):d?u===a[0]?o.push(`<=${d}`):o.push(`${u} - ${d}`):o.push(`>=${u}`);let l=o.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return l.length<c.length?l:e}});var xpe=C((d2t,wpe)=>{var gpe=Gs(),OF=Cx(),{ANY:PF}=OF,Ax=Tx(),_F=Hs(),FVe=(t,e,r={})=>{if(t===e)return!0;t=new gpe(t,r),e=new gpe(e,r);let n=!1;e:for(let i of t.set){for(let s of e.set){let a=jVe(i,s,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},$Ve=[new OF(">=0.0.0-0")],ype=[new OF(">=0.0.0")],jVe=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===PF){if(e.length===1&&e[0].semver===PF)return!0;r.includePrerelease?t=$Ve:t=ype}if(e.length===1&&e[0].semver===PF){if(r.includePrerelease)return!0;e=ype}let n=new Set,i,s;for(let p of t)p.operator===">"||p.operator===">="?i=vpe(i,p,r):p.operator==="<"||p.operator==="<="?s=bpe(s,p,r):n.add(p.semver);if(n.size>1)return null;let a;if(i&&s){if(a=_F(i.semver,s.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let p of n){if(i&&!Ax(p,String(i),r)||s&&!Ax(p,String(s),r))return null;for(let h of e)if(!Ax(p,String(h),r))return!1;return!0}let o,l,c,u,d=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,f=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&s.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let p of e){if(u=u||p.operator===">"||p.operator===">=",c=c||p.operator==="<"||p.operator==="<=",i){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator===">"||p.operator===">="){if(o=vpe(i,p,r),o===p&&o!==i)return!1}else if(i.operator===">="&&!Ax(i.semver,String(p),r))return!1}if(s){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator==="<"||p.operator==="<="){if(l=bpe(s,p,r),l===p&&l!==s)return!1}else if(s.operator==="<="&&!Ax(s.semver,String(p),r))return!1}if(!p.operator&&(s||i)&&a!==0)return!1}return!(i&&c&&!s&&a!==0||s&&u&&!i&&a!==0||f||d)},vpe=(t,e,r)=>{if(!t)return e;let n=_F(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},bpe=(t,e,r)=>{if(!t)return e;let n=_F(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};wpe.exports=FVe});var Epe=C((f2t,Cpe)=>{var DF=ig(),Spe=xx(),VVe=wn(),kpe=wF(),qVe=Pf(),BVe=Yde(),UVe=Qde(),zVe=efe(),HVe=nfe(),GVe=sfe(),WVe=ofe(),KVe=cfe(),YVe=dfe(),XVe=Hs(),QVe=mfe(),JVe=yfe(),ZVe=KL(),eqe=xfe(),tqe=kfe(),rqe=kx(),nqe=YL(),iqe=SF(),sqe=kF(),aqe=XL(),oqe=QL(),lqe=CF(),cqe=Pfe(),uqe=Cx(),dqe=Gs(),fqe=Tx(),pqe=Wfe(),hqe=Yfe(),mqe=Qfe(),gqe=epe(),yqe=rpe(),vqe=eI(),bqe=lpe(),wqe=upe(),xqe=ppe(),Sqe=mpe(),kqe=xpe();Cpe.exports={parse:qVe,valid:BVe,clean:UVe,inc:zVe,diff:HVe,major:GVe,minor:WVe,patch:KVe,prerelease:YVe,compare:XVe,rcompare:QVe,compareLoose:JVe,compareBuild:ZVe,sort:eqe,rsort:tqe,gt:rqe,lt:nqe,eq:iqe,neq:sqe,gte:aqe,lte:oqe,cmp:lqe,coerce:cqe,Comparator:uqe,Range:dqe,satisfies:fqe,toComparators:pqe,maxSatisfying:hqe,minSatisfying:mqe,minVersion:gqe,validRange:yqe,outside:vqe,gtr:bqe,ltr:wqe,intersects:xqe,simplifyRange:Sqe,subset:kqe,SemVer:VVe,re:DF.re,src:DF.src,tokens:DF.t,SEMVER_SPEC_VERSION:Spe.SEMVER_SPEC_VERSION,RELEASE_TYPES:Spe.RELEASE_TYPES,compareIdentifiers:kpe.compareIdentifiers,rcompareIdentifiers:kpe.rcompareIdentifiers}});var hBe={};Rr(hBe,{default:()=>RI});module.exports=y7(hBe);var gze=z(oV(),1);var fHe=z(bB(),1);var xHe=z(VB(),1);var Yg=class{type=3;name="";prefix="";value="";suffix="";modifier=3;constructor(t,e,r,n,i,s){this.type=t,this.name=e,this.prefix=r,this.value=n,this.suffix=i,this.modifier=s}hasCustomName(){return this.name!==""&&typeof this.name!="number"}},oSe=/[$_\p{ID_Start}]/u,lSe=/[$_\u200C\u200D\p{ID_Continue}]/u,T3=".*";function cSe(t,e){return(e?/^[\x00-\xFF]*$/:/^[\x00-\x7F]*$/).test(t)}function UB(t,e=!1){let r=[],n=0;for(;n<t.length;){let i=t[n],s=function(a){if(!e)throw new TypeError(a);r.push({type:"INVALID_CHAR",index:n,value:t[n++]})};if(i==="*"){r.push({type:"ASTERISK",index:n,value:t[n++]});continue}if(i==="+"||i==="?"){r.push({type:"OTHER_MODIFIER",index:n,value:t[n++]});continue}if(i==="\\"){r.push({type:"ESCAPED_CHAR",index:n++,value:t[n++]});continue}if(i==="{"){r.push({type:"OPEN",index:n,value:t[n++]});continue}if(i==="}"){r.push({type:"CLOSE",index:n,value:t[n++]});continue}if(i===":"){let a="",o=n+1;for(;o<t.length;){let l=t.substr(o,1);if(o===n+1&&oSe.test(l)||o!==n+1&&lSe.test(l)){a+=t[o++];continue}break}if(!a){s(`Missing parameter name at ${n}`);continue}r.push({type:"NAME",index:n,value:a}),n=o;continue}if(i==="("){let a=1,o="",l=n+1,c=!1;if(t[l]==="?"){s(`Pattern cannot start with "?" at ${l}`);continue}for(;l<t.length;){if(!cSe(t[l],!1)){s(`Invalid character '${t[l]}' at ${l}.`),c=!0;break}if(t[l]==="\\"){o+=t[l++]+t[l++];continue}if(t[l]===")"){if(a--,a===0){l++;break}}else if(t[l]==="("&&(a++,t[l+1]!=="?")){s(`Capturing groups are not allowed at ${l}`),c=!0;break}o+=t[l++]}if(c)continue;if(a){s(`Unbalanced pattern at ${n}`);continue}if(!o){s(`Missing pattern at ${n}`);continue}r.push({type:"REGEX",index:n,value:o}),n=l;continue}r.push({type:"CHAR",index:n,value:t[n++]})}return r.push({type:"END",index:n,value:""}),r}function zB(t,e={}){let r=UB(t);e.delimiter??="/#?",e.prefixes??="./";let n=`[^${as(e.delimiter)}]+?`,i=[],s=0,a=0,o="",l=new Set,c=w=>{if(a<r.length&&r[a].type===w)return r[a++].value},u=()=>c("OTHER_MODIFIER")??c("ASTERISK"),d=w=>{let x=c(w);if(x!==void 0)return x;let{type:A,index:O}=r[a];throw new TypeError(`Unexpected ${A} at ${O}, expected ${w}`)},f=()=>{let w="",x;for(;x=c("CHAR")??c("ESCAPED_CHAR");)w+=x;return w},p=w=>w,h=e.encodePart||p,g="",v=w=>{g+=w},y=()=>{g.length&&(i.push(new Yg(3,"","",h(g),"",3)),g="")},b=(w,x,A,O,S)=>{let k=3;switch(S){case"?":k=1;break;case"*":k=0;break;case"+":k=2;break}if(!x&&!A&&k===3){v(w);return}if(y(),!x&&!A){if(!w)return;i.push(new Yg(3,"","",h(w),"",k));return}let E;A?A==="*"?E=T3:E=A:E=n;let I=2;E===n?(I=1,E=""):E===T3&&(I=0,E="");let R;if(x?R=x:A&&(R=s++),l.has(R))throw new TypeError(`Duplicate name '${R}'.`);l.add(R),i.push(new Yg(I,R,h(w),E,h(O),k))};for(;a<r.length;){let w=c("CHAR"),x=c("NAME"),A=c("REGEX");if(!x&&!A&&(A=c("ASTERISK")),x||A){let S=w??"";e.prefixes.indexOf(S)===-1&&(v(S),S=""),y();let k=u();b(S,x,A,"",k);continue}let O=w??c("ESCAPED_CHAR");if(O){v(O);continue}if(c("OPEN")){let S=f(),k=c("NAME"),E=c("REGEX");!k&&!E&&(E=c("ASTERISK"));let I=f();d("CLOSE");let R=u();b(S,k,E,I,R);continue}y(),d("END")}return i}function as(t){return t.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}function qB(t){return t&&t.ignoreCase?"ui":"u"}function uSe(t,e,r){return HB(zB(t,r),e,r)}function Xf(t){switch(t){case 0:return"*";case 1:return"?";case 2:return"+";case 3:return""}}function HB(t,e,r={}){r.delimiter??="/#?",r.prefixes??="./",r.sensitive??=!1,r.strict??=!1,r.end??=!0,r.start??=!0,r.endsWith="";let n=r.start?"^":"";for(let o of t){if(o.type===3){o.modifier===3?n+=as(o.value):n+=`(?:${as(o.value)})${Xf(o.modifier)}`;continue}e&&e.push(o.name);let l=`[^${as(r.delimiter)}]+?`,c=o.value;if(o.type===1?c=l:o.type===0&&(c=T3),!o.prefix.length&&!o.suffix.length){o.modifier===3||o.modifier===1?n+=`(${c})${Xf(o.modifier)}`:n+=`((?:${c})${Xf(o.modifier)})`;continue}if(o.modifier===3||o.modifier===1){n+=`(?:${as(o.prefix)}(${c})${as(o.suffix)})`,n+=Xf(o.modifier);continue}n+=`(?:${as(o.prefix)}`,n+=`((?:${c})(?:`,n+=as(o.suffix),n+=as(o.prefix),n+=`(?:${c}))*)${as(o.suffix)})`,o.modifier===0&&(n+="?")}let i=`[${as(r.endsWith)}]|$`,s=`[${as(r.delimiter)}]`;if(r.end)return r.strict||(n+=`${s}?`),r.endsWith.length?n+=`(?=${i})`:n+="$",new RegExp(n,qB(r));r.strict||(n+=`(?:${s}(?=${i}))?`);let a=!1;if(t.length){let o=t[t.length-1];o.type===3&&o.modifier===3&&(a=r.delimiter.indexOf(o)>-1)}return a||(n+=`(?=${s}|${i})`),new RegExp(n,qB(r))}var zl={delimiter:"",prefixes:"",sensitive:!0,strict:!0},dSe={delimiter:".",prefixes:"",sensitive:!0,strict:!0},fSe={delimiter:"/",prefixes:"/",sensitive:!0,strict:!0};function pSe(t,e){return t.length?t[0]==="/"?!0:!e||t.length<2?!1:(t[0]=="\\"||t[0]=="{")&&t[1]=="/":!1}function GB(t,e){return t.startsWith(e)?t.substring(e.length,t.length):t}function hSe(t,e){return t.endsWith(e)?t.substr(0,t.length-e.length):t}function WB(t){return!t||t.length<2?!1:t[0]==="["||(t[0]==="\\"||t[0]==="{")&&t[1]==="["}var KB=["ftp","file","http","https","ws","wss"];function YB(t){if(!t)return!0;for(let e of KB)if(t.test(e))return!0;return!1}function mSe(t,e){if(t=GB(t,"#"),e||t==="")return t;let r=new URL("https://example.com");return r.hash=t,r.hash?r.hash.substring(1,r.hash.length):""}function gSe(t,e){if(t=GB(t,"?"),e||t==="")return t;let r=new URL("https://example.com");return r.search=t,r.search?r.search.substring(1,r.search.length):""}function ySe(t,e){return e||t===""?t:WB(t)?JB(t):QB(t)}function vSe(t,e){if(e||t==="")return t;let r=new URL("https://example.com");return r.password=t,r.password}function bSe(t,e){if(e||t==="")return t;let r=new URL("https://example.com");return r.username=t,r.username}function wSe(t,e,r){if(r||t==="")return t;if(e&&!KB.includes(e))return new URL(`${e}:${t}`).pathname;let n=t[0]=="/";return t=new URL(n?t:"/-"+t,"https://example.com").pathname,n||(t=t.substring(2,t.length)),t}function xSe(t,e,r){return XB(e)===t&&(t=""),r||t===""?t:ZB(t)}function SSe(t,e){return t=hSe(t,":"),e||t===""?t:A3(t)}function XB(t){switch(t){case"ws":case"http":return"80";case"wws":case"https":return"443";case"ftp":return"21";default:return""}}function A3(t){if(t==="")return t;if(/^[-+.A-Za-z0-9]*$/.test(t))return t.toLowerCase();throw new TypeError(`Invalid protocol '${t}'.`)}function kSe(t){if(t==="")return t;let e=new URL("https://example.com");return e.username=t,e.username}function CSe(t){if(t==="")return t;let e=new URL("https://example.com");return e.password=t,e.password}function QB(t){if(t==="")return t;if(/[\t\n\r #%/:<>?@[\]^\\|]/g.test(t))throw new TypeError(`Invalid hostname '${t}'`);let e=new URL("https://example.com");return e.hostname=t,e.hostname}function JB(t){if(t==="")return t;if(/[^0-9a-fA-F[\]:]/g.test(t))throw new TypeError(`Invalid IPv6 hostname '${t}'`);return t.toLowerCase()}function ZB(t){if(t===""||/^[0-9]*$/.test(t)&&parseInt(t)<=65535)return t;throw new TypeError(`Invalid port '${t}'.`)}function ESe(t){if(t==="")return t;let e=new URL("https://example.com");return e.pathname=t[0]!=="/"?"/-"+t:t,t[0]!=="/"?e.pathname.substring(2,e.pathname.length):e.pathname}function TSe(t){return t===""?t:new URL(`data:${t}`).pathname}function ASe(t){if(t==="")return t;let e=new URL("https://example.com");return e.search=t,e.search.substring(1,e.search.length)}function LSe(t){if(t==="")return t;let e=new URL("https://example.com");return e.hash=t,e.hash.substring(1,e.hash.length)}var ISe=class{#e;#t=[];#r={};#n=0;#i=1;#s=0;#a=0;#o=0;#l=0;#u=!1;constructor(t){this.#e=t}get result(){return this.#r}parse(){for(this.#t=UB(this.#e,!0);this.#n<this.#t.length;this.#n+=this.#i){if(this.#i=1,this.#t[this.#n].type==="END"){if(this.#a===0){this.#d(),this.#S()?this.#c(9,1):this.#v()?this.#c(8,1):this.#c(7,0);continue}else if(this.#a===2){this.#p(5);continue}this.#c(10,0);break}if(this.#o>0)if(this.#E())this.#o-=1;else continue;if(this.#C()){this.#o+=1;continue}switch(this.#a){case 0:this.#y()&&this.#p(1);break;case 1:if(this.#y()){this.#M();let t=7,e=1;this.#x()?(t=2,e=3):this.#u&&(t=2),this.#c(t,e)}break;case 2:this.#h()?this.#p(3):(this.#k()||this.#v()||this.#S())&&this.#p(5);break;case 3:this.#w()?this.#c(4,1):this.#h()&&this.#c(5,1);break;case 4:this.#h()&&this.#c(5,1);break;case 5:this.#T()?this.#l+=1:this.#I()&&(this.#l-=1),this.#b()&&!this.#l?this.#c(6,1):this.#k()?this.#c(7,0):this.#v()?this.#c(8,1):this.#S()&&this.#c(9,1);break;case 6:this.#k()?this.#c(7,0):this.#v()?this.#c(8,1):this.#S()&&this.#c(9,1);break;case 7:this.#v()?this.#c(8,1):this.#S()&&this.#c(9,1);break;case 8:this.#S()&&this.#c(9,1);break;case 9:break;case 10:break}}this.#r.hostname!==void 0&&this.#r.port===void 0&&(this.#r.port="")}#c(t,e){switch(this.#a){case 0:break;case 1:this.#r.protocol=this.#L();break;case 2:break;case 3:this.#r.username=this.#L();break;case 4:this.#r.password=this.#L();break;case 5:this.#r.hostname=this.#L();break;case 6:this.#r.port=this.#L();break;case 7:this.#r.pathname=this.#L();break;case 8:this.#r.search=this.#L();break;case 9:this.#r.hash=this.#L();break;case 10:break}this.#a!==0&&t!==10&&([1,2,3,4].includes(this.#a)&&[6,7,8,9].includes(t)&&(this.#r.hostname??=""),[1,2,3,4,5,6].includes(this.#a)&&[8,9].includes(t)&&(this.#r.pathname??=this.#u?"/":""),[1,2,3,4,5,6,7].includes(this.#a)&&t===9&&(this.#r.search??="")),this.#f(t,e)}#f(t,e){this.#a=t,this.#s=this.#n+e,this.#n+=e,this.#i=0}#d(){this.#n=this.#s,this.#i=0}#p(t){this.#d(),this.#a=t}#g(t){return t<0&&(t=this.#t.length-t),t<this.#t.length?this.#t[t]:this.#t[this.#t.length-1]}#m(t,e){let r=this.#g(t);return r.value===e&&(r.type==="CHAR"||r.type==="ESCAPED_CHAR"||r.type==="INVALID_CHAR")}#y(){return this.#m(this.#n,":")}#x(){return this.#m(this.#n+1,"/")&&this.#m(this.#n+2,"/")}#h(){return this.#m(this.#n,"@")}#w(){return this.#m(this.#n,":")}#b(){return this.#m(this.#n,":")}#k(){return this.#m(this.#n,"/")}#v(){if(this.#m(this.#n,"?"))return!0;if(this.#t[this.#n].value!=="?")return!1;let t=this.#g(this.#n-1);return t.type!=="NAME"&&t.type!=="REGEX"&&t.type!=="CLOSE"&&t.type!=="ASTERISK"}#S(){return this.#m(this.#n,"#")}#C(){return this.#t[this.#n].type=="OPEN"}#E(){return this.#t[this.#n].type=="CLOSE"}#T(){return this.#m(this.#n,"[")}#I(){return this.#m(this.#n,"]")}#L(){let t=this.#t[this.#n],e=this.#g(this.#s).index;return this.#e.substring(e,t.index)}#M(){let t={};Object.assign(t,zl),t.encodePart=A3;let e=uSe(this.#L(),void 0,t);this.#u=YB(e)}},E3=["protocol","username","password","hostname","port","pathname","search","hash"],Ul="*";function BB(t,e){if(typeof t!="string")throw new TypeError("parameter 1 is not of type 'string'.");let r=new URL(t,e);return{protocol:r.protocol.substring(0,r.protocol.length-1),username:r.username,password:r.password,hostname:r.hostname,port:r.port,pathname:r.pathname,search:r.search!==""?r.search.substring(1,r.search.length):void 0,hash:r.hash!==""?r.hash.substring(1,r.hash.length):void 0}}function Io(t,e){return e?Kg(t):t}function Wg(t,e,r){let n;if(typeof e.baseURL=="string")try{n=new URL(e.baseURL),e.protocol===void 0&&(t.protocol=Io(n.protocol.substring(0,n.protocol.length-1),r)),!r&&e.protocol===void 0&&e.hostname===void 0&&e.port===void 0&&e.username===void 0&&(t.username=Io(n.username,r)),!r&&e.protocol===void 0&&e.hostname===void 0&&e.port===void 0&&e.username===void 0&&e.password===void 0&&(t.password=Io(n.password,r)),e.protocol===void 0&&e.hostname===void 0&&(t.hostname=Io(n.hostname,r)),e.protocol===void 0&&e.hostname===void 0&&e.port===void 0&&(t.port=Io(n.port,r)),e.protocol===void 0&&e.hostname===void 0&&e.port===void 0&&e.pathname===void 0&&(t.pathname=Io(n.pathname,r)),e.protocol===void 0&&e.hostname===void 0&&e.port===void 0&&e.pathname===void 0&&e.search===void 0&&(t.search=Io(n.search.substring(1,n.search.length),r)),e.protocol===void 0&&e.hostname===void 0&&e.port===void 0&&e.pathname===void 0&&e.search===void 0&&e.hash===void 0&&(t.hash=Io(n.hash.substring(1,n.hash.length),r))}catch{throw new TypeError(`invalid baseURL '${e.baseURL}'.`)}if(typeof e.protocol=="string"&&(t.protocol=SSe(e.protocol,r)),typeof e.username=="string"&&(t.username=bSe(e.username,r)),typeof e.password=="string"&&(t.password=vSe(e.password,r)),typeof e.hostname=="string"&&(t.hostname=ySe(e.hostname,r)),typeof e.port=="string"&&(t.port=xSe(e.port,t.protocol,r)),typeof e.pathname=="string"){if(t.pathname=e.pathname,n&&!pSe(t.pathname,r)){let i=n.pathname.lastIndexOf("/");i>=0&&(t.pathname=Io(n.pathname.substring(0,i+1),r)+t.pathname)}t.pathname=wSe(t.pathname,t.protocol,r)}return typeof e.search=="string"&&(t.search=gSe(e.search,r)),typeof e.hash=="string"&&(t.hash=mSe(e.hash,r)),t}function Kg(t){return t.replace(/([+*?:{}()\\])/g,"\\$1")}function RSe(t){return t.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}function MSe(t,e){e.delimiter??="/#?",e.prefixes??="./",e.sensitive??=!1,e.strict??=!1,e.end??=!0,e.start??=!0,e.endsWith="";let r=".*",n=`[^${RSe(e.delimiter)}]+?`,i=/[$_\u200C\u200D\p{ID_Continue}]/u,s="";for(let a=0;a<t.length;++a){let o=t[a];if(o.type===3){if(o.modifier===3){s+=Kg(o.value);continue}s+=`{${Kg(o.value)}}${Xf(o.modifier)}`;continue}let l=o.hasCustomName(),c=!!o.suffix.length||!!o.prefix.length&&(o.prefix.length!==1||!e.prefixes.includes(o.prefix)),u=a>0?t[a-1]:null,d=a<t.length-1?t[a+1]:null;if(!c&&l&&o.type===1&&o.modifier===3&&d&&!d.prefix.length&&!d.suffix.length)if(d.type===3){let f=d.value.length>0?d.value[0]:"";c=i.test(f)}else c=!d.hasCustomName();if(!c&&!o.prefix.length&&u&&u.type===3){let f=u.value[u.value.length-1];c=e.prefixes.includes(f)}c&&(s+="{"),s+=Kg(o.prefix),l&&(s+=`:${o.name}`),o.type===2?s+=`(${o.value})`:o.type===1?l||(s+=`(${n})`):o.type===0&&(!l&&(!u||u.type===3||u.modifier!==3||c||o.prefix!=="")?s+="*":s+=`(${r})`),o.type===1&&l&&o.suffix.length&&i.test(o.suffix[0])&&(s+="\\"),s+=Kg(o.suffix),c&&(s+="}"),o.modifier!==3&&(s+=Xf(o.modifier))}return s}var eU=class{#e;#t={};#r={};#n={};#i={};#s=!1;constructor(t={},e,r){try{let n;if(typeof e=="string"?n=e:r=e,typeof t=="string"){let o=new ISe(t);if(o.parse(),t=o.result,n===void 0&&typeof t.protocol!="string")throw new TypeError("A base URL must be provided for a relative constructor string.");t.baseURL=n}else{if(!t||typeof t!="object")throw new TypeError("parameter 1 is not of type 'string' and cannot convert to dictionary.");if(n)throw new TypeError("parameter 1 is not of type 'string'.")}typeof r>"u"&&(r={ignoreCase:!1});let i={ignoreCase:r.ignoreCase===!0},s={pathname:Ul,protocol:Ul,username:Ul,password:Ul,hostname:Ul,port:Ul,search:Ul,hash:Ul};this.#e=Wg(s,t,!0),XB(this.#e.protocol)===this.#e.port&&(this.#e.port="");let a;for(a of E3){if(!(a in this.#e))continue;let o={},l=this.#e[a];switch(this.#r[a]=[],a){case"protocol":Object.assign(o,zl),o.encodePart=A3;break;case"username":Object.assign(o,zl),o.encodePart=kSe;break;case"password":Object.assign(o,zl),o.encodePart=CSe;break;case"hostname":Object.assign(o,dSe),WB(l)?o.encodePart=JB:o.encodePart=QB;break;case"port":Object.assign(o,zl),o.encodePart=ZB;break;case"pathname":YB(this.#t.protocol)?(Object.assign(o,fSe,i),o.encodePart=ESe):(Object.assign(o,zl,i),o.encodePart=TSe);break;case"search":Object.assign(o,zl,i),o.encodePart=ASe;break;case"hash":Object.assign(o,zl,i),o.encodePart=LSe;break}try{this.#i[a]=zB(l,o),this.#t[a]=HB(this.#i[a],this.#r[a],o),this.#n[a]=MSe(this.#i[a],o),this.#s=this.#s||this.#i[a].some(c=>c.type===2)}catch{throw new TypeError(`invalid ${a} pattern '${this.#e[a]}'.`)}}}catch(n){throw new TypeError(`Failed to construct 'URLPattern': ${n.message}`)}}test(t={},e){let r={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof t!="string"&&e)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof t>"u")return!1;try{typeof t=="object"?r=Wg(r,t,!1):r=Wg(r,BB(t,e),!1)}catch{return!1}let n;for(n of E3)if(!this.#t[n].exec(r[n]))return!1;return!0}exec(t={},e){let r={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof t!="string"&&e)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof t>"u")return;try{typeof t=="object"?r=Wg(r,t,!1):r=Wg(r,BB(t,e),!1)}catch{return null}let n={};e?n.inputs=[t,e]:n.inputs=[t];let i;for(i of E3){let s=this.#t[i].exec(r[i]);if(!s)return null;let a={};for(let[o,l]of this.#r[i].entries())if(typeof l=="string"||typeof l=="number"){let c=s[o+1];a[l]=c}n[i]={input:r[i]??"",groups:a}}return n}static compareComponent(t,e,r){let n=(o,l)=>{for(let c of["type","modifier","prefix","value","suffix"]){if(o[c]<l[c])return-1;if(o[c]!==l[c])return 1}return 0},i=new Yg(3,"","","","",3),s=new Yg(0,"","","","",3),a=(o,l)=>{let c=0;for(;c<Math.min(o.length,l.length);++c){let u=n(o[c],l[c]);if(u)return u}return o.length===l.length?0:n(o[c]??i,l[c]??i)};return!e.#n[t]&&!r.#n[t]?0:e.#n[t]&&!r.#n[t]?a(e.#i[t],[s]):!e.#n[t]&&r.#n[t]?a([s],r.#i[t]):a(e.#i[t],r.#i[t])}get protocol(){return this.#n.protocol}get username(){return this.#n.username}get password(){return this.#n.password}get hostname(){return this.#n.hostname}get port(){return this.#n.port}get pathname(){return this.#n.pathname}get search(){return this.#n.search}get hash(){return this.#n.hash}get hasRegExpGroups(){return this.#s}};globalThis.URLPattern||(globalThis.URLPattern=eU);var L3=require("obsidian"),PSe={bilibili:'<path fill-rule="evenodd" clip-rule="evenodd" d="M 20.736 14.88 C 18.513 12.735 18.513 9.173 20.736 7.028 C 22.849 4.99 26.197 4.99 28.311 7.028 L 40.096 18.397 C 40.43 18.72 40.715 19.075 40.949 19.453 L 58.772 19.453 C 59.006 19.075 59.291 18.72 59.625 18.397 L 71.41 7.028 C 73.523 4.99 76.871 4.99 78.984 7.028 C 81.208 9.173 81.208 12.735 78.984 14.88 L 74.244 19.453 L 77.778 19.453 C 90.051 19.453 100 29.402 100 41.675 L 100 72.262 C 100 84.534 90.051 94.484 77.778 94.484 L 22.222 94.484 C 9.949 94.484 0 84.534 0 72.262 L 0 41.675 C 0 29.402 9.949 19.453 22.222 19.453 L 25.477 19.453 L 20.736 14.88 Z M 22.222 30.172 C 16.086 30.172 11.111 35.146 11.111 41.283 L 11.111 72.654 C 11.111 78.79 16.086 83.765 22.222 83.765 L 77.778 83.765 C 83.914 83.765 88.889 78.79 88.889 72.654 L 88.889 41.283 C 88.889 35.146 83.914 30.172 77.778 30.172 L 22.222 30.172 Z M 27.778 51.805 C 27.778 48.737 30.265 46.25 33.333 46.25 C 36.402 46.25 38.889 48.737 38.889 51.805 L 38.889 56.772 C 38.889 59.84 36.402 62.328 33.333 62.328 C 30.265 62.328 27.778 59.84 27.778 56.772 L 27.778 51.805 Z M 66.667 46.25 C 63.598 46.25 61.111 48.737 61.111 51.805 L 61.111 56.772 C 61.111 59.84 63.598 62.328 66.667 62.328 C 69.735 62.328 72.222 59.84 72.222 56.772 L 72.222 51.805 C 72.222 48.737 69.735 46.25 66.667 46.25 Z" fill="currentColor"/>',vimeo:'<path d="M 99.952 26.773 C 99.508 36.508 92.705 49.844 79.555 66.768 C 65.962 84.445 54.458 93.287 45.044 93.287 C 39.218 93.287 34.286 87.905 30.254 77.134 C 27.566 67.263 24.872 57.4 22.185 47.53 C 19.194 36.765 15.986 31.377 12.552 31.377 C 11.806 31.377 9.182 32.952 4.701 36.09 L 0 30.027 C 4.932 25.692 9.799 21.352 14.59 17.005 C 21.175 11.321 26.113 8.324 29.412 8.022 C 37.193 7.276 41.983 12.6 43.783 23.988 C 45.725 36.283 47.069 43.929 47.822 46.919 C 50.066 57.117 52.535 62.21 55.229 62.21 C 57.325 62.21 60.47 58.898 64.663 52.287 C 68.849 45.671 71.093 40.636 71.395 37.183 C 71.993 31.473 69.749 28.612 64.663 28.612 C 62.264 28.612 59.795 29.158 57.261 30.252 C 62.174 14.15 71.562 6.324 85.426 6.768 C 95.701 7.07 100.544 13.739 99.952 26.773" fill="currentColor"/>',coursera:'<path d="M 2.8 50.013 C 2.8 22.278 25.472 0.001 53.82 0.001 C 71.135 -0.12 87.347 8.489 96.943 22.903 L 75.688 35.232 C 70.696 28.099 62.527 23.863 53.82 23.893 C 39.244 23.893 27.298 36.043 27.298 50.013 C 27.298 63.983 39.244 76.133 53.82 76.133 C 62.954 76.192 71.463 71.505 76.294 63.754 L 97.339 76.306 C 87.854 91.149 71.422 100.093 53.808 99.999 C 25.472 100.024 2.8 77.321 2.8 50.013 Z" fill="currentColor" />',youtube:null,"baidu-pan":'<path d="M88.6,46.1c-4.6-4.6-10.8-6.7-16.8-6.3c0.4-6-1.7-12.2-6.3-16.8c-8.5-8.5-22.4-8.5-30.9,0   c-4.6,4.6-6.7,10.8-6.3,16.8c-6-0.4-12.2,1.7-16.8,6.3c-8.5,8.5-8.5,22.4,0,30.9s22.4,8.5,30.9,0l14.3-14.3l1.1-1.1l7.7-7.7   c4.3-4.3,11.2-4.3,15.4,0s4.3,11.2,0,15.4c-4.3,4.3-11.2,4.3-15.4,0c-2.1-2.1-5.6-2.1-7.7,0s-2.1,5.6,0,7.7   c8.5,8.5,22.4,8.5,30.9,0C97.1,68.5,97.1,54.7,88.6,46.1z M19.1,69.3c-4.3-4.3-4.3-11.2,0-15.4c4.3-4.3,11.2-4.3,15.4,0   s4.3,11.2,0,15.4C30.3,73.6,23.4,73.6,19.1,69.3z M42.3,46.1C38,41.9,38,35,42.3,30.7c4.3-4.3,11.2-4.3,15.4,0s4.3,11.2,0,15.4   C53.5,50.4,46.5,50.4,42.3,46.1z"/>'};for(let[t,e]of Object.entries(PSe))e&&(0,L3.addIcon)(t,e);(0,L3.addIcon)("google",'<path fill-rule="evenodd" d="M50.154 91.658a42.971 42.971 0 0 1-29.867-12.704 41.2 41.2 0 0 1-11.95-29.658 41.446 41.446 0 0 1 12.767-28.954A43.208 43.208 0 0 1 50.883 8.333h.733a41.396 41.396 0 0 1 27.558 10.683L68.571 28.667a25.779 25.779 0 0 0-17.213-6.525 28.75 28.75 0 0 0-19.975 7.971 27.575 27.575 0 0 0-8.521 19.404 27.533 27.533 0 0 0 7.842 19.679 28.713 28.713 0 0 0 19.688 8.625h.596c5.875.3 11.667-1.475 16.321-5a24.042 24.042 0 0 0 9.05-14.208l.179-.488H50.917v-14.208h40.325c.313 2.571.454 5.158.417 7.746-.413 23.921-16.738 40-40.608 40l-.896-.008Z" clip-rule="evenodd"/>');var sme=require("obsidian");var tU=`.vtt-editor-container {
  padding-top: var(--size-4-3);
}

.vtt-editor {
  /* padding-bottom: var(--size-4-8); */
  padding-left: var(--size-4-3);
  padding-right: var(--size-4-3);
}

.vtt-editor-search {
  padding-left: var(--size-4-3);
  padding-right: var(--size-4-3);
}
`;var rU=`/*! tailwindcss v4.0.14 | MIT License | https://tailwindcss.com */@layer theme{:root,:host{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-red-50:oklch(97.1% .013 17.38);--color-red-100:oklch(93.6% .032 17.717);--color-red-200:oklch(88.5% .062 18.334);--color-red-600:oklch(57.7% .245 27.325);--color-orange-100:oklch(95.4% .038 75.164);--color-orange-200:oklch(90.1% .076 70.697);--color-orange-300:oklch(83.7% .128 66.29);--color-orange-600:oklch(64.6% .222 41.116);--color-orange-700:oklch(55.3% .195 38.402);--color-green-50:oklch(98.2% .018 155.826);--color-green-100:oklch(96.2% .044 156.743);--color-green-200:oklch(92.5% .084 155.995);--color-green-600:oklch(62.7% .194 149.214);--color-green-700:oklch(52.7% .154 150.069);--color-emerald-100:oklch(95% .052 163.051);--color-emerald-200:oklch(90.5% .093 164.15);--color-emerald-300:oklch(84.5% .143 164.978);--color-emerald-600:oklch(59.6% .145 163.225);--color-emerald-700:oklch(50.8% .118 165.612);--color-blue-50:oklch(97% .014 254.604);--color-blue-100:oklch(93.2% .032 255.585);--color-blue-200:oklch(88.2% .059 254.128);--color-blue-300:oklch(80.9% .105 251.813);--color-blue-500:oklch(62.3% .214 259.815);--color-blue-600:oklch(54.6% .245 262.881);--color-blue-700:oklch(48.8% .243 264.376);--color-gray-50:oklch(98.5% .002 247.839);--color-gray-200:oklch(92.8% .006 264.531);--color-gray-300:oklch(87.2% .01 258.338);--color-gray-400:oklch(70.7% .022 261.325);--color-gray-500:oklch(55.1% .027 264.364);--color-gray-600:oklch(44.6% .03 256.802);--color-gray-900:oklch(21% .034 264.665);--color-black:#000;--color-white:#fff;--spacing:.25rem;--container-sm:24rem;--container-md:28rem;--container-lg:32rem;--container-2xl:42rem;--container-3xl:48rem;--container-4xl:56rem;--text-xs--line-height:calc(1/.75);--text-sm--line-height:calc(1.25/.875);--text-base--line-height: 1.5 ;--text-lg--line-height:calc(1.75/1.125);--text-xl--line-height:calc(1.75/1.25);--text-3xl--line-height: 1.2 ;--text-4xl--line-height:calc(2.5/2.25);--tracking-tight:-.025em;--tracking-wider:.05em;--tracking-widest:.1em;--leading-tight:1.25;--leading-relaxed:1.625;--radius-xs:.125rem;--radius-xl:var(--radius-xl,calc(var(--mx-radius) + 4px));--ease-in-out:cubic-bezier(.4,0,.2,1);--animate-spin:spin 1s linear infinite;--animate-pulse:pulse 2s cubic-bezier(.4,0,.6,1)infinite;--blur-sm:8px;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-feature-settings:initial;font-variation-settings:initial;-webkit-tap-highlight-color:transparent;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-feature-settings:initial;font-variation-settings:initial;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){-webkit-appearance:button;-moz-appearance:button;appearance:button}::file-selector-button{-webkit-appearance:button;-moz-appearance:button;appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}.dark.mx-player{background-color:var(--mx-video-background,var(--background-primary,var(--mx-background)));color:var(--mx-video-foreground,var(--text-normal,var(--mx-foreground)))}*{border-color:var(--mx-video-border,var(--background-modifier-border,var(--mx-border)));outline-color:color-mix(in oklab,var(--mx-video-ring,var(--background-modifier-border-focus,var(--mx-ring)))50%,transparent)}body{background-color:var(--mx-video-background,var(--background-primary,var(--mx-background)));color:var(--mx-video-foreground,var(--text-normal,var(--mx-foreground)))}}@layer components;@layer utilities{.\\@container\\/card-header{container:card-header/inline-size}.\\@container{container-type:inline-size}.pointer-events-auto{pointer-events:auto}.pointer-events-none{pointer-events:none}.visible{visibility:visible}.sr-only{clip:rect(0,0,0,0);white-space:nowrap;border-width:0;width:1px;height:1px;margin:-1px;padding:0;position:absolute;overflow:hidden}.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.static{position:static}.inset-0{inset:calc(var(--spacing)*0)}.top-0{top:calc(var(--spacing)*0)}.top-1\\/2{top:50%}.top-4{top:calc(var(--spacing)*4)}.top-\\[50\\%\\]{top:50%}.right-0{right:calc(var(--spacing)*0)}.right-2{right:calc(var(--spacing)*2)}.right-4{right:calc(var(--spacing)*4)}.bottom-0{bottom:calc(var(--spacing)*0)}.bottom-2{bottom:calc(var(--spacing)*2)}.left-\\(--slider-fill\\){left:var(--slider-fill)}.left-0{left:calc(var(--spacing)*0)}.left-1\\/2{left:50%}.left-3{left:calc(var(--spacing)*3)}.left-\\[50\\%\\]{left:50%}.z-0{z-index:0}.z-10{z-index:10}.z-20{z-index:20}.z-50{z-index:50}.col-span-1{grid-column:span 1/span 1}.col-span-2{grid-column:span 2/span 2}.col-span-3{grid-column:span 3/span 3}.col-start-1{grid-column-start:1}.col-start-2{grid-column-start:2}.col-start-3{grid-column-start:3}.col-start-4{grid-column-start:4}.row-span-2{grid-row:span 2/span 2}.row-start-1{grid-row-start:1}.row-start-2{grid-row-start:2}.row-start-3{grid-row-start:3}.row-start-4{grid-row-start:4}.container{width:100%}@media (width>=40rem){.container{max-width:40rem}}@media (width>=48rem){.container{max-width:48rem}}@media (width>=64rem){.container{max-width:64rem}}@media (width>=80rem){.container{max-width:80rem}}@media (width>=96rem){.container{max-width:96rem}}.-mx-1{margin-inline:calc(var(--spacing)*-1)}.mx-auto{margin-inline:auto}.my-1{margin-block:calc(var(--spacing)*1)}.prose{color:var(--tw-prose-body);--tw-prose-body:oklch(37.3% .034 259.733);--tw-prose-headings:oklch(21% .034 264.665);--tw-prose-lead:oklch(44.6% .03 256.802);--tw-prose-links:oklch(21% .034 264.665);--tw-prose-bold:oklch(21% .034 264.665);--tw-prose-counters:oklch(55.1% .027 264.364);--tw-prose-bullets:oklch(87.2% .01 258.338);--tw-prose-hr:oklch(92.8% .006 264.531);--tw-prose-quotes:oklch(21% .034 264.665);--tw-prose-quote-borders:oklch(92.8% .006 264.531);--tw-prose-captions:oklch(55.1% .027 264.364);--tw-prose-kbd:oklch(21% .034 264.665);--tw-prose-kbd-shadows:NaN NaN NaN;--tw-prose-code:oklch(21% .034 264.665);--tw-prose-pre-code:oklch(92.8% .006 264.531);--tw-prose-pre-bg:oklch(27.8% .033 256.848);--tw-prose-th-borders:oklch(87.2% .01 258.338);--tw-prose-td-borders:oklch(92.8% .006 264.531);--tw-prose-invert-body:oklch(87.2% .01 258.338);--tw-prose-invert-headings:#fff;--tw-prose-invert-lead:oklch(70.7% .022 261.325);--tw-prose-invert-links:#fff;--tw-prose-invert-bold:#fff;--tw-prose-invert-counters:oklch(70.7% .022 261.325);--tw-prose-invert-bullets:oklch(44.6% .03 256.802);--tw-prose-invert-hr:oklch(37.3% .034 259.733);--tw-prose-invert-quotes:oklch(96.7% .003 264.542);--tw-prose-invert-quote-borders:oklch(37.3% .034 259.733);--tw-prose-invert-captions:oklch(70.7% .022 261.325);--tw-prose-invert-kbd:#fff;--tw-prose-invert-kbd-shadows:255 255 255;--tw-prose-invert-code:#fff;--tw-prose-invert-pre-code:oklch(87.2% .01 258.338);--tw-prose-invert-pre-bg:#00000080;--tw-prose-invert-th-borders:oklch(44.6% .03 256.802);--tw-prose-invert-td-borders:oklch(37.3% .034 259.733);max-width:65ch;font-size:1rem;line-height:1.75}.prose :where(p):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.25em;margin-bottom:1.25em}.prose :where([class~=lead]):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-lead);margin-top:1.2em;margin-bottom:1.2em;font-size:1.25em;line-height:1.6}.prose :where(a):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-links);font-weight:500;text-decoration:underline}.prose :where(strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-bold);font-weight:600}.prose :where(a strong):not(:where([class~=not-prose],[class~=not-prose] *)),.prose :where(blockquote strong):not(:where([class~=not-prose],[class~=not-prose] *)),.prose :where(thead th strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(ol):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.25em;margin-bottom:1.25em;padding-inline-start:1.625em;list-style-type:decimal}.prose :where(ol[type=A]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:upper-alpha}.prose :where(ol[type=a]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:lower-alpha}.prose :where(ol[type=A s]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:upper-alpha}.prose :where(ol[type=a s]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:lower-alpha}.prose :where(ol[type=I]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:upper-roman}.prose :where(ol[type=i]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:lower-roman}.prose :where(ol[type=I s]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:upper-roman}.prose :where(ol[type=i s]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:lower-roman}.prose :where(ol[type="1"]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:decimal}.prose :where(ul):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.25em;margin-bottom:1.25em;padding-inline-start:1.625em;list-style-type:disc}.prose :where(ol>li):not(:where([class~=not-prose],[class~=not-prose] *))::marker{color:var(--tw-prose-counters);font-weight:400}.prose :where(ul>li):not(:where([class~=not-prose],[class~=not-prose] *))::marker{color:var(--tw-prose-bullets)}.prose :where(dt):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);margin-top:1.25em;font-weight:600}.prose :where(hr):not(:where([class~=not-prose],[class~=not-prose] *)){border-color:var(--tw-prose-hr);border-top-width:1px;margin-top:3em;margin-bottom:3em}.prose :where(blockquote):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-quotes);border-inline-start-width:.25rem;border-inline-start-color:var(--tw-prose-quote-borders);quotes:"\u201C""\u201D""\u2018""\u2019";margin-top:1.6em;margin-bottom:1.6em;padding-inline-start:1em;font-style:italic;font-weight:500}.prose :where(blockquote p:first-of-type):not(:where([class~=not-prose],[class~=not-prose] *)):before{content:open-quote}.prose :where(blockquote p:last-of-type):not(:where([class~=not-prose],[class~=not-prose] *)):after{content:close-quote}.prose :where(h1):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);margin-top:0;margin-bottom:.888889em;font-size:2.25em;font-weight:800;line-height:1.11111}.prose :where(h1 strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-weight:900}.prose :where(h2):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);margin-top:2em;margin-bottom:1em;font-size:1.5em;font-weight:700;line-height:1.33333}.prose :where(h2 strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-weight:800}.prose :where(h3):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);margin-top:1.6em;margin-bottom:.6em;font-size:1.25em;font-weight:600;line-height:1.6}.prose :where(h3 strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-weight:700}.prose :where(h4):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);margin-top:1.5em;margin-bottom:.5em;font-weight:600;line-height:1.5}.prose :where(h4 strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-weight:700}.prose :where(img):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:2em;margin-bottom:2em}.prose :where(picture):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:2em;margin-bottom:2em;display:block}.prose :where(video):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:2em;margin-bottom:2em}.prose :where(kbd):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-kbd);box-shadow:0 0 0 1px rgb(var(--tw-prose-kbd-shadows)/10%),0 3px rgb(var(--tw-prose-kbd-shadows)/10%);padding-top:.1875em;padding-inline-end:.375em;padding-bottom:.1875em;border-radius:.3125rem;padding-inline-start:.375em;font-family:inherit;font-size:.875em;font-weight:500}.prose :where(code):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-code);font-size:.875em;font-weight:600}.prose :where(code):not(:where([class~=not-prose],[class~=not-prose] *)):before,.prose :where(code):not(:where([class~=not-prose],[class~=not-prose] *)):after{content:"\`"}.prose :where(a code):not(:where([class~=not-prose],[class~=not-prose] *)),.prose :where(h1 code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(h2 code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-size:.875em}.prose :where(h3 code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-size:.9em}.prose :where(h4 code):not(:where([class~=not-prose],[class~=not-prose] *)),.prose :where(blockquote code):not(:where([class~=not-prose],[class~=not-prose] *)),.prose :where(thead th code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(pre):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-pre-code);background-color:var(--tw-prose-pre-bg);padding-top:.857143em;padding-inline-end:1.14286em;padding-bottom:.857143em;border-radius:.375rem;margin-top:1.71429em;margin-bottom:1.71429em;padding-inline-start:1.14286em;font-size:.875em;font-weight:400;line-height:1.71429;overflow-x:auto}.prose :where(pre code):not(:where([class~=not-prose],[class~=not-prose] *)){font-weight:inherit;color:inherit;font-size:inherit;font-family:inherit;line-height:inherit;background-color:#0000;border-width:0;border-radius:0;padding:0}.prose :where(pre code):not(:where([class~=not-prose],[class~=not-prose] *)):before,.prose :where(pre code):not(:where([class~=not-prose],[class~=not-prose] *)):after{content:none}.prose :where(table):not(:where([class~=not-prose],[class~=not-prose] *)){table-layout:auto;width:100%;margin-top:2em;margin-bottom:2em;font-size:.875em;line-height:1.71429}.prose :where(thead):not(:where([class~=not-prose],[class~=not-prose] *)){border-bottom-width:1px;border-bottom-color:var(--tw-prose-th-borders)}.prose :where(thead th):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);vertical-align:bottom;padding-inline-end:.571429em;padding-bottom:.571429em;padding-inline-start:.571429em;font-weight:600}.prose :where(tbody tr):not(:where([class~=not-prose],[class~=not-prose] *)){border-bottom-width:1px;border-bottom-color:var(--tw-prose-td-borders)}.prose :where(tbody tr:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){border-bottom-width:0}.prose :where(tbody td):not(:where([class~=not-prose],[class~=not-prose] *)){vertical-align:baseline}.prose :where(tfoot):not(:where([class~=not-prose],[class~=not-prose] *)){border-top-width:1px;border-top-color:var(--tw-prose-th-borders)}.prose :where(tfoot td):not(:where([class~=not-prose],[class~=not-prose] *)){vertical-align:top}.prose :where(th,td):not(:where([class~=not-prose],[class~=not-prose] *)){text-align:start}.prose :where(figure>*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0;margin-bottom:0}.prose :where(figcaption):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-captions);margin-top:.857143em;font-size:.875em;line-height:1.42857}.prose :where(picture>img):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0;margin-bottom:0}.prose :where(li):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.5em;margin-bottom:.5em}.prose :where(ol>li):not(:where([class~=not-prose],[class~=not-prose] *)),.prose :where(ul>li):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:.375em}.prose :where(.prose>ul>li p):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.75em;margin-bottom:.75em}.prose :where(.prose>ul>li>p:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.25em}.prose :where(.prose>ul>li>p:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.25em}.prose :where(.prose>ol>li>p:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.25em}.prose :where(.prose>ol>li>p:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.25em}.prose :where(ul ul,ul ol,ol ul,ol ol):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.75em;margin-bottom:.75em}.prose :where(dl):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.25em;margin-bottom:1.25em}.prose :where(dd):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.5em;padding-inline-start:1.625em}.prose :where(hr+*):not(:where([class~=not-prose],[class~=not-prose] *)),.prose :where(h2+*):not(:where([class~=not-prose],[class~=not-prose] *)),.prose :where(h3+*):not(:where([class~=not-prose],[class~=not-prose] *)),.prose :where(h4+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose :where(thead th:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:0}.prose :where(thead th:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-end:0}.prose :where(tbody td,tfoot td):not(:where([class~=not-prose],[class~=not-prose] *)){padding-top:.571429em;padding-inline-end:.571429em;padding-bottom:.571429em;padding-inline-start:.571429em}.prose :where(tbody td:first-child,tfoot td:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:0}.prose :where(tbody td:last-child,tfoot td:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-end:0}.prose :where(figure):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:2em;margin-bottom:2em}.prose :where(.prose>:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose :where(.prose>:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:0}.prose-sm{font-size:.875rem;line-height:1.71429}.prose-sm :where(p):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.14286em;margin-bottom:1.14286em}.prose-sm :where([class~=lead]):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.888889em;margin-bottom:.888889em;font-size:1.28571em;line-height:1.55556}.prose-sm :where(blockquote):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.33333em;margin-bottom:1.33333em;padding-inline-start:1.11111em}.prose-sm :where(h1):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0;margin-bottom:.8em;font-size:2.14286em;line-height:1.2}.prose-sm :where(h2):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.6em;margin-bottom:.8em;font-size:1.42857em;line-height:1.4}.prose-sm :where(h3):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.55556em;margin-bottom:.444444em;font-size:1.28571em;line-height:1.55556}.prose-sm :where(h4):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.42857em;margin-bottom:.571429em;line-height:1.42857}.prose-sm :where(img):not(:where([class~=not-prose],[class~=not-prose] *)),.prose-sm :where(picture):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.71429em;margin-bottom:1.71429em}.prose-sm :where(picture>img):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0;margin-bottom:0}.prose-sm :where(video):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.71429em;margin-bottom:1.71429em}.prose-sm :where(kbd):not(:where([class~=not-prose],[class~=not-prose] *)){padding-top:.142857em;padding-inline-end:.357143em;padding-bottom:.142857em;border-radius:.3125rem;padding-inline-start:.357143em;font-size:.857143em}.prose-sm :where(code):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:.857143em}.prose-sm :where(h2 code):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:.9em}.prose-sm :where(h3 code):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:.888889em}.prose-sm :where(pre):not(:where([class~=not-prose],[class~=not-prose] *)){padding-top:.666667em;padding-inline-end:1em;padding-bottom:.666667em;border-radius:.25rem;margin-top:1.66667em;margin-bottom:1.66667em;padding-inline-start:1em;font-size:.857143em;line-height:1.66667}.prose-sm :where(ol):not(:where([class~=not-prose],[class~=not-prose] *)),.prose-sm :where(ul):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.14286em;margin-bottom:1.14286em;padding-inline-start:1.57143em}.prose-sm :where(li):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.285714em;margin-bottom:.285714em}.prose-sm :where(ol>li):not(:where([class~=not-prose],[class~=not-prose] *)),.prose-sm :where(ul>li):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:.428571em}.prose-sm :where(.prose-sm>ul>li p):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.571429em;margin-bottom:.571429em}.prose-sm :where(.prose-sm>ul>li>p:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.14286em}.prose-sm :where(.prose-sm>ul>li>p:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.14286em}.prose-sm :where(.prose-sm>ol>li>p:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.14286em}.prose-sm :where(.prose-sm>ol>li>p:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.14286em}.prose-sm :where(ul ul,ul ol,ol ul,ol ol):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.571429em;margin-bottom:.571429em}.prose-sm :where(dl):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.14286em;margin-bottom:1.14286em}.prose-sm :where(dt):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.14286em}.prose-sm :where(dd):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.285714em;padding-inline-start:1.57143em}.prose-sm :where(hr):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:2.85714em;margin-bottom:2.85714em}.prose-sm :where(hr+*):not(:where([class~=not-prose],[class~=not-prose] *)),.prose-sm :where(h2+*):not(:where([class~=not-prose],[class~=not-prose] *)),.prose-sm :where(h3+*):not(:where([class~=not-prose],[class~=not-prose] *)),.prose-sm :where(h4+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose-sm :where(table):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:.857143em;line-height:1.5}.prose-sm :where(thead th):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-end:1em;padding-bottom:.666667em;padding-inline-start:1em}.prose-sm :where(thead th:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:0}.prose-sm :where(thead th:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-end:0}.prose-sm :where(tbody td,tfoot td):not(:where([class~=not-prose],[class~=not-prose] *)){padding-top:.666667em;padding-inline-end:1em;padding-bottom:.666667em;padding-inline-start:1em}.prose-sm :where(tbody td:first-child,tfoot td:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-start:0}.prose-sm :where(tbody td:last-child,tfoot td:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-inline-end:0}.prose-sm :where(figure):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.71429em;margin-bottom:1.71429em}.prose-sm :where(figure>*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0;margin-bottom:0}.prose-sm :where(figcaption):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.666667em;font-size:.857143em;line-height:1.33333}.prose-sm :where(.prose-sm>:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose-sm :where(.prose-sm>:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:0}.mt-0\\.5{margin-top:calc(var(--spacing)*.5)}.mt-2{margin-top:calc(var(--spacing)*2)}.mt-4{margin-top:calc(var(--spacing)*4)}.mr-1{margin-right:calc(var(--spacing)*1)}.mr-2{margin-right:calc(var(--spacing)*2)}.mb-1{margin-bottom:calc(var(--spacing)*1)}.mb-2{margin-bottom:calc(var(--spacing)*2)}.mb-3{margin-bottom:calc(var(--spacing)*3)}.mb-4{margin-bottom:calc(var(--spacing)*4)}.mb-6{margin-bottom:calc(var(--spacing)*6)}.mb-8{margin-bottom:calc(var(--spacing)*8)}.ml-1{margin-left:calc(var(--spacing)*1)}.ml-2{margin-left:calc(var(--spacing)*2)}.ml-6{margin-left:calc(var(--spacing)*6)}.ml-auto{margin-left:auto}.box-border{box-sizing:border-box}.line-clamp-1{-webkit-line-clamp:1;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.block{display:block}.contents{display:contents}.flex{display:flex}.grid{display:grid}.hidden{display:none}.inline{display:inline}.inline-block{display:inline-block}.inline-flex{display:inline-flex}.size-3{width:calc(var(--spacing)*3);height:calc(var(--spacing)*3)}.size-3\\.5{width:calc(var(--spacing)*3.5);height:calc(var(--spacing)*3.5)}.size-4{width:calc(var(--spacing)*4);height:calc(var(--spacing)*4)}.size-5{width:calc(var(--spacing)*5);height:calc(var(--spacing)*5)}.size-6{width:calc(var(--spacing)*6);height:calc(var(--spacing)*6)}.size-8{width:calc(var(--spacing)*8);height:calc(var(--spacing)*8)}.size-9{width:calc(var(--spacing)*9);height:calc(var(--spacing)*9)}.size-10{width:calc(var(--spacing)*10);height:calc(var(--spacing)*10)}.size-12{width:calc(var(--spacing)*12);height:calc(var(--spacing)*12)}.size-full{width:100%;height:100%}.h-\\(--radix-select-trigger-height\\){height:var(--radix-select-trigger-height)}.h-0\\.5{height:calc(var(--spacing)*.5)}.h-1\\.5{height:calc(var(--spacing)*1.5)}.h-2\\.5{height:calc(var(--spacing)*2.5)}.h-2\\/5{height:40%}.h-3{height:calc(var(--spacing)*3)}.h-3\\.5{height:calc(var(--spacing)*3.5)}.h-4{height:calc(var(--spacing)*4)}.h-5{height:calc(var(--spacing)*5)}.h-6{height:calc(var(--spacing)*6)}.h-7{height:calc(var(--spacing)*7)}.h-8{height:calc(var(--spacing)*8)}.h-9{height:calc(var(--spacing)*9)}.h-10{height:calc(var(--spacing)*10)}.h-12{height:calc(var(--spacing)*12)}.h-14{height:calc(var(--spacing)*14)}.h-32{height:calc(var(--spacing)*32)}.h-\\[1\\.15rem\\]{height:1.15rem}.h-\\[6px\\]{height:6px}.h-full{height:100%}.h-px{height:1px}.max-h-\\(--radix-select-content-available-height\\){max-height:var(--radix-select-content-available-height)}.max-h-64{max-height:calc(var(--spacing)*64)}.max-h-\\[80vh\\]{max-height:80vh}.max-h-\\[300px\\]{max-height:300px}.max-h-\\[calc\\(100vh-320px\\)\\]{max-height:calc(100vh - 320px)}.max-h-full{max-height:100%}.min-h-0{min-height:calc(var(--spacing)*0)}.min-h-1{min-height:calc(var(--spacing)*1)}.min-h-4{min-height:calc(var(--spacing)*4)}.min-h-screen{min-height:100vh}.w-\\(--chapter-fill\\){width:var(--chapter-fill)}.w-\\(--chapter-progress\\){width:var(--chapter-progress)}.w-\\(--slider-fill\\){width:var(--slider-fill)}.w-1\\/5{width:20%}.w-2\\.5{width:calc(var(--spacing)*2.5)}.w-3\\.5{width:calc(var(--spacing)*3.5)}.w-4{width:calc(var(--spacing)*4)}.w-6{width:calc(var(--spacing)*6)}.w-7{width:calc(var(--spacing)*7)}.w-8{width:calc(var(--spacing)*8)}.w-12{width:calc(var(--spacing)*12)}.w-16{width:calc(var(--spacing)*16)}.w-20{width:calc(var(--spacing)*20)}.w-24{width:calc(var(--spacing)*24)}.w-32{width:calc(var(--spacing)*32)}.w-72{width:calc(var(--spacing)*72)}.w-auto{width:auto}.w-fit{width:fit-content}.w-full{width:100%}.w-max{width:max-content}.w-px{width:1px}.max-w-0{max-width:calc(var(--spacing)*0)}.max-w-2xl{max-width:var(--container-2xl)}.max-w-3xl{max-width:var(--container-3xl)}.max-w-4xl{max-width:var(--container-4xl)}.max-w-20{max-width:calc(var(--spacing)*20)}.max-w-48{max-width:calc(var(--spacing)*48)}.max-w-72{max-width:calc(var(--spacing)*72)}.max-w-96{max-width:calc(var(--spacing)*96)}.max-w-\\[48ch\\]{max-width:48ch}.max-w-\\[200px\\]{max-width:200px}.max-w-\\[calc\\(100\\%-2rem\\)\\]{max-width:calc(100% - 2rem)}.max-w-full{max-width:100%}.max-w-md{max-width:var(--container-md)}.max-w-sm{max-width:var(--container-sm)}.min-w-\\(--radix-select-trigger-width\\){min-width:var(--radix-select-trigger-width)}.min-w-0{min-width:calc(var(--spacing)*0)}.min-w-1{min-width:calc(var(--spacing)*1)}.min-w-8{min-width:calc(var(--spacing)*8)}.min-w-9{min-width:calc(var(--spacing)*9)}.min-w-10{min-width:calc(var(--spacing)*10)}.min-w-32{min-width:calc(var(--spacing)*32)}.flex-1{flex:1}.flex-shrink-0,.shrink-0{flex-shrink:0}.grow{flex-grow:1}.origin-\\(--radix-popover-content-transform-origin\\){transform-origin:var(--radix-popover-content-transform-origin)}.origin-\\(--radix-select-content-transform-origin\\){transform-origin:var(--radix-select-content-transform-origin)}.-translate-x-1\\/2{--tw-translate-x: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-x-\\[-50\\%\\]{--tw-translate-x:-50%;translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-y-1\\/2{--tw-translate-y: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-y-\\[-50\\%\\]{--tw-translate-y:-50%;translate:var(--tw-translate-x)var(--tw-translate-y)}.transform{transform:var(--tw-rotate-x)var(--tw-rotate-y)var(--tw-rotate-z)var(--tw-skew-x)var(--tw-skew-y)}.animate-pulse{animation:var(--animate-pulse)}.animate-spin{animation:var(--animate-spin)}.vtt-editor [data-part=cue]{cursor:pointer;transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration));--tw-duration:75ms;transition-duration:75ms}.vtt-editor [data-part=cue][data-active]{border-left-style:var(--tw-border-style);border-left-width:2px;border-color:var(--mx-video-primary,var(--interactive-accent,var(--mx-primary)));background-color:color-mix(in oklab,var(--mx-video-primary,var(--interactive-accent,var(--mx-primary)))10%,transparent);color:var(--mx-video-primary,var(--interactive-accent,var(--mx-primary)))}.vtt-editor [data-part=timed]{border-radius:var(--radius-m,calc(var(--mx-radius) - 2px));transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration));--tw-duration:.15s;transition-duration:.15s}.vtt-editor [data-part=timed]:hover{background-color:color-mix(in oklab,var(--mx-video-primary,var(--interactive-accent,var(--mx-primary)))10%,transparent);color:var(--mx-video-primary,var(--interactive-accent,var(--mx-primary)))}.vtt-editor [data-part=timed][data-current]{--tw-font-weight:var(--font-bold,700);font-weight:var(--font-bold,700)}.cursor-default{cursor:default}.cursor-help{cursor:help}.cursor-pointer{cursor:pointer}.touch-none{touch-action:none}.resize{resize:both}.scroll-my-1{scroll-margin-block:calc(var(--spacing)*1)}.scroll-py-1{scroll-padding-block:calc(var(--spacing)*1)}.auto-rows-min{grid-auto-rows:min-content}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.grid-cols-\\[0_1fr\\]{grid-template-columns:0 1fr}.grid-cols-\\[1fr_min-content\\]{grid-template-columns:1fr min-content}.grid-cols-\\[auto_auto_1fr_auto\\]{grid-template-columns:auto auto 1fr auto}.grid-rows-2{grid-template-rows:repeat(2,minmax(0,1fr))}.grid-rows-\\[2\\.5rem_1fr_6px_2rem\\]{grid-template-rows:2.5rem 1fr 6px 2rem}.grid-rows-\\[2rem_1fr_2rem_6px\\]{grid-template-rows:2rem 1fr 2rem 6px}.grid-rows-\\[auto_auto\\]{grid-template-rows:auto auto}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-nowrap{flex-wrap:nowrap}.flex-wrap{flex-wrap:wrap}.place-content-end{place-content:end}.items-center{align-items:center}.items-end{align-items:flex-end}.items-start{align-items:flex-start}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.justify-end{justify-content:flex-end}.justify-start{justify-content:flex-start}.justify-items-start{justify-items:start}.gap-0\\.5{gap:calc(var(--spacing)*.5)}.gap-1{gap:calc(var(--spacing)*1)}.gap-1\\.5{gap:calc(var(--spacing)*1.5)}.gap-2{gap:calc(var(--spacing)*2)}.gap-3{gap:calc(var(--spacing)*3)}.gap-4{gap:calc(var(--spacing)*4)}.gap-6{gap:calc(var(--spacing)*6)}:where(.space-y-0>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*0)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*0)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-0\\.5>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*.5)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*.5)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-1>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*1)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*1)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-2>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*2)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*2)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-3>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*3)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*3)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-4>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*4)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*4)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-6>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*6)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*6)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-8>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*8)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*8)*calc(1 - var(--tw-space-y-reverse)))}.gap-x-0\\.5{column-gap:calc(var(--spacing)*.5)}.gap-x-1{column-gap:calc(var(--spacing)*1)}.gap-x-1\\.5{column-gap:calc(var(--spacing)*1.5)}.gap-x-2{column-gap:calc(var(--spacing)*2)}.gap-x-4{column-gap:calc(var(--spacing)*4)}:where(.space-x-1>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing)*1)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing)*1)*calc(1 - var(--tw-space-x-reverse)))}:where(.space-x-3>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing)*3)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing)*3)*calc(1 - var(--tw-space-x-reverse)))}.gap-y-0\\.5{row-gap:calc(var(--spacing)*.5)}.gap-y-1{row-gap:calc(var(--spacing)*1)}.gap-y-2{row-gap:calc(var(--spacing)*2)}.self-start{align-self:flex-start}.justify-self-end{justify-self:flex-end}.truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.overflow-hidden{overflow:hidden}.overflow-x-hidden{overflow-x:hidden}.overflow-y-auto{overflow-y:auto}.rounded{border-radius:.25rem}.rounded-\\[1px\\]{border-radius:1px}.rounded-\\[4px\\]{border-radius:4px}.rounded-\\[inherit\\]{border-radius:inherit}.rounded-full{border-radius:3.40282e38px}.rounded-lg{border-radius:var(--radius-l,var(--mx-radius))}.rounded-md{border-radius:var(--radius-m,calc(var(--mx-radius) - 2px))}.rounded-none{border-radius:0}.rounded-sm{border-radius:var(--radius-s,calc(var(--mx-radius) - 4px))}.rounded-xl{border-radius:var(--radius-xl,calc(var(--mx-radius) + 4px))}.rounded-xs{border-radius:var(--radius-xs)}.rounded-b-md{border-bottom-right-radius:var(--radius-m,calc(var(--mx-radius) - 2px));border-bottom-left-radius:var(--radius-m,calc(var(--mx-radius) - 2px))}.border{border-style:var(--tw-border-style);border-width:1px}.border-2{border-style:var(--tw-border-style);border-width:2px}.border-t{border-top-style:var(--tw-border-style);border-top-width:1px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-l{border-left-style:var(--tw-border-style);border-left-width:1px}.border-dashed{--tw-border-style:dashed;border-style:dashed}.border-background\\/20{border-color:color-mix(in oklab,var(--mx-video-background,var(--background-primary,var(--mx-background)))20%,transparent)}.border-blue-200{border-color:var(--color-blue-200)}.border-border{border-color:var(--mx-video-border,var(--background-modifier-border,var(--mx-border)))}.border-border\\/20{border-color:color-mix(in oklab,var(--mx-video-border,var(--background-modifier-border,var(--mx-border)))20%,transparent)}.border-emerald-300{border-color:var(--color-emerald-300)}.border-gray-200{border-color:var(--color-gray-200)}.border-gray-300{border-color:var(--color-gray-300)}.border-green-200{border-color:var(--color-green-200)}.border-input{border-color:var(--mx-video-input,var(--background-modifier-border,var(--mx-input)))}.border-orange-300{border-color:var(--color-orange-300)}.border-red-200{border-color:var(--color-red-200)}.border-transparent{border-color:#0000}.border-t-transparent{border-top-color:#0000}.border-l-transparent{border-left-color:#0000}.bg-accent{background-color:var(--mx-video-accent,var(--background-modifier-hover,var(--mx-accent)))}.bg-background{background-color:var(--mx-video-background,var(--background-primary,var(--mx-background)))}.bg-background\\/10{background-color:color-mix(in oklab,var(--mx-video-background,var(--background-primary,var(--mx-background)))10%,transparent)}.bg-background\\/50{background-color:color-mix(in oklab,var(--mx-video-background,var(--background-primary,var(--mx-background)))50%,transparent)}.bg-background\\/90{background-color:color-mix(in oklab,var(--mx-video-background,var(--background-primary,var(--mx-background)))90%,transparent)}.bg-black\\/50{background-color:color-mix(in oklab,var(--color-black)50%,transparent)}.bg-blue-50{background-color:var(--color-blue-50)}.bg-blue-500{background-color:var(--color-blue-500)}.bg-blue-600{background-color:var(--color-blue-600)}.bg-border{background-color:var(--mx-video-border,var(--background-modifier-border,var(--mx-border)))}.bg-card{background-color:var(--mx-video-card,var(--background-primary,var(--mx-card)))}.bg-destructive{background-color:var(--background-modifier-error,var(--mx-destructive))}.bg-emerald-100{background-color:var(--color-emerald-100)}.bg-foreground\\/80{background-color:color-mix(in oklab,var(--mx-video-foreground,var(--text-normal,var(--mx-foreground)))80%,transparent)}.bg-gray-50{background-color:var(--color-gray-50)}.bg-gray-200{background-color:var(--color-gray-200)}.bg-gray-300{background-color:var(--color-gray-300)}.bg-green-50{background-color:var(--color-green-50)}.bg-muted\\/20{background-color:color-mix(in oklab,var(--mx-video-muted,var(--background-primary-alt,var(--mx-muted)))20%,transparent)}.bg-muted\\/50{background-color:color-mix(in oklab,var(--mx-video-muted,var(--background-primary-alt,var(--mx-muted)))50%,transparent)}.bg-orange-100{background-color:var(--color-orange-100)}.bg-popover{background-color:var(--mx-popover)}.bg-primary{background-color:var(--mx-video-primary,var(--interactive-accent,var(--mx-primary)))}.bg-primary\\/40{background-color:color-mix(in oklab,var(--mx-video-primary,var(--interactive-accent,var(--mx-primary)))40%,transparent)}.bg-red-50{background-color:var(--color-red-50)}.bg-secondary{background-color:var(--mx-video-secondary,var(--background-secondary,var(--mx-secondary)))}.bg-secondary-foreground\\/20{background-color:color-mix(in oklab,var(--mx-video-secondary-foreground,var(--text-normal,var(--mx-secondary-foreground)))20%,transparent)}.bg-secondary\\/60{background-color:color-mix(in oklab,var(--mx-video-secondary,var(--background-secondary,var(--mx-secondary)))60%,transparent)}.bg-thumb{background-color:var(--mx-video-thumb,var(--background-primary,var(--mx-background)))}.bg-transparent{background-color:#0000}.bg-white{background-color:var(--color-white)}.bg-linear-to-t{--tw-gradient-position:to top in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.from-video-overlay\\/20{--tw-gradient-from:color-mix(in oklab,var(--mx-video-overlay)20%,transparent);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-0\\%{--tw-gradient-from-position:0%}.via-transparent{--tw-gradient-via:transparent;--tw-gradient-via-stops:var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-via)var(--tw-gradient-via-position),var(--tw-gradient-to)var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-via-stops)}.via-\\[4rem_calc\\(100\\%-5rem\\)\\]{--tw-gradient-via-position:4rem calc(100% - 5rem) }.to-video-overlay\\/20{--tw-gradient-to:color-mix(in oklab,var(--mx-video-overlay)20%,transparent);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-100\\%{--tw-gradient-to-position:100%}.object-contain{object-fit:contain}.p-0{padding:calc(var(--spacing)*0)}.p-1{padding:calc(var(--spacing)*1)}.p-1\\.5{padding:calc(var(--spacing)*1.5)}.p-2{padding:calc(var(--spacing)*2)}.p-3{padding:calc(var(--spacing)*3)}.p-4{padding:calc(var(--spacing)*4)}.p-6{padding:calc(var(--spacing)*6)}.p-px{padding:1px}.px-1{padding-inline:calc(var(--spacing)*1)}.px-1\\.5{padding-inline:calc(var(--spacing)*1.5)}.px-2{padding-inline:calc(var(--spacing)*2)}.px-2\\.5{padding-inline:calc(var(--spacing)*2.5)}.px-3{padding-inline:calc(var(--spacing)*3)}.px-4{padding-inline:calc(var(--spacing)*4)}.px-5{padding-inline:calc(var(--spacing)*5)}.px-6{padding-inline:calc(var(--spacing)*6)}.px-px{padding-inline:1px}.py-0\\.5{padding-block:calc(var(--spacing)*.5)}.py-1{padding-block:calc(var(--spacing)*1)}.py-1\\.5{padding-block:calc(var(--spacing)*1.5)}.py-2{padding-block:calc(var(--spacing)*2)}.py-3{padding-block:calc(var(--spacing)*3)}.py-4{padding-block:calc(var(--spacing)*4)}.py-6{padding-block:calc(var(--spacing)*6)}.py-8{padding-block:calc(var(--spacing)*8)}.py-12{padding-block:calc(var(--spacing)*12)}.py-px{padding-block:1px}.pt-3{padding-top:calc(var(--spacing)*3)}.pt-4{padding-top:calc(var(--spacing)*4)}.pr-2{padding-right:calc(var(--spacing)*2)}.pr-3{padding-right:calc(var(--spacing)*3)}.pr-4{padding-right:calc(var(--spacing)*4)}.pr-8{padding-right:calc(var(--spacing)*8)}.pb-2{padding-bottom:calc(var(--spacing)*2)}.pb-3{padding-bottom:calc(var(--spacing)*3)}.pb-4{padding-bottom:calc(var(--spacing)*4)}.pb-\\[calc\\(var\\(--editor-height\\)-4rem\\)\\]{padding-bottom:calc(var(--editor-height) - 4rem)}.pl-0{padding-left:calc(var(--spacing)*0)}.pl-1{padding-left:calc(var(--spacing)*1)}.pl-2{padding-left:calc(var(--spacing)*2)}.pl-10{padding-left:calc(var(--spacing)*10)}.text-center{text-align:center}.align-text-bottom{vertical-align:text-bottom}.font-mono{font-family:var(--font-mono)}.font-sans{font-family:var(--font-sans)}.text-3xl{font-size:calc(var(--font-ui-large,20px)*1.5);line-height:var(--tw-leading,var(--text-3xl--line-height))}.text-4xl{font-size:calc(var(--font-ui-large,20px)*1.8);line-height:var(--tw-leading,var(--text-4xl--line-height))}.text-base{font-size:var(--font-ui-medium,1rem);line-height:var(--tw-leading,var(--text-base--line-height))}.text-lg{font-size:calc(var(--font-ui-large,20px)*.9);line-height:var(--tw-leading,var(--text-lg--line-height))}.text-sm{font-size:var(--font-ui-small,.875rem);line-height:var(--tw-leading,var(--text-sm--line-height))}.text-xl{font-size:var(--font-ui-large,1.25rem);line-height:var(--tw-leading,var(--text-xl--line-height))}.text-xs{font-size:var(--font-ui-smaller,.75rem);line-height:var(--tw-leading,var(--text-xs--line-height))}.text-\\[13px\\]{font-size:13px}.leading-none{--tw-leading:1;line-height:1}.leading-relaxed{--tw-leading:var(--leading-relaxed);line-height:var(--leading-relaxed)}.leading-tight{--tw-leading:var(--leading-tight);line-height:var(--leading-tight)}.font-bold{--tw-font-weight:var(--font-bold,700);font-weight:var(--font-bold,700)}.font-medium{--tw-font-weight:var(--font-medium,500);font-weight:var(--font-medium,500)}.font-semibold{--tw-font-weight:var(--font-semibold,600);font-weight:var(--font-semibold,600)}.tracking-tight{--tw-tracking:var(--tracking-tight);letter-spacing:var(--tracking-tight)}.tracking-wider{--tw-tracking:var(--tracking-wider);letter-spacing:var(--tracking-wider)}.tracking-widest{--tw-tracking:var(--tracking-widest);letter-spacing:var(--tracking-widest)}.text-balance{text-wrap:balance}.break-words{overflow-wrap:break-word}.whitespace-nowrap{white-space:nowrap}.text-accent-foreground{color:var(--mx-video-accent-foreground,var(--text-normal,var(--mx-accent-foreground)))}.text-blue-600{color:var(--color-blue-600)}.text-blue-700{color:var(--color-blue-700)}.text-card-foreground{color:var(--mx-video-card-foreground,var(--text-normal,var(--mx-card-foreground)))}.text-current{color:currentColor}.text-destructive{color:var(--background-modifier-error,var(--mx-destructive))}.text-emerald-600{color:var(--color-emerald-600)}.text-emerald-700{color:var(--color-emerald-700)}.text-foreground{color:var(--mx-video-foreground,var(--text-normal,var(--mx-foreground)))}.text-gray-400{color:var(--color-gray-400)}.text-gray-500{color:var(--color-gray-500)}.text-gray-600{color:var(--color-gray-600)}.text-gray-900{color:var(--color-gray-900)}.text-green-600{color:var(--color-green-600)}.text-green-700{color:var(--color-green-700)}.text-muted-foreground{color:var(--mx-video-muted-foreground,var(--text-muted,var(--mx-muted-foreground)))}.text-orange-600{color:var(--color-orange-600)}.text-orange-700{color:var(--color-orange-700)}.text-popover-foreground{color:var(--mx-popover-foreground)}.text-primary{color:var(--mx-video-primary,var(--interactive-accent,var(--mx-primary)))}.text-primary-foreground{color:var(--mx-video-primary-foreground,var(--text-on-accent,var(--mx-primary-foreground)))}.text-red-600{color:var(--color-red-600)}.text-secondary-foreground{color:var(--mx-video-secondary-foreground,var(--text-normal,var(--mx-secondary-foreground)))}.text-success{color:var(--background-modifier-success,var(--mx-success))}.text-warning{color:var(--color-orange,var(--mx-warning))}.text-white{color:var(--color-white)}.uppercase{text-transform:uppercase}.italic{font-style:italic}.underline-offset-4{text-underline-offset:4px}.opacity-0{opacity:0}.opacity-50{opacity:.5}.opacity-60{opacity:.6}.opacity-70{opacity:.7}.opacity-80{opacity:.8}.opacity-100{opacity:1}.shadow{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px var(--tw-shadow-color,#0000001a),0 2px 4px -2px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-none{--tw-shadow:0 0 #0000;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-xs{--tw-shadow:0 1px 2px 0 var(--tw-shadow-color,#0000000d);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentColor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-0{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(0px + var(--tw-ring-offset-width))var(--tw-ring-color,currentColor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-ring{--tw-ring-color:var(--mx-video-ring,var(--background-modifier-border-focus,var(--mx-ring)))}.ring-ring\\/10{--tw-ring-color:color-mix(in oklab,var(--mx-video-ring,var(--background-modifier-border-focus,var(--mx-ring)))10%,transparent)}.ring-transparent{--tw-ring-color:transparent}.ring-offset-1{--tw-ring-offset-width:1px;--tw-ring-offset-shadow:var(--tw-ring-inset,)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color)}.ring-offset-background{--tw-ring-offset-color:var(--mx-video-background,var(--background-primary,var(--mx-background)))}.ring-offset-primary{--tw-ring-offset-color:var(--mx-video-primary,var(--interactive-accent,var(--mx-primary)))}.outline-hidden{--tw-outline-style:none;outline-style:none}@media (forced-colors:active){.outline-hidden{outline-offset:2px;outline:2px solid #0000}}.outline{outline-style:var(--tw-outline-style);outline-width:1px}.outline-ring\\/50{outline-color:color-mix(in oklab,var(--mx-video-ring,var(--background-modifier-border-focus,var(--mx-ring)))50%,transparent)}.invert{--tw-invert:invert(100%);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.backdrop-blur-sm{--tw-backdrop-blur:blur(var(--blur-sm));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.transition-\\[color\\,box-shadow\\]{transition-property:color,box-shadow;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[max-width\\]{transition-property:max-width;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[opacity\\,bottom\\]{transition-property:opacity,bottom;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[opacity\\,box-shadow\\]{transition-property:opacity,box-shadow;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-\\[opacity\\,padding\\,font-size\\]{transition-property:opacity,padding,font-size;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-opacity{transition-property:opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-shadow{transition-property:box-shadow;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-none{transition-property:none}.delay-0{transition-delay:0s}.duration-100{--tw-duration:.1s;transition-duration:.1s}.duration-200{--tw-duration:.2s;transition-duration:.2s}.duration-300{--tw-duration:.3s;transition-duration:.3s}.ease-in-out{--tw-ease:var(--ease-in-out);transition-timing-function:var(--ease-in-out)}.will-change-\\[left\\]{will-change:left}.will-change-\\[width\\]{will-change:width}.delay-0{animation-delay:0s}.outline-none{--tw-outline-style:none;outline-style:none}.select-none{-webkit-user-select:none;user-select:none}.select-text{-webkit-user-select:text;user-select:text}.not-group-data-active\\:opacity-0:not(:is(:where(.group)[data-active] *)),.not-group-data-muted\\:opacity-0:not(:is(:where(.group)[data-muted] *)),.not-group-data-paused\\:opacity-0:not(:is(:where(.group)[data-paused] *)),.not-group-data-\\[state\\=high\\]\\:opacity-0:not(:is(:where(.group)[data-state=high] *)),.not-group-data-\\[state\\=low\\]\\:opacity-0:not(:is(:where(.group)[data-state=low] *)){opacity:0}.not-data-supported\\:hidden:not([data-supported]){display:none}@media (hover:hover){.group-hover\\:max-w-full:is(:where(.group):hover *){max-width:100%}.group-hover\\:text-blue-700:is(:where(.group):hover *){color:var(--color-blue-700)}.group-hover\\:text-foreground:is(:where(.group):hover *){color:var(--mx-video-foreground,var(--text-normal,var(--mx-foreground)))}.group-hover\\:text-primary:is(:where(.group):hover *){color:var(--mx-video-primary,var(--interactive-accent,var(--mx-primary)))}.group-hover\\:opacity-100:is(:where(.group):hover *){opacity:1}.group-hover\\:shadow-sm:is(:where(.group):hover *){--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.group-hover\\:delay-200:is(:where(.group):hover *){transition-delay:.2s;animation-delay:.2s}.group-hover\\/cue\\:h-2\\.5:is(:where(.group\\/cue):hover *){height:calc(var(--spacing)*2.5)}.group-hover\\/cue\\:max-h-2\\.5:is(:where(.group\\/cue):hover *){max-height:calc(var(--spacing)*2.5)}}.group-data-active\\:opacity-0:is(:where(.group)[data-active] *){opacity:0}.group-data-active\\:opacity-100:is(:where(.group)[data-active] *){opacity:1}.group-data-dragging\\:ring-2:is(:where(.group)[data-dragging] *){--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentColor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.group-data-dragging\\:ring-thumb\\/30:is(:where(.group)[data-dragging] *){--tw-ring-color:color-mix(in oklab,var(--mx-video-thumb,var(--background-primary,var(--mx-background)))30%,transparent)}.group-data-focus\\:h-2:is(:where(.group)[data-focus] *){height:calc(var(--spacing)*2)}.group-data-focus\\:ring-2:is(:where(.group)[data-focus] *){--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentColor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.group-data-focus\\:ring-ring:is(:where(.group)[data-focus] *){--tw-ring-color:var(--mx-video-ring,var(--background-modifier-border-focus,var(--mx-ring)))}.group-data-focus\\:outline-2:is(:where(.group)[data-focus] *){outline-style:var(--tw-outline-style);outline-width:2px}.group-data-focus\\:outline-offset-1:is(:where(.group)[data-focus] *){outline-offset:1px}.group-data-focus\\:outline-ring:is(:where(.group)[data-focus] *){outline-color:var(--mx-video-ring,var(--background-modifier-border-focus,var(--mx-ring)))}.group-data-muted\\:opacity-0:is(:where(.group)[data-muted] *),.group-data-paused\\:opacity-0:is(:where(.group)[data-paused] *){opacity:0}.group-data-pointing\\:opacity-100:is(:where(.group)[data-pointing] *){opacity:1}.group-data-\\[disabled\\=true\\]\\:pointer-events-none:is(:where(.group)[data-disabled=true] *){pointer-events:none}.group-data-\\[disabled\\=true\\]\\:opacity-50:is(:where(.group)[data-disabled=true] *){opacity:.5}.group-data-\\[state\\=high\\]\\:opacity-0:is(:where(.group)[data-state=high] *){opacity:0}.group-\\[\\&\\:hover\\]\\/vol-ctrl\\:mr-3:is(:where(.group\\/vol-ctrl):hover *){margin-right:calc(var(--spacing)*3)}.group-\\[\\&\\:hover\\]\\/vol-ctrl\\:pl-2:is(:where(.group\\/vol-ctrl):hover *){padding-left:calc(var(--spacing)*2)}.peer-focus-visible\\:mr-3:is(:where(.peer):focus-visible~*){margin-right:calc(var(--spacing)*3)}.peer-focus-visible\\:max-w-full:is(:where(.peer):focus-visible~*){max-width:100%}.peer-focus-visible\\:pl-2:is(:where(.peer):focus-visible~*){padding-left:calc(var(--spacing)*2)}.peer-focus-visible\\:opacity-100:is(:where(.peer):focus-visible~*){opacity:1}.peer-disabled\\:cursor-not-allowed:is(:where(.peer):disabled~*){cursor:not-allowed}.peer-disabled\\:opacity-50:is(:where(.peer):disabled~*){opacity:.5}.selection\\:bg-primary ::selection{background-color:var(--mx-video-primary,var(--interactive-accent,var(--mx-primary)))}.selection\\:bg-primary::selection{background-color:var(--mx-video-primary,var(--interactive-accent,var(--mx-primary)))}.selection\\:text-primary-foreground ::selection{color:var(--mx-video-primary-foreground,var(--text-on-accent,var(--mx-primary-foreground)))}.selection\\:text-primary-foreground::selection{color:var(--mx-video-primary-foreground,var(--text-on-accent,var(--mx-primary-foreground)))}.file\\:inline-flex::file-selector-button{display:inline-flex}.file\\:h-7::file-selector-button{height:calc(var(--spacing)*7)}.file\\:border-0::file-selector-button{border-style:var(--tw-border-style);border-width:0}.file\\:bg-transparent::file-selector-button{background-color:#0000}.file\\:text-sm::file-selector-button{font-size:var(--font-ui-small,.875rem);line-height:var(--tw-leading,var(--text-sm--line-height))}.file\\:font-medium::file-selector-button{--tw-font-weight:var(--font-medium,500);font-weight:var(--font-medium,500)}.file\\:text-foreground::file-selector-button{color:var(--mx-video-foreground,var(--text-normal,var(--mx-foreground)))}.placeholder\\:text-muted-foreground::placeholder{color:var(--mx-video-muted-foreground,var(--text-muted,var(--mx-muted-foreground)))}.first\\:rounded-l-md:first-child{border-top-left-radius:var(--radius-m,calc(var(--mx-radius) - 2px));border-bottom-left-radius:var(--radius-m,calc(var(--mx-radius) - 2px))}.last\\:rounded-r-md:last-child{border-top-right-radius:var(--radius-m,calc(var(--mx-radius) - 2px));border-bottom-right-radius:var(--radius-m,calc(var(--mx-radius) - 2px))}.empty\\:hidden:empty{display:none}@media (hover:hover){.hover\\:max-w-full:hover{max-width:100%}.hover\\:border-blue-300:hover{border-color:var(--color-blue-300)}.hover\\:border-primary:hover{border-color:var(--mx-video-primary,var(--interactive-accent,var(--mx-primary)))}.hover\\:bg-accent:hover{background-color:var(--mx-video-accent,var(--background-modifier-hover,var(--mx-accent)))}.hover\\:bg-accent\\/30:hover{background-color:color-mix(in oklab,var(--mx-video-accent,var(--background-modifier-hover,var(--mx-accent)))30%,transparent)}.hover\\:bg-accent\\/50:hover{background-color:color-mix(in oklab,var(--mx-video-accent,var(--background-modifier-hover,var(--mx-accent)))50%,transparent)}.hover\\:bg-background\\/10:hover{background-color:color-mix(in oklab,var(--mx-video-background,var(--background-primary,var(--mx-background)))10%,transparent)}.hover\\:bg-blue-50:hover{background-color:var(--color-blue-50)}.hover\\:bg-blue-100:hover{background-color:var(--color-blue-100)}.hover\\:bg-blue-700:hover{background-color:var(--color-blue-700)}.hover\\:bg-destructive\\/10:hover{background-color:color-mix(in oklab,var(--background-modifier-error,var(--mx-destructive))10%,transparent)}.hover\\:bg-destructive\\/90:hover{background-color:color-mix(in oklab,var(--background-modifier-error,var(--mx-destructive))90%,transparent)}.hover\\:bg-emerald-200:hover{background-color:var(--color-emerald-200)}.hover\\:bg-green-100:hover{background-color:var(--color-green-100)}.hover\\:bg-muted:hover{background-color:var(--mx-video-muted,var(--background-primary-alt,var(--mx-muted)))}.hover\\:bg-orange-200:hover{background-color:var(--color-orange-200)}.hover\\:bg-primary\\/80:hover{background-color:color-mix(in oklab,var(--mx-video-primary,var(--interactive-accent,var(--mx-primary)))80%,transparent)}.hover\\:bg-primary\\/90:hover{background-color:color-mix(in oklab,var(--mx-video-primary,var(--interactive-accent,var(--mx-primary)))90%,transparent)}.hover\\:bg-red-100:hover{background-color:var(--color-red-100)}.hover\\:bg-secondary\\/80:hover{background-color:color-mix(in oklab,var(--mx-video-secondary,var(--background-secondary,var(--mx-secondary)))80%,transparent)}.hover\\:text-accent-foreground:hover{color:var(--mx-video-accent-foreground,var(--text-normal,var(--mx-accent-foreground)))}.hover\\:text-background:hover{color:var(--mx-video-background,var(--background-primary,var(--mx-background)))}.hover\\:text-blue-600:hover{color:var(--color-blue-600)}.hover\\:text-destructive:hover{color:var(--background-modifier-error,var(--mx-destructive))}.hover\\:text-muted-foreground:hover{color:var(--mx-video-muted-foreground,var(--text-muted,var(--mx-muted-foreground)))}.hover\\:underline:hover{text-decoration-line:underline}.hover\\:opacity-100:hover{opacity:1}.hover\\:shadow-md:hover{--tw-shadow:0 4px 6px -1px var(--tw-shadow-color,#0000001a),0 2px 4px -2px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.hover\\:delay-200:hover{transition-delay:.2s;animation-delay:.2s}}.focus\\:z-10:focus{z-index:10}.focus\\:bg-accent:focus{background-color:var(--mx-video-accent,var(--background-modifier-hover,var(--mx-accent)))}.focus\\:text-accent-foreground:focus{color:var(--mx-video-accent-foreground,var(--text-normal,var(--mx-accent-foreground)))}.focus\\:ring-2:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentColor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus\\:ring-ring:focus{--tw-ring-color:var(--mx-video-ring,var(--background-modifier-border-focus,var(--mx-ring)))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width:2px;--tw-ring-offset-shadow:var(--tw-ring-inset,)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color)}.focus\\:outline-hidden:focus{--tw-outline-style:none;outline-style:none}@media (forced-colors:active){.focus\\:outline-hidden:focus{outline-offset:2px;outline:2px solid #0000}}.focus-visible\\:z-10:focus-visible{z-index:10}.focus-visible\\:mr-3:focus-visible{margin-right:calc(var(--spacing)*3)}.focus-visible\\:max-w-full:focus-visible{max-width:100%}.focus-visible\\:border-ring:focus-visible{border-color:var(--mx-video-ring,var(--background-modifier-border-focus,var(--mx-ring)))}.focus-visible\\:pl-2:focus-visible{padding-left:calc(var(--spacing)*2)}.focus-visible\\:opacity-100:focus-visible{opacity:1}.focus-visible\\:ring-4:focus-visible{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(4px + var(--tw-ring-offset-width))var(--tw-ring-color,currentColor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus-visible\\:ring-\\[3px\\]:focus-visible{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(3px + var(--tw-ring-offset-width))var(--tw-ring-color,currentColor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus-visible\\:ring-destructive\\/20:focus-visible{--tw-ring-color:color-mix(in oklab,var(--background-modifier-error,var(--mx-destructive))20%,transparent)}.focus-visible\\:ring-ring\\/50:focus-visible{--tw-ring-color:color-mix(in oklab,var(--mx-video-ring,var(--background-modifier-border-focus,var(--mx-ring)))50%,transparent)}.focus-visible\\:outline-1:focus-visible{outline-style:var(--tw-outline-style);outline-width:1px}.disabled\\:pointer-events-none:disabled{pointer-events:none}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:opacity-50:disabled{opacity:.5}@media (hover:hover){.disabled\\:hover\\:bg-transparent:disabled:hover{background-color:#0000}.disabled\\:hover\\:text-accent-foreground:disabled:hover{color:var(--mx-video-accent-foreground,var(--text-normal,var(--mx-accent-foreground)))}}.has-focus-visible\\:ring-2:has(:focus-visible){--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentColor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.has-focus-visible\\:ring-ring:has(:focus-visible){--tw-ring-color:var(--mx-video-ring,var(--background-modifier-border-focus,var(--mx-ring)))}.has-focus-visible\\:ring-offset-2:has(:focus-visible){--tw-ring-offset-width:2px;--tw-ring-offset-shadow:var(--tw-ring-inset,)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color)}.has-focus-visible\\:outline-hidden:has(:focus-visible){--tw-outline-style:none;outline-style:none}@media (forced-colors:active){.has-focus-visible\\:outline-hidden:has(:focus-visible){outline-offset:2px;outline:2px solid #0000}}.has-data-\\[slot\\=card-action\\]\\:grid-cols-\\[1fr_auto\\]:has([data-slot=card-action]){grid-template-columns:1fr auto}.has-\\[\\>svg\\]\\:grid-cols-\\[calc\\(var\\(--spacing\\)\\*4\\)_1fr\\]:has(>svg){grid-template-columns:calc(var(--spacing)*4)1fr}.has-\\[\\>svg\\]\\:gap-x-3:has(>svg){column-gap:calc(var(--spacing)*3)}.has-\\[\\>svg\\]\\:px-2\\.5:has(>svg){padding-inline:calc(var(--spacing)*2.5)}.has-\\[\\>svg\\]\\:px-3:has(>svg){padding-inline:calc(var(--spacing)*3)}.has-\\[\\>svg\\]\\:px-4:has(>svg){padding-inline:calc(var(--spacing)*4)}.aria-disabled\\:cursor-auto[aria-disabled=true]{cursor:auto}.aria-hidden\\:hidden[aria-hidden=true]{display:none}.aria-invalid\\:border-destructive[aria-invalid=true]{border-color:var(--background-modifier-error,var(--mx-destructive))}.aria-invalid\\:ring-destructive\\/20[aria-invalid=true]{--tw-ring-color:color-mix(in oklab,var(--background-modifier-error,var(--mx-destructive))20%,transparent)}.aria-invalid\\:focus-visible\\:ring-0[aria-invalid=true]:focus-visible{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(0px + var(--tw-ring-offset-width))var(--tw-ring-color,currentColor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.data-active\\:mr-3[data-active]{margin-right:calc(var(--spacing)*3)}.data-active\\:pl-2[data-active]{padding-left:calc(var(--spacing)*2)}.data-disabled\\:pointer-events-none[data-disabled]{pointer-events:none}.data-disabled\\:opacity-50[data-disabled]{opacity:.5}.data-enabled\\:max-w-full[data-enabled]{max-width:100%}.data-enabled\\:opacity-100[data-enabled]{opacity:1}.data-focus\\:ring-4[data-focus]{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(4px + var(--tw-ring-offset-width))var(--tw-ring-color,currentColor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}:is(.\\*\\*\\:data-media-provider\\:origin-center *)[data-media-provider]{transform-origin:50%}:is(.\\*\\*\\:data-media-provider\\:scale-x-\\[-1\\] *)[data-media-provider]{--tw-scale-x:-1;scale:var(--tw-scale-x)var(--tw-scale-y)}:is(.\\*\\*\\:data-media-provider\\:scale-y-\\[-1\\] *)[data-media-provider]{--tw-scale-y:-1;scale:var(--tw-scale-x)var(--tw-scale-y)}:is(.\\*\\*\\:data-media-provider\\:\\!rounded-none *)[data-media-provider]{border-radius:0!important}.data-placeholder\\:text-muted-foreground[data-placeholder]{color:var(--mx-video-muted-foreground,var(--text-muted,var(--mx-muted-foreground)))}.data-\\[copy-state\\=copied\\]\\:text-success[data-copy-state=copied]{color:var(--background-modifier-success,var(--mx-success))}.data-\\[copy-state\\=copying\\]\\:text-muted-foreground[data-copy-state=copying]{color:var(--mx-video-muted-foreground,var(--text-muted,var(--mx-muted-foreground)))}.data-\\[copy-state\\=error\\]\\:text-destructive[data-copy-state=error]{color:var(--background-modifier-error,var(--mx-destructive))}.data-\\[disabled\\=true\\]\\:pointer-events-none[data-disabled=true]{pointer-events:none}.data-\\[disabled\\=true\\]\\:opacity-50[data-disabled=true]{opacity:.5}.data-\\[error\\=true\\]\\:text-destructive[data-error=true]{color:var(--background-modifier-error,var(--mx-destructive))}.data-\\[orientation\\=horizontal\\]\\:h-px[data-orientation=horizontal]{height:1px}.data-\\[orientation\\=horizontal\\]\\:w-full[data-orientation=horizontal]{width:100%}.data-\\[orientation\\=vertical\\]\\:h-3[data-orientation=vertical]{height:calc(var(--spacing)*3)}.data-\\[orientation\\=vertical\\]\\:h-full[data-orientation=vertical]{height:100%}.data-\\[orientation\\=vertical\\]\\:w-px[data-orientation=vertical]{width:1px}.data-\\[selected\\=true\\]\\:bg-accent[data-selected=true]{background-color:var(--mx-video-accent,var(--background-modifier-hover,var(--mx-accent)))}.data-\\[selected\\=true\\]\\:text-accent-foreground[data-selected=true]{color:var(--mx-video-accent-foreground,var(--text-normal,var(--mx-accent-foreground)))}.data-\\[side\\=bottom\\]\\:translate-y-1[data-side=bottom]{--tw-translate-y:calc(var(--spacing)*1);translate:var(--tw-translate-x)var(--tw-translate-y)}.data-\\[side\\=bottom\\]\\:slide-in-from-top-2[data-side=bottom]{--tw-enter-translate-y:calc(2*var(--spacing)*-1)}.data-\\[side\\=left\\]\\:-translate-x-1[data-side=left]{--tw-translate-x:calc(var(--spacing)*-1);translate:var(--tw-translate-x)var(--tw-translate-y)}.data-\\[side\\=left\\]\\:slide-in-from-right-2[data-side=left]{--tw-enter-translate-x:calc(2*var(--spacing))}.data-\\[side\\=right\\]\\:translate-x-1[data-side=right]{--tw-translate-x:calc(var(--spacing)*1);translate:var(--tw-translate-x)var(--tw-translate-y)}.data-\\[side\\=right\\]\\:slide-in-from-left-2[data-side=right]{--tw-enter-translate-x:calc(2*var(--spacing)*-1)}.data-\\[side\\=top\\]\\:-translate-y-1[data-side=top]{--tw-translate-y:calc(var(--spacing)*-1);translate:var(--tw-translate-x)var(--tw-translate-y)}.data-\\[side\\=top\\]\\:slide-in-from-bottom-2[data-side=top]{--tw-enter-translate-y:calc(2*var(--spacing))}.data-\\[size\\=default\\]\\:h-9[data-size=default]{height:calc(var(--spacing)*9)}.data-\\[size\\=sm\\]\\:h-8[data-size=sm]{height:calc(var(--spacing)*8)}:is(.\\*\\:data-\\[slot\\=alert-description\\]\\:text-destructive\\/90>*)[data-slot=alert-description]{color:color-mix(in oklab,var(--background-modifier-error,var(--mx-destructive))90%,transparent)}:is(.\\*\\*\\:data-\\[slot\\=command-input-wrapper\\]\\:h-12 *)[data-slot=command-input-wrapper]{height:calc(var(--spacing)*12)}:is(.\\*\\:data-\\[slot\\=select-value\\]\\:line-clamp-1>*)[data-slot=select-value]{-webkit-line-clamp:1;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}:is(.\\*\\:data-\\[slot\\=select-value\\]\\:flex>*)[data-slot=select-value]{display:flex}:is(.\\*\\:data-\\[slot\\=select-value\\]\\:items-center>*)[data-slot=select-value]{align-items:center}:is(.\\*\\:data-\\[slot\\=select-value\\]\\:gap-2>*)[data-slot=select-value]{gap:calc(var(--spacing)*2)}.data-\\[state\\=checked\\]\\:translate-x-\\[calc\\(100\\%-2px\\)\\][data-state=checked]{--tw-translate-x: calc(100% - 2px) ;translate:var(--tw-translate-x)var(--tw-translate-y)}.data-\\[state\\=checked\\]\\:border-primary[data-state=checked]{border-color:var(--mx-video-primary,var(--interactive-accent,var(--mx-primary)))}.data-\\[state\\=checked\\]\\:bg-primary[data-state=checked]{background-color:var(--mx-video-primary,var(--interactive-accent,var(--mx-primary)))}.data-\\[state\\=checked\\]\\:text-primary-foreground[data-state=checked]{color:var(--mx-video-primary-foreground,var(--text-on-accent,var(--mx-primary-foreground)))}.data-\\[state\\=closed\\]\\:animate-out[data-state=closed]{animation:exit var(--tw-duration,.15s)var(--tw-ease,ease)}.data-\\[state\\=closed\\]\\:fade-out-0[data-state=closed]{--tw-exit-opacity:0}.data-\\[state\\=closed\\]\\:zoom-out-95[data-state=closed]{--tw-exit-scale:.95}.data-\\[state\\=on\\]\\:bg-accent[data-state=on]{background-color:var(--mx-video-accent,var(--background-modifier-hover,var(--mx-accent)))}.data-\\[state\\=on\\]\\:text-accent-foreground[data-state=on]{color:var(--mx-video-accent-foreground,var(--text-normal,var(--mx-accent-foreground)))}.data-\\[state\\=open\\]\\:animate-in[data-state=open]{animation:enter var(--tw-duration,.15s)var(--tw-ease,ease)}.data-\\[state\\=open\\]\\:bg-accent[data-state=open]{background-color:var(--mx-video-accent,var(--background-modifier-hover,var(--mx-accent)))}.data-\\[state\\=open\\]\\:text-muted-foreground[data-state=open]{color:var(--mx-video-muted-foreground,var(--text-muted,var(--mx-muted-foreground)))}.data-\\[state\\=open\\]\\:fade-in-0[data-state=open]{--tw-enter-opacity:0}.data-\\[state\\=open\\]\\:zoom-in-95[data-state=open]{--tw-enter-scale:.95}.data-\\[state\\=unchecked\\]\\:translate-x-0[data-state=unchecked]{--tw-translate-x:calc(var(--spacing)*0);translate:var(--tw-translate-x)var(--tw-translate-y)}.data-\\[state\\=unchecked\\]\\:bg-input[data-state=unchecked]{background-color:var(--mx-video-input,var(--background-modifier-border,var(--mx-input)))}.data-\\[variant\\=outline\\]\\:border-l-0[data-variant=outline]{border-left-style:var(--tw-border-style);border-left-width:0}.data-\\[variant\\=outline\\]\\:shadow-xs[data-variant=outline]{--tw-shadow:0 1px 2px 0 var(--tw-shadow-color,#0000000d);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.data-\\[variant\\=outline\\]\\:first\\:border-l[data-variant=outline]:first-child{border-left-style:var(--tw-border-style);border-left-width:1px}@media (width>=40rem){.sm\\:block{display:block}.sm\\:max-w-lg{max-width:var(--container-lg)}.sm\\:flex-row{flex-direction:row}.sm\\:justify-end{justify-content:flex-end}.sm\\:px-6{padding-inline:calc(var(--spacing)*6)}.sm\\:text-left{text-align:left}}@media (width>=48rem){.md\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.md\\:text-sm{font-size:var(--font-ui-small,.875rem);line-height:var(--tw-leading,var(--text-sm--line-height))}}@media (width>=64rem){.lg\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.lg\\:px-8{padding-inline:calc(var(--spacing)*8)}}@container (width>=24rem){.\\@sm\\:col-span-2{grid-column:span 2/span 2}.\\@sm\\:block{display:block}.\\@sm\\:flex{display:flex}.\\@sm\\:hidden{display:none}.\\@sm\\:h-4{height:calc(var(--spacing)*4)}.\\@sm\\:w-4{width:calc(var(--spacing)*4)}.\\@sm\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.\\@sm\\:px-2{padding-inline:calc(var(--spacing)*2)}.\\@sm\\:text-xs{font-size:var(--font-ui-smaller,.75rem);line-height:var(--tw-leading,var(--text-xs--line-height))}}@container (width>=28rem){.\\@md\\:block{display:block}.\\@md\\:hidden{display:none}}@container (width>=32rem){.\\@lg\\:col-span-1{grid-column:span 1/span 1}.\\@lg\\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.\\@lg\\:self-center{align-self:center}}@container (width>=36rem){.\\@xl\\:grid{display:grid}.\\@xl\\:hidden{display:none}.\\@xl\\:grid-rows-\\[2\\.5rem_1fr_6px_2rem\\]{grid-template-rows:2.5rem 1fr 6px 2rem}.\\@xl\\:px-4{padding-inline:calc(var(--spacing)*4)}.\\@xl\\:pt-4{padding-top:calc(var(--spacing)*4)}.\\@xl\\:text-base{font-size:var(--font-ui-medium,1rem);line-height:var(--tw-leading,var(--text-base--line-height))}.\\@xl\\:text-lg{font-size:calc(var(--font-ui-large,20px)*.9);line-height:var(--tw-leading,var(--text-lg--line-height))}.\\@xl\\:font-medium{--tw-font-weight:var(--font-medium,500);font-weight:var(--font-medium,500)}.\\@xl\\:font-normal{--tw-font-weight:var(--font-normal,400);font-weight:var(--font-normal,400)}}.dark\\:border-input:is(.dark,.dark *){border-color:var(--mx-video-input,var(--background-modifier-border,var(--mx-input)))}.dark\\:bg-destructive\\/60:is(.dark,.dark *){background-color:color-mix(in oklab,var(--background-modifier-error,var(--mx-destructive))60%,transparent)}.dark\\:bg-input\\/30:is(.dark,.dark *){background-color:color-mix(in oklab,var(--mx-video-input,var(--background-modifier-border,var(--mx-input)))30%,transparent)}.dark\\:ring-ring\\/20:is(.dark,.dark *){--tw-ring-color:color-mix(in oklab,var(--mx-video-ring,var(--background-modifier-border-focus,var(--mx-ring)))20%,transparent)}.dark\\:outline-ring\\/40:is(.dark,.dark *){outline-color:color-mix(in oklab,var(--mx-video-ring,var(--background-modifier-border-focus,var(--mx-ring)))40%,transparent)}@media (hover:hover){.dark\\:hover\\:bg-accent\\/50:is(.dark,.dark *):hover{background-color:color-mix(in oklab,var(--mx-video-accent,var(--background-modifier-hover,var(--mx-accent)))50%,transparent)}.dark\\:hover\\:bg-input\\/50:is(.dark,.dark *):hover{background-color:color-mix(in oklab,var(--mx-video-input,var(--background-modifier-border,var(--mx-input)))50%,transparent)}}.dark\\:focus-visible\\:ring-destructive\\/40:is(.dark,.dark *):focus-visible,.dark\\:aria-invalid\\:ring-destructive\\/40:is(.dark,.dark *)[aria-invalid=true]{--tw-ring-color:color-mix(in oklab,var(--background-modifier-error,var(--mx-destructive))40%,transparent)}.dark\\:data-\\[state\\=checked\\]\\:bg-primary:is(.dark,.dark *)[data-state=checked]{background-color:var(--mx-video-primary,var(--interactive-accent,var(--mx-primary)))}.dark\\:data-\\[state\\=checked\\]\\:bg-primary-foreground:is(.dark,.dark *)[data-state=checked]{background-color:var(--mx-video-primary-foreground,var(--text-on-accent,var(--mx-primary-foreground)))}.dark\\:data-\\[state\\=unchecked\\]\\:bg-foreground:is(.dark,.dark *)[data-state=unchecked]{background-color:var(--mx-video-foreground,var(--text-normal,var(--mx-foreground)))}.dark\\:data-\\[state\\=unchecked\\]\\:bg-input\\/80:is(.dark,.dark *)[data-state=unchecked]{background-color:color-mix(in oklab,var(--mx-video-input,var(--background-modifier-border,var(--mx-input)))80%,transparent)}.prose-p\\:my-1 :where(p):not(:where([class~=not-prose],[class~=not-prose] *)){margin-block:calc(var(--spacing)*1)}.prose-p\\:rounded-md :where(p):not(:where([class~=not-prose],[class~=not-prose] *)){border-radius:var(--radius-m,calc(var(--mx-radius) - 2px))}.prose-p\\:py-1 :where(p):not(:where([class~=not-prose],[class~=not-prose] *)){padding-block:calc(var(--spacing)*1)}.prose-p\\:pr-2 :where(p):not(:where([class~=not-prose],[class~=not-prose] *)){padding-right:calc(var(--spacing)*2)}.prose-p\\:pl-2\\.5 :where(p):not(:where([class~=not-prose],[class~=not-prose] *)){padding-left:calc(var(--spacing)*2.5)}.prose-p\\:text-foreground :where(p):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--mx-video-foreground,var(--text-normal,var(--mx-foreground)))}@media (hover:hover){.prose-p\\:hover\\:bg-muted :where(p):not(:where([class~=not-prose],[class~=not-prose] *)):hover{background-color:var(--mx-video-muted,var(--background-primary-alt,var(--mx-muted)))}}div[data-captions] .media-captions\\:opacity-100{opacity:1}div[data-controls] .media-controls\\:bottom-14{bottom:calc(var(--spacing)*14)}div[data-controls] .media-controls\\:opacity-100,div[data-paused] .media-paused\\:opacity-100{opacity:1}div[data-preview] .media-preview\\:opacity-0{opacity:0}.vol-active\\:mr-3[data-active],.vol-active\\:mr-3:has(>[data-active]),.vol-active\\:mr-3:is(:where(.group\\/vol-ctrl):hover *),.vol-active\\:mr-3:is(:where(.group\\/vol-ctrl)>:focus-visible~.vol-active\\:mr-3),.vol-active\\:mr-3:is(:where(.group\\/vol-ctrl)>.vol-active\\:mr-3:focus-visible),.vol-active\\:mr-3:is(:where(.group\\/vol-ctrl)>.vol-active\\:mr-3:has(>:focus-visible)){margin-right:calc(var(--spacing)*3)}.vol-active\\:ml-3[data-active],.vol-active\\:ml-3:has(>[data-active]),.vol-active\\:ml-3:is(:where(.group\\/vol-ctrl):hover *),.vol-active\\:ml-3:is(:where(.group\\/vol-ctrl)>:focus-visible~.vol-active\\:ml-3),.vol-active\\:ml-3:is(:where(.group\\/vol-ctrl)>.vol-active\\:ml-3:focus-visible),.vol-active\\:ml-3:is(:where(.group\\/vol-ctrl)>.vol-active\\:ml-3:has(>:focus-visible)){margin-left:calc(var(--spacing)*3)}.vol-active\\:max-w-20[data-active],.vol-active\\:max-w-20:has(>[data-active]),.vol-active\\:max-w-20:is(:where(.group\\/vol-ctrl):hover *),.vol-active\\:max-w-20:is(:where(.group\\/vol-ctrl)>:focus-visible~.vol-active\\:max-w-20),.vol-active\\:max-w-20:is(:where(.group\\/vol-ctrl)>.vol-active\\:max-w-20:focus-visible),.vol-active\\:max-w-20:is(:where(.group\\/vol-ctrl)>.vol-active\\:max-w-20:has(>:focus-visible)){max-width:calc(var(--spacing)*20)}.vol-active\\:pr-2[data-active],.vol-active\\:pr-2:has(>[data-active]),.vol-active\\:pr-2:is(:where(.group\\/vol-ctrl):hover *),.vol-active\\:pr-2:is(:where(.group\\/vol-ctrl)>:focus-visible~.vol-active\\:pr-2),.vol-active\\:pr-2:is(:where(.group\\/vol-ctrl)>.vol-active\\:pr-2:focus-visible),.vol-active\\:pr-2:is(:where(.group\\/vol-ctrl)>.vol-active\\:pr-2:has(>:focus-visible)){padding-right:calc(var(--spacing)*2)}.vol-active\\:pl-2[data-active],.vol-active\\:pl-2:has(>[data-active]),.vol-active\\:pl-2:is(:where(.group\\/vol-ctrl):hover *),.vol-active\\:pl-2:is(:where(.group\\/vol-ctrl)>:focus-visible~.vol-active\\:pl-2),.vol-active\\:pl-2:is(:where(.group\\/vol-ctrl)>.vol-active\\:pl-2:focus-visible),.vol-active\\:pl-2:is(:where(.group\\/vol-ctrl)>.vol-active\\:pl-2:has(>:focus-visible)){padding-left:calc(var(--spacing)*2)}.vol-active\\:delay-200[data-active],.vol-active\\:delay-200:has(>[data-active]),.vol-active\\:delay-200:is(:where(.group\\/vol-ctrl):hover *),.vol-active\\:delay-200:is(:where(.group\\/vol-ctrl)>:focus-visible~.vol-active\\:delay-200),.vol-active\\:delay-200:is(:where(.group\\/vol-ctrl)>.vol-active\\:delay-200:focus-visible),.vol-active\\:delay-200:is(:where(.group\\/vol-ctrl)>.vol-active\\:delay-200:has(>:focus-visible)){transition-delay:.2s;animation-delay:.2s}.\\[\\&_\\[cmdk-group-heading\\]\\]\\:px-2 [cmdk-group-heading]{padding-inline:calc(var(--spacing)*2)}.\\[\\&_\\[cmdk-group-heading\\]\\]\\:py-1\\.5 [cmdk-group-heading]{padding-block:calc(var(--spacing)*1.5)}.\\[\\&_\\[cmdk-group-heading\\]\\]\\:text-xs [cmdk-group-heading]{font-size:var(--font-ui-smaller,.75rem);line-height:var(--tw-leading,var(--text-xs--line-height))}.\\[\\&_\\[cmdk-group-heading\\]\\]\\:font-medium [cmdk-group-heading]{--tw-font-weight:var(--font-medium,500);font-weight:var(--font-medium,500)}.\\[\\&_\\[cmdk-group-heading\\]\\]\\:text-muted-foreground [cmdk-group-heading]{color:var(--mx-video-muted-foreground,var(--text-muted,var(--mx-muted-foreground)))}.\\[\\&_\\[cmdk-group\\]\\]\\:px-2 [cmdk-group]{padding-inline:calc(var(--spacing)*2)}.\\[\\&_\\[cmdk-group\\]\\:not\\(\\[hidden\\]\\)_\\~\\[cmdk-group\\]\\]\\:pt-0 [cmdk-group]:not([hidden])~[cmdk-group]{padding-top:calc(var(--spacing)*0)}.\\[\\&_\\[cmdk-input-wrapper\\]_svg\\]\\:h-5 [cmdk-input-wrapper] svg{height:calc(var(--spacing)*5)}.\\[\\&_\\[cmdk-input-wrapper\\]_svg\\]\\:w-5 [cmdk-input-wrapper] svg{width:calc(var(--spacing)*5)}.\\[\\&_\\[cmdk-input\\]\\]\\:h-12 [cmdk-input]{height:calc(var(--spacing)*12)}.\\[\\&_\\[cmdk-item\\]\\]\\:px-2 [cmdk-item]{padding-inline:calc(var(--spacing)*2)}.\\[\\&_\\[cmdk-item\\]\\]\\:py-3 [cmdk-item]{padding-block:calc(var(--spacing)*3)}.\\[\\&_\\[cmdk-item\\]_svg\\]\\:h-5 [cmdk-item] svg{height:calc(var(--spacing)*5)}.\\[\\&_\\[cmdk-item\\]_svg\\]\\:w-5 [cmdk-item] svg{width:calc(var(--spacing)*5)}.\\[\\&_p\\]\\:leading-relaxed p{--tw-leading:var(--leading-relaxed);line-height:var(--leading-relaxed)}.\\[\\&_svg\\]\\:pointer-events-none svg{pointer-events:none}.\\[\\&_svg\\]\\:size-3\\.5 svg{width:calc(var(--spacing)*3.5);height:calc(var(--spacing)*3.5)}.\\[\\&_svg\\]\\:shrink-0 svg{flex-shrink:0}.\\[\\&_svg\\:not\\(\\[class\\*\\=\\'size-\\'\\]\\)\\]\\:size-4 svg:not([class*=size-]){width:calc(var(--spacing)*4);height:calc(var(--spacing)*4)}.\\[\\&_svg\\:not\\(\\[class\\*\\=\\'text-\\'\\]\\)\\]\\:text-muted-foreground svg:not([class*=text-]){color:var(--mx-video-muted-foreground,var(--text-muted,var(--mx-muted-foreground)))}.\\[\\&_svg\\:not\\(\\[class\\*\\=size-\\]\\)\\]\\:size-4 svg:not([class*=size-]){width:calc(var(--spacing)*4);height:calc(var(--spacing)*4)}.\\[\\&_svg\\:not\\(\\[class\\*\\=size-\\]\\)\\]\\:size-5 svg:not([class*=size-]){width:calc(var(--spacing)*5);height:calc(var(--spacing)*5)}.\\[\\&_svg\\:not\\(\\[class\\*\\=size-\\]\\)\\]\\:size-6 svg:not([class*=size-]){width:calc(var(--spacing)*6);height:calc(var(--spacing)*6)}.\\[\\.border-b\\]\\:pb-6.border-b{padding-bottom:calc(var(--spacing)*6)}.\\[\\.border-t\\]\\:pt-6.border-t{padding-top:calc(var(--spacing)*6)}:is(.\\*\\:\\[span\\]\\:last\\:flex>*):is(span):last-child{display:flex}:is(.\\*\\:\\[span\\]\\:last\\:items-center>*):is(span):last-child{align-items:center}:is(.\\*\\:\\[span\\]\\:last\\:gap-2>*):is(span):last-child{gap:calc(var(--spacing)*2)}.\\[\\&\\>svg\\]\\:pointer-events-none>svg{pointer-events:none}.\\[\\&\\>svg\\]\\:size-3>svg{width:calc(var(--spacing)*3);height:calc(var(--spacing)*3)}.\\[\\&\\>svg\\]\\:size-4>svg{width:calc(var(--spacing)*4);height:calc(var(--spacing)*4)}.\\[\\&\\>svg\\]\\:translate-y-0\\.5>svg{--tw-translate-y:calc(var(--spacing)*.5);translate:var(--tw-translate-x)var(--tw-translate-y)}.\\[\\&\\>svg\\]\\:text-current>svg{color:currentColor}@media (hover:hover){a.\\[a\\&\\]\\:hover\\:bg-accent:hover{background-color:var(--mx-video-accent,var(--background-modifier-hover,var(--mx-accent)))}a.\\[a\\&\\]\\:hover\\:bg-destructive\\/90:hover{background-color:color-mix(in oklab,var(--background-modifier-error,var(--mx-destructive))90%,transparent)}a.\\[a\\&\\]\\:hover\\:bg-primary\\/90:hover{background-color:color-mix(in oklab,var(--mx-video-primary,var(--interactive-accent,var(--mx-primary)))90%,transparent)}a.\\[a\\&\\]\\:hover\\:bg-secondary\\/90:hover{background-color:color-mix(in oklab,var(--mx-video-secondary,var(--background-secondary,var(--mx-secondary)))90%,transparent)}a.\\[a\\&\\]\\:hover\\:text-accent-foreground:hover{color:var(--mx-video-accent-foreground,var(--text-normal,var(--mx-accent-foreground)))}}}[data-media-player]{contain:style;box-sizing:border-box;-webkit-user-select:none;user-select:none;align-items:center;width:100%;display:inline-flex;position:relative}[data-media-player] *{box-sizing:border-box}:where([data-media-player][data-view-type=video]){aspect-ratio:16/9}[data-media-player]:focus,[data-media-player]:focus-visible{outline:none}[data-media-player][data-view-type=video][data-started]:not([data-controls]){pointer-events:auto;cursor:none}[data-media-player] slot{display:contents}[data-media-provider]{box-sizing:border-box;border-radius:inherit;width:100%;aspect-ratio:inherit;align-items:center;display:flex;position:relative;overflow:hidden}[data-media-player]:not([data-view-type=audio]) [data-media-provider],[data-media-player][data-fullscreen] [data-media-provider]{height:100%}[data-media-player][data-view-type=audio] [data-media-provider]{background-color:unset;display:contents}[data-media-provider] audio{width:100%}:where(video:not([width]):not([height]),iframe:not([width]):not([height])){aspect-ratio:16/9;width:100%}:where([data-media-provider] video),:where([data-media-provider] iframe){aspect-ratio:inherit;object-fit:contain;touch-action:manipulation;border-radius:inherit;width:100%;height:auto;display:inline-block}[data-media-provider] iframe{height:100%}[data-media-player][data-view-type=audio] video,[data-media-player][data-view-type=audio] iframe{display:none}[data-media-player][data-fullscreen] video{height:100%}[data-media-provider] iframe:not([src]){display:none}iframe.vds-youtube[data-no-controls]{height:1000%}.vds-blocker{width:100%;height:auto;aspect-ratio:inherit;pointer-events:auto;border-radius:inherit;z-index:1;position:absolute;top:0;right:0;bottom:0;left:0}[data-ended] .vds-blocker{background-color:#000}.vds-icon:focus{outline:none}.vds-google-cast{color:#dedede;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%;font-family:sans-serif;font-weight:500;display:flex}.vds-google-cast svg{--size:max(18%,40px);width:var(--size);height:var(--size);margin-bottom:8px}.vds-google-cast-info{font-size:calc(var(--media-height)/100*6)}.ProseMirror{word-wrap:break-word;white-space:pre-wrap;white-space:break-spaces;-webkit-font-variant-ligatures:none;font-variant-ligatures:none;font-feature-settings:"liga" 0;position:relative}.ProseMirror pre{white-space:pre-wrap}.ProseMirror li{position:relative}.ProseMirror-hideselection ::selection{background:0 0}.ProseMirror-hideselection{caret-color:#0000}.ProseMirror [draggable][contenteditable=false]{-webkit-user-select:text;user-select:text}.ProseMirror-selectednode{outline:2px solid #8cf}li.ProseMirror-selectednode{outline:none}li.ProseMirror-selectednode:after{content:"";pointer-events:none;border:2px solid #8cf;position:absolute;top:-2px;right:-2px;bottom:-2px;left:-32px}img.ProseMirror-separator{border:none!important;margin:0!important;display:inline!important}.prosemirror-flat-list{margin-top:0;margin-bottom:0;margin-left:32px;padding:0;list-style:none;display:list-item;position:relative}.prosemirror-flat-list.ProseMirror-selectednode{outline:none}.prosemirror-flat-list.ProseMirror-selectednode:after{content:"";pointer-events:none;border:2px solid #8cf;position:absolute;top:-2px;right:-2px;bottom:-2px;left:-32px}.prosemirror-flat-list[data-list-kind=bullet]{list-style:outside}.prosemirror-flat-list[data-list-kind=ordered]{counter-increment:prosemirror-flat-list-counter}.prosemirror-flat-list[data-list-kind=ordered]>*{contain:style}.prosemirror-flat-list[data-list-kind=ordered]:before{font-variant-numeric:tabular-nums;content:counter(prosemirror-flat-list-counter,decimal)". ";position:absolute;right:100%}.prosemirror-flat-list[data-list-kind=ordered]:first-child,:not(.prosemirror-flat-list[data-list-kind=ordered])+.prosemirror-flat-list[data-list-kind=ordered]{counter-reset:prosemirror-flat-list-counter}@supports (counter-set:prosemirror-flat-list-counter 1){[data-list-order]:is(.prosemirror-flat-list[data-list-kind=ordered]:first-child,:not(.prosemirror-flat-list[data-list-kind=ordered])+.prosemirror-flat-list[data-list-kind=ordered]){counter-set:prosemirror-flat-list-counter var(--prosemirror-flat-list-order)}}@supports not (counter-set:prosemirror-flat-list-counter 1){[data-list-order]:is(.prosemirror-flat-list[data-list-kind=ordered]:first-child,:not(.prosemirror-flat-list[data-list-kind=ordered])+.prosemirror-flat-list[data-list-kind=ordered]){counter-increment:prosemirror-flat-list-counter var(--prosemirror-flat-list-order)}}.prosemirror-flat-list[data-list-kind=task]>.list-marker{text-align:center;width:1lh;position:absolute;right:100%}.prosemirror-flat-list[data-list-kind=task]>.list-marker,.prosemirror-flat-list[data-list-kind=task]>.list-marker *{cursor:pointer}.prosemirror-flat-list[data-list-kind=toggle]>.list-marker{text-align:center;width:1lh;position:absolute;right:100%}.prosemirror-flat-list[data-list-kind=toggle]>.list-marker:before{content:"\u23F7"}.prosemirror-flat-list[data-list-kind=toggle][data-list-collapsable][data-list-collapsed]>.list-marker:before{content:"\u23F5"}.prosemirror-flat-list[data-list-kind=toggle][data-list-collapsable]>.list-marker{cursor:pointer}.prosemirror-flat-list[data-list-kind=toggle]:not([data-list-collapsable])>.list-marker{opacity:.4;pointer-events:none}.prosemirror-flat-list[data-list-kind=toggle][data-list-collapsable][data-list-collapsed]>.list-content>:nth-child(n+2){display:none}.ProseMirror .tableWrapper{overflow-x:auto}.ProseMirror table{border-collapse:collapse;table-layout:fixed;width:100%;overflow:hidden}.ProseMirror td,.ProseMirror th{vertical-align:top;box-sizing:border-box;border-width:1px;padding-left:.75rem;padding-right:.75rem;position:relative}.ProseMirror .column-resize-handle{z-index:20;pointer-events:none;background-color:highlighttext;width:4px;position:absolute;top:0;bottom:0;right:-2px}.ProseMirror.resize-cursor{cursor:ew-resize;cursor:col-resize}.ProseMirror .selectedCell{--color:210,100%,56%;background-color:hsla(var(--color),20%);border:1px double hsl(var(--color))}.prosekit-placeholder:before{opacity:.3;pointer-events:none;content:attr(data-placeholder);height:0;position:absolute}.prosekit-virtual-selection{background-color:#8888884d;border-radius:2px;box-shadow:0 0 0 2px #8888884d}.prosekit-commit-deletion{background-color:#e5534b80;text-decoration:line-through}.prosekit-commit-addition{background-color:#53e54b80}.ProseMirror-gapcursor{pointer-events:none;display:none;position:relative}.ProseMirror-gapcursor:after{content:"";border-top:1px solid;width:20px;animation:1.1s steps(2,start) infinite ProseMirror-cursor-blink;display:block;position:absolute;top:-2px}@keyframes ProseMirror-cursor-blink{to{visibility:hidden}}.ProseMirror-focused .ProseMirror-gapcursor{display:block}.ProseMirror-search-match{background-color:var(--text-highlight-bg,#ffff0054);box-shadow:0 0 0 2px var(--text-highlight-bg,#ffff0054);border-radius:2px}.ProseMirror:not(.ProseMirror-focused) .ProseMirror-active-search-match{background-color:var(--text-highlight-bg,#ffff0054);box-shadow:0 0 0 3px var(--text-accent,#ff6a0054);mix-blend-mode:var(--highlight-mix-blend-mode,darken);border-radius:2px}.ProseMirror.ProseMirror-focused .ProseMirror-active-search-match::selection{background-color:var(--text-highlight-bg,#ffff0054);box-shadow:0 0 0 3px var(--text-accent,#ff6a0054);mix-blend-mode:var(--highlight-mix-blend-mode,darken);border-radius:2px}@keyframes spin{to{transform:rotate(360deg)}}@keyframes pulse{50%{opacity:.5}}@keyframes enter{0%{opacity:var(--tw-enter-opacity,1);transform:translate3d(var(--tw-enter-translate-x,0),var(--tw-enter-translate-y,0),0)scale3d(var(--tw-enter-scale,1),var(--tw-enter-scale,1),var(--tw-enter-scale,1))rotate(var(--tw-enter-rotate,0))}}@keyframes exit{to{opacity:var(--tw-exit-opacity,1);transform:translate3d(var(--tw-exit-translate-x,0),var(--tw-exit-translate-y,0),0)scale3d(var(--tw-exit-scale,1),var(--tw-exit-scale,1),var(--tw-exit-scale,1))rotate(var(--tw-exit-rotate,0))}}.mx-player-video{color:#fafafa;--mx-video-background: oklch(.145 0 0);--mx-video-foreground: oklch(.985 0 0);--mx-video-card: oklch(1 0 0);--mx-video-card-foreground: oklch(.145 0 0);--mx-video-secondary: oklch(.269 0 0);--mx-video-secondary-foreground: oklch(.985 0 0);--mx-video-muted: oklch(.269 0 0);--mx-video-muted-foreground: oklch(.985 0 0);--mx-video-accent: oklch(.269 0 0);--mx-video-accent-foreground: oklch(.985 0 0);--mx-video-border: oklch(1 0 0 / 10%);--mx-video-input: oklch(1 0 0 / 15%);--mx-video-ring: oklch(.556 0 0);--mx-video-overlay: oklch(.145 0 0);--mx-video-thumb: oklch(.985 0 0)}._captions_1ihkv_9{--cue-color: var(--media-cue-color, white);--cue-bg-color: var(--media-cue-bg, rgba(0, 0, 0, .7));--cue-font-size: calc(var(--overlay-height) / 100 * 4.5);--cue-line-height: calc(var(--cue-font-size) * 1.2);--cue-padding-x: calc(var(--cue-font-size) * .6);--cue-padding-y: calc(var(--cue-font-size) * .4);font-size:var(--cue-font-size);word-spacing:normal;contain:layout style}._captions_1ihkv_9[aria-hidden=true]{display:none}._captions_1ihkv_9 [data-part=cue-display]{position:absolute;direction:ltr;overflow:visible;contain:content;top:var(--cue-top);left:var(--cue-left);right:var(--cue-right);bottom:var(--cue-bottom);width:var(--cue-width, auto);height:var(--cue-height, auto);transform:var(--cue-transform);text-align:var(--cue-text-align);writing-mode:var(--cue-writing-mode, unset);white-space:pre-line;unicode-bidi:plaintext;min-width:min-content;min-height:min-content}._captions_1ihkv_9[data-dir=rtl] [data-part=cue-display]{direction:rtl}._captions_1ihkv_9 [data-part=cue]{display:inline-block;contain:content;border-radius:2px;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);padding:var(--cue-padding-y) var(--cue-padding-x);line-height:var(--cue-line-height);background-color:var(--cue-bg-color);color:var(--cue-color);white-space:pre-wrap;outline:var(--cue-outline);text-shadow:var(--cue-text-shadow)}._captions_1ihkv_9 [data-part=cue-display][data-vertical] [data-part=cue]{padding:var(--cue-padding-x) var(--cue-padding-y)}
`;var nU=`:root,
:host {
  --mx-radius: 0.625rem;
  --mx-background: oklch(1 0 0);
  --mx-foreground: oklch(0.145 0 0);
  --mx-card: oklch(1 0 0);
  --mx-card-foreground: oklch(0.145 0 0);
  --mx-popover: oklch(1 0 0);
  --mx-popover-foreground: oklch(0.145 0 0);
  --mx-primary: oklch(0.205 0 0);
  --mx-primary-foreground: oklch(0.985 0 0);
  --mx-secondary: oklch(0.97 0 0);
  --mx-secondary-foreground: oklch(0.205 0 0);
  --mx-muted: oklch(0.97 0 0);
  --mx-muted-foreground: oklch(0.556 0 0);
  --mx-accent: oklch(0.97 0 0);
  --mx-accent-foreground: oklch(0.205 0 0);
  --mx-destructive: oklch(0.577 0.245 27.325);
  --mx-success: oklch(62.7% 0.194 149.214);
  --mx-warning: oklch(64.6% 0.222 41.116);
  --mx-border: oklch(0.922 0 0);
  --mx-input: oklch(0.922 0 0);
  --mx-ring: oklch(0.708 0 0);
  --mx-chart-1: oklch(0.646 0.222 41.116);
  --mx-chart-2: oklch(0.6 0.118 184.704);
  --mx-chart-3: oklch(0.398 0.07 227.392);
  --mx-chart-4: oklch(0.828 0.189 84.429);
  --mx-chart-5: oklch(0.769 0.188 70.08);
  --mx-sidebar: oklch(0.985 0 0);
  --mx-sidebar-foreground: oklch(0.145 0 0);
  --mx-sidebar-primary: oklch(0.205 0 0);
  --mx-sidebar-primary-foreground: oklch(0.985 0 0);
  --mx-sidebar-accent: oklch(0.97 0 0);
  --mx-sidebar-accent-foreground: oklch(0.205 0 0);
  --mx-sidebar-border: oklch(0.922 0 0);
  --mx-sidebar-ring: oklch(0.708 0 0);
}

.dark,
:host[class~="dark"],
:root[class~="dark"] {
  --mx-background: oklch(0.145 0 0);
  --mx-foreground: oklch(0.985 0 0);
  --mx-card: oklch(0.205 0 0);
  --mx-card-foreground: oklch(0.985 0 0);
  --mx-popover: oklch(0.205 0 0);
  --mx-popover-foreground: oklch(0.985 0 0);
  --mx-primary: oklch(0.922 0 0);
  --mx-primary-foreground: oklch(0.205 0 0);
  --mx-secondary: oklch(0.269 0 0);
  --mx-secondary-foreground: oklch(0.985 0 0);
  --mx-muted: oklch(0.269 0 0);
  --mx-muted-foreground: oklch(0.708 0 0);
  --mx-accent: oklch(0.269 0 0);
  --mx-accent-foreground: oklch(0.985 0 0);
  --mx-destructive: oklch(0.704 0.191 22.216);
  --mx-border: oklch(1 0 0 / 10%);
  --mx-input: oklch(1 0 0 / 15%);
  --mx-ring: oklch(0.556 0 0);
  --mx-chart-1: oklch(0.488 0.243 264.376);
  --mx-chart-2: oklch(0.696 0.17 162.48);
  --mx-chart-3: oklch(0.769 0.188 70.08);
  --mx-chart-4: oklch(0.627 0.265 303.9);
  --mx-chart-5: oklch(0.645 0.246 16.439);
  --mx-sidebar: oklch(0.205 0 0);
  --mx-sidebar-foreground: oklch(0.985 0 0);
  --mx-sidebar-primary: oklch(0.488 0.243 264.376);
  --mx-sidebar-primary-foreground: oklch(0.985 0 0);
  --mx-sidebar-accent: oklch(0.269 0 0);
  --mx-sidebar-accent-foreground: oklch(0.985 0 0);
  --mx-sidebar-border: oklch(1 0 0 / 10%);
  --mx-sidebar-ring: oklch(0.556 0 0);
}
`;var W1=z(Be(),1);var wr=z(he(),1);var ZSe=z(he(),1);function wU(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function xU(...t){return e=>{let r=!1,n=t.map(i=>{let s=wU(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){let s=n[i];typeof s=="function"?s():wU(t[i],null)}}}}var Zf=z(Be(),1),N3=wr.forwardRef((t,e)=>{let{children:r,...n}=t,i=wr.Children.toArray(r),s=i.find(tke);if(s){let a=s.props.children,o=i.map(l=>l===s?wr.Children.count(a)>1?wr.Children.only(null):wr.isValidElement(a)?a.props.children:null:l);return(0,Zf.jsx)(D3,{...n,ref:e,children:wr.isValidElement(a)?wr.cloneElement(a,void 0,o):null})}return(0,Zf.jsx)(D3,{...n,ref:e,children:r})});N3.displayName="Slot";var D3=wr.forwardRef((t,e)=>{let{children:r,...n}=t;if(wr.isValidElement(r)){let i=nke(r),s=rke(n,r.props);return r.type!==wr.Fragment&&(s.ref=e?xU(e,i):i),wr.cloneElement(r,s)}return wr.Children.count(r)>1?wr.Children.only(null):null});D3.displayName="SlotClone";var eke=({children:t})=>(0,Zf.jsx)(Zf.Fragment,{children:t});function tke(t){return wr.isValidElement(t)&&t.type===eke}function rke(t,e){let r={...e};for(let n in e){let i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...o)=>{s(...o),i(...o)}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function nke(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Ou=z(he(),1),AU=z(Pu(),1);var ep=z(he(),1);function G1(t){let e=(0,ep.useRef)(void 0),r=(0,ep.useCallback)(n=>{let i=t.map(s=>{if(s!=null){if(typeof s=="function"){let a=s,o=a(n);return typeof o=="function"?o:()=>{a(null)}}return s.current=n,()=>{s.current=null}}});return()=>{for(let s of i)s?.()}},t);return(0,ep.useMemo)(()=>t.every(n=>n==null)?null:n=>{e.current&&(e.current(),e.current=void 0),n!=null&&(e.current=r(n))},t)}var TU=z(he(),1),F3=(0,TU.createContext)(null);function oke({root:t,children:e=null}){return(0,AU.createPortal)(e,t)}function $3({mode:t="open",delegatesFocus:e=!1,styleSheets:r=[],children:n,ref:i,asChild:s,...a}){let o=(0,Ou.useRef)(null),l=G1([o,i]),[c,u]=(0,Ou.useState)(null),d=`node_${t}${e}`,f=s?N3:"div";return(0,Ou.useLayoutEffect)(()=>{if(!o.current||o.current.shadowRoot)return;let p=null;p=o.current.attachShadow({mode:t,delegatesFocus:e}),u(p)},[t,e]),(0,Ou.useLayoutEffect)(()=>{c&&(c.adoptedStyleSheets=r)},[c,r]),(0,W1.jsx)(f,{ref:l,...a,children:(0,W1.jsx)(F3.Provider,{value:c,children:c&&(0,W1.jsx)(oke,{root:c,children:n})})},d)}var LU=z(he(),1),IU=z(Be(),1),j3=new WeakMap;async function K1(t=window){let e=t.document;if(j3.has(e))return j3.get(e);let r=Promise.all([V3(rU,t),V3(nU,t),V3(tU,t)]);return j3.set(e,r),await r}async function V3(t,e){let{CSSStyleSheet:r}=e,n=new r;return await n.replace(t),n}function _u(t){let[e,r]=(0,LU.useState)([]);return(0,IU.jsx)($3,{ref:n=>{n&&(n.onWindowMigrated(i=>{K1(i).then(r)}),K1(n.win).then(r))},styleSheets:e,...t})}function ir(t,e){let r=Object.keys(e).map(n=>lke(t,n,e[n]));return r.length===1?r[0]:function(){r.forEach(n=>n())}}function lke(t,e,r){let n=t[e],i=t.hasOwnProperty(e),s=i?n:function(){return Object.getPrototypeOf(t)[e].apply(this,arguments)},a=r(s);return n&&Object.setPrototypeOf(a,n),Object.setPrototypeOf(o,a),t[e]=o,l;function o(...c){return a===s&&t[e]===o&&l(),a.apply(this,c)}function l(){t[e]===o&&(i?t[e]=s:delete t[e]),a!==s&&(a=s,Object.setPrototypeOf(o,n||Function))}}var RU=require("obsidian");async function cke(t){let e=new RU.WorkspaceLeaf(t);return await e.setViewState({type:"empty"}),e.view.constructor}async function MU(t,e){let r=await cke(t);if(!r)return console.error("Failed to get EmptyView"),null;let n=[...e].reverse(),i=new WeakMap,s=o=>{if(i.has(o))return;let l=n.map(c=>createDiv({cls:"empty-state-action tappable",text:c.title},u=>{u.addEventListener("click",c.callback)}));for(let c of l)o.actionListEl.lastElementChild?.insertAdjacentElement("beforebegin",c);i.set(o,()=>{for(let c of l)c.remove();i.delete(o)})};for(let o of t.workspace.getLeavesOfType("empty"))s(o.view);let a=ir(r.prototype,{onOpen(o){return async function(){let l=await o.apply(this);return s(this),l}}});return()=>{a();for(let o of t.workspace.getLeavesOfType("empty"))i.get(o.view)?.()}}var PU=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Promise.resolve().then(()=>(Gl(),Du)).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};var Qg=class extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}},Y1=class extends Qg{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},X1=class extends Qg{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Q1=class extends Qg{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}},J1;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(J1||(J1={}));var hke=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})},Jg=class{constructor(e,{headers:r={},customFetch:n,region:i=J1.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=PU(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return hke(this,void 0,void 0,function*(){try{let{headers:i,method:s,body:a}=r,o={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let c;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=a):typeof a=="string"?(o["Content-Type"]="text/plain",c=a):typeof FormData<"u"&&a instanceof FormData?c=a:(o["Content-Type"]="application/json",c=JSON.stringify(a)));let u=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:c}).catch(h=>{throw new Y1(h)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new X1(u);if(!u.ok)throw new Q1(u);let f=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield u.json():f==="application/octet-stream"?p=yield u.blob():f==="text/event-stream"?p=u:f==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(i){return{data:null,error:i}}})}};var HU=z(zU(),1),{PostgrestClient:GU,PostgrestQueryBuilder:kGe,PostgrestFilterBuilder:CGe,PostgrestTransformBuilder:EGe,PostgrestBuilder:TGe,PostgrestError:Tke}=HU.default;var WU="2.11.2";var KU={"X-Client-Info":`realtime-js/${WU}`},YU="1.0.0",nS=1e4,XU=1e3,Nu;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Nu||(Nu={}));var Hn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Hn||(Hn={}));var vi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(vi||(vi={}));var rS;(function(t){t.websocket="websocket"})(rS||(rS={}));var Wl;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Wl||(Wl={}));var sy=class{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){let r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){let i=r.getUint8(1),s=r.getUint8(2),a=this.HEADER_LENGTH+2,o=n.decode(e.slice(a,a+i));a=a+i;let l=n.decode(e.slice(a,a+s));a=a+s;let c=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}};var Fu=class{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Tt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Tt||(Tt={}));var tM=(t,e,r={})=>{var n;let i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,a)=>(s[a]=Ake(a,t,e,i),s),{})},Ake=(t,e,r,n)=>{let i=e.find(o=>o.name===t),s=i?.type,a=r[t];return s&&!n.includes(s)?QU(s,a):eM(a)},QU=(t,e)=>{if(t.charAt(0)==="_"){let r=t.slice(1,t.length);return Mke(e,r)}switch(t){case Tt.bool:return Lke(e);case Tt.float4:case Tt.float8:case Tt.int2:case Tt.int4:case Tt.int8:case Tt.numeric:case Tt.oid:return Ike(e);case Tt.json:case Tt.jsonb:return Rke(e);case Tt.timestamp:return Pke(e);case Tt.abstime:case Tt.date:case Tt.daterange:case Tt.int4range:case Tt.int8range:case Tt.money:case Tt.reltime:case Tt.text:case Tt.time:case Tt.timestamptz:case Tt.timetz:case Tt.tsrange:case Tt.tstzrange:return eM(e);default:return eM(e)}},eM=t=>t,Lke=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Ike=t=>{if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Rke=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Mke=(t,e)=>{if(typeof t!="string")return t;let r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s,a=t.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>QU(e,o))}return t},Pke=t=>typeof t=="string"?t.replace(" ","T"):t,iS=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};var $u=class{constructor(e,r,n={},i=nS){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var rM;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(rM||(rM={}));var np=class t{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{let{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=t.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{let{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=t.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){let s=this.cloneDeep(e),a=this.transformState(r),o={},l={};return this.map(s,(c,u)=>{a[c]||(l[c]=u)}),this.map(a,(c,u)=>{let d=s[c];if(d){let f=u.map(v=>v.presence_ref),p=d.map(v=>v.presence_ref),h=u.filter(v=>p.indexOf(v.presence_ref)<0),g=d.filter(v=>f.indexOf(v.presence_ref)<0);h.length>0&&(o[c]=h),g.length>0&&(l[c]=g)}else o[c]=u}),this.syncDiff(s,{joins:o,leaves:l},n,i)}static syncDiff(e,r,n,i){let{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var c;let u=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),u.length>0){let d=e[o].map(p=>p.presence_ref),f=u.filter(p=>d.indexOf(p.presence_ref)<0);e[o].unshift(...f)}n(o,u,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;let u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[o]=c,i(o,c,l),c.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{let i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var nM;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(nM||(nM={}));var iM;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(iM||(iM={}));var Fa;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Fa||(Fa={}));var ip=class t{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Hn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new $u(this,vi.join,this.params,this.timeout),this.rejoinTimer=new Fu(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Hn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Hn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Hn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Hn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vi.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new np(this),this.broadcastEndpointURL=iS(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:s,presence:a,private:o}}=this.params;this._onError(u=>e?.(Fa.CHANNEL_ERROR,u)),this._onClose(()=>e?.(Fa.CLOSED));let l={},c={broadcast:s,presence:a,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e?.(Fa.SUBSCRIBED);return}else{let f=this.bindings.postgres_changes,p=(d=f?.length)!==null&&d!==void 0?d:0,h=[];for(let g=0;g<p;g++){let v=f[g],{filter:{event:y,schema:b,table:w,filter:x}}=v,A=u&&u[g];if(A&&A.event===y&&A.schema===b&&A.table===w&&A.filter===x)h.push(Object.assign(Object.assign({},v),{id:A.id}));else{this.unsubscribe(),e?.(Fa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=h,e&&e(Fa.SUBSCRIBED);return}}).receive("error",u=>{e?.(Fa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e?.(Fa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){let{event:s,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;let c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Hn.leaving;let r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vi.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{let i=new $u(this,vi.leave,{},e);i.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,r,n){let i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new $u(this,e,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;let a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=vi;if(n&&[o,l,c,u].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var h,g,v;return((h=p.filter)===null||h===void 0?void 0:h.event)==="*"||((v=(g=p.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===a}).map(p=>p.callback(f,n)):(s=this.bindings[a])===null||s===void 0||s.filter(p=>{var h,g,v,y,b,w;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){let x=p.id,A=(h=p.filter)===null||h===void 0?void 0:h.event;return x&&((g=r.ids)===null||g===void 0?void 0:g.includes(x))&&(A==="*"||A?.toLocaleLowerCase()===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{let x=(b=(y=p?.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return x==="*"||x===((w=r?.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof f=="object"&&"ids"in f){let h=f.data,{schema:g,table:v,commit_timestamp:y,type:b,errors:w}=h;f=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:y,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(h))}p.callback(f,n)})}_isClosed(){return this.state===Hn.closed}_isJoined(){return this.state===Hn.joined}_isJoining(){return this.state===Hn.joining}_isLeaving(){return this.state===Hn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){let i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){let n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&t.isEqual(i.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(let n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(vi.close,{},e)}_onError(e){this._on(vi.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Hn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=tM(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=tM(e.columns,e.old_record)),r}};var _ke=()=>{},Dke=typeof WebSocket<"u",Nke=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,sp=class{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=KU,this.params={},this.timeout=nS,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=_ke,this.conn=null,this.sendBuffer=[],this.serializer=new sy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...o)=>Promise.resolve().then(()=>(Gl(),Du)).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${rS.websocket}`,this.httpEndpoint=iS(e),r?.transport?this.transport=r.transport:this.transport=null,r?.params&&(this.params=r.params),r?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r?.timeout&&(this.timeout=r.timeout),r?.logger&&(this.logger=r.logger),r?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);let i=(n=r?.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r?.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r?.encode?r.encode:(s,a)=>a(JSON.stringify(s)),this.decode=r?.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Fu(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r?.fetch),r?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=r?.worker||!1,this.workerUrl=r?.workerUrl}this.accessToken=r?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Dke){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new sM(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Promise.resolve().then(()=>z(ZU())).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:YU}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){let r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){let e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Nu.connecting:return Wl.Connecting;case Nu.open:return Wl.Open;case Nu.closing:return Wl.Closing;default:return Wl.Closed}}isConnected(){return this.connectionState()===Wl.Open}channel(e,r={config:{}}){let n=new ip(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){let{topic:r,event:n,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(i=>{r&&i.updateJoinPayload({access_token:r}),i.joinedOnce&&i._isJoined()&&i._push(vi.access_token,{access_token:r})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(XU,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:i,payload:s,ref:a}=r;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${a&&"("+a+")"||""}`,s),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(vi.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;let n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{let n=new Blob([Nke],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}},sM=class{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Nu.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}};var ap=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function fr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var sS=class extends ap{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}},ju=class extends ap{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}};var Fke=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})},oS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Promise.resolve().then(()=>(Gl(),Du)).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},ez=()=>Fke(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(()=>(Gl(),Du))).Response:Response}),aS=t=>{if(Array.isArray(t))return t.map(r=>aS(r));if(typeof t=="function"||t!==Object(t))return t;let e={};return Object.entries(t).forEach(([r,n])=>{let i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=aS(n)}),e};var Vu=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})},aM=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$ke=(t,e,r)=>Vu(void 0,void 0,void 0,function*(){let n=yield ez();t instanceof n&&!r?.noResolveJson?t.json().then(i=>{e(new sS(aM(i),t.status||500))}).catch(i=>{e(new ju(aM(i),i))}):e(new ju(aM(t),t))}),jke=(t,e,r,n)=>{let i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function ay(t,e,r,n,i,s){return Vu(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,jke(e,n,i,s)).then(l=>{if(!l.ok)throw l;return n?.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>$ke(l,o,n))})})}function op(t,e,r,n){return Vu(this,void 0,void 0,function*(){return ay(t,"GET",e,r,n)})}function $a(t,e,r,n,i){return Vu(this,void 0,void 0,function*(){return ay(t,"POST",e,n,i,r)})}function tz(t,e,r,n,i){return Vu(this,void 0,void 0,function*(){return ay(t,"PUT",e,n,i,r)})}function rz(t,e,r,n){return Vu(this,void 0,void 0,function*(){return ay(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function lS(t,e,r,n,i){return Vu(this,void 0,void 0,function*(){return ay(t,"DELETE",e,n,i,r)})}var Gn=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})},Vke={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nz={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},oy=class{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=oS(i)}uploadOrUpdate(e,r,n,i){return Gn(this,void 0,void 0,function*(){try{let s,a=Object.assign(Object.assign({},nz),i),o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)}),l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(o=Object.assign(Object.assign({},o),i.headers));let c=this._removeEmptyFolders(r),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:s,headers:o},a?.duplex?{duplex:a.duplex}:{})),f=yield d.json();return d.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(s){if(fr(s))return{data:null,error:s};throw s}})}upload(e,r,n){return Gn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Gn(this,void 0,void 0,function*(){let s=this._removeEmptyFolders(e),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let l,c=Object.assign({upsert:nz.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);let d=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:u}),f=yield d.json();return d.ok?{data:{path:s,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(fr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return Gn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");let s=yield $a(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new ap("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(fr(n))return{data:null,error:n};throw n}})}update(e,r,n){return Gn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Gn(this,void 0,void 0,function*(){try{return{data:yield $a(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(fr(i))return{data:null,error:i};throw i}})}copy(e,r,n){return Gn(this,void 0,void 0,function*(){try{return{data:{path:(yield $a(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(fr(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return Gn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield $a(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers}),a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(fr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Gn(this,void 0,void 0,function*(){try{let i=yield $a(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(fr(i))return{data:null,error:i};throw i}})}download(e,r){return Gn(this,void 0,void 0,function*(){let i=typeof r?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(r?.transform||{}),a=s?`?${s}`:"";try{let o=this._getFinalPath(e);return{data:yield(yield op(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(fr(o))return{data:null,error:o};throw o}})}info(e){return Gn(this,void 0,void 0,function*(){let r=this._getFinalPath(e);try{let n=yield op(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:aS(n),error:null}}catch(n){if(fr(n))return{data:null,error:n};throw n}})}exists(e){return Gn(this,void 0,void 0,function*(){let r=this._getFinalPath(e);try{return yield rz(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(fr(n)&&n instanceof ju){let i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){let n=this._getFinalPath(e),i=[],s=r?.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);let o=typeof r?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(r?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(e){return Gn(this,void 0,void 0,function*(){try{return{data:yield lS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(fr(r))return{data:null,error:r};throw r}})}list(e,r,n){return Gn(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},Vke),r),{prefix:e||""});return{data:yield $a(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(fr(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}};var iz="2.7.1";var sz={"X-Client-Info":`storage-js/${iz}`};var lp=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})},ly=class{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},sz),r),this.fetch=oS(n)}listBuckets(){return lp(this,void 0,void 0,function*(){try{return{data:yield op(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(fr(e))return{data:null,error:e};throw e}})}getBucket(e){return lp(this,void 0,void 0,function*(){try{return{data:yield op(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(fr(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return lp(this,void 0,void 0,function*(){try{return{data:yield $a(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(fr(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return lp(this,void 0,void 0,function*(){try{return{data:yield tz(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(fr(n))return{data:null,error:n};throw n}})}emptyBucket(e){return lp(this,void 0,void 0,function*(){try{return{data:yield $a(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(fr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return lp(this,void 0,void 0,function*(){try{return{data:yield lS(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(fr(r))return{data:null,error:r};throw r}})}};var cy=class extends ly{constructor(e,r={},n){super(e,r,n)}from(e){return new oy(this.url,this.headers,e,this.fetch)}};var az="2.49.1";var uy="";typeof Deno<"u"?uy="deno":typeof document<"u"?uy="web":typeof navigator<"u"&&navigator.product==="ReactNative"?uy="react-native":uy="node";var qke={"X-Client-Info":`supabase-js-${uy}/${az}`},oz={headers:qke},lz={schema:"public"},cz={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uz={};Gl();var Bke=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})},Uke=t=>{let e;return t?e=t:typeof fetch>"u"?e=q3:e=fetch,(...r)=>e(...r)},zke=()=>typeof Headers>"u"?B3:Headers,dz=(t,e,r)=>{let n=Uke(r),i=zke();return(s,a)=>Bke(void 0,void 0,void 0,function*(){var o;let l=(o=yield e())!==null&&o!==void 0?o:t,c=new i(a?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},a),{headers:c}))})};var Hke=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};function fz(t){return t.replace(/\/$/,"")}function pz(t,e){let{db:r,auth:n,realtime:i,global:s}=t,{db:a,auth:o,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},a),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),s),accessToken:()=>Hke(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}var cS="2.68.0";var qu=30*1e3,uS=3,dS=uS*qu,hz="http://localhost:9999",mz="supabase.auth.token";var gz={"X-Client-Info":`gotrue-js/${cS}`};var dy="X-Supabase-Api-Version",oM={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function yz(t){return Math.round(Date.now()/1e3)+t}function vz(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}var Zs=()=>typeof window<"u"&&typeof document<"u",Bu={tested:!1,writable:!1},Kl=()=>{if(!Zs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bu.tested)return Bu.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Bu.tested=!0,Bu.writable=!0}catch{Bu.tested=!0,Bu.writable=!1}return Bu.writable};function bz(t){let e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}var fS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Promise.resolve().then(()=>(Gl(),Du)).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},wz=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",lM=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},py=async(t,e)=>{let r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},hy=async(t,e)=>{await t.removeItem(e)};function Gke(t){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="",n,i,s,a,o,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)a=e.indexOf(t.charAt(u++)),o=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),n=a<<2|o>>4,i=(o&15)<<4|l>>2,s=(l&3)<<6|c,r=r+String.fromCharCode(n),l!=64&&i!=0&&(r=r+String.fromCharCode(i)),c!=64&&s!=0&&(r=r+String.fromCharCode(s));return r}var fy=class t{constructor(){this.promise=new t.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}};fy.promiseConstructor=Promise;function cM(t){let e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=t.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");let n=r[1];return JSON.parse(Gke(n))}async function xz(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Sz(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{let a=await t(s);if(!e(s,null,a)){n(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function Wke(t){return("0"+t.toString(16)).substr(-2)}function Kke(){let e=new Uint32Array(56);if(typeof crypto>"u"){let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length,i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,Wke).join("")}async function Yke(t){let r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}function Xke(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qke(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let r=await Yke(t);return Xke(r)}async function Uu(t,e,r=!1){let n=Kke(),i=n;r&&(i+="/PASSWORD_RECOVERY"),await lM(t,`${e}-code-verifier`,i);let s=await Qke(n);return[s,n===s?"plain":"s256"]}var Jke=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function kz(t){let e=t.headers.get(dy);if(!e||!e.match(Jke))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}var my=class extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function Me(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}var pS=class extends my{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function Cz(t){return Me(t)&&t.name==="AuthApiError"}var cp=class extends my{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},Ro=class extends my{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}},ls=class extends Ro{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Ez(t){return Me(t)&&t.name==="AuthSessionMissingError"}var up=class extends Ro{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},zu=class extends Ro{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Hu=class extends Ro{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Tz(t){return Me(t)&&t.name==="AuthImplicitGrantRedirectError"}var gy=class extends Ro{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},dp=class extends Ro{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function hS(t){return Me(t)&&t.name==="AuthRetryableFetchError"}var yy=class extends Ro{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};var Zke=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},Gu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),eCe=[502,503,504];async function Az(t){var e;if(!wz(t))throw new dp(Gu(t),0);if(eCe.includes(t.status))throw new dp(Gu(t),t.status);let r;try{r=await t.json()}catch(s){throw new cp(Gu(s),s)}let n,i=kz(t);if(i&&i.getTime()>=oM["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new yy(Gu(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new ls}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new yy(Gu(r),t.status,r.weak_password.reasons);throw new pS(Gu(r),t.status||500,n)}var tCe=(t,e,r,n)=>{let i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Ue(t,e,r,n){var i;let s=Object.assign({},n?.headers);s[dy]||(s[dy]=oM["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);let a=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(a.redirect_to=n.redirectTo);let o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await rCe(t,e,r+o,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(l):{data:Object.assign({},l),error:null}}async function rCe(t,e,r,n,i,s){let a=tCe(e,n,i,s),o;try{o=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new dp(Gu(l),0)}if(o.ok||await Az(o),n?.noResolveJson)return o;try{return await o.json()}catch(l){await Az(l)}}function Mo(t){var e;let r=null;nCe(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=yz(t.expires_in)));let n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function uM(t){let e=Mo(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ja(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Lz(t){return{data:t,error:null}}function Iz(t){let{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,a=Zke(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function Rz(t){return t}function nCe(t){return t.access_token&&t.refresh_token&&t.expires_in}var iCe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r},Wu=class{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=fS(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await Ue(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ja})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{let{options:r}=e,n=iCe(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Iz,redirectTo:r?.redirectTo})}catch(r){if(Me(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Ue(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ja})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,a,o,l;try{let c={nextPage:null,lastPage:0,total:0},u=await Ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Rz});if(u.error)throw u.error;let d=await u.json(),f=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(h=>{let g=parseInt(h.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(h.split(";")[1].split("=")[1]);c[`${v}Page`]=g}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(Me(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await Ue(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ja})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await Ue(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:ja})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await Ue(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:ja})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{let{data:r,error:n}=await Ue(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await Ue(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}}};var Mz={getItem:t=>Kl()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Kl()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Kl()&&globalThis.localStorage.removeItem(t)}};function dM(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function Pz(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Ku={debug:!!(globalThis&&Kl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},vy=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},mS=class extends vy{};async function fM(t,e,r){Ku.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);let n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Ku.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Ku.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Ku.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Ku.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new mS(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ku.debug)try{let s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Pz();var sCe={url:hz,storageKey:mz,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gz,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Oz(t,e,r){return await r()}var Yu=class t{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=t.nextInstanceID,t.nextInstanceID+=1,this.instanceID>0&&Zs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},sCe),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Wu({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=fS(i.fetch),this.lock=i.lock||Oz,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Zs()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=fM:this.lock=Oz,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Kl()?this.storage=Mz:(this.memoryStorage={},this.storage=dM(this.memoryStorage)):(this.memoryStorage={},this.storage=dM(this.memoryStorage)),Zs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${cS}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r=bz(window.location.href),n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Zs()&&this.detectSessionInUrl&&n!=="none"){let{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Tz(s)){let l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}let{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Me(r)?{error:r}:{error:new cp("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{let s=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Mo}),{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};let l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Me(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){let{email:u,password:d,options:f}=e,p=null,h=null;this.flowType==="pkce"&&([p,h]=await Uu(this.storage,this.storageKey)),s=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:u,password:d,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:h},xform:Mo})}else if("phone"in e){let{phone:u,password:d,options:f}=e;s=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=f?.data)!==null&&n!==void 0?n:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Mo})}else throw new zu("You must provide either an email or phone number and a password");let{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};let l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Me(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let r;if("email"in e){let{email:s,password:a,options:o}=e;r=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:uM})}else if("phone"in e){let{phone:s,password:a,options:o}=e;r=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:uM})}else throw new zu("You must provide either an email or phone number and a password");let{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new up}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Me(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){let r=await py(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{let{data:s,error:a}=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Mo});if(await hy(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new up}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(Me(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{let{options:r,provider:n,token:i,access_token:s,nonce:a}=e,o=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Mo}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new up}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(Me(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,s,a;try{if("email"in e){let{email:o,options:l}=e,c=null,u=null;this.flowType==="pkce"&&([c,u]=await Uu(this.storage,this.storageKey));let{error:d}=await Ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(n=l?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){let{phone:o,options:l}=e,{data:c,error:u}=await Ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:u}}throw new zu("You must provide either an email or phone number.")}catch(o){if(Me(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);let{data:a,error:o}=await Ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Mo});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,c=a.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Me(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Uu(this.storage,this.storageKey)),await Ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:Lz})}catch(s){if(Me(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new ls;let{error:i}=await Ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Me(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{let r=`${this.url}/resend`;if("email"in e){let{email:n,type:i,options:s}=e,{error:a}=await Ue(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){let{phone:n,type:i,options:s}=e,{data:a,error:o}=await Ue(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:o}}throw new zu("You must provide either an email or phone number and a type")}catch(r){if(Me(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){let i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,r=await py(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};let n=e.expires_at?e.expires_at*1e3-Date.now()<dS:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}let{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ja}):await this._useSession(async r=>{var n,i,s;let{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ls}:await Ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:ja})})}catch(r){if(Me(r))return Ez(r)&&(await this._removeSession(),await hy(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{let{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new ls;let a=i.session,o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Uu(this.storage,this.storageKey));let{data:c,error:u}=await Ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:ja});if(u)throw u;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return cM(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ls;let r=Date.now()/1e3,n=r,i=!0,s=null,a=cM(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){let{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};s=o}else{let{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Me(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){let{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new ls;let{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Me(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Zs())throw new Hu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Hu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new gy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new gy("No code detected.");let{data:b,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;let x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:b.session,redirectType:null},error:null}}let{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=e;if(!s||!o||!a||!c)throw new Hu("No session defined in URL");let u=Math.round(Date.now()/1e3),d=parseInt(o),f=u+d;l&&(f=parseInt(l));let p=f-u;p*1e3<=qu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);let h=f-d;u-h>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",h,f,u):u-h<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",h,f,u);let{data:g,error:v}=await this._getUser(s);if(v)throw v;let y={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:f,refresh_token:a,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(n){if(Me(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){let r=await py(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;let{data:i,error:s}=r;if(s)return{error:s};let a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){let{error:o}=await this.admin.signOut(a,e);if(o&&!(Cz(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await hy(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){let r=vz(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{let{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Uu(this.storage,this.storageKey,!0));try{return await Ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Me(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{let{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{let{data:n,error:i}=await this._useSession(async s=>{var a,o,l,c,u;let{data:d,error:f}=s;if(f)throw f;let p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ue(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Zs()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(n){if(Me(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;let{data:s,error:a}=r;if(a)throw a;return await Ue(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){let r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{let n=Date.now();return await Sz(async i=>(i>0&&await xz(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Mo})),(i,s)=>{let a=200*Math.pow(2,i);return s&&hS(s)&&Date.now()+a-n<qu})}catch(n){if(this._debug(r,"error",n),Me(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){let n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Zs()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let n=await py(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}let i=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<dS;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${dS}s`),i){if(this.autoRefreshToken&&n.refresh_token){let{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),hS(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new ls;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new fy;let{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new ls;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),Me(s)){let a={session:null,error:s};return hS(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){let i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await lM(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await hy(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Zs()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),qu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async r=>{let{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((n.expires_at*1e3-e)/qu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${qu}ms, refresh threshold is ${uS} ticks`),i<=uS&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof vy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Zs()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){let r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){let i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){let[s,a]=await Uu(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n?.queryParams){let s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;let{data:i,error:s}=r;return s?{data:null,error:s}:await Ue(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;let{data:s,error:a}=r;if(a)return{data:null,error:a};let o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await Ue(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;let{data:i,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:o}=await Ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(Me(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;let{data:i,error:s}=r;return s?{data:null,error:s}:await Ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Me(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){let{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){let{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};let n=e?.factors||[],i=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;let{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(i.access_token),o=null;a.aal&&(o=a.aal);let l=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");let u=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}};Yu.nextInstanceID=0;var aCe=Yu,pM=aCe;var gS=class extends pM{constructor(e){super(e)}};var oCe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((n=n.apply(t,e||[])).next())})},by=class{constructor(e,r,n){var i,s,a;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");let o=fz(e);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;let l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:lz,realtime:uz,auth:Object.assign(Object.assign({},cz),{storageKey:l}),global:oz},u=pz(n??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=u.auth)!==null&&a!==void 0?a:{},this.headers,u.global.fetch),this.fetch=dz(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new GU(`${o}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Jg(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new cy(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return oCe(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:a,lock:o,debug:l},c,u){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gS({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:a,lock:o,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new sp(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var _z=(t,e,r)=>new by(t,e,r);var $z=require("obsidian");function Va(){return require("node:fs/promises")}function bi(){return require("node:path")}function cs(){return require("node:url")}function qa(){return require("@electron/remote")}function Dz(){return qa().safeStorage}function Nz(){return qa().dialog}function yS(){return require("node:crypto")}function Fz(){return require("electron")}function fp(t){let{pathToFileURL:e}=cs();try{return e(t)}catch(r){return console.error(`Failed to convert path ${t} to URL: `,r),null}}var Pr=_z("https://oulmgjettaoutfvywylg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im91bG1namV0dGFvdXRmdnl3eWxnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA1ODM1ODQsImV4cCI6MjA2NjE1OTU4NH0.fl3J1ykWiYw0dxWMRfEf-MuQJzXYOk4Tc3xs7y_rjDQ",{auth:{detectSessionInUrl:!1,flowType:"pkce",persistSession:!0,autoRefreshToken:!1,storageKey:"mx-auth-session",storage:(()=>{if(!$z.Platform.isDesktopApp)return localStorage;let t=Dz();return{isServer:!1,getItem:e=>{let r=localStorage.getItem(e);if(!r)return null;let n=Buffer.from(r,"base64");return t.decryptString(n)},setItem:(e,r)=>{let n=t.encryptString(r);localStorage.setItem(e,n.toString("base64"))},removeItem:e=>{localStorage.removeItem(e)}}})()}});var At=class extends DOMException{constructor(e="Aborted"){super(e,"AbortError")}static test(e){return e instanceof DOMException&&e.name==="AbortError"}};var jz=`
`,hM=class extends Error{constructor(e){super(e),Object.defineProperty(this,"message",{enumerable:!1,value:e}),Object.defineProperty(this,"name",{enumerable:!1,value:this.constructor.name}),"captureStackTrace"in Error?Error.captureStackTrace(this,this.constructor):Object.defineProperty(this,"stack",{enumerable:!1,value:Error(e).stack,writable:!0,configurable:!0})}},Sy=class extends hM{},hp=class t extends Sy{constructor(e,r,n,i){super(`${e}: expected ${r} to be ${n}, but got ${i}.`)}static assert(e,r,n,i,s){if(!e)throw new t(r,n,i,s);return e}},pp=class extends Sy{constructor(e,r,n){let i=e.toString(),s=r.map(({name:l})=>l.toString());s.push(i);let a=s.join(" -> "),o=`Could not resolve '${i}'.`;n&&(o+=` ${n}`),o+=jz+jz,o+=`Resolution path: ${a}`,super(o)}},mM=class extends Sy{constructor(e,r){let i=`Could not register '${e.toString()}'.`;r&&(i+=` ${r}`),super(i)}},Xu={PROXY:"PROXY",CLASSIC:"CLASSIC"},an={SINGLETON:"SINGLETON",TRANSIENT:"TRANSIENT",SCOPED:"SCOPED"};function lCe(t,e){return t===an.SINGLETON&&e!==an.SINGLETON||t===an.SCOPED&&e===an.TRANSIENT}function Uz(t){let e=t.length,r=0,n="EOF",i="",s=0,a=0,o=0;return{next:l,done:g};function l(v=0){return s=v,c(),h()}function c(){for(i="",n="EOF";;){if(r>=e)return n="EOF";let v=t.charAt(r);if(Vz(v)){r++;continue}switch(v){case"(":return r++,a++,n=v;case")":return r++,o++,n=v;case"*":return r++,n=v;case",":return r++,n=v;case"=":return r++,(s&1)===0&&d(),n=v;case"/":{r++;let y=t.charAt(r);y==="/"&&(f(b=>b===`
`,!0),r++),y==="*"&&(f(b=>{let w=t.charAt(r+1);return b==="*"&&w==="/"},!0),r++);break}default:if(fCe(v))return u(),n;r++}}}function u(){let v=t.charAt(r),y=++r;for(;pCe(t.charAt(r));)r++;return i=""+v+t.substring(y,r),n=i==="function"||i==="class"?i:"ident",n!=="ident"&&(i=""),i}function d(){f(v=>{let y=a===o+1;return v===","&&y?!0:v==="("?(a++,!1):!!(v===")"&&(o++,y))})}function f(v,y=!1){for(;r<t.length;){let b=t.charAt(r);if(v(b))return;if(!y){if(Vz(b)){r++;continue}if(cCe(b)){p();continue}}r++}}function p(){let v=t.charAt(r);for(r++;r<t.length;){let y=t.charAt(r),b=t.charAt(r-1);if(y===v&&b!=="\\"){r++;return}v==="`"&&t.charAt(r+1)==="$"&&t.charAt(r+2)==="{"&&(r=r+2,f(A=>A==="}")),r++}}function h(){return i?{value:i,type:n}:{type:n}}function g(){return n==="EOF"}}function Vz(t){switch(t){case"\r":case`
`:case" ":return!0}return!1}function cCe(t){switch(t){case"'":case'"':case"`":return!0}return!1}var uCe=/^[_$a-zA-Z\xA0-\uFFFF]$/,dCe=/^[?._$a-zA-Z0-9\xA0-\uFFFF]$/;function fCe(t){return uCe.test(t)}function pCe(t){return dCe.test(t)}function hCe(t,e){let r=t;return typeof r=="string"||typeof r=="symbol"?{[t]:e}:r}function mCe(t){return t[t.length-1]}function gCe(t){if(typeof t!="function")return!1;let e=Uz(t.toString()),r=e.next();if(r.type==="class")return!0;let n=e.next();return!!(r.type==="function"&&n.value&&n.value[0]===n.value[0].toUpperCase())}function zz(t){return typeof t=="function"}function yCe(t){return Array.from(new Set(t))}function vCe(t){let{next:e,done:r}=Uz(t),n=[],i=null;for(l();!r();)switch(i.type){case"class":{if(!a())return null;break}case"function":{let u=l();(u.type==="ident"||u.type==="*")&&l();break}case"(":s();break;case")":return n;case"ident":{let u={name:i.value,optional:!1};if(i.value==="async"){let d=l();if(d&&d.type!=="=")break}return n.push(u),n}default:throw c()}return n;function s(){let u={name:"",optional:!1};for(;!r();)switch(l(),i.type){case"ident":u.name=i.value;break;case"=":u.optional=!0;break;case",":n.push(u),u={name:"",optional:!1};break;case")":u.name&&n.push(u);return;default:throw c()}}function a(){for(;!r();){if(o()){if(l(1),i.type!=="(")continue;return!0}l(1)}return!1}function o(){return i.type==="ident"&&i.value==="constructor"}function l(u=0){return i=e(u),i}function c(){return new SyntaxError(`Parsing parameter list, did not expect ${i.type} token${i.value?` (${i.value})`:""}`)}}var Hz=Symbol("Awilix Resolver Config");function Qu(t){return{resolve:()=>t,isLeakSafe:!0}}function vS(t,e){if(!zz(t))throw new hp("asFunction","fn","function",t);let r={lifetime:an.TRANSIENT};e=Gz(r,e,t[Hz]);let i={resolve:Kz(t),...e};return gM(xy(i))}function Wn(t,e){if(!zz(t))throw new hp("asClass","Type","class",t);let r={lifetime:an.TRANSIENT};e=Gz(r,e,t[Hz]);let i=Kz(function(...a){return Reflect.construct(t,a)},t);return gM(xy({...e,resolve:i}))}function xy(t){function e(i){return xy({...this,lifetime:i})}function r(i){return xy({...this,injectionMode:i})}function n(i){return xy({...this,injector:i})}return Wz(t,{setLifetime:e,inject:n,transient:wy(e,an.TRANSIENT),scoped:wy(e,an.SCOPED),singleton:wy(e,an.SINGLETON),setInjectionMode:r,proxy:wy(r,Xu.PROXY),classic:wy(r,Xu.CLASSIC)})}function gM(t){function e(r){return gM({...this,dispose:r})}return Wz(t,{disposer:e})}function wy(t,e){return function(){return t.call(this,e)}}function Gz(t,...e){return Object.assign({},t,...e)}function Wz(t,e){return{...t,...e}}function bCe(t,e){return function(n,i){return n in e?e[n]:t.resolve(n,i)}}function wCe(t,e){let r=e(t),n=yCe([...Reflect.ownKeys(t.cradle),...Reflect.ownKeys(r)]);return new Proxy({},{get(s,a){return a===Symbol.iterator?function*(){for(let l in t.cradle)yield l;for(let l in r)yield l}:a in r?r[a]:t.resolve(a)},ownKeys(){return n},getOwnPropertyDescriptor(s,a){if(n.indexOf(a)>-1)return{enumerable:!0,configurable:!0}}})}function Kz(t,e){e||(e=t);let r=Yz(e);return function(i){if((this.injectionMode||i.options.injectionMode||Xu.PROXY)!==Xu.CLASSIC){let a=this.injector?wCe(i,this.injector):i.cradle;return t(a)}if(r.length>0){let a=this.injector?bCe(i,this.injector(i)):i.resolve,o=r.map(l=>a(l.name,{allowUnregistered:l.optional}));return t(...o)}return t()}}function Yz(t){let e=vCe(t.toString());if(!e){let r=Object.getPrototypeOf(t);return typeof r=="function"&&r!==Function.prototype?Yz(r):[]}return e}var qz=Symbol("familyTree"),Bz=Symbol("rollUpRegistrations"),xCe="AwilixContainerCradle";function yM(t={}){return Xz(t)}function Xz(t,e,r){t={injectionMode:Xu.PROXY,strict:!1,...t};let n=r??[],i={},s=new Proxy({},{get:(x,A)=>v(A),set:(x,A)=>{throw new Error(`Attempted setting property "${A}" on container cradle - this is not allowed.`)},ownKeys(){return Array.from(s)},getOwnPropertyDescriptor(x,A){let O=u();if(Object.getOwnPropertyDescriptor(O,A))return{enumerable:!0,configurable:!0}}}),a={options:t,cradle:s,inspect:c,cache:new Map,loadModules:()=>{throw new Error("loadModules is not supported in the browser.")},createScope:f,register:p,build:b,resolve:v,hasRegistration:y,dispose:w,getRegistration:g,[Bz]:u,get registrations(){return u()}},o=e?[a].concat(e[qz]):[a];a[qz]=o;let l=mCe(o);return a;function c(){return`[AwilixContainer (${e?"scoped, ":""}registrations: ${Object.keys(a.registrations).length})]`}function u(){return{...e&&e[Bz](),...i}}function*d(){let x=u();for(let A in x)yield A}function f(){return Xz(t,a,n)}function p(x,A){let O=hCe(x,A),S=[...Object.keys(O),...Object.getOwnPropertySymbols(O)];for(let k of S){let E=O[k];if(t.strict&&E.lifetime===an.SINGLETON&&e)throw new mM(k,"Cannot register a singleton on a scoped container.");i[k]=E}return a}function h(){return Object.prototype.toString.call(s)}function g(x){let A=i[x];return A||(e?e.getRegistration(x):null)}function v(x,A){A=A||{};try{let O=g(x);if(n.some(({name:I})=>I===x))throw new pp(x,n,"Cyclic dependencies detected.");if(x==="toJSON")return h;if(x==="constructor")return yM;if(!O){switch(x){case"inspect":case"toString":return h;case Symbol.toStringTag:return xCe;case"then":return;case Symbol.iterator:return d}if(A.allowUnregistered)return;throw new pp(x,n)}let S=O.lifetime||an.TRANSIENT;if(t.strict&&!O.isLeakSafe){let I=n.findIndex(({lifetime:R})=>lCe(R,S));if(I>-1)throw new pp(x,n,`Dependency '${x.toString()}' has a shorter lifetime than its ancestor: '${n[I].name.toString()}'`)}n.push({name:x,lifetime:S});let k,E;switch(S){case an.TRANSIENT:E=O.resolve(a);break;case an.SINGLETON:k=l.cache.get(x),k?E=k.value:(E=O.resolve(t.strict?l:a),l.cache.set(x,{resolver:O,value:E}));break;case an.SCOPED:if(k=a.cache.get(x),k!==void 0){E=k.value;break}E=O.resolve(a),a.cache.set(x,{resolver:O,value:E});break;default:throw new pp(x,n,`Unknown lifetime "${O.lifetime}"`)}return n.pop(),E}catch(O){throw n.length=0,O}}function y(x){return!!g(x)}function b(x,A){if(x&&x.resolve)return x.resolve(a);let O="build",S="targetOrResolver";return hp.assert(x,O,S,"a registration, function or class",x),hp.assert(typeof x=="function",O,S,"a function or class",x),(gCe(x)?Wn(x,A):vS(x,A)).resolve(a)}function w(){let x=Array.from(a.cache.entries());return a.cache.clear(),Promise.all(x.map(([,A])=>{let{resolver:O,value:S}=A,k=O;return k.dispose?Promise.resolve().then(()=>k.dispose(S)):Promise.resolve()})).then(()=>{})}}var Ba={},Qz=(t,e)=>t.unstable_is?t.unstable_is(e):e===t,Jz=t=>"init"in t,vM=t=>!!t.write,Zz=t=>"v"in t||"e"in t,bS=t=>{if("e"in t)throw t.e;if((Ba.env?Ba.env.MODE:void 0)!=="production"&&!("v"in t))throw new Error("[Bug] atom state is not initialized");return t.v},wS=new WeakMap,eH=t=>{var e;return xS(t)&&!!((e=wS.get(t))!=null&&e[0])},SCe=t=>{let e=wS.get(t);e?.[0]&&(e[0]=!1,e[1].forEach(r=>r()))},rH=(t,e)=>{let r=wS.get(t);if(!r){r=[!0,new Set],wS.set(t,r);let n=()=>{r[0]=!1};t.then(n,n)}r[1].add(e)},xS=t=>typeof t?.then=="function",nH=(t,e,r)=>{r.p.has(t)||(r.p.add(t),e.then(()=>{r.p.delete(t)},()=>{r.p.delete(t)}))},bM=(t,e,r)=>{let n=r(t),i="v"in n,s=n.v;if(xS(e))for(let a of n.d.keys())nH(t,e,r(a));n.v=e,delete n.e,(!i||!Object.is(s,n.v))&&(++n.n,xS(s)&&SCe(s))},tH=(t,e,r)=>{var n;let i=new Set;for(let s of((n=r.get(t))==null?void 0:n.t)||[])r.has(s)&&i.add(s);for(let s of e.p)i.add(s);return i},kCe=()=>{let t=new Set,e=()=>{t.forEach(r=>r())};return e.add=r=>(t.add(r),()=>{t.delete(r)}),e},wM=()=>{let t={},e=new WeakMap,r=n=>{var i,s;(i=e.get(t))==null||i.forEach(a=>a(n)),(s=e.get(n))==null||s.forEach(a=>a())};return r.add=(n,i)=>{let s=n||t,a=(e.has(s)?e:e.set(s,new Set)).get(s);return a.add(i),()=>{a?.delete(i),a.size||e.delete(s)}},r},CCe=t=>(t.c||(t.c=wM()),t.m||(t.m=wM()),t.u||(t.u=wM()),t.f||(t.f=kCe()),t),ECe=Symbol();var TCe=(t=new WeakMap,e=new WeakMap,r=new WeakMap,n=new Set,i=new Set,s=new Set,a={},o=(f,...p)=>f.read(...p),l=(f,...p)=>f.write(...p),c=(f,p)=>{var h;return(h=f.unstable_onInit)==null?void 0:h.call(f,p)},u=(f,p)=>{var h;return(h=f.onMount)==null?void 0:h.call(f,p)},...d)=>{let f=d[0]||(S=>{if((Ba.env?Ba.env.MODE:void 0)!=="production"&&!S)throw new Error("Atom is undefined or null");let k=t.get(S);return k||(k={d:new Map,p:new Set,n:0},t.set(S,k),c?.(S,O)),k}),p=d[1]||(()=>{let S=[],k=E=>{try{E()}catch(I){S.push(I)}};do{a.f&&k(a.f);let E=new Set,I=E.add.bind(E);n.forEach(R=>{var T;return(T=e.get(R))==null?void 0:T.l.forEach(I)}),n.clear(),s.forEach(I),s.clear(),i.forEach(I),i.clear(),E.forEach(k),n.size&&h()}while(n.size||s.size||i.size);if(S.length)throw new AggregateError(S)}),h=d[2]||(()=>{let S=[],k=new WeakSet,E=new WeakSet,I=Array.from(n);for(;I.length;){let R=I[I.length-1],T=f(R);if(E.has(R)){I.pop();continue}if(k.has(R)){if(r.get(R)===T.n)S.push([R,T]);else if((Ba.env?Ba.env.MODE:void 0)!=="production"&&r.has(R))throw new Error("[Bug] invalidated atom exists");E.add(R),I.pop();continue}k.add(R);for(let _ of tH(R,T,e))k.has(_)||I.push(_)}for(let R=S.length-1;R>=0;--R){let[T,_]=S[R],F=!1;for(let Y of _.d.keys())if(Y!==T&&n.has(Y)){F=!0;break}F&&(g(T),b(T)),r.delete(T)}}),g=d[3]||(S=>{var k;let E=f(S);if(Zz(E)&&(e.has(S)&&r.get(S)!==E.n||Array.from(E.d).every(([D,U])=>g(D).n===U)))return E;E.d.clear();let I=!0,R=()=>{e.has(S)&&(b(S),h(),p())},T=D=>{var U;if(Qz(S,D)){let De=f(D);if(!Zz(De))if(Jz(D))bM(D,D.init,f);else throw new Error("no atom init");return bS(De)}let ue=g(D);try{return bS(ue)}finally{E.d.set(D,ue.n),eH(E.v)&&nH(S,E.v,ue),(U=e.get(D))==null||U.t.add(S),I||R()}},_,F,Y={get signal(){return _||(_=new AbortController),_.signal},get setSelf(){return(Ba.env?Ba.env.MODE:void 0)!=="production"&&!vM(S)&&console.warn("setSelf function cannot be used with read-only atom"),!F&&vM(S)&&(F=(...D)=>{if((Ba.env?Ba.env.MODE:void 0)!=="production"&&I&&console.warn("setSelf function cannot be called in sync"),!I)try{return y(S,...D)}finally{h(),p()}}),F}},H=E.n;try{let D=o(S,T,Y);return bM(S,D,f),xS(D)&&(rH(D,()=>_?.abort()),D.then(R,R)),E}catch(D){return delete E.v,E.e=D,++E.n,E}finally{I=!1,H!==E.n&&r.get(S)===H&&(r.set(S,E.n),n.add(S),(k=a.c)==null||k.call(a,S))}}),v=d[4]||(S=>{let k=[S];for(;k.length;){let E=k.pop(),I=f(E);for(let R of tH(E,I,e)){let T=f(R);r.set(R,T.n),k.push(R)}}}),y=d[5]||((S,...k)=>{let E=!0,I=T=>bS(g(T)),R=(T,..._)=>{var F;let Y=f(T);try{if(Qz(S,T)){if(!Jz(T))throw new Error("atom not writable");let H=Y.n,D=_[0];bM(T,D,f),b(T),H!==Y.n&&(n.add(T),(F=a.c)==null||F.call(a,T),v(T));return}else return y(T,..._)}finally{E||(h(),p())}};try{return l(S,I,R,...k)}finally{E=!1}}),b=d[6]||(S=>{var k;let E=f(S),I=e.get(S);if(I&&!eH(E.v)){for(let[R,T]of E.d)if(!I.d.has(R)){let _=f(R);w(R).t.add(S),I.d.add(R),T!==_.n&&(n.add(R),(k=a.c)==null||k.call(a,R),v(R))}for(let R of I.d||[])if(!E.d.has(R)){I.d.delete(R);let T=x(R);T?.t.delete(S)}}}),w=d[7]||(S=>{var k;let E=f(S),I=e.get(S);if(!I){g(S);for(let R of E.d.keys())w(R).t.add(S);if(I={l:new Set,d:new Set(E.d.keys()),t:new Set},e.set(S,I),(k=a.m)==null||k.call(a,S),vM(S)){let R=()=>{let T=!0,_=(...F)=>{try{return y(S,...F)}finally{T||(h(),p())}};try{let F=u(S,_);F&&(I.u=()=>{T=!0;try{F()}finally{T=!1}})}finally{T=!1}};i.add(R)}}return I}),x=d[8]||(S=>{var k;let E=f(S),I=e.get(S);if(I&&!I.l.size&&!Array.from(I.t).some(R=>{var T;return(T=e.get(R))==null?void 0:T.d.has(S)})){I.u&&s.add(I.u),I=void 0,e.delete(S),(k=a.u)==null||k.call(a,S);for(let R of E.d.keys()){let T=x(R);T?.t.delete(S)}return}return I}),A=[t,e,r,n,i,s,a,o,l,c,u,f,p,h,g,v,y,b,w,x],O={get:S=>bS(g(S)),set:(S,...k)=>{try{return y(S,...k)}finally{h(),p()}},sub:(S,k)=>{let I=w(S).l;return I.add(k),p(),()=>{I.delete(k),x(S),p()}}};return Object.defineProperty(O,ECe,{value:A}),O},xM=TCe;var iH=CCe;var SM=rH;var mp={},ACe=0;function Q(t,e){let r=`atom${++ACe}`,n={toString(){return(mp.env?mp.env.MODE:void 0)!=="production"&&this.debugLabel?r+":"+this.debugLabel:r}};return typeof t=="function"?n.read=t:(n.init=t,n.read=LCe,n.write=ICe),e&&(n.write=e),n}function LCe(t){return t(this)}function ICe(t,e,r){return e(this,typeof r=="function"?r(t(this)):r)}var RCe=()=>{let t=0,e=iH({}),r=new WeakMap,n=new WeakMap,i=xM(r,n,void 0,void 0,void 0,void 0,e,void 0,(o,l,c,...u)=>t?c(o,...u):o.write(l,c,...u)),s=new Set;return e.m.add(void 0,o=>{s.add(o);let l=r.get(o);l.m=n.get(o)}),e.u.add(void 0,o=>{s.delete(o);let l=r.get(o);delete l.m}),Object.assign(i,{dev4_get_internal_weak_map:()=>r,dev4_get_mounted_atoms:()=>s,dev4_restore_atoms:o=>{let l={read:()=>null,write:(c,u)=>{++t;try{for(let[d,f]of o)"init"in d&&u(d,f)}finally{--t}}};i.set(l)}})};function Ju(){return(mp.env?mp.env.MODE:void 0)!=="production"?RCe():xM()}var ky;function SS(){return ky||(ky=Ju(),(mp.env?mp.env.MODE:void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=ky),globalThis.__JOTAI_DEFAULT_STORE__!==ky&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),ky}var Or=z(he(),1);var aH={},oH=(0,Or.createContext)(void 0);function Yl(t){let e=(0,Or.useContext)(oH);return t?.store||e||SS()}function lH({children:t,store:e}){let r=(0,Or.useRef)(void 0);return!e&&!r.current&&(r.current=Ju()),(0,Or.createElement)(oH.Provider,{value:e||r.current},t)}var CM=t=>typeof t?.then=="function",cH=t=>{t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e})},MCe=Or.default.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(cH(t),t)}),kM=new WeakMap,sH=(t,e)=>{let r=kM.get(t);return r||(r=new Promise((n,i)=>{let s=t,a=c=>u=>{s===c&&n(u)},o=c=>u=>{s===c&&i(u)},l=()=>{try{let c=e();CM(c)?(kM.set(c,r),s=c,c.then(a(c),o(c)),SM(c,l)):n(c)}catch(c){i(c)}};t.then(a(t),o(t)),SM(t,l)}),kM.set(t,r)),r};function ut(t,e){let r=Yl(e),[[n,i,s],a]=(0,Or.useReducer)(c=>{let u=r.get(t);return Object.is(c[0],u)&&c[1]===r&&c[2]===t?c:[u,r,t]},void 0,()=>[r.get(t),r,t]),o=n;(i!==r||s!==t)&&(a(),o=r.get(t));let l=e?.delay;if((0,Or.useEffect)(()=>{let c=r.sub(t,()=>{if(typeof l=="number"){let u=r.get(t);CM(u)&&cH(sH(u,()=>r.get(t))),setTimeout(a,l);return}a()});return a(),c},[r,t,l]),(0,Or.useDebugValue)(o),CM(o)){let c=sH(o,()=>r.get(t));return MCe(c)}return o}function gp(t,e){let r=Yl(e);return(0,Or.useCallback)((...i)=>{if((aH.env?aH.env.MODE:void 0)!=="production"&&!("write"in t))throw new Error("not writable atom");return r.set(t,...i)},[r,t])}function Ua(t,e){return[ut(t,e),gp(t,e)]}var qhe=require("obsidian");function uH(t){let e=new Set(t);return Array.from(e)}function kS(t,e){let r=new Set,n=[];for(let i of t){let s=e(i);r.has(s)||(r.add(s),n.push(i))}return n}function yp(t,e){let r={},n=Object.entries(t);for(let[i,s]of n){let a=e(s,i);r[i]=a}return r}function dH(t,e){let r=new Set(e);return Object.fromEntries(Object.entries(t).filter(([n,i])=>!r.has(n)))}function Cy(t,e){let r={};for(let n of e)n in t&&(r[n]=t[n]);return r}var dA=require("obsidian");var za="mx-file",wi="mx-url";function Ey(t){return typeof t.view<"u"}function Ha(t,e){return e.activeTime-t.activeTime}function Ty(t,e){return t.view===void 0?1:e.view===void 0?-1:0}function Po(...t){return(e,r)=>{for(let n of t){let i=n(e,r);if(i!==0)return i}return 0}}var oA=require("obsidian");var EM;function CS(t){return{lang:t?.lang??EM?.lang,message:t?.message,abortEarly:t?.abortEarly??EM?.abortEarly,abortPipeEarly:t?.abortPipeEarly??EM?.abortPipeEarly}}var PCe;function OCe(t){return PCe?.get(t)}var _Ce;function DCe(t){return _Ce?.get(t)}var NCe;function FCe(t,e){return NCe?.get(t)?.get(e)}function Oo(t){let e=typeof t;return e==="string"?`"${t}"`:e==="number"||e==="bigint"||e==="boolean"?`${t}`:e==="object"||e==="function"?(t&&Object.getPrototypeOf(t)?.constructor?.name)??"null":e}function Yt(t,e,r,n,i){let s=i&&"input"in i?i.input:r.value,a=i?.expected??t.expects??null,o=i?.received??Oo(s),l={kind:t.kind,type:t.type,input:s,expected:a,received:o,message:`Invalid ${e}: ${a?`Expected ${a} but r`:"R"}eceived ${o}`,requirement:t.requirement,path:i?.path,issues:i?.issues,lang:n.lang,abortEarly:n.abortEarly,abortPipeEarly:n.abortPipeEarly},c=t.kind==="schema",u=i?.message??t.message??FCe(t.reference,l.lang)??(c?DCe(l.lang):null)??n.message??OCe(l.lang);u!==void 0&&(l.message=typeof u=="function"?u(l):u),c&&(r.typed=!1),r.issues?r.issues.push(l):r.issues=[l]}function An(t){return{version:1,vendor:"valibot",validate(e){return t["~run"]({value:e},CS())}}}function pH(t,e){let r=[...new Set(t)];return r.length>1?`(${r.join(` ${e} `)})`:r[0]??"never"}function hH(t){if(t.path){let e="";for(let r of t.path)if(typeof r.key=="string"||typeof r.key=="number")e?e+=`.${r.key}`:e+=r.key;else return null;return e}return null}var vp=class extends Error{constructor(t){super(t[0].message),this.name="ValiError",this.issues=t}};function Zu(t){return{kind:"transformation",type:"brand",reference:Zu,async:!1,name:t,"~run"(e){return e}}}function bp(t,e){return{kind:"validation",type:"check",reference:bp,async:!1,expects:null,requirement:t,message:e,"~run"(r,n){return r.typed&&!this.requirement(r.value)&&Yt(this,"input",r,n),r}}}function Ay(t,e){return{kind:"validation",type:"gt_value",reference:Ay,async:!1,expects:`>${t instanceof Date?t.toJSON():Oo(t)}`,requirement:t,message:e,"~run"(r,n){return r.typed&&!(r.value>this.requirement)&&Yt(this,"value",r,n,{received:r.value instanceof Date?r.value.toJSON():Oo(r.value)}),r}}}function TM(t){return{kind:"validation",type:"integer",reference:TM,async:!1,expects:null,requirement:Number.isInteger,message:t,"~run"(e,r){return e.typed&&!this.requirement(e.value)&&Yt(this,"integer",e,r),e}}}function Xl(t,e){return{kind:"validation",type:"max_value",reference:Xl,async:!1,expects:`<=${t instanceof Date?t.toJSON():Oo(t)}`,requirement:t,message:e,"~run"(r,n){return r.typed&&!(r.value<=this.requirement)&&Yt(this,"value",r,n,{received:r.value instanceof Date?r.value.toJSON():Oo(r.value)}),r}}}function wp(t,e){return{kind:"validation",type:"min_length",reference:wp,async:!1,expects:`>=${t}`,requirement:t,message:e,"~run"(r,n){return r.typed&&r.value.length<this.requirement&&Yt(this,"length",r,n,{received:`${r.value.length}`}),r}}}function xp(t,e){return{kind:"validation",type:"min_value",reference:xp,async:!1,expects:`>=${t instanceof Date?t.toJSON():Oo(t)}`,requirement:t,message:e,"~run"(r,n){return r.typed&&!(r.value>=this.requirement)&&Yt(this,"value",r,n,{received:r.value instanceof Date?r.value.toJSON():Oo(r.value)}),r}}}function ea(t){return{kind:"validation",type:"non_empty",reference:ea,async:!1,expects:"!0",message:t,"~run"(e,r){return e.typed&&e.value.length===0&&Yt(this,"length",e,r,{received:"0"}),e}}}function Ly(t,e){return{kind:"transformation",type:"parse_json",reference:Ly,config:t,message:e,async:!1,"~run"(r,n){try{r.value=JSON.parse(r.value,this.config?.reviver)}catch(i){if(i instanceof Error)Yt(this,"JSON",r,n,{received:`"${i.message}"`}),r.typed=!1;else throw i}return r}}}function AM(t){return{kind:"transformation",type:"raw_transform",reference:AM,async:!1,"~run"(e,r){let n=t({dataset:e,config:r,addIssue:i=>Yt(this,i?.label??"input",e,r,i),NEVER:null});return e.issues?e.typed=!1:e.value=n,e}}}function LM(t,e){return{kind:"validation",type:"regex",reference:LM,async:!1,expects:`${t}`,requirement:t,message:e,"~run"(r,n){return r.typed&&!this.requirement.test(r.value)&&Yt(this,"format",r,n),r}}}function Ga(t){return{kind:"transformation",type:"transform",reference:Ga,async:!1,operation:t,"~run"(e){return e.value=this.operation(e.value),e}}}function ed(){return{kind:"transformation",type:"trim",reference:ed,async:!1,"~run"(t){return t.value=t.value.trim(),t}}}function mH(t,e,r){return typeof t.fallback=="function"?t.fallback(e,r):t.fallback}function Lt(t,e){return{...t,fallback:e,get"~standard"(){return An(this)},"~run"(r,n){let i=t["~run"](r,n);return i.issues?{typed:!0,value:mH(this,i,n)}:i}}}function IM(t,e,r){return typeof t.default=="function"?t.default(e,r):t.default}function xi(t,e){return!t["~run"]({value:e},{abortEarly:!0}).issues}function td(t,e){return{kind:"schema",type:"array",reference:td,expects:"Array",async:!1,item:t,message:e,get"~standard"(){return An(this)},"~run"(r,n){let i=r.value;if(Array.isArray(i)){r.typed=!0,r.value=[];for(let s=0;s<i.length;s++){let a=i[s],o=this.item["~run"]({value:a},n);if(o.issues){let l={type:"array",origin:"value",input:i,key:s,value:a};for(let c of o.issues)c.path?c.path.unshift(l):c.path=[l],r.issues?.push(c);if(r.issues||(r.issues=o.issues),n.abortEarly){r.typed=!1;break}}o.typed||(r.typed=!1),r.value.push(o.value)}}else Yt(this,"type",r,n);return r}}}function Kn(t){return{kind:"schema",type:"boolean",reference:Kn,expects:"boolean",async:!1,message:t,get"~standard"(){return An(this)},"~run"(e,r){return typeof e.value=="boolean"?e.typed=!0:Yt(this,"type",e,r),e}}}function rd(t,e){return{kind:"schema",type:"literal",reference:rd,expects:Oo(t),async:!1,literal:t,message:e,get"~standard"(){return An(this)},"~run"(r,n){return r.value===this.literal?r.typed=!0:Yt(this,"type",r,n),r}}}function RM(t,e){return{kind:"schema",type:"non_nullable",reference:RM,expects:"!null",async:!1,wrapped:t,message:e,get"~standard"(){return An(this)},"~run"(r,n){return r.value!==null&&(r=this.wrapped["~run"](r,n)),r.value===null&&Yt(this,"type",r,n),r}}}function MM(t){return{kind:"schema",type:"null",reference:MM,expects:"null",async:!1,message:t,get"~standard"(){return An(this)},"~run"(e,r){return e.value===null?e.typed=!0:Yt(this,"type",e,r),e}}}function Ql(t,e){return{kind:"schema",type:"nullable",reference:Ql,expects:`(${t.expects} | null)`,async:!1,wrapped:t,default:e,get"~standard"(){return An(this)},"~run"(r,n){return r.value===null&&(this.default!==void 0&&(r.value=IM(this,r,n)),r.value===null)?(r.typed=!0,r):this.wrapped["~run"](r,n)}}}function Si(t){return{kind:"schema",type:"number",reference:Si,expects:"number",async:!1,message:t,get"~standard"(){return An(this)},"~run"(e,r){return typeof e.value=="number"&&!isNaN(e.value)?e.typed=!0:Yt(this,"type",e,r),e}}}function ki(t,e){return{kind:"schema",type:"object",reference:ki,expects:"Object",async:!1,entries:t,message:e,get"~standard"(){return An(this)},"~run"(r,n){let i=r.value;if(i&&typeof i=="object"){r.typed=!0,r.value={};for(let s in this.entries){let a=this.entries[s];if(s in i||(a.type==="exact_optional"||a.type==="optional"||a.type==="nullish")&&a.default!==void 0){let o=s in i?i[s]:IM(a),l=a["~run"]({value:o},n);if(l.issues){let c={type:"object",origin:"value",input:i,key:s,value:o};for(let u of l.issues)u.path?u.path.unshift(c):u.path=[c],r.issues?.push(u);if(r.issues||(r.issues=l.issues),n.abortEarly){r.typed=!1;break}}l.typed||(r.typed=!1),r.value[s]=l.value}else if(a.fallback!==void 0)r.value[s]=mH(a);else if(a.type!=="exact_optional"&&a.type!=="optional"&&a.type!=="nullish"&&(Yt(this,"key",r,n,{input:void 0,expected:`"${s}"`,path:[{type:"object",origin:"key",input:i,key:s,value:i[s]}]}),n.abortEarly))break}}else Yt(this,"type",r,n);return r}}}function _r(t,e){return{kind:"schema",type:"optional",reference:_r,expects:`(${t.expects} | undefined)`,async:!1,wrapped:t,default:e,get"~standard"(){return An(this)},"~run"(r,n){return r.value===void 0&&(this.default!==void 0&&(r.value=IM(this,r,n)),r.value===void 0)?(r.typed=!0,r):this.wrapped["~run"](r,n)}}}function Xt(t,e){return{kind:"schema",type:"picklist",reference:Xt,expects:pH(t.map(Oo),"|"),async:!1,options:t,message:e,get"~standard"(){return An(this)},"~run"(r,n){return this.options.includes(r.value)?r.typed=!0:Yt(this,"type",r,n),r}}}function qe(t){return{kind:"schema",type:"string",reference:qe,expects:"string",async:!1,message:t,get"~standard"(){return An(this)},"~run"(e,r){return typeof e.value=="string"?e.typed=!0:Yt(this,"type",e,r),e}}}function fH(t){let e;if(t)for(let r of t)e?e.push(...r.issues):e=r.issues;return e}function Sp(t,e){return{kind:"schema",type:"union",reference:Sp,expects:pH(t.map(r=>r.expects),"|"),async:!1,options:t,message:e,get"~standard"(){return An(this)},"~run"(r,n){let i,s,a;for(let o of this.options){let l=o["~run"]({value:r.value},n);if(l.typed)if(l.issues)s?s.push(l):s=[l];else{i=l;break}else a?a.push(l):a=[l]}if(i)return i;if(s){if(s.length===1)return s[0];Yt(this,"type",r,n,{issues:fH(s)}),r.typed=!0}else{if(a?.length===1)return a[0];Yt(this,"type",r,n,{issues:fH(a)})}return r}}}function gH(t,e){let r={...t.entries};for(let n of e)delete r[n];return{...t,entries:r,get"~standard"(){return An(this)}}}function Jl(t,e,r){let n=t["~run"]({value:e},CS(r));if(n.issues)throw new vp(n.issues);return n.value}function Ye(...t){return{...t[0],pipe:t,get"~standard"(){return An(this)},"~run"(e,r){for(let n of t)if(n.kind!=="metadata"){if(e.issues&&(n.kind==="schema"||n.kind==="transformation")){e.typed=!1;break}(!e.issues||!r.abortEarly&&!r.abortPipeEarly)&&(e=n["~run"](e,r))}return e}}}function Wa(t,e,r){let n=t["~run"]({value:e},CS(r));return{typed:n.typed,success:!n.issues,output:n.value,issues:n.issues}}async function yH(t,e,r){let n=await t["~run"]({value:e},CS(r));return{typed:n.typed,success:!n.issues,output:n.value,issues:n.issues}}var kp={video:["mp4","webm","ogv","mov","mkv"],audio:["mp3","wav","m4a","3gp","flac","ogg","oga","opus"],track:["vtt","srt","ssa","ass"]},ta=[...kp.video,...kp.audio],ES=[...kp.track],Cp={video:Xt(kp.video),audio:Xt(kp.audio),track:Xt(kp.track),media:Xt(ta)},vH=Cp.track;function _o(t){return xi(Cp.media,t.extension)}function nd(t){return xi(Cp.video,t.extension)}function Iy(t){return xi(Cp.audio,t.extension)}function TS(t){return xi(Cp.track,t.extension)}function bH(t){let{pathname:e}=t,r=e.split(".").pop();return xi(Cp.media,r)}var Ry="mx-vault-track",Ep="mx-url-track";var i9=require("obsidian");var bt=class extends Error{constructor(e,r){super(e,r),this.name="AssertionError"}};function wH(t){return t instanceof Set||t instanceof Map}function $Ce(t,e){let r=Object.getPrototypeOf(t),n=Object.getPrototypeOf(e);return r===n||r===Object.prototype&&n===null||r===null&&n===Object.prototype}function jCe(t){let e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||e===Array.prototype}function SH(t){return[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)]}function xH(t){let e=new Set;for(;t!==Object.prototype&&t!==Array.prototype&&t!=null;){for(let r of SH(t))e.add(r);t=Object.getPrototypeOf(t)}return e}var Zl=globalThis.Temporal??new Proxy({},{get:()=>{}}),VCe=new Set([Intl.Locale,RegExp,Zl.Duration,Zl.Instant,Zl.PlainDate,Zl.PlainDateTime,Zl.PlainTime,Zl.PlainYearMonth,Zl.PlainMonthDay,Zl.ZonedDateTime,URL,URLSearchParams].filter(t=>t!=null).map(t=>t.prototype));function PM(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="bigint"||typeof t=="symbol"||t==null}var qCe=Object.getPrototypeOf(Uint8Array);function BCe(t,e){if(t.length!==e.length)return!1;for(let r=0;r<e.length;r++)if(!kH(t[r],e[r]))return!1;return!0}function kH(t,e){return t===e||Object.is(t,e)}function id(t,e){let r=new Map;return function n(i,s){if(kH(i,s))return!0;if(PM(i)||PM(s))return!1;if(i instanceof Date&&s instanceof Date)return Object.is(i.getTime(),s.getTime());if(i&&typeof i=="object"&&s&&typeof s=="object"){if(!$Ce(i,s))return!1;if(i instanceof qCe)return BCe(i,s);if(i instanceof WeakMap)throw new TypeError("cannot compare WeakMap instances");if(i instanceof WeakSet)throw new TypeError("cannot compare WeakSet instances");if(i instanceof WeakRef)return n(i.deref(),s.deref());if(r.get(i)===s)return!0;if(Object.keys(i).length!==Object.keys(s).length)return!1;if(r.set(i,s),wH(i)&&wH(s)){if(i.size!==s.size)return!1;let o=[...i.keys()];if(o.every(PM)){if(i instanceof Set)return i.symmetricDifference(s).size===0;for(let u of o)if(!s.has(u)||!n(i.get(u),s.get(u)))return!1;return!0}let c=i.size;for(let[u,d]of i.entries())for(let[f,p]of s.entries())if(n(u,f)&&(u===d&&f===p||n(d,p))){c--;break}return c===0}let a;if(jCe(i))a=SH({...i,...s});else{if(VCe.has(Object.getPrototypeOf(i)))return String(i)===String(s);a=xH(i).union(xH(s))}for(let o of a)if(!n(i[o],s[o])||o in i&&!(o in s)||o in s&&!(o in i))return!1;return!0}return!1}(t,e)}function ra(t){let{Deno:e}=globalThis;return typeof e?.inspect=="function"?e.inspect(t,{depth:1/0,sorted:!0,trailingComma:!0,compact:!1,iterableLimit:1/0,getters:!0,strAbbreviateSize:1/0}):`"${String(t).replace(/(?=["\\])/g,"\\")}"`}var{Deno:CH}=globalThis,tQe=typeof CH?.noColor=="boolean"?CH.noColor:!1;var rQe=new RegExp(["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TXZcf-nq-uy=><~]))"].join("|"),"g");var us={},AH=Symbol((us.env?us.env.MODE:void 0)!=="production"?"RESET":"");var OM=(t,e,r)=>(e.has(r)?e:e.set(r,t())).get(r),WCe=new WeakMap,KCe=(t,e,r,n)=>{let i=OM(()=>new WeakMap,WCe,e),s=OM(()=>new WeakMap,i,r);return OM(t,s,n)};function _M(t,e,r=Object.is){return KCe(()=>{let n=Symbol(),i=([a,o])=>{if(o===n)return e(a);let l=e(a,o);return r(o,l)?o:l},s=Q(a=>{let o=a(s),l=a(t);return i([l,o])});return s.init=n,s},t,e,r)}var YCe=t=>typeof t?.then=="function";function XCe(t=()=>{try{return window.localStorage}catch(r){(us.env?us.env.MODE:void 0)!=="production"&&typeof window<"u"&&console.warn(r);return}},e){var r;let n,i,s={getItem:(l,c)=>{var u,d;let f=h=>{if(h=h||"",n!==h){try{i=JSON.parse(h,e?.reviver)}catch{return c}n=h}return i},p=(d=(u=t())==null?void 0:u.getItem(l))!=null?d:null;return YCe(p)?p.then(f):f(p)},setItem:(l,c)=>{var u;return(u=t())==null?void 0:u.setItem(l,JSON.stringify(c,e?.replacer))},removeItem:l=>{var c;return(c=t())==null?void 0:c.removeItem(l)}},a=l=>(c,u,d)=>l(c,f=>{let p;try{p=JSON.parse(f||"")}catch{p=d}u(p)}),o;try{o=(r=t())==null?void 0:r.subscribe}catch{}return!o&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(o=(l,c)=>{if(!(t()instanceof window.Storage))return()=>{};let u=d=>{d.storageArea===t()&&d.key===l&&c(d.newValue)};return window.addEventListener("storage",u),()=>{window.removeEventListener("storage",u)}}),o&&(s.subscribe=a(o)),s}var sZe=XCe();var TH=(t,e,r)=>(e.has(r)?e:e.set(r,t())).get(r),QCe=new WeakMap,JCe=(t,e,r)=>{let n=TH(()=>new WeakMap,QCe,e);return TH(t,n,r)},ZCe=t=>t instanceof Promise,eEe=()=>{};function LH(t,e=eEe){return JCe(()=>{let r=new WeakMap,n=new WeakMap,i=Q(0);(us.env?us.env.MODE:void 0)!=="production"&&(i.debugPrivate=!0);let s=Q((a,{setSelf:o})=>{a(i);let l=a(s),c=a(t);if(!ZCe(c))return{v:c};if(c!==l?.p&&c.then(u=>{n.set(c,u),o()},u=>{r.set(c,u),o()}),r.has(c))throw r.get(c);return n.has(c)?{p:c,v:n.get(c)}:l&&"v"in l?{p:c,f:e(l.v),v:l.v}:{p:c,f:e()}},(a,o)=>{o(i,l=>l+1)});return s.init=void 0,(us.env?us.env.MODE:void 0)!=="production"&&(s.debugPrivate=!0),Q(a=>{let o=a(s);return"f"in o?o.f:o.v},(a,o,...l)=>o(t,...l))},t,e)}function IH(t,e){let r=Q(0);return(us.env?us.env.MODE:void 0)!=="production"&&(r.debugPrivate=!0),Q((n,i)=>(n(r),t(n,i)),(n,i,...s)=>{if(s.length===0)i(r,a=>a+1);else{if(e)return e(n,i,...s);if((us.env?us.env.MODE:void 0)!=="production")throw new Error("refresh must be called without arguments")}})}var MH=z(he(),1);var RH=new WeakMap;function PH(t,e){let r=Yl(e),n=tEe(r);for(let[i,s]of t)(!n.has(i)||e?.dangerouslyForceHydrate)&&(n.add(i),r.set(i,s))}var tEe=t=>{let e=RH.get(t);return e||(e=new WeakSet,RH.set(t,e)),e};function ds(t){let e=Q(0),r=Q(()=>({i:0}),(l,c)=>{let u=l(r);return Object.assign(u,{m:!0,peek:l,set:c}),c(e,d=>d+1),()=>{u.m=!1,a(u),o(u)}});r.onMount=l=>l();let n=Q(l=>{l(e);let c=l(r);if(!c.m||c.irc||c.i&&!c.irf)return c.p;o(c);let u=new Map,d=g=>{let v=l(g);return u.set(g,v),v};d.peek=c.peek;let f=(...g)=>{try{return++c.i,c.set(...g)}finally{Array.from(u.keys(),l),--c.i}};f.recurse=(g,...v)=>{if(!c.fc)try{return c.irc=!0,c.set(g,...v)}finally{c.irc=!1,Array.from(u).some(p)&&s(c)}};function p([g,v]){return l(g)!==v}++c.i;function h(){try{if(c.irf=!1,!c.m)return;a(c),c.c=i.effect(d,f)}catch(g){c.e=g,s(c)}finally{c.p=void 0,--c.i}}return c.irf?h():c.p=Promise.resolve().then(h)}),i=Q(l=>void l(n));return i.effect=t,i;function s(l){try{l.irf=!0,l.set(e,c=>c+1)}finally{l.irf=!1}}function a(l){if(typeof l.c=="function")try{l.fc=!0,l.c()}finally{l.fc=!1,l.c=void 0}}function o(l){if("e"in l){let c=l.e;throw delete l.e,c}}}function Ci(t,e){let r=ds((a,o)=>{let l=c=>a(c===s?t:c);return l.peek=a.peek,s.effect(l,o)}),n=Object.getOwnPropertyDescriptors(t);n.read.value=a=>{try{return a(t)}finally{a(r)}},"write"in t&&typeof t.write=="function"&&(n.write.value=t.write.bind(t),delete n.onMount);let i=Object.getPrototypeOf(t),s=Object.create(i,n);return s.effect=e,s}var AS=new WeakMap;function fs(t,e=SS()){AS.has(e)||AS.set(e,new Map);let r=AS.get(e),n=r.get(t);if(!n){let i=ds(t),s=e.sub(i,()=>{});n=()=>{s&&(r.delete(t),r.size===0&&AS.delete(e),s=void s())},r.set(t,n)}return n}function Te(t,e){throw new bt(e??`Expect ${ra(t)} to be of type never`)}var OH="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var xr=(t=21)=>{let e="",r=crypto.getRandomValues(new Uint8Array(t|=0));for(;t--;)e+=OH[r[t]&63];return e};var DM=new WeakMap;function LS(t){return DM.has(t)||DM.set(t,xr()),DM.get(t)}function na(t){return t?t.type==="url:hosted"&&t.vid.host==="youtube":!1}function sd(t){return!!t&&(t.type==="url:direct"||t.type==="url:hosted")}function rEe(t){return t.host==="youtube"||t.host==="vimeo"}function _H(t){return t.type==="url:hosted"&&rEe(t.vid)}function Do(t){if(t.type==="file")return`file:${LS(t.file)}`;if(t.type==="url:direct")return`url:${t.url.toString()}`;if(t.type==="url:hosted")return`url:${t.url.toString()}`;Te(t)}function ps(t,e){if(!t||!e)return!1;let r=Do(t),n=Do(e);return r===n}var Qt=Q({}),Ka=Q(null),Vt=_M(Ka,t=>t?.info,ps),Jt=_M(Ka,t=>t?.hash??null,(t,e)=>id(t,e)),ad=Q(null),MS=Q(null,(t,e)=>{e(ad,{tempFragment:null}),e(Ka,r=>r&&{...r,hash:{...r.hash,tempFragment:null}})}),PS=Q(t=>t(Tp)===!1),My=Ci(Q(!0),(t,e)=>{if(!t(Ka))return;e(My,!1);let r=window.setTimeout(()=>{e(My,!0)},500);return()=>window.clearTimeout(r)}),DH=Q(null,(t,e,r)=>{t(My)||e(Ka,i=>i&&{...i,hash:r}),e(ad,r)}),Tp=Q(!1),IS=class extends Event{constructor(r){super("ephemeral-hash-event");this.hash=r}},RS=class extends Event{sources;constructor(e){super("initial-hash-event"),this.sources=e}};var N=z(he(),1),$=z(he(),1);var _S=z(he(),1);var NH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),OS=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();var Py=z(he(),1);var FH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};var $H=(0,Py.forwardRef)(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...o},l)=>(0,Py.createElement)("svg",{ref:l,...FH,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:OS("lucide",i),...o},[...a.map(([c,u])=>(0,Py.createElement)(c,u)),...Array.isArray(s)?s:[s]]));var q=(t,e)=>{let r=(0,_S.forwardRef)(({className:n,...i},s)=>(0,_S.createElement)($H,{ref:s,iconNode:e,className:OS(`lucide-${NH(t)}`,n),...i}));return r.displayName=`${t}`,r};var nEe=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Oy=q("ArrowDown",nEe);var iEe=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],_y=q("ArrowUpRight",iEe);var sEe=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Dy=q("ArrowUp",sEe);var aEe=[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]],Ny=q("Blocks",aEe);var oEe=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Fy=q("Book",oEe);var lEe=[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]],$y=q("Bug",lEe);var cEe=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Ap=q("Camera",cEe);var uEe=[["path",{d:"M10.5 5H19a2 2 0 0 1 2 2v8.5",key:"jqtk4d"}],["path",{d:"M17 11h-.5",key:"1961ue"}],["path",{d:"M19 19H5a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2",key:"1keqsi"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M7 11h4",key:"1o1z6v"}],["path",{d:"M7 15h2.5",key:"1ina1g"}]],jy=q("CaptionsOff",uEe);var dEe=[["rect",{width:"18",height:"14",x:"3",y:"5",rx:"2",ry:"2",key:"12ruh7"}],["path",{d:"M7 15h4M15 15h2M7 11h2M13 11h4",key:"1ueiar"}]],No=q("Captions",dEe);var fEe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],od=q("Check",fEe);var pEe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Vy=q("ChevronDown",pEe);var hEe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Fo=q("CircleAlert",hEe);var mEe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$o=q("CircleCheckBig",mEe);var gEe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ec=q("CircleX",gEe);var yEe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Lp=q("Clock",yEe);var vEe=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Ip=q("Copy",vEe);var bEe=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],qy=q("Download",bEe);var wEe=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],tc=q("ExternalLink",wEe);var xEe=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],By=q("EyeOff",xEe);var SEe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Uy=q("Eye",SEe);var kEe=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],zy=q("FilePlus",kEe);var CEe=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ld=q("FileText",CEe);var EEe=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Hy=q("FolderOpen",EEe);var TEe=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Gy=q("Hash",TEe);var AEe=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],Rp=q("Languages",AEe);var LEe=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],cd=q("Link",LEe);var IEe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ia=q("LoaderCircle",IEe);var REe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Wy=q("Lock",REe);var MEe=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],Ky=q("Maximize",MEe);var PEe=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Yy=q("Mic",PEe);var OEe=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],Xy=q("Minimize",OEe);var _Ee=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],Qy=q("Pause",_Ee);var DEe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],rc=q("Pen",DEe);var NEe=[["path",{d:"M21 9V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h4",key:"daa4of"}],["rect",{width:"10",height:"7",x:"12",y:"13",rx:"2",key:"1nb8gs"}]],Jy=q("PictureInPicture2",NEe);var FEe=[["path",{d:"M2 10h6V4",key:"zwrco"}],["path",{d:"m2 4 6 6",key:"ug085t"}],["path",{d:"M21 10V7a2 2 0 0 0-2-2h-7",key:"git5jr"}],["path",{d:"M3 14v2a2 2 0 0 0 2 2h3",key:"1f7fh3"}],["rect",{x:"12",y:"14",width:"10",height:"7",rx:"1",key:"1wjs3o"}]],Mp=q("PictureInPicture",FEe);var $Ee=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],ud=q("Play",$Ee);var jEe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zy=q("Plus",jEe);var VEe=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],ev=q("Redo",VEe);var qEe=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],tv=q("RefreshCcw",qEe);var BEe=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],rv=q("Rocket",BEe);var UEe=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],nv=q("RotateCcw",UEe);var zEe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Pp=q("Save",zEe);var HEe=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],iv=q("Search",HEe);var GEe=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sv=q("Settings",GEe);var WEe=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Yn=q("SquarePen",WEe);var KEe=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"2",key:"1btzen"}],["circle",{cx:"8",cy:"8",r:"2",key:"14cg06"}],["path",{d:"M9.414 9.414 12 12",key:"qz4lzr"}],["path",{d:"M14.8 14.8 18 18",key:"11flf1"}],["circle",{cx:"8",cy:"16",r:"2",key:"1acxsx"}],["path",{d:"m18 6-8.586 8.586",key:"11kzk1"}]],nc=q("SquareScissors",KEe);var YEe=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],av=q("Star",YEe);var XEe=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],ov=q("TestTube",XEe);var QEe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],lv=q("Trash2",QEe);var JEe=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],cv=q("Undo2",JEe);var ZEe=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],uv=q("Undo",ZEe);var eTe=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],dv=q("Upload",eTe);var tTe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Op=q("User",tTe);var rTe=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}]],fv=q("Volume1",rTe);var nTe=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],pv=q("Volume2",nTe);var iTe=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],hv=q("VolumeX",iTe);var sTe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jo=q("X",sTe);ws();ws();var be=z(he(),1);xv();var ye=z(he(),1);xv();ws();var V=z(he(),1);xv();ws();ua();da();var bK=z(Pu(),1);function nh(){return iP(Db)}var zLe=Ie(cb,{domEventsRegex:/^onMedia/}),wK=V.forwardRef(({children:t,...e},r)=>V.createElement(zLe,{...e},n=>V.createElement(fe.button,{...n,ref:We(n.ref,r)},t)));wK.displayName="AirPlayButton";var HLe=Ie(lb,{domEventsRegex:/^onMedia/}),fC=V.forwardRef(({children:t,...e},r)=>V.createElement(HLe,{...e},n=>V.createElement(fe.button,{...n,ref:We(n.ref,r)},t)));fC.displayName="PlayButton";var GLe=Ie(nb,{domEventsRegex:/^onMedia/}),pC=V.forwardRef(({children:t,...e},r)=>V.createElement(GLe,{...e},n=>V.createElement(fe.button,{...n,ref:We(n.ref,r)},t)));pC.displayName="CaptionButton";var WLe=Ie(ib,{domEventsRegex:/^onMedia/}),hC=V.forwardRef(({children:t,...e},r)=>V.createElement(WLe,{...e},n=>V.createElement(fe.button,{...n,ref:We(n.ref,r)},t)));hC.displayName="FullscreenButton";var KLe=Ie(ab,{domEventsRegex:/^onMedia/}),mC=V.forwardRef(({children:t,...e},r)=>V.createElement(KLe,{...e},n=>V.createElement(fe.button,{...n,ref:We(n.ref,r)},t)));mC.displayName="MuteButton";var YLe=Ie(ob,{domEventsRegex:/^onMedia/}),gC=V.forwardRef(({children:t,...e},r)=>V.createElement(YLe,{...e},n=>V.createElement(fe.button,{...n,ref:We(n.ref,r)},t)));gC.displayName="PIPButton";var XLe=Ie(db,{domEventsRegex:/^onMedia/}),yC=V.forwardRef(({children:t,...e},r)=>V.createElement(XLe,{...e},n=>V.createElement(fe.button,{...n,ref:We(n.ref,r)},t)));yC.displayName="SeekButton";var QLe=Ie(sb,{domEventsRegex:/^onMedia/}),xK=V.forwardRef(({children:t,...e},r)=>V.createElement(QLe,{...e},n=>V.createElement(fe.button,{...n,ref:We(n.ref,r)},t)));xK.displayName="LiveButton";var Ld=["onDragStart","onDragEnd","onDragValueChange","onValueChange","onPointerValueChange"],JLe=Ie(xb),ZLe=Ie(th,{events:Ld}),SK=V.forwardRef(({children:t,...e},r)=>V.createElement(ZLe,{...e,ref:r},n=>V.createElement(fe.div,{...n},t)));SK.displayName="Slider";var $b=V.forwardRef((t,e)=>V.createElement(fe.div,{...t,ref:e}));$b.displayName="SliderThumb";var jb=V.forwardRef((t,e)=>V.createElement(fe.div,{...t,ref:e}));jb.displayName="SliderTrack";var Vb=V.forwardRef((t,e)=>V.createElement(fe.div,{...t,ref:e}));Vb.displayName="SliderTrackFill";var eIe=Ie(kb),qb=V.forwardRef(({children:t,...e},r)=>V.createElement(eIe,{...e},n=>V.createElement(fe.div,{...n,ref:We(n.ref,r)},t)));qb.displayName="SliderPreview";var Bb=V.forwardRef(({children:t,...e},r)=>V.createElement(JLe,{...e},(n,i)=>{let s=xt(()=>i.getValueText(),i);return V.createElement(fe.div,{...n,ref:r},s,t)}));Bb.displayName="SliderValue";var Ub=V.forwardRef(({children:t,...e},r)=>{let n=Fb("min"),i=Fb("max"),s=Fb("step"),a=(i-n)/s;return V.createElement(fe.div,{...e,ref:r},Array.from({length:Math.floor(a)+1}).map((o,l)=>t(l)))});Ub.displayName="SliderSteps";var zb=Object.freeze({__proto__:null,Preview:qb,Root:SK,Steps:Ub,Thumb:$b,Track:jb,TrackFill:Vb,Value:Bb}),tIe=Ie(gb,{events:Ld,domEventsRegex:/^onMedia/}),kK=V.forwardRef(({children:t,...e},r)=>V.createElement(tIe,{...e,ref:r},n=>V.createElement(fe.div,{...n},t)));kK.displayName="VolumeSlider";var k_=Object.freeze({__proto__:null,Preview:qb,Root:kK,Steps:Ub,Thumb:$b,Track:jb,TrackFill:Vb,Value:Bb});function rIe(t=0,e=0,r=""){return ne?{startTime:t,endTime:e,text:r,addEventListener:oa,removeEventListener:oa,dispatchEvent:oa}:new window.VTTCue(t,e,r)}var nIe=Ie(rh),iIe=V.forwardRef(({children:t,...e},r)=>V.createElement(nIe,{...e},n=>V.createElement(fe.div,{...n,ref:We(n.ref,r)},t)));iIe.displayName="Thumbnail";var CK=V.forwardRef(({children:t,...e},r)=>{let{src:n,img:i,crossOrigin:s}=qo(rh.state),a=xt(n),o=xt(s);return V.createElement(fe.img,{crossOrigin:o,...e,src:a||void 0,ref:We(i.set,r)},t)});CK.displayName="ThumbnailImg";var vC=V.createContext({$chapters:ce(null)});vC.displayName="TimeSliderContext";var sIe=Ie(mb,{events:Ld,domEventsRegex:/^onMedia/}),EK=V.forwardRef(({children:t,...e},r)=>{let n=V.useMemo(()=>ce(null),[]);return V.createElement(vC.Provider,{value:{$chapters:n}},V.createElement(sIe,{...e,ref:r},i=>V.createElement(fe.div,{...i},t)))});EK.displayName="TimeSlider";var aIe=Ie(Cb),TK=V.forwardRef(({children:t,...e},r)=>V.createElement(aIe,{...e},(n,i)=>V.createElement(fe.div,{...n,ref:We(n.ref,r)},V.createElement(AK,{instance:i},t))));TK.displayName="SliderChapters";function AK({instance:t,children:e}){let r=xt(()=>t.cues,t),n=V.useRef([]),i=V.useRef(null),{$chapters:s}=V.useContext(vC);return i.current||(i.current=rIe()),V.useEffect(()=>(s.set(t),()=>void s.set(null)),[t]),V.useEffect(()=>{t.setRefs(n.current)},[r]),e(r.length?r:[i.current],a=>{if(!a){n.current.length=0;return}n.current.push(a)})}AK.displayName="SliderChapterTracks";var LK=V.forwardRef(({children:t,...e},r)=>{let{$chapters:n}=V.useContext(vC),[i,s]=V.useState();return V.useEffect(()=>M(()=>{let a=n(),o=a?.activePointerCue||a?.activeCue;s(o?.text||"")}),[]),V.createElement(fe.div,{...e,ref:r},i,t)});LK.displayName="SliderChapterTitle";var IK=V.forwardRef((t,e)=>V.createElement(fe.div,{...t,ref:e}));IK.displayName="SliderProgress";var oIe=Ie(wb),RK=V.forwardRef(({children:t,...e},r)=>V.createElement(oIe,{...e},n=>V.createElement(fe.div,{...n,ref:We(n.ref,r)},t)));RK.displayName="SliderThumbnail";var lIe={Root:RK,Img:CK},cIe=Ie(Sb,{events:["onCanPlay","onError"]}),MK=V.forwardRef(({children:t,...e},r)=>V.createElement(cIe,{...e},(n,i)=>V.createElement(PK,{...n,instance:i,ref:We(n.ref,r)},t)));MK.displayName="SliderVideo";var PK=V.forwardRef(({instance:t,children:e,...r},n)=>{let{canLoad:i}=qo(uc),{src:s,video:a,crossOrigin:o}=t.$state,l=xt(s),c=xt(i),u=xt(o);return V.createElement(fe.video,{style:{maxWidth:"unset"},...r,src:l||void 0,muted:!0,playsInline:!0,preload:c?"auto":"none",crossOrigin:u||void 0,ref:We(a.set,n)},e)});PK.displayName="SliderVideoProvider";var Id=Object.freeze({__proto__:null,ChapterTitle:LK,Chapters:TK,Preview:qb,Progress:IK,Root:EK,Steps:Ub,Thumb:$b,Thumbnail:lIe,Track:jb,TrackFill:Vb,Value:Bb,Video:MK}),uIe=Ie(Ib,{events:["onChange"]}),dIe=V.forwardRef(({children:t,...e},r)=>V.createElement(uIe,{...e,ref:r},n=>V.createElement(fe.div,{...n},t)));dIe.displayName="RadioGroup";var fIe=Ie(Rb,{events:["onChange","onSelect"]}),pIe=V.forwardRef(({children:t,...e},r)=>V.createElement(fIe,{...e},n=>V.createElement(fe.div,{...n,ref:We(n.ref,r)},t)));pIe.displayName="RadioItem";var hIe=Ie(Eb,{events:["onOpen","onClose"],domEventsRegex:/^onMedia/}),mIe=V.forwardRef(({children:t,...e},r)=>V.createElement(hIe,{...e,ref:r},(n,i)=>V.createElement(fe.div,{...n,style:{display:i.isSubmenu?void 0:"contents",...n.style}},t)));mIe.displayName="Menu";var gIe=Ie(Tb,{events:["onSelect"]}),yIe=V.forwardRef(({children:t,...e},r)=>V.createElement(gIe,{...e},n=>V.createElement(fe.button,{...n,ref:We(n.ref,r)},t)));yIe.displayName="MenuButton";var vIe=V.forwardRef(({container:t=null,disabled:e=!1,children:r,...n},i)=>{let s=ei("fullscreen"),a=e==="fullscreen"?!s:!e,o=V.useMemo(()=>ne?null:(le(t)?document.querySelector(t):t)??document.body,[t]);return!o||!a?r:(0,bK.createPortal)(V.createElement(fe.div,{...n,style:{display:"contents",...n.style},ref:i},r),o)});vIe.displayName="MenuPortal";var bIe=Ie(Ab),wIe=V.forwardRef(({children:t,...e},r)=>V.createElement(bIe,{...e},n=>V.createElement(fe.div,{...n,ref:We(n.ref,r)},t)));wIe.displayName="MenuItems";var xIe=Ie(Lb),SIe=V.forwardRef(({children:t,...e},r)=>V.createElement(xIe,{...e},n=>V.createElement(fe.div,{...n,ref:We(n.ref,r)},t)));SIe.displayName="MenuItem";var kIe=Ie(Pb,{events:["onWillTrigger","onTrigger"]}),bC=V.forwardRef(({children:t,...e},r)=>V.createElement(kIe,{...e,ref:r},n=>V.createElement(fe.div,{...n},t)));bC.displayName="Gesture";var CIe=Ie(Ob),OK=V.forwardRef(({children:t,...e},r)=>V.createElement(CIe,{...e},(n,i)=>V.createElement(_K,{...n,instance:i,ref:We(n.ref,r)},t)));OK.displayName="Time";var _K=V.forwardRef(({instance:t,children:e,...r},n)=>{let{timeText:i}=t.$state,s=xt(i);return V.createElement(fe.div,{...r,ref:n},s,e)});_K.displayName="TimeText";function wC(){return nh()?.player||null}da();var EIe=Ie(eb,{events:["onChange"]}),DK=ye.forwardRef(({style:t,children:e,...r},n)=>ye.createElement(EIe,{...r},i=>ye.createElement(fe.div,{...i,style:{display:"contents",...t},ref:We(i.ref,n)},e)));DK.displayName="MediaAnnouncer";var TIe=Ie(tb),NK=ye.forwardRef(({children:t,...e},r)=>ye.createElement(TIe,{...e},n=>ye.createElement(fe.div,{...n,ref:We(n.ref,r)},t)));NK.displayName="Controls";var AIe=Ie(rb),FK=ye.forwardRef(({children:t,...e},r)=>ye.createElement(AIe,{...e},n=>ye.createElement(fe.div,{...n,ref:We(n.ref,r)},t)));FK.displayName="ControlsGroup";var Gt=Object.freeze({__proto__:null,Group:FK,Root:NK}),LIe=Ie(fb);function IIe({children:t,...e}){return ye.createElement(LIe,{...e},t)}IIe.displayName="Tooltip";var RIe=Ie(pb),MIe=ye.forwardRef(({children:t,...e},r)=>ye.createElement(RIe,{...e},n=>ye.createElement(fe.button,{...n,ref:We(n.ref,r)},t)));MIe.displayName="TooltipTrigger";var PIe=Ie(hb),OIe=ye.forwardRef(({children:t,...e},r)=>ye.createElement(PIe,{...e},n=>ye.createElement(fe.div,{...n,ref:We(n.ref,r)},t)));OIe.displayName="TooltipContent";var _Ie=Ie(ub,{domEventsRegex:/^onMedia/}),$K=ye.forwardRef(({children:t,...e},r)=>ye.createElement(_Ie,{...e},n=>ye.createElement(fe.button,{...n,ref:We(n.ref,r)},t)));$K.displayName="GoogleCastButton";var DIe=Ie(bb,{events:Ld,domEventsRegex:/^onMedia/}),NIe=ye.forwardRef(({children:t,...e},r)=>ye.createElement(DIe,{...e,ref:r},n=>ye.createElement(fe.div,{...n},t)));NIe.displayName="QualitySlider";var FIe=Ie(yb,{events:Ld,domEventsRegex:/^onMedia/}),$Ie=ye.forwardRef(({children:t,...e},r)=>ye.createElement(FIe,{...e,ref:r},n=>ye.createElement(fe.div,{...n},t)));$Ie.displayName="AudioGainSlider";var jIe=Ie(vb,{events:Ld,domEventsRegex:/^onMedia/}),VIe=ye.forwardRef(({children:t,...e},r)=>ye.createElement(jIe,{...e,ref:r},n=>ye.createElement(fe.div,{...n},t)));VIe.displayName="SpeedSlider";var jK=ye.forwardRef(({children:t,...e},r)=>{let n=ei("title");return ye.createElement(fe.span,{...e,ref:r},n,t)});jK.displayName="Title";function VK(t){let[e,r]=ye.useState([]);return ye.useEffect(()=>{if(!t){r([]);return}function n(){t&&r(t.activeCues)}return n(),Pe(t,"cue-change",n)},[t]),e}function qK(t){let e=nh(),[r,n]=ye.useState(null);return ye.useEffect(()=>_b(e.textTracks,t,n),[t]),r}function xC(){let t=qK("chapters");return VK(t)[0]?.text||""}var BK=ye.forwardRef(({defaultText:t="",children:e,...r},n)=>{let i=xC();return ye.createElement(fe.span,{...r,ref:n},i||t,e)});BK.displayName="ChapterTitle";var qIe=Ie(Mb),SC=ye.forwardRef(({children:t,...e},r)=>ye.createElement(qIe,{...e,ref:r},n=>ye.createElement(fe.div,{...n},t)));SC.displayName="Captions";var ist=ye.forwardRef(({size:t=96,children:e,...r},n)=>ye.createElement("svg",{width:t,height:t,fill:"none",viewBox:"0 0 120 120","aria-hidden":"true","data-part":"root",...r,ref:n},e)),sst=ye.forwardRef(({width:t=8,children:e,...r},n)=>ye.createElement("circle",{cx:"60",cy:"60",r:"54",stroke:"currentColor",strokeWidth:t,"data-part":"track",...r,ref:n},e)),ast=ye.forwardRef(({width:t=8,fillPercent:e=50,children:r,...n},i)=>ye.createElement("circle",{cx:"60",cy:"60",r:"54",stroke:"currentColor",pathLength:"100",strokeWidth:t,strokeDasharray:100,strokeDashoffset:100-e,"data-part":"track-fill",...n,ref:i},r));da();var kC=z(he(),1),C_=kC.forwardRef((t,e)=>{let{width:r,height:n,size:i=null,paths:s,...a}=t;return kC.createElement("svg",{viewBox:"0 0 32 32",...a,width:r??i,height:n??i,fill:"none","aria-hidden":"true",focusable:"false",xmlns:"http://www.w3.org/2000/svg",ref:e,dangerouslySetInnerHTML:{__html:s}})});C_.displayName="VidstackIcon";ua();var $st=z(Pu(),1),BIe=Symbol(0),UK=class t{constructor(e,r,n,i,s){this.logger=e,this.level=r,this.title=n,this.root=i,this.parent=s}[BIe]=!0;logs=[];log(...e){return this.logs.push({data:e}),this}labelledLog(e,...r){return this.logs.push({label:e,data:r}),this}groupStart(e){return new t(this.logger,this.level,e,this.root??this,this)}groupEnd(){return this.parent?.logs.push(this),this.parent??this}dispatch(){return this.logger.dispatch(this.level,this.root??this)}};var UIe=[1,1.25,1.5,1.75,2,2.5,3,4],E_=class extends Ae{static props={normalLabel:"Disabled",gains:UIe};#e;#t;#r;get value(){return this.#r.value}get disabled(){let{gains:e}=this.$props,{canSetAudioGain:r}=this.#e.$state;return!r()||e().length===0}constructor(){super(),this.#r=new Zv,this.#r.onValueChange=this.#o.bind(this)}onSetup(){this.#e=ot(),la(Ja)&&(this.#t=Ht(Ja))}onConnect(e){M(this.#n.bind(this)),M(this.#i.bind(this)),M(this.#s.bind(this))}getOptions(){let{gains:e,normalLabel:r}=this.$props;return e().map(n=>({label:n===1||n===null?r:String(n*100)+"%",value:n.toString()}))}#n(){this.#r.value=this.#a()}#i(){let{normalLabel:e}=this.$props,{audioGain:r}=this.#e.$state,n=r();this.#t?.hint.set(n===1||n==null?e():String(n*100)+"%")}#s(){this.#t?.disable(this.disabled)}#a(){let{audioGain:e}=this.#e.$state;return e()?.toString()??"1"}#o(e,r){if(this.disabled)return;let n=+e;this.#e.remote.changeAudioGain(n,r),this.dispatch("change",{detail:n,trigger:r})}},T_=E_.prototype;et(T_,"value");et(T_,"disabled");hr(T_,"getOptions");var zIe=["onAbort","onAudioTrackChange","onAudioTracksChange","onAutoPlay","onAutoPlayChange","onAutoPlayFail","onCanLoad","onCanPlay","onCanPlayThrough","onControlsChange","onDestroy","onDurationChange","onEmptied","onEnd","onEnded","onError","onFindMediaPlayer","onFullscreenChange","onFullscreenError","onLiveChange","onLiveEdgeChange","onLoadedData","onLoadedMetadata","onLoadStart","onLoopChange","onOrientationChange","onPause","onPictureInPictureChange","onPictureInPictureError","onPlay","onPlayFail","onPlaying","onPlaysInlineChange","onPosterChange","onProgress","onProviderChange","onProviderLoaderChange","onProviderSetup","onQualitiesChange","onQualityChange","onRateChange","onReplay","onSeeked","onSeeking","onSourceChange","onSourceChange","onStalled","onStarted","onStreamTypeChange","onSuspend","onTextTrackChange","onTextTracksChange","onTimeUpdate","onTitleChange","onVdsLog","onVideoPresentationChange","onVolumeChange","onWaiting"],HIe=Ie(Td,{events:zIe,eventsRegex:/^onHls/,domEventsRegex:/^onMedia/}),A_=be.forwardRef(({aspectRatio:t,children:e,...r},n)=>be.createElement(HIe,{...r,src:r.src,ref:n,style:{aspectRatio:t,...r.style}},i=>be.createElement(fe.div,{...i},e)));A_.displayName="MediaPlayer";var GIe=Ie(aC),L_=be.forwardRef(({loaders:t=[],children:e,iframeProps:r,mediaProps:n,...i},s)=>{let a=be.useMemo(()=>t.map(o=>new o),t);return be.createElement(GIe,{...i,loaders:a,ref:s},(o,l)=>be.createElement("div",{...o},be.createElement(zK,{provider:l,mediaProps:n,iframeProps:r}),e))});L_.displayName="MediaProvider";function zK({provider:t,mediaProps:e,iframeProps:r}){let{sources:n,crossOrigin:i,poster:s,remotePlaybackInfo:a,nativeControls:o,viewType:l}=qo(uc),{loader:c}=t.$state,{$provider:u,$providerSetup:d}=nh(),f=xt(n),p=xt(o),h=xt(i),g=xt(s),v=xt(c),y=xt(u),b=xt(d),w=xt(a),x=v?.mediaType(),A=xt(l),O=A==="audio",S=v?.name==="youtube",k=v?.name==="vimeo",E=S||k,I=v?.name==="remotion",R=v?.name==="google-cast",[T,_]=be.useState(""),[F,Y]=be.useState(!1);return be.useEffect(()=>{!R||T||Promise.resolve().then(()=>(lP(),cG)).then(function(H){return H.chromecast}).then(H=>{_(H.default)})},[R]),be.useEffect(()=>{Y(!0)},[]),R?be.createElement("div",{className:"vds-google-cast",ref:H=>{t.load(H)}},be.createElement(C_,{paths:T}),w?.deviceName?be.createElement("span",{className:"vds-google-cast-info"},"Google Cast on"," ",be.createElement("span",{className:"vds-google-cast-device-name"},w.deviceName)):null):I?be.createElement("div",{"data-remotion-canvas":!0},be.createElement("div",{"data-remotion-container":!0,ref:H=>{t.load(H)}},yK(y)&&b?be.createElement(y.render):null)):E?be.createElement(be.Fragment,null,be.createElement("iframe",{...r,className:(r?.className?`${r.className} `:"")+S?"vds-youtube":"vds-vimeo",suppressHydrationWarning:!0,tabIndex:p?void 0:-1,"aria-hidden":"true","data-no-controls":p?void 0:"",ref(H){t.load(H)}}),!p&&!O?be.createElement("div",{className:"vds-blocker"}):null):x?be.createElement(x==="audio"?"audio":"video",{...e,controls:p?!0:null,crossOrigin:typeof h=="boolean"?"":h,poster:x==="video"&&p&&g?g:null,suppressHydrationWarning:!0,children:F?null:f.map(({src:H,type:D})=>le(H)?be.createElement("source",{src:H,type:D!=="?"?D:void 0,key:H}):null),ref(H){t.load(H)}}):null}zK.displayName="MediaOutlet";function WIe(t){let e=nh(),r=be.useMemo(()=>new cn(t),Object.values(t));return be.useEffect(()=>(e.textTracks.add(r),()=>void e.textTracks.remove(r)),[r]),r}function KIe({lang:t,...e}){return WIe({language:t,...e}),null}KIe.displayName="Track";var YIe=Ie(oC),XIe=be.forwardRef(({children:t,...e},r)=>be.createElement(YIe,{...e},n=>be.createElement(fe.button,{...n,ref:We(n.ref,r)},t)));XIe.displayName="ToggleButton";var QIe=Ie(lC),JIe=be.forwardRef(({children:t,...e},r)=>be.createElement(QIe,{src:e.asChild&&be.isValidElement(t)?t.props.src:void 0,...e},(n,i)=>be.createElement(HK,{...n,instance:i,ref:We(n.ref,r)},t)));JIe.displayName="Poster";var HK=be.forwardRef(({instance:t,children:e,...r},n)=>{let{src:i,img:s,alt:a,crossOrigin:o,hidden:l}=t.$state,c=xt(i),u=xt(a),d=xt(o),f=xt(l);return be.createElement(fe.img,{...r,src:c||void 0,alt:u||void 0,crossOrigin:d||void 0,ref:We(s.set,n),style:{display:f?"none":void 0}},e)});HK.displayName="PosterImg";var ZIe=be.forwardRef(({children:t,...e},r)=>be.createElement(fe.div,{translate:"yes","aria-live":"off","aria-atomic":"true",...e,ref:r},t));ZIe.displayName="Caption";var eRe=be.forwardRef((t,e)=>{let r=ei("textTrack"),[n,i]=be.useState();return be.useEffect(()=>{if(!r)return;function s(){i(r?.activeCues[0])}return r.addEventListener("cue-change",s),()=>{r.removeEventListener("cue-change",s),i(void 0)}},[r]),be.createElement(fe.span,{...t,"data-part":"cue",dangerouslySetInnerHTML:{__html:n?.text||""},ref:e})});eRe.displayName="CaptionText";var ldt=z(Pu(),1);function un(t){this.content=t}un.prototype={constructor:un,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,i=n.find(t),s=n.content.slice();return i==-1?s.push(r||t,e):(s[i+1]=e,r&&(s[i]=r)),new un(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new un(r)},addToStart:function(t,e){return new un([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new un(r)},addBefore:function(t,e,r){var n=this.remove(e),i=n.content.slice(),s=n.find(t);return i.splice(s==-1?i.length:s,0,e,r),new un(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=un.from(t),t.size?new un(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=un.from(t),t.size?new un(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=un.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},toObject:function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},get size(){return this.content.length>>1}};un.from=function(t){if(t instanceof un)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new un(e)};var Ii=un;function tY(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let i=t.child(n),s=e.child(n);if(i==s){r+=i.nodeSize;continue}if(!i.sameMarkup(s))return r;if(i.isText&&i.text!=s.text){for(let a=0;i.text[a]==s.text[a];a++)r++;return r}if(i.content.size||s.content.size){let a=tY(i.content,s.content,r+1);if(a!=null)return a}r+=i.nodeSize}}function rY(t,e,r,n){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:r,b:n};let a=t.child(--i),o=e.child(--s),l=a.nodeSize;if(a==o){r-=l,n-=l;continue}if(!a.sameMarkup(o))return{a:r,b:n};if(a.isText&&a.text!=o.text){let c=0,u=Math.min(a.text.length,o.text.length);for(;c<u&&a.text[a.text.length-c-1]==o.text[o.text.length-c-1];)c++,r--,n--;return{a:r,b:n}}if(a.content.size||o.content.size){let c=rY(a.content,o.content,r-1,n-1);if(c)return c}r-=l,n-=l}}var J=class t{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,i=0,s){for(let a=0,o=0;o<r;a++){let l=this.content[a],c=o+l.nodeSize;if(c>e&&n(l,i+o,s||null,a)!==!1&&l.content.size){let u=o+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,r-u),n,i+u)}o=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,i){let s="",a=!0;return this.nodesBetween(e,r,(o,l)=>{let c=o.isText?o.text.slice(Math.max(e,l)-l,r-l):o.isLeaf?i?typeof i=="function"?i(o):i:o.type.spec.leafText?o.type.spec.leafText(o):"":"";o.isBlock&&(o.isLeaf&&c||o.isTextblock)&&n&&(a?a=!1:s+=n),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,i=this.content.slice(),s=0;for(r.isText&&r.sameMarkup(n)&&(i[i.length-1]=r.withText(r.text+n.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new t(i,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],i=0;if(r>e)for(let s=0,a=0;a<r;s++){let o=this.content[s],l=a+o.nodeSize;l>e&&((a<e||l>r)&&(o.isText?o=o.cut(Math.max(0,e-a),Math.min(o.text.length,r-a)):o=o.cut(Math.max(0,e-a-1),Math.min(o.content.size,r-a-1))),n.push(o),i+=o.nodeSize),a=l}return new t(n,i)}cutByIndex(e,r){return e==r?t.empty:e==0&&r==this.content.length?this:new t(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let i=this.content.slice(),s=this.size+r.nodeSize-n.nodeSize;return i[e]=r,new t(i,s)}addToStart(e){return new t([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new t(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let i=this.content[r];e(i,n,r),n+=i.nodeSize}}findDiffStart(e,r=0){return tY(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return rY(this,e,r,n)}findIndex(e,r=-1){if(e==0)return CC(0,e);if(e==this.size)return CC(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,i=0;;n++){let s=this.child(n),a=i+s.nodeSize;if(a>=e)return a==e||r>0?CC(n+1,a):CC(n,i);i=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return t.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new t(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return t.empty;let r,n=0;for(let i=0;i<e.length;i++){let s=e[i];n+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(r||(r=e.slice(0,i)),r[r.length-1]=s.withText(r[r.length-1].text+s.text)):r&&r.push(s)}return new t(r||e,n)}static from(e){if(!e)return t.empty;if(e instanceof t)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new t([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};J.empty=new J([],0);var I_={index:0,offset:0};function CC(t,e){return I_.index=t,I_.offset=e,I_}function TC(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!TC(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!TC(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}var Xe=class t{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))r||(r=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!n&&s.type.rank>this.type.rank&&(r||(r=e.slice(0,i)),r.push(this),n=!0),r&&r.push(s)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&TC(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let i=n.create(r.attrs);return n.checkAttrs(i.attrs),i}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return t.none;if(e instanceof t)return[e];let r=e.slice();return r.sort((n,i)=>n.type.rank-i.type.rank),r}};Xe.none=[];var Pd=class extends Error{},ee=class t{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=iY(this.content,e+this.openStart,r);return n&&new t(n,this.openStart,this.openEnd)}removeBetween(e,r){return new t(nY(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return t.empty;let n=r.openStart||0,i=r.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new t(J.fromJSON(e,r.content),n,i)}static maxOpen(e,r=!0){let n=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(r||!s.type.spec.isolating);s=s.firstChild)n++;for(let s=e.lastChild;s&&!s.isLeaf&&(r||!s.type.spec.isolating);s=s.lastChild)i++;return new t(e,n,i)}};ee.empty=new ee(J.empty,0,0);function nY(t,e,r){let{index:n,offset:i}=t.findIndex(e),s=t.maybeChild(n),{index:a,offset:o}=t.findIndex(r);if(i==e||s.isText){if(o!=r&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(n,s.copy(nY(s.content,e-i-1,r-i-1)))}function iY(t,e,r,n){let{index:i,offset:s}=t.findIndex(e),a=t.maybeChild(i);if(s==e||a.isText)return n&&!n.canReplace(i,i,r)?null:t.cut(0,e).append(r).append(t.cut(e));let o=iY(a.content,e-s-1,r);return o&&t.replaceChild(i,a.copy(o))}function tRe(t,e,r){if(r.openStart>t.depth)throw new Pd("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new Pd("Inconsistent open depths");return sY(t,e,r,0)}function sY(t,e,r,n){let i=t.index(n),s=t.node(n);if(i==e.index(n)&&n<t.depth-r.openStart){let a=sY(t,e,r,n+1);return s.copy(s.content.replaceChild(i,a))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){let a=t.parent,o=a.content;return Md(a,o.cut(0,t.parentOffset).append(r.content).append(o.cut(e.parentOffset)))}else{let{start:a,end:o}=rRe(r,t);return Md(s,oY(t,a,o,e,n))}else return Md(s,AC(t,e,n))}function aY(t,e){if(!e.type.compatibleContent(t.type))throw new Pd("Cannot join "+e.type.name+" onto "+t.type.name)}function M_(t,e,r){let n=t.node(r);return aY(n,e.node(r)),n}function Rd(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function Hb(t,e,r,n){let i=(e||t).node(r),s=0,a=e?e.index(r):i.childCount;t&&(s=t.index(r),t.depth>r?s++:t.textOffset&&(Rd(t.nodeAfter,n),s++));for(let o=s;o<a;o++)Rd(i.child(o),n);e&&e.depth==r&&e.textOffset&&Rd(e.nodeBefore,n)}function Md(t,e){return t.type.checkContent(e),t.copy(e)}function oY(t,e,r,n,i){let s=t.depth>i&&M_(t,e,i+1),a=n.depth>i&&M_(r,n,i+1),o=[];return Hb(null,t,i,o),s&&a&&e.index(i)==r.index(i)?(aY(s,a),Rd(Md(s,oY(t,e,r,n,i+1)),o)):(s&&Rd(Md(s,AC(t,e,i+1)),o),Hb(e,r,i,o),a&&Rd(Md(a,AC(r,n,i+1)),o)),Hb(n,null,i,o),new J(o)}function AC(t,e,r){let n=[];if(Hb(null,t,r,n),t.depth>r){let i=M_(t,e,r+1);Rd(Md(i,AC(t,e,r+1)),n)}return Hb(e,null,r,n),new J(n)}function rRe(t,e){let r=e.depth-t.openStart,i=e.node(r).copy(t.content);for(let s=r-1;s>=0;s--)i=e.node(s).copy(J.from(i));return{start:i.resolveNoCache(t.openStart+r),end:i.resolveNoCache(i.content.size-t.openEnd-r)}}var LC=class t{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],i=e.child(r);return n?e.child(r).cut(n):i}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],i=r==0?0:this.path[r*3-1]+1;for(let s=0;s<e;s++)i+=n.child(s).nodeSize;return i}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return Xe.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),i=e.maybeChild(r);if(!n){let o=n;n=i,i=o}let s=n.marks;for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!i||!s[a].isInSet(i.marks))&&(s=s[a--].removeFromSet(s));return s}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<n.length;s++)n[s].type.spec.inclusive===!1&&(!i||!n[s].isInSet(i.marks))&&(n=n[s--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new O_(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],i=0,s=r;for(let a=e;;){let{index:o,offset:l}=a.content.findIndex(s),c=s-l;if(n.push(a,o,i+l),!c||(a=a.child(o),a.isText))break;s=c-1,i+=l+1}return new t(r,n,s)}static resolveCached(e,r){let n=GK.get(e);if(n)for(let s=0;s<n.elts.length;s++){let a=n.elts[s];if(a.pos==r)return a}else GK.set(e,n=new P_);let i=n.elts[n.i]=t.resolve(e,r);return n.i=(n.i+1)%nRe,i}},P_=class{constructor(){this.elts=[],this.i=0}},nRe=12,GK=new WeakMap,O_=class{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}},iRe=Object.create(null),Ri=class t{constructor(e,r,n,i=Xe.none){this.type=e,this.attrs=r,this.marks=i,this.content=n||J.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,i=0){this.content.nodesBetween(e,r,n,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,i){return this.content.textBetween(e,r,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&TC(this.attrs,r||e.defaultAttrs||iRe)&&Xe.sameSet(this.marks,n||Xe.none)}copy(e=null){return e==this.content?this:new t(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new t(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return ee.empty;let i=this.resolve(e),s=this.resolve(r),a=n?0:i.sharedDepth(r),o=i.start(a),c=i.node(a).content.cut(i.pos-o,s.pos-o);return new ee(c,i.depth-a,s.depth-a)}replace(e,r,n){return tRe(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:i}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(i==e||r.isText)return r;e-=i+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let i=this.content.child(r-1);return{node:i,index:r-1,offset:n-i.nodeSize}}resolve(e){return LC.resolveCached(this,e)}resolveNoCache(e){return LC.resolve(this,e)}rangeHasMark(e,r,n){let i=!1;return r>e&&this.nodesBetween(e,r,s=>(n.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),lY(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=J.empty,i=0,s=n.childCount){let a=this.contentMatchAt(e).matchFragment(n,i,s),o=a&&a.matchFragment(this.content,r);if(!o||!o.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(e,r,n,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(n),a=s&&s.matchFragment(this.content,r);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Xe.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!Xe.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let i=J.fromJSON(e,r.content),s=e.nodeType(r.type).create(r.attrs,i,n);return s.type.checkAttrs(s.attrs),s}};Ri.prototype.text=void 0;var __=class t extends Ri{constructor(e,r,n,i){if(super(e,r,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):lY(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new t(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new t(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}};function lY(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}var Od=class t{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new D_(e,r);if(n.next==null)return t.empty;let i=cY(n);n.next&&n.err("Unexpected trailing text");let s=dRe(uRe(i));return fRe(s,n),s}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let i=this;for(let s=r;i&&s<n;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let i=[this];function s(a,o){let l=a.matchFragment(e,n);if(l&&(!r||l.validEnd))return J.from(o.map(c=>c.createAndFill()));for(let c=0;c<a.next.length;c++){let{type:u,next:d}=a.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=s(d,o.concat(u));if(f)return f}}return null}return s(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let i=n.shift(),s=i.match;if(s.matchType(e)){let a=[];for(let o=i;o.type;o=o.via)a.push(o.type);return a.reverse()}for(let a=0;a<s.next.length;a++){let{type:o,next:l}=s.next[a];!o.isLeaf&&!o.hasRequiredAttrs()&&!(o.name in r)&&(!i.type||l.validEnd)&&(n.push({match:o.contentMatch,type:o,via:i}),r[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let i=0;i<n.next.length;i++)e.indexOf(n.next[i].next)==-1&&r(n.next[i].next)}return r(this),e.map((n,i)=>{let s=i+(n.validEnd?"*":" ")+" ";for(let a=0;a<n.next.length;a++)s+=(a?", ":"")+n.next[a].type.name+"->"+e.indexOf(n.next[a].next);return s}).join(`
`)}};Od.empty=new Od(!0);var D_=class{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}};function cY(t){let e=[];do e.push(sRe(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function sRe(t){let e=[];do e.push(aRe(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function aRe(t){let e=cRe(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=oRe(t,e);else break;return e}function WK(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function oRe(t,e){let r=WK(t),n=r;return t.eat(",")&&(t.next!="}"?n=WK(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function lRe(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let i=[];for(let s in r){let a=r[s];a.isInGroup(e)&&i.push(a)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function cRe(t){if(t.eat("(")){let e=cY(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=lRe(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function uRe(t){let e=[[]];return i(s(t,0),r()),e;function r(){return e.push([])-1}function n(a,o,l){let c={term:l,to:o};return e[a].push(c),c}function i(a,o){a.forEach(l=>l.to=o)}function s(a,o){if(a.type=="choice")return a.exprs.reduce((l,c)=>l.concat(s(c,o)),[]);if(a.type=="seq")for(let l=0;;l++){let c=s(a.exprs[l],o);if(l==a.exprs.length-1)return c;i(c,o=r())}else if(a.type=="star"){let l=r();return n(o,l),i(s(a.expr,l),l),[n(l)]}else if(a.type=="plus"){let l=r();return i(s(a.expr,o),l),i(s(a.expr,l),l),[n(l)]}else{if(a.type=="opt")return[n(o)].concat(s(a.expr,o));if(a.type=="range"){let l=o;for(let c=0;c<a.min;c++){let u=r();i(s(a.expr,l),u),l=u}if(a.max==-1)i(s(a.expr,l),l);else for(let c=a.min;c<a.max;c++){let u=r();n(l,u),i(s(a.expr,l),u),l=u}return[n(l)]}else{if(a.type=="name")return[n(o,void 0,a.value)];throw new Error("Unknown expr type")}}}}function uY(t,e){return e-t}function KK(t,e){let r=[];return n(e),r.sort(uY);function n(i){let s=t[i];if(s.length==1&&!s[0].term)return n(s[0].to);r.push(i);for(let a=0;a<s.length;a++){let{term:o,to:l}=s[a];!o&&r.indexOf(l)==-1&&n(l)}}}function dRe(t){let e=Object.create(null);return r(KK(t,0));function r(n){let i=[];n.forEach(a=>{t[a].forEach(({term:o,to:l})=>{if(!o)return;let c;for(let u=0;u<i.length;u++)i[u][0]==o&&(c=i[u][1]);KK(t,l).forEach(u=>{c||i.push([o,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let s=e[n.join(",")]=new Od(n.indexOf(t.length-1)>-1);for(let a=0;a<i.length;a++){let o=i[a][1].sort(uY);s.next.push({type:i[a][0],next:e[o.join(",")]||r(o)})}return s}}function fRe(t,e){for(let r=0,n=[t];r<n.length;r++){let i=n[r],s=!i.validEnd,a=[];for(let o=0;o<i.next.length;o++){let{type:l,next:c}=i.next[o];a.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),n.indexOf(c)==-1&&n.push(c)}s&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function dY(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function fY(t,e){let r=Object.create(null);for(let n in t){let i=e&&e[n];if(i===void 0){let s=t[n];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=i}return r}function pY(t,e,r,n){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${r} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function hY(t,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new N_(t,n,e[n]);return r}var IC=class t{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=hY(e,n.attrs),this.defaultAttrs=dY(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Od.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:fY(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ri(this,this.computeAttrs(e),J.from(r),Xe.setFrom(n))}createChecked(e=null,r,n){return r=J.from(r),this.checkContent(r),new Ri(this,this.computeAttrs(e),r,Xe.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=J.from(r),r.size){let a=this.contentMatch.fillBefore(r);if(!a)return null;r=a.append(r)}let i=this.contentMatch.matchFragment(r),s=i&&i.fillBefore(J.empty,!0);return s?new Ri(this,e,r.append(s),Xe.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){pY(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:Xe.none:e}static compile(e,r){let n=Object.create(null);e.forEach((s,a)=>n[s]=new t(s,r,a));let i=r.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let s in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function pRe(t,e,r){let n=r.split("|");return i=>{let s=i===null?"null":typeof i;if(n.indexOf(s)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${t}, got ${s}`)}}var N_=class{constructor(e,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?pRe(e,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}},Wb=class t{constructor(e,r,n,i){this.name=e,this.rank=r,this.schema=n,this.spec=i,this.attrs=hY(e,i.attrs),this.excluded=null;let s=dY(this.attrs);this.instance=s?new Xe(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Xe(this,fY(this.attrs,e))}static compile(e,r){let n=Object.create(null),i=0;return e.forEach((s,a)=>n[s]=new t(s,i++,r,a)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){pY(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}},RC=class{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let i in e)r[i]=e[i];r.nodes=Ii.from(e.nodes),r.marks=Ii.from(e.marks||{}),this.nodes=IC.compile(this.spec.nodes,this),this.marks=Wb.compile(this.spec.marks,this);let n=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],a=s.spec.content||"",o=s.spec.marks;if(s.contentMatch=n[a]||(n[a]=Od.parse(a,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=o=="_"?null:o?YK(this,o.split(" ")):o==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],a=s.spec.excludes;s.excluded=a==null?[s]:a==""?[]:YK(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof IC){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,i)}text(e,r){let n=this.nodes.text;return new __(n,n.defaultAttrs,e,Xe.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeFromJSON(e){return Ri.fromJSON(this,e)}markFromJSON(e){return Xe.fromJSON(this,e)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}};function YK(t,e){let r=[];for(let n=0;n<e.length;n++){let i=e[n],s=t.marks[i],a=s;if(s)r.push(s);else for(let o in t.marks){let l=t.marks[o];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&r.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}function hRe(t){return t.tag!=null}function mRe(t){return t.style!=null}var _d=class t{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(i=>{if(hRe(i))this.tags.push(i);else if(mRe(i)){let s=/[^=]*/.exec(i.style)[0];n.indexOf(s)<0&&n.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,r={}){let n=new MC(this,r,!1);return n.addAll(e,Xe.none,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new MC(this,r,!0);return n.addAll(e,Xe.none,r.from,r.to),ee.maxOpen(n.finish())}matchTag(e,r,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(vRe(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||r.matchesContext(s.context))){if(s.getAttrs){let a=s.getAttrs(e);if(a===!1)continue;s.attrs=a||void 0}return s}}}matchStyle(e,r,n,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let a=this.styles[s],o=a.style;if(!(o.indexOf(e)!=0||a.context&&!n.matchesContext(a.context)||o.length>e.length&&(o.charCodeAt(e.length)!=61||o.slice(e.length+1)!=r))){if(a.getAttrs){let l=a.getAttrs(r);if(l===!1)continue;a.attrs=l||void 0}return a}}}static schemaRules(e){let r=[];function n(i){let s=i.priority==null?50:i.priority,a=0;for(;a<r.length;a++){let o=r[a];if((o.priority==null?50:o.priority)<s)break}r.splice(a,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(a=>{n(a=QK(a)),a.mark||a.ignore||a.clearMark||(a.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(a=>{n(a=QK(a)),a.node||a.ignore||a.mark||(a.node=i)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new t(e,t.schemaRules(e)))}},mY={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},gRe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},gY={ol:!0,ul:!0},Kb=1,F_=2,Gb=4;function XK(t,e,r){return e!=null?(e?Kb:0)|(e==="full"?F_:0):t&&t.whitespace=="pre"?Kb|F_:r&~Gb}var ih=class{constructor(e,r,n,i,s,a){this.type=e,this.attrs=r,this.marks=n,this.solid=i,this.options=a,this.content=[],this.activeMarks=Xe.none,this.match=s||(a&Gb?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(J.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,i;return(i=n.findWrapping(e.type))?(this.match=n,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Kb)){let n=this.content[this.content.length-1],i;if(n&&n.isText&&(i=/[ \t\r\n\u000c]+$/.exec(n.text))){let s=n;n.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let r=J.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(J.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!mY.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}},MC=class{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let i=r.topNode,s,a=XK(null,r.preserveWhitespace,0)|(n?Gb:0);i?s=new ih(i.type,i.attrs,Xe.none,!0,r.topMatch||i.type.contentMatch,a):n?s=new ih(null,null,Xe.none,!0,null,a):s=new ih(e.schema.topNodeType,null,Xe.none,!0,null,a),this.nodes=[s],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let n=e.nodeValue,i=this.top,s=i.options&F_?"full":this.localPreserveWS||(i.options&Kb)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(s)s!=="full"?n=n.replace(/\r?\n|\r/g," "):n=n.replace(/\r\n?/g,`
`);else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],o=e.previousSibling;(!a||o&&o.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),r),this.findInText(e)}else this.findInside(e)}addElement(e,r,n){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),o;gY.hasOwnProperty(a)&&this.parser.normalizeLists&&yRe(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,n));e:if(l?l.ignore:gRe.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,r);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,u=this.needsBlock;if(mY.hasOwnProperty(a))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),c=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);break e}let d=l&&l.skip?r:this.readStyles(e,r);d&&this.addAll(e,d),c&&this.sync(s),this.needsBlock=u}else{let c=this.readStyles(e,r);c&&this.addElementByRule(e,l,c,l.consuming===!1?o:void 0)}this.localPreserveWS=i}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r)}readStyles(e,r){let n=e.style;if(n&&n.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],a=n.getPropertyValue(s);if(a)for(let o=void 0;;){let l=this.parser.matchStyle(s,a,this,o);if(!l)break;if(l.ignore)return null;if(l.clearMark?r=r.filter(c=>!l.clearMark(c)):r=r.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)o=l;else break}}return r}addElementByRule(e,r,n,i){let s,a;if(r.node)if(a=this.parser.schema.nodes[r.node],a.isLeaf)this.insertNode(a.create(r.attrs),n)||this.leafFallback(e,n);else{let l=this.enter(a,r.attrs||null,n,r.preserveWhitespace);l&&(s=!0,n=l)}else{let l=this.parser.schema.marks[r.mark];n=n.concat(l.create(r.attrs))}let o=this.top;if(a&&a.isLeaf)this.findInside(e);else if(i)this.addElement(e,n,i);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,n));else{let l=e;typeof r.contentElement=="string"?l=e.querySelector(r.contentElement):typeof r.contentElement=="function"?l=r.contentElement(e):r.contentElement&&(l=r.contentElement),this.findAround(e,l,!0),this.addAll(l,n),this.findAround(e,l,!1)}s&&this.sync(o)&&this.open--}addAll(e,r,n,i){let s=n||0;for(let a=n?e.childNodes[n]:e.firstChild,o=i==null?null:e.childNodes[i];a!=o;a=a.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(a,r);this.findAtPoint(e,s)}findPlace(e,r){let n,i;for(let s=this.open;s>=0;s--){let a=this.nodes[s],o=a.findWrapping(e);if(o&&(!n||n.length>o.length)&&(n=o,i=a,!o.length)||a.solid)break}if(!n)return null;this.sync(i);for(let s=0;s<n.length;s++)r=this.enterInner(n[s],null,r,!1);return r}insertNode(e,r){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(r=this.enterInner(i,null,r))}let n=this.findPlace(e,r);if(n){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let s=Xe.none;for(let a of n.concat(e.marks))(i.type?i.type.allowsMarkType(a.type):JK(a.type,e.type))&&(s=a.addToSet(s));return i.content.push(e.mark(s)),!0}return!1}enter(e,r,n,i){let s=this.findPlace(e.create(r),n);return s&&(s=this.enterInner(e,r,n,!0,i)),s}enterInner(e,r,n,i=!1,s){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let o=XK(e,s,a.options);a.options&Gb&&a.content.length==0&&(o|=Gb);let l=Xe.none;return n=n.filter(c=>(a.type?a.type.allowsMarkType(c.type):JK(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new ih(e,r,l,i,null,o)),this.open++,n}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let r=this.open;r>=0;r--){if(this.nodes[r]==e)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=Kb)}return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let i=n.length-1;i>=0;i--)e+=n[i].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&r.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,i=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),s=-(n?n.depth+1:0)+(i?0:1),a=(o,l)=>{for(;o>=0;o--){let c=r[o];if(c==""){if(o==r.length-1||o==0)continue;for(;l>=s;l--)if(a(o-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:n&&l>=s?n.node(l-s).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return a(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}};function yRe(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&gY.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function vRe(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function QK(t){let e={};for(let r in t)e[r]=t[r];return e}function JK(t,e){let r=e.schema.nodes;for(let n in r){let i=r[n];if(!i.allowsMarkType(t))continue;let s=[],a=o=>{s.push(o);for(let l=0;l<o.edgeCount;l++){let{type:c,next:u}=o.edge(l);if(c==e||s.indexOf(u)<0&&a(u))return!0}};if(a(i.contentMatch))return!0}}var Mi=class t{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=R_(r).createDocumentFragment());let i=n,s=[];return e.forEach(a=>{if(s.length||a.marks.length){let o=0,l=0;for(;o<s.length&&l<a.marks.length;){let c=a.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[o][0])||c.type.spec.spanning===!1)break;o++,l++}for(;o<s.length;)i=s.pop()[1];for(;l<a.marks.length;){let c=a.marks[l++],u=this.serializeMark(c,a.isInline,r);u&&(s.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(a,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:i}=EC(R_(r),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,i)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,r);s&&((s.contentDOM||s.dom).appendChild(n),n=s.dom)}return n}serializeMark(e,r,n={}){let i=this.marks[e.type.name];return i&&EC(R_(n),i(e,r),null,e.attrs)}static renderSpec(e,r,n=null,i){return EC(e,r,n,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new t(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=ZK(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return ZK(e.marks)}};function ZK(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function R_(t){return t.document||window.document}var eY=new WeakMap;function bRe(t){let e=eY.get(t);return e===void 0&&eY.set(t,e=wRe(t)),e}function wRe(t){let e=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let i=0;i<n.length;i++)r(n[i]);else for(let i in n)r(n[i])}return r(t),e}function EC(t,e,r,n){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(s=bRe(n))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=i.indexOf(" ");a>0&&(r=i.slice(0,a),i=i.slice(a+1));let o,l=r?t.createElementNS(r,i):t.createElement(i),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let f=d.indexOf(" ");f>0?l.setAttributeNS(d.slice(0,f),d.slice(f+1),c[d]):l.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let f=e[d];if(f===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:h}=EC(t,f,r,n);if(l.appendChild(p),h){if(o)throw new RangeError("Multiple content holes");o=h}}}return{dom:l,contentDOM:o}}var vY=65535,bY=Math.pow(2,16);function xRe(t,e){return t+e*bY}function yY(t){return t&vY}function SRe(t){return(t-(t&vY))/bY}var wY=1,xY=2,PC=4,SY=8,Qb=class{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&SY)>0}get deletedBefore(){return(this.delInfo&(wY|PC))>0}get deletedAfter(){return(this.delInfo&(xY|PC))>0}get deletedAcross(){return(this.delInfo&PC)>0}},Zo=class t{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&t.empty)return t.empty}recover(e){let r=0,n=yY(e);if(!this.inverted)for(let i=0;i<n;i++)r+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+r+SRe(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let i=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let l=this.ranges[o]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[o+s],u=this.ranges[o+a],d=l+c;if(e<=d){let f=c?e==l?-1:e==d?1:r:r,p=l+i+(f<0?0:u);if(n)return p;let h=e==(r<0?l:d)?null:xRe(o/3,e-l),g=e==l?xY:e==d?wY:PC;return(r<0?e!=l:e!=d)&&(g|=SY),new Qb(p,g,h)}i+=u-c}return n?e+i:new Qb(e+i,0,null)}touches(e,r){let n=0,i=yY(r),s=this.inverted?2:1,a=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let l=this.ranges[o]-(this.inverted?n:0);if(l>e)break;let c=this.ranges[o+s],u=l+c;if(e<=u&&o==i*3)return!0;n+=this.ranges[o+a]-c}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let a=this.ranges[i],o=a-(this.inverted?s:0),l=a+(this.inverted?0:s),c=this.ranges[i+r],u=this.ranges[i+n];e(o,o+c,l,l+u),s+=u-c}}invert(){return new t(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?t.empty:new t(e<0?[0,-e,0]:[0,0,e])}};Zo.empty=new Zo([]);var Jb=class t{constructor(e,r,n=0,i=e?e.length:0){this.mirror=r,this.from=n,this.to=i,this._maps=e||[],this.ownData=!(e||r)}get maps(){return this._maps}slice(e=0,r=this.maps.length){return new t(this._maps,this.mirror,e,r)}appendMap(e,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(e){for(let r=0,n=this._maps.length;r<e._maps.length;r++){let i=e.getMirror(r);this.appendMap(e._maps[r],i!=null&&i<r?n+i:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this._maps.length+e._maps.length;r>=0;r--){let i=e.getMirror(r);this.appendMap(e._maps[r].invert(),i!=null&&i>r?n-i-1:void 0)}}invert(){let e=new t;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let i=0;for(let s=this.from;s<this.to;s++){let a=this._maps[s],o=a.mapResult(e,r);if(o.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this._maps[l].recover(o.recover);continue}}i|=o.delInfo,e=o.pos}return n?e:new Qb(e,i,null)}},$_=Object.create(null),Fr=class{getMap(){return Zo.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=$_[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in $_)throw new RangeError("Duplicate use of step JSON ID "+e);return $_[e]=r,r.prototype.jsonID=e,r}},Qr=class t{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new t(e,null)}static fail(e){return new t(null,e)}static fromReplace(e,r,n,i){try{return t.ok(e.replace(r,n,i))}catch(s){if(s instanceof Pd)return t.fail(s.message);throw s}}};function U_(t,e,r){let n=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(U_(s.content,e,s))),s.isInline&&(s=e(s,r,i)),n.push(s)}return J.fromArray(n)}var Zb=class t extends Fr{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),i=n.node(n.sharedDepth(this.to)),s=new ee(U_(r.content,(a,o)=>!a.isAtom||!o.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),i),r.openStart,r.openEnd);return Qr.fromReplace(e,this.from,this.to,s)}invert(){return new Dd(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new t(r.pos,n.pos,this.mark)}merge(e){return e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new t(r.from,r.to,e.markFromJSON(r.mark))}};Fr.jsonID("addMark",Zb);var Dd=class t extends Fr{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new ee(U_(r.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),r.openStart,r.openEnd);return Qr.fromReplace(e,this.from,this.to,n)}invert(){return new Zb(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new t(r.pos,n.pos,this.mark)}merge(e){return e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new t(r.from,r.to,e.markFromJSON(r.mark))}};Fr.jsonID("removeMark",Dd);var e0=class t extends Fr{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Qr.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return Qr.fromReplace(e,this.pos,this.pos+1,new ee(J.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let i=0;i<r.marks.length;i++)if(!r.marks[i].isInSet(n))return new t(this.pos,r.marks[i]);return new t(this.pos,this.mark)}}return new t0(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new t(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new t(r.pos,e.markFromJSON(r.mark))}};Fr.jsonID("addNodeMark",e0);var t0=class t extends Fr{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Qr.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return Qr.fromReplace(e,this.pos,this.pos+1,new ee(J.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new e0(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new t(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new t(r.pos,e.markFromJSON(r.mark))}};Fr.jsonID("removeNodeMark",t0);var ti=class t extends Fr{constructor(e,r,n,i=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=i}apply(e){return this.structure&&q_(e,this.from,this.to)?Qr.fail("Structure replace would overwrite content"):Qr.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Zo([this.from,this.to-this.from,this.slice.size])}invert(e){return new t(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new t(r.pos,Math.max(r.pos,n.pos),this.slice)}merge(e){if(!(e instanceof t)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?ee.empty:new ee(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new t(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?ee.empty:new ee(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new t(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new t(r.from,r.to,ee.fromJSON(e,r.slice),!!r.structure)}};Fr.jsonID("replace",ti);var Pi=class t extends Fr{constructor(e,r,n,i,s,a,o=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=i,this.slice=s,this.insert=a,this.structure=o}apply(e){if(this.structure&&(q_(e,this.from,this.gapFrom)||q_(e,this.gapTo,this.to)))return Qr.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return Qr.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?Qr.fromReplace(e,this.from,this.to,n):Qr.fail("Content does not fit in gap")}getMap(){return new Zo([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new t(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),i=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||i<r.pos||s>n.pos?null:new t(r.pos,n.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new t(r.from,r.to,r.gapFrom,r.gapTo,ee.fromJSON(e,r.slice),r.insert,!!r.structure)}};Fr.jsonID("replaceAround",Pi);function q_(t,e,r){let n=t.resolve(e),i=r-e,s=n.depth;for(;i>0&&s>0&&n.indexAfter(s)==n.node(s).childCount;)s--,i--;if(i>0){let a=n.node(s).maybeChild(n.indexAfter(s));for(;i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}}return!1}function kRe(t,e,r,n){let i=[],s=[],a,o;t.doc.nodesBetween(e,r,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!n.isInSet(d)&&u.type.allowsMarkType(n.type)){let f=Math.max(c,e),p=Math.min(c+l.nodeSize,r),h=n.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(h)||(a&&a.to==f&&a.mark.eq(d[g])?a.to=p:i.push(a=new Dd(f,p,d[g])));o&&o.to==f?o.to=p:s.push(o=new Zb(f,p,n))}}),i.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function CRe(t,e,r,n){let i=[],s=0;t.doc.nodesBetween(e,r,(a,o)=>{if(!a.isInline)return;s++;let l=null;if(n instanceof Wb){let c=a.marks,u;for(;u=n.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else n?n.isInSet(a.marks)&&(l=[n]):l=a.marks;if(l&&l.length){let c=Math.min(o+a.nodeSize,r);for(let u=0;u<l.length;u++){let d=l[u],f;for(let p=0;p<i.length;p++){let h=i[p];h.step==s-1&&d.eq(i[p].style)&&(f=h)}f?(f.to=c,f.step=s):i.push({style:d,from:Math.max(o,e),to:c,step:s})}}}),i.forEach(a=>t.step(new Dd(a.from,a.to,a.style)))}function z_(t,e,r,n=r.contentMatch,i=!0){let s=t.doc.nodeAt(e),a=[],o=e+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),u=o+c.nodeSize,d=n.matchType(c.type);if(!d)a.push(new ti(o,u,ee.empty));else{n=d;for(let f=0;f<c.marks.length;f++)r.allowsMarkType(c.marks[f].type)||t.step(new Dd(o,u,c.marks[f]));if(i&&c.isText&&r.whitespace!="pre"){let f,p=/\r?\n|\r/g,h;for(;f=p.exec(c.text);)h||(h=new ee(J.from(r.schema.text(" ",r.allowedMarks(c.marks))),0,0)),a.push(new ti(o+f.index,o+f.index+f[0].length,h))}}o=u}if(!n.validEnd){let l=n.fillBefore(J.empty,!0);t.replace(o,o,new ee(l,0,0))}for(let l=a.length-1;l>=0;l--)t.step(a[l])}function ERe(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function NC(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let i=t.$from.node(n),s=t.$from.index(n),a=t.$to.indexAfter(n);if(n<t.depth&&i.canReplace(s,a,r))return n;if(n==0||i.type.spec.isolating||!ERe(i,s,a))break}return null}function TRe(t,e,r){let{$from:n,$to:i,depth:s}=e,a=n.before(s+1),o=i.after(s+1),l=a,c=o,u=J.empty,d=0;for(let h=s,g=!1;h>r;h--)g||n.index(h)>0?(g=!0,u=J.from(n.node(h).copy(u)),d++):l--;let f=J.empty,p=0;for(let h=s,g=!1;h>r;h--)g||i.after(h+1)<i.end(h)?(g=!0,f=J.from(i.node(h).copy(f)),p++):c++;t.step(new Pi(l,c,a,o,new ee(u.append(f),d,p),u.size-d,!0))}function ARe(t,e,r){let n=J.empty;for(let a=r.length-1;a>=0;a--){if(n.size){let o=r[a].type.contentMatch.matchFragment(n);if(!o||!o.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=J.from(r[a].type.create(r[a].attrs,n))}let i=e.start,s=e.end;t.step(new Pi(i,s,i,s,new ee(n,0,0),r.length,!0))}function LRe(t,e,r,n,i){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,r,(a,o)=>{let l=typeof i=="function"?i(a):i;if(a.isTextblock&&!a.hasMarkup(n,l)&&IRe(t.doc,t.mapping.slice(s).map(o),n)){let c=null;if(n.schema.linebreakReplacement){let p=n.whitespace=="pre",h=!!n.contentMatch.matchType(n.schema.linebreakReplacement);p&&!h?c=!1:!p&&h&&(c=!0)}c===!1&&CY(t,a,o,s),z_(t,t.mapping.slice(s).map(o,1),n,void 0,c===null);let u=t.mapping.slice(s),d=u.map(o,1),f=u.map(o+a.nodeSize,1);return t.step(new Pi(d,f,d+1,f-1,new ee(J.from(n.create(l,null,a.marks)),0,0),1,!0)),c===!0&&kY(t,a,o,s),!1}})}function kY(t,e,r,n){e.forEach((i,s)=>{if(i.isText){let a,o=/\r?\n|\r/g;for(;a=o.exec(i.text);){let l=t.mapping.slice(n).map(r+1+s+a.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function CY(t,e,r,n){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let a=t.mapping.slice(n).map(r+1+s);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function IRe(t,e,r){let n=t.resolve(e),i=n.index();return n.parent.canReplaceWith(i,i+1,r)}function RRe(t,e,r,n,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");r||(r=s.type);let a=r.create(n,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,a);if(!r.validContent(s.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new Pi(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new ee(J.from(a),0,0),1,!0))}function el(t,e,r=1,n){let i=t.resolve(e),s=i.depth-r,a=n&&n[n.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=r-2;c>s;c--,u--){let d=i.node(c),f=i.index(c);if(d.type.spec.isolating)return!1;let p=d.content.cutByIndex(f,d.childCount),h=n&&n[u+1];h&&(p=p.replaceChild(0,h.type.create(h.attrs)));let g=n&&n[u]||d;if(!d.canReplace(f+1,d.childCount)||!g.type.validContent(p))return!1}let o=i.indexAfter(s),l=n&&n[0];return i.node(s).canReplaceWith(o,o,l?l.type:i.node(s+1).type)}function MRe(t,e,r=1,n){let i=t.doc.resolve(e),s=J.empty,a=J.empty;for(let o=i.depth,l=i.depth-r,c=r-1;o>l;o--,c--){s=J.from(i.node(o).copy(s));let u=n&&n[c];a=J.from(u?u.type.create(u.attrs,a):i.node(o).copy(a))}t.step(new ti(e,e,new ee(s.append(a),r,r),!0))}function H_(t,e){let r=t.resolve(e),n=r.index();return ORe(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function PRe(t,e){e.content.size||t.type.compatibleContent(e.type);let r=t.contentMatchAt(t.childCount),{linebreakReplacement:n}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),a=s.type==n?t.type.schema.nodes.text:s.type;if(r=r.matchType(a),!r||!t.type.allowsMarks(s.marks))return!1}return r.validEnd}function ORe(t,e){return!!(t&&e&&!t.isLeaf&&PRe(t,e))}function _Re(t,e,r){let n=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-r),a=s.node().type;if(i&&a.inlineContent){let u=a.whitespace=="pre",d=!!a.contentMatch.matchType(i);u&&!d?n=!1:!u&&d&&(n=!0)}let o=t.steps.length;if(n===!1){let u=t.doc.resolve(e+r);CY(t,u.node(),u.before(),o)}a.inlineContent&&z_(t,e+r-1,a,s.node().contentMatchAt(s.index()),n==null);let l=t.mapping.slice(o),c=l.map(e-r);if(t.step(new ti(c,l.map(e+r,-1),ee.empty,!0)),n===!0){let u=t.doc.resolve(c);kY(t,u.node(),u.before(),t.steps.length)}return t}function DRe(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let i=n.depth-1;i>=0;i--){let s=n.index(i);if(n.node(i).canReplaceWith(s,s,r))return n.before(i+1);if(s>0)return null}if(n.parentOffset==n.parent.content.size)for(let i=n.depth-1;i>=0;i--){let s=n.indexAfter(i);if(n.node(i).canReplaceWith(s,s,r))return n.after(i+1);if(s<n.node(i).childCount)return null}return null}function FC(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let i=r.content;for(let s=0;s<r.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(r.openStart==0&&r.size?2:1);s++)for(let a=n.depth;a>=0;a--){let o=a==n.depth?0:n.pos<=(n.start(a+1)+n.end(a+1))/2?-1:1,l=n.index(a)+(o>0?1:0),c=n.node(a),u=!1;if(s==1)u=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return o==0?n.pos:o<0?n.before(a+1):n.after(a+1)}return null}function r0(t,e,r=e,n=ee.empty){if(e==r&&!n.size)return null;let i=t.resolve(e),s=t.resolve(r);return EY(i,s,n)?new ti(e,r,n):new B_(i,s,n).fit()}function EY(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}var B_=class{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=J.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=J.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(e<0?this.$to:n.doc.resolve(e));if(!i)return null;let s=this.placed,a=n.depth,o=i.depth;for(;a&&o&&s.childCount==1;)s=s.firstChild.content,a--,o--;let l=new ee(s,a,o);return e>-1?new Pi(n.pos,e,this.$to.pos,this.$to.end(),l,r):l.size||n.pos!=this.$to.pos?new ti(n.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,i=this.unplaced.openEnd;n<e;n++){let s=r.firstChild;if(r.childCount>1&&(i=0),s.type.spec.isolating&&i<=n){e=n;break}r=s.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let i,s=null;n?(s=j_(this.unplaced.content,n-1).firstChild,i=s.content):i=this.unplaced.content;let a=i.firstChild;for(let o=this.depth;o>=0;o--){let{type:l,match:c}=this.frontier[o],u,d=null;if(r==1&&(a?c.matchType(a.type)||(d=c.fillBefore(J.from(a),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:n,frontierDepth:o,parent:s,inject:d};if(r==2&&a&&(u=c.findWrapping(a.type)))return{sliceDepth:n,frontierDepth:o,parent:s,wrap:u};if(s&&c.matchType(s.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=j_(e,r);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ee(e,r+1,Math.max(n,i.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=j_(e,r);if(i.childCount<=1&&r>0){let s=e.size-r<=r+i.size;this.unplaced=new ee(Yb(e,r-1,1),r-1,s?r-1:n)}else this.unplaced=new ee(Yb(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:i,wrap:s}){for(;this.depth>r;)this.closeFrontierNode();if(s)for(let g=0;g<s.length;g++)this.openFrontierNode(s[g]);let a=this.unplaced,o=n?n.content:a.content,l=a.openStart-e,c=0,u=[],{match:d,type:f}=this.frontier[r];if(i){for(let g=0;g<i.childCount;g++)u.push(i.child(g));d=d.matchFragment(i)}let p=o.size+e-(a.content.size-a.openEnd);for(;c<o.childCount;){let g=o.child(c),v=d.matchType(g.type);if(!v)break;c++,(c>1||l==0||g.content.size)&&(d=v,u.push(TY(g.mark(f.allowedMarks(g.marks)),c==1?l:0,c==o.childCount?p:-1)))}let h=c==o.childCount;h||(p=-1),this.placed=Xb(this.placed,r,J.from(u)),this.frontier[r].match=d,h&&p<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,v=o;g<p;g++){let y=v.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),v=y.content}this.unplaced=h?e==0?ee.empty:new ee(Yb(a.content,e-1,1),e-1,p<0?a.openEnd:e-1):new ee(Yb(a.content,e,c),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!V_(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,i=this.$to.after(n);for(;n>1&&i==this.$to.end(--n);)++i;return i}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:i}=this.frontier[r],s=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),a=V_(e,r,i,n,s);if(a){for(let o=r-1;o>=0;o--){let{match:l,type:c}=this.frontier[o],u=V_(e,o,c,l,!0);if(!u||u.childCount)continue e}return{depth:r,fit:a,move:s?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=Xb(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let i=e.node(n),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,r=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Xb(this.placed,this.depth,J.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(J.empty,!0);r.childCount&&(this.placed=Xb(this.placed,this.frontier.length,r))}};function Yb(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(Yb(t.firstChild.content,e-1,r)))}function Xb(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(Xb(t.lastChild.content,e-1,r)))}function j_(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}function TY(t,e,r){if(e<=0)return t;let n=t.content;return e>1&&(n=n.replaceChild(0,TY(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(J.empty,!0)))),t.copy(n)}function V_(t,e,r,n,i){let s=t.node(e),a=i?t.indexAfter(e):t.index(e);if(a==s.childCount&&!r.compatibleContent(s.type))return null;let o=n.fillBefore(s.content,!0,a);return o&&!NRe(r,s.content,a)?o:null}function NRe(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}function FRe(t){return t.spec.defining||t.spec.definingForContent}function $Re(t,e,r,n){if(!n.size)return t.deleteRange(e,r);let i=t.doc.resolve(e),s=t.doc.resolve(r);if(EY(i,s,n))return t.step(new ti(e,r,n));let a=LY(i,t.doc.resolve(r));a[a.length-1]==0&&a.pop();let o=-(i.depth+1);a.unshift(o);for(let f=i.depth,p=i.pos-1;f>0;f--,p--){let h=i.node(f).type.spec;if(h.defining||h.definingAsContext||h.isolating)break;a.indexOf(f)>-1?o=f:i.before(f)==p&&a.splice(1,0,-f)}let l=a.indexOf(o),c=[],u=n.openStart;for(let f=n.content,p=0;;p++){let h=f.firstChild;if(c.push(h),p==n.openStart)break;f=h.content}for(let f=u-1;f>=0;f--){let p=c[f],h=FRe(p.type);if(h&&!p.sameMarkup(i.node(Math.abs(o)-1)))u=f;else if(h||!p.type.isTextblock)break}for(let f=n.openStart;f>=0;f--){let p=(f+u+1)%(n.openStart+1),h=c[p];if(h)for(let g=0;g<a.length;g++){let v=a[(g+l)%a.length],y=!0;v<0&&(y=!1,v=-v);let b=i.node(v-1),w=i.index(v-1);if(b.canReplaceWith(w,w,h.type,h.marks))return t.replace(i.before(v),y?s.after(v):r,new ee(AY(n.content,0,n.openStart,p),p,n.openEnd))}}let d=t.steps.length;for(let f=a.length-1;f>=0&&(t.replace(e,r,n),!(t.steps.length>d));f--){let p=a[f];p<0||(e=i.before(p),r=s.after(p))}}function AY(t,e,r,n,i){if(e<r){let s=t.firstChild;t=t.replaceChild(0,s.copy(AY(s.content,e+1,r,n,s)))}if(e>n){let s=i.contentMatchAt(0),a=s.fillBefore(t).append(t);t=a.append(s.matchFragment(a).fillBefore(J.empty,!0))}return t}function jRe(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let i=DRe(t.doc,e,n.type);i!=null&&(e=r=i)}t.replaceRange(e,r,new ee(J.from(n),0,0))}function VRe(t,e,r){let n=t.doc.resolve(e),i=t.doc.resolve(r),s=LY(n,i);for(let a=0;a<s.length;a++){let o=s[a],l=a==s.length-1;if(l&&o==0||n.node(o).type.contentMatch.validEnd)return t.delete(n.start(o),i.end(o));if(o>0&&(l||n.node(o-1).canReplace(n.index(o-1),i.indexAfter(o-1))))return t.delete(n.before(o),i.after(o))}for(let a=1;a<=n.depth&&a<=i.depth;a++)if(e-n.start(a)==n.depth-a&&r>n.end(a)&&i.end(a)-r!=i.depth-a&&n.start(a-1)==i.start(a-1)&&n.node(a-1).canReplace(n.index(a-1),i.index(a-1)))return t.delete(n.before(a),r);t.delete(e,r)}function LY(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let i=n;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&r.push(i)}return r}var OC=class t extends Fr{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return Qr.fail("No node at attribute step's position");let n=Object.create(null);for(let s in r.attrs)n[s]=r.attrs[s];n[this.attr]=this.value;let i=r.type.create(n,null,r.marks);return Qr.fromReplace(e,this.pos,this.pos+1,new ee(J.from(i),0,r.isLeaf?0:1))}getMap(){return Zo.empty}invert(e){return new t(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new t(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new t(r.pos,r.attr,r.value)}};Fr.jsonID("attr",OC);var _C=class t extends Fr{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let i in e.attrs)r[i]=e.attrs[i];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return Qr.ok(n)}getMap(){return Zo.empty}invert(e){return new t(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new t(r.attr,r.value)}};Fr.jsonID("docAttr",_C);var sh=class extends Error{};sh=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r};sh.prototype=Object.create(Error.prototype);sh.prototype.constructor=sh;sh.prototype.name="TransformError";var DC=class{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Jb}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new sh(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=ee.empty){let i=r0(this.doc,e,r,n);return i&&this.step(i),this}replaceWith(e,r,n){return this.replace(e,r,new ee(J.from(n),0,0))}delete(e,r){return this.replace(e,r,ee.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return $Re(this,e,r,n),this}replaceRangeWith(e,r,n){return jRe(this,e,r,n),this}deleteRange(e,r){return VRe(this,e,r),this}lift(e,r){return TRe(this,e,r),this}join(e,r=1){return _Re(this,e,r),this}wrap(e,r){return ARe(this,e,r),this}setBlockType(e,r=e,n,i=null){return LRe(this,e,r,n,i),this}setNodeMarkup(e,r,n=null,i){return RRe(this,e,r,n,i),this}setNodeAttribute(e,r,n){return this.step(new OC(e,r,n)),this}setDocAttribute(e,r){return this.step(new _C(e,r)),this}addNodeMark(e,r){return this.step(new e0(e,r)),this}removeNodeMark(e,r){if(!(r instanceof Xe)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r=r.isInSet(n.marks),!r)return this}return this.step(new t0(e,r)),this}split(e,r=1,n){return MRe(this,e,r,n),this}addMark(e,r,n){return kRe(this,e,r,n),this}removeMark(e,r,n){return CRe(this,e,r,n),this}clearIncompatible(e,r,n){return z_(this,e,r,n),this}};var G_=Object.create(null),Ce=class{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new oh(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=ee.empty){let n=r.content.lastChild,i=null;for(let o=0;o<r.openEnd;o++)i=n,n=n.lastChild;let s=e.steps.length,a=this.ranges;for(let o=0;o<a.length;o++){let{$from:l,$to:c}=a[o],u=e.mapping.slice(s);e.replaceRange(u.map(l.pos),u.map(c.pos),o?ee.empty:r),o==0&&MY(e,s,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:a,$to:o}=i[s],l=e.mapping.slice(n),c=l.map(a.pos),u=l.map(o.pos);s?e.deleteRange(c,u):(e.replaceRangeWith(c,u,r),MY(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let i=e.parent.inlineContent?new Fe(e):ah(e.node(0),e.parent,e.pos,e.index(),r,n);if(i)return i;for(let s=e.depth-1;s>=0;s--){let a=r<0?ah(e.node(0),e.node(s),e.before(s+1),e.index(s),r,n):ah(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,r,n);if(a)return a}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new dn(e.node(0))}static atStart(e){return ah(e,e,0,0,1)||new dn(e)}static atEnd(e){return ah(e,e,e.content.size,e.childCount,-1)||new dn(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=G_[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in G_)throw new RangeError("Duplicate use of selection JSON ID "+e);return G_[e]=r,r.prototype.jsonID=e,r}getBookmark(){return Fe.between(this.$anchor,this.$head).getBookmark()}};Ce.prototype.visible=!0;var oh=class{constructor(e,r){this.$from=e,this.$to=r}},IY=!1;function RY(t){!IY&&!t.parent.inlineContent&&(IY=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}var Fe=class t extends Ce{constructor(e,r=e){RY(e),RY(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return Ce.near(n);let i=e.resolve(r.map(this.anchor));return new t(i.parent.inlineContent?i:n,n)}replace(e,r=ee.empty){if(super.replace(e,r),r==ee.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof t&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new jC(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new t(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let i=e.resolve(r);return new this(i,n==r?i:e.resolve(n))}static between(e,r,n){let i=e.pos-r.pos;if((!n||i)&&(n=i>=0?1:-1),!r.parent.inlineContent){let s=Ce.findFrom(r,n,!0)||Ce.findFrom(r,-n,!0);if(s)r=s.$head;else return Ce.near(r,n)}return e.parent.inlineContent||(i==0?e=r:(e=(Ce.findFrom(e,-n,!0)||Ce.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=i<0&&(e=r))),new t(e,r)}};Ce.jsonID("text",Fe);var jC=class t{constructor(e,r){this.anchor=e,this.head=r}map(e){return new t(e.map(this.anchor),e.map(this.head))}resolve(e){return Fe.between(e.resolve(this.anchor),e.resolve(this.head))}},we=class t extends Ce{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:i}=r.mapResult(this.anchor),s=e.resolve(i);return n?Ce.near(s):new t(s)}content(){return new ee(J.from(this.node),0,0)}eq(e){return e instanceof t&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new K_(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new t(e.resolve(r.anchor))}static create(e,r){return new t(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}};we.prototype.visible=!1;Ce.jsonID("node",we);var K_=class t{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new jC(n,n):new t(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&we.isSelectable(n)?new we(r):Ce.near(r)}},dn=class t extends Ce{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=ee.empty){if(r==ee.empty){e.delete(0,e.doc.content.size);let n=Ce.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new t(e)}map(e){return new t(e)}eq(e){return e instanceof t}getBookmark(){return qRe}};Ce.jsonID("all",dn);var qRe={map(){return this},resolve(t){return new dn(t)}};function ah(t,e,r,n,i,s=!1){if(e.inlineContent)return Fe.create(t,r);for(let a=n-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let o=e.child(a);if(o.isAtom){if(!s&&we.isSelectable(o))return we.create(t,r-(i<0?o.nodeSize:0))}else{let l=ah(t,o,r+i,i<0?o.childCount:0,i,s);if(l)return l}r+=o.nodeSize*i}return null}function MY(t,e,r){let n=t.steps.length-1;if(n<e)return;let i=t.steps[n];if(!(i instanceof ti||i instanceof Pi))return;let s=t.mapping.maps[n],a;s.forEach((o,l,c,u)=>{a==null&&(a=u)}),t.setSelection(Ce.near(t.doc.resolve(a),r))}var PY=1,$C=2,OY=4,Y_=class extends DC{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|PY)&~$C,this.storedMarks=null,this}get selectionSet(){return(this.updated&PY)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=$C,this}ensureMarks(e){return Xe.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&$C)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~$C,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Xe.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let i=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),n=n??r,!e)return this.deleteRange(r,n);let s=this.storedMarks;if(!s){let a=this.doc.resolve(r);s=n==r?a.marks():a.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,i.text(e,s)),this.selection.empty||this.setSelection(Ce.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=OY,this}get scrolledIntoView(){return(this.updated&OY)>0}};function _Y(t,e){return!e||!t?t:t.bind(e)}var Nd=class{constructor(e,r,n){this.name=e,this.init=_Y(r.init,n),this.apply=_Y(r.apply,n)}},BRe=[new Nd("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Nd("selection",{init(t,e){return t.selection||Ce.atStart(e.doc)},apply(t){return t.selection}}),new Nd("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new Nd("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})],n0=class{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=BRe.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new Nd(n.key,n.spec.state,n))})}},i0=class t{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),i=null;for(;;){let s=!1;for(let a=0;a<this.config.plugins.length;a++){let o=this.config.plugins[a];if(o.spec.appendTransaction){let l=i?i[a].n:0,c=i?i[a].state:this,u=l<r.length&&o.spec.appendTransaction.call(o,l?r.slice(l):r,c,n);if(u&&n.filterTransaction(u,a)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<a?{state:n,n:r.length}:{state:this,n:0})}r.push(u),n=n.applyInner(u),s=!0}i&&(i[a]={state:n,n:r.length})}}if(!s)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new t(this.config),n=this.config.fields;for(let i=0;i<n.length;i++){let s=n[i];r[s.name]=s.apply(e,this[s.name],this,r)}return r}get tr(){return new Y_(this)}static create(e){let r=new n0(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new t(r);for(let i=0;i<r.fields.length;i++)n[r.fields[i].name]=r.fields[i].init(e,n);return n}reconfigure(e){let r=new n0(this.schema,e.plugins),n=r.fields,i=new t(r);for(let s=0;s<n.length;s++){let a=n[s].name;i[a]=this.hasOwnProperty(a)?this[a]:n[s].init(e,i)}return i}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[n],s=i.spec.state;s&&s.toJSON&&(r[n]=s.toJSON.call(i,this[i.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new n0(e.schema,e.plugins),s=new t(i);return i.fields.forEach(a=>{if(a.name=="doc")s.doc=Ri.fromJSON(e.schema,r.doc);else if(a.name=="selection")s.selection=Ce.fromJSON(s.doc,r.selection);else if(a.name=="storedMarks")r.storedMarks&&(s.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let o in n){let l=n[o],c=l.spec.state;if(l.key==a.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(r,o)){s[a.name]=c.fromJSON.call(l,e,r[o],s);return}}s[a.name]=a.init(e,s)}}),s}};function DY(t,e,r){for(let n in t){let i=t[n];i instanceof Function?i=i.bind(e):n=="handleDOMEvents"&&(i=DY(i,e,{})),r[n]=i}return r}var Ee=class{constructor(e){this.spec=e,this.props={},e.props&&DY(e.props,this,this.props),this.key=e.key?e.key.key:NY("plugin")}getState(e){return e[this.key]}},W_=Object.create(null);function NY(t){return t in W_?t+"$"+ ++W_[t]:(W_[t]=0,t+"$")}var Qe=class{constructor(e="key"){this.key=NY(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}};var Jr=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},fh=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e},t6=null,rl=function(t,e,r){let n=t6||(t6=document.createRange());return n.setEnd(t,r??t.nodeValue.length),n.setStart(t,e||0),n},URe=function(){t6=null},Ud=function(t,e,r,n){return r&&(FY(t,e,r,n,-1)||FY(t,e,r,n,1))},zRe=/^(img|br|input|textarea|hr)$/i;function FY(t,e,r,n,i){for(;;){if(t==r&&e==n)return!0;if(e==(i<0?0:Es(t))){let s=t.parentNode;if(!s||s.nodeType!=1||d0(t)||zRe.test(t.nodeName)||t.contentEditable=="false")return!1;e=Jr(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Es(t):0}else return!1}}function Es(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function HRe(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Es(t)}else if(t.parentNode&&!d0(t))e=Jr(t),t=t.parentNode;else return null}}function GRe(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!d0(t))e=Jr(t)+1,t=t.parentNode;else return null}}function WRe(t,e,r){for(let n=e==0,i=e==Es(t);n||i;){if(t==r)return!0;let s=Jr(t);if(t=t.parentNode,!t)return!1;n=n&&s==0,i=i&&s==Es(t)}}function d0(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}var QC=function(t){return t.focusNode&&Ud(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Fd(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function KRe(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function YRe(t,e,r){if(t.caretPositionFromPoint)try{let n=t.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(Es(n.offsetNode),n.offset)}}catch{}if(t.caretRangeFromPoint){let n=t.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:Math.min(Es(n.startContainer),n.startOffset)}}}var Za=typeof navigator<"u"?navigator:null,$Y=typeof document<"u"?document:null,bc=Za&&Za.userAgent||"",r6=/Edge\/(\d+)/.exec(bc),gX=/MSIE \d/.exec(bc),n6=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(bc),ri=!!(gX||n6||r6),yc=gX?document.documentMode:n6?+n6[1]:r6?+r6[1]:0,ma=!ri&&/gecko\/(\d+)/i.test(bc);ma&&+(/Firefox\/(\d+)/.exec(bc)||[0,0])[1];var i6=!ri&&/Chrome\/(\d+)/.exec(bc),pn=!!i6,yX=i6?+i6[1]:0,Pn=!ri&&!!Za&&/Apple Computer/.test(Za.vendor),ph=Pn&&(/Mobile\/\w+/.test(bc)||!!Za&&Za.maxTouchPoints>2),Cs=ph||(Za?/Mac/.test(Za.platform):!1),XRe=Za?/Win/.test(Za.platform):!1,nl=/Android \d/.test(bc),f0=!!$Y&&"webkitFontSmoothing"in $Y.documentElement.style,QRe=f0?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function JRe(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function tl(t,e){return typeof t=="number"?t:t[e]}function ZRe(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function jY(t,e,r){let n=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let a=r||t.dom;a;){if(a.nodeType!=1){a=fh(a);continue}let o=a,l=o==s.body,c=l?JRe(s):ZRe(o),u=0,d=0;if(e.top<c.top+tl(n,"top")?d=-(c.top-e.top+tl(i,"top")):e.bottom>c.bottom-tl(n,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+tl(i,"top")-c.top:e.bottom-c.bottom+tl(i,"bottom")),e.left<c.left+tl(n,"left")?u=-(c.left-e.left+tl(i,"left")):e.right>c.right-tl(n,"right")&&(u=e.right-c.right+tl(i,"right")),u||d)if(l)s.defaultView.scrollBy(u,d);else{let p=o.scrollLeft,h=o.scrollTop;d&&(o.scrollTop+=d),u&&(o.scrollLeft+=u);let g=o.scrollLeft-p,v=o.scrollTop-h;e={left:e.left-g,top:e.top-v,right:e.right-g,bottom:e.bottom-v}}let f=l?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(f))break;a=f=="absolute"?a.offsetParent:fh(a)}}function e3e(t){let e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,i;for(let s=(e.left+e.right)/2,a=r+1;a<Math.min(innerHeight,e.bottom);a+=5){let o=t.root.elementFromPoint(s,a);if(!o||o==t.dom||!t.dom.contains(o))continue;let l=o.getBoundingClientRect();if(l.top>=r-20){n=o,i=l.top;break}}return{refDOM:n,refTop:i,stack:vX(t.dom)}}function vX(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=fh(n));return e}function t3e({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;bX(r,n==0?0:n-e)}function bX(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:i,left:s}=t[r];n.scrollTop!=i+e&&(n.scrollTop=i+e),n.scrollLeft!=s&&(n.scrollLeft=s)}}var lh=null;function r3e(t){if(t.setActive)return t.setActive();if(lh)return t.focus(lh);let e=vX(t);t.focus(lh==null?{get preventScroll(){return lh={preventScroll:!0},!0}}:void 0),lh||(lh=!1,bX(e,0))}function wX(t,e){let r,n=2e8,i,s=0,a=e.top,o=e.top,l,c;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=rl(u).getClientRects();else continue;for(let p=0;p<f.length;p++){let h=f[p];if(h.top<=a&&h.bottom>=o){a=Math.max(h.bottom,a),o=Math.min(h.top,o);let g=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(g<n){r=u,n=g,i=g&&r.nodeType==3?{left:h.right<e.left?h.right:h.left,top:e.top}:e,u.nodeType==1&&g&&(s=d+(e.left>=(h.left+h.right)/2?1:0));continue}}else h.top>e.top&&!l&&h.left<=e.left&&h.right>=e.left&&(l=u,c={left:Math.max(h.left,Math.min(h.right,e.left)),top:h.top});!r&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(s=d+1)}}return!r&&l&&(r=l,i=c,n=0),r&&r.nodeType==3?n3e(r,i):!r||n&&r.nodeType==1?{node:t,offset:s}:wX(r,i)}function n3e(t,e){let r=t.nodeValue.length,n=document.createRange();for(let i=0;i<r;i++){n.setEnd(t,i+1),n.setStart(t,i);let s=hc(n,1);if(s.top!=s.bottom&&b6(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function b6(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function i3e(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}function s3e(t,e,r){let{node:n,offset:i}=wX(e,r),s=-1;if(n.nodeType==1&&!n.firstChild){let a=n.getBoundingClientRect();s=a.left!=a.right&&r.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(n,i,s)}function a3e(t,e,r,n){let i=-1;for(let s=e,a=!1;s!=t.dom;){let o=t.docView.nearestDesc(s,!0),l;if(!o)return null;if(o.dom.nodeType==1&&(o.node.isBlock&&o.parent||!o.contentDOM)&&((l=o.dom.getBoundingClientRect()).width||l.height)&&(o.node.isBlock&&o.parent&&(!a&&l.left>n.left||l.top>n.top?i=o.posBefore:(!a&&l.right<n.left||l.bottom<n.top)&&(i=o.posAfter),a=!0),!o.contentDOM&&i<0&&!o.node.isText))return(o.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?o.posBefore:o.posAfter;s=o.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,r,-1)}function xX(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let i=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),s=i;;){let a=t.childNodes[s];if(a.nodeType==1){let o=a.getClientRects();for(let l=0;l<o.length;l++){let c=o[l];if(b6(e,c))return xX(a,e,c)}}if((s=(s+1)%n)==i)break}return t}function o3e(t,e){let r=t.dom.ownerDocument,n,i=0,s=YRe(r,e.left,e.top);s&&({node:n,offset:i}=s);let a=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top),o;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let c=t.dom.getBoundingClientRect();if(!b6(e,c)||(a=xX(t.dom,e,c),!a))return null}if(Pn)for(let c=a;n&&c;c=fh(c))c.draggable&&(n=void 0);if(a=i3e(a,e),n){if(ma&&n.nodeType==1&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let u=n.childNodes[i],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let c;f0&&i&&n.nodeType==1&&(c=n.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,n==t.dom&&i==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?o=t.state.doc.content.size:(i==0||n.nodeType!=1||n.childNodes[i-1].nodeName!="BR")&&(o=a3e(t,n,i,e))}o==null&&(o=s3e(t,a,e));let l=t.docView.nearestDesc(a,!0);return{pos:o,inside:l?l.posAtStart-l.border:-1}}function VY(t){return t.top<t.bottom||t.left<t.right}function hc(t,e){let r=t.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(VY(n))return n}return Array.prototype.find.call(r,VY)||t.getBoundingClientRect()}var l3e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function SX(t,e,r){let{node:n,offset:i,atom:s}=t.docView.domFromPos(e,r<0?-1:1),a=f0||ma;if(n.nodeType==3)if(a&&(l3e.test(n.nodeValue)||(r<0?!i:i==n.nodeValue.length))){let l=hc(rl(n,i,i),r);if(ma&&i&&/\s/.test(n.nodeValue[i-1])&&i<n.nodeValue.length){let c=hc(rl(n,i-1,i-1),-1);if(c.top==l.top){let u=hc(rl(n,i,i+1),-1);if(u.top!=l.top)return s0(u,u.left<c.left)}}return l}else{let l=i,c=i,u=r<0?1:-1;return r<0&&!i?(c++,u=-1):r>=0&&i==n.nodeValue.length?(l--,u=1):r<0?l--:c++,s0(hc(rl(n,l,c),u),u<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(r<0||i==Es(n))){let l=n.childNodes[i-1];if(l.nodeType==1)return X_(l.getBoundingClientRect(),!1)}if(s==null&&i<Es(n)){let l=n.childNodes[i];if(l.nodeType==1)return X_(l.getBoundingClientRect(),!0)}return X_(n.getBoundingClientRect(),r>=0)}if(s==null&&i&&(r<0||i==Es(n))){let l=n.childNodes[i-1],c=l.nodeType==3?rl(l,Es(l)-(a?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return s0(hc(c,1),!1)}if(s==null&&i<Es(n)){let l=n.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?rl(l,0,a?0:1):l.nodeType==1?l:null:null;if(c)return s0(hc(c,-1),!0)}return s0(hc(n.nodeType==3?rl(n):n,-r),r>=0)}function s0(t,e){if(t.width==0)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function X_(t,e){if(t.height==0)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function kX(t,e,r){let n=t.state,i=t.root.activeElement;n!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),i!=t.dom&&i&&i.focus()}}function c3e(t,e,r){let n=e.selection,i=r=="up"?n.$from:n.$to;return kX(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,r=="up"?-1:1);for(;;){let o=t.docView.nearestDesc(s,!0);if(!o)break;if(o.node.isBlock){s=o.contentDOM||o.dom;break}s=o.dom.parentNode}let a=SX(t,i.pos,1);for(let o=s.firstChild;o;o=o.nextSibling){let l;if(o.nodeType==1)l=o.getClientRects();else if(o.nodeType==3)l=rl(o,0,o.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(r=="up"?a.top-u.top>(u.bottom-a.top)*2:u.bottom-a.bottom>(a.bottom-u.top)*2))return!1}}return!0})}var u3e=/[\u0590-\u08ac]/;function d3e(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let i=n.parentOffset,s=!i,a=i==n.parent.content.size,o=t.domSelection();return o?!u3e.test(n.parent.textContent)||!o.modify?r=="left"||r=="backward"?s:a:kX(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),f=o.caretBidiLevel;o.modify("move",r,"character");let p=n.depth?t.docView.domAfterPos(n.before()):t.dom,{focusNode:h,focusOffset:g}=t.domSelectionRange(),v=h&&!p.contains(h.nodeType==1?h:h.parentNode)||l==h&&c==g;try{o.collapse(u,d),l&&(l!=u||c!=d)&&o.extend&&o.extend(l,c)}catch{}return f!=null&&(o.caretBidiLevel=f),v}):n.pos==n.start()||n.pos==n.end()}var qY=null,BY=null,UY=!1;function f3e(t,e,r){return qY==e&&BY==r?UY:(qY=e,BY=r,UY=r=="up"||r=="down"?c3e(t,e,r):d3e(t,e,r))}var Ts=0,zY=1,$d=2,eo=3,zd=class{constructor(e,r,n,i){this.parent=e,this.children=r,this.dom=n,this.contentDOM=i,this.dirty=Ts,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let i=this.children[r];if(i==e)return n;n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let s,a;if(e==this.contentDOM)s=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(a)+a.size:this.posAtStart}else{let s,a;if(e==this.contentDOM)s=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=r>Jr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&r==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),a;if(s&&(!r||s.node))if(n&&(a=s.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))n=!1;else return s}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let i=this.children[r],s=n+i.size;if(n==e&&s!=n){for(;!i.border&&i.children.length;)for(let a=0;a<i.children.length;a++){let o=i.children[a];if(o.size){i=o;break}}return i}if(e<s)return i.descAt(e-n-i.border);n=s}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,i=0;for(let s=0;n<this.children.length;n++){let a=this.children[n],o=s+a.size;if(o>e||a instanceof BC){i=e-s;break}s=o}if(i)return this.children[n].domFromPos(i-this.children[n].border,r);for(let s;n&&!(s=this.children[n-1]).size&&s instanceof VC&&s.side>=0;n--);if(r<=0){let s,a=!0;for(;s=n?this.children[n-1]:null,!(!s||s.dom.parentNode==this.contentDOM);n--,a=!1);return s&&r&&a&&!s.border&&!s.domAtom?s.domFromPos(s.size,r):{node:this.contentDOM,offset:s?Jr(s.dom)+1:0}}else{let s,a=!0;for(;s=n<this.children.length?this.children[n]:null,!(!s||s.dom.parentNode==this.contentDOM);n++,a=!1);return s&&a&&!s.border&&!s.domAtom?s.domFromPos(0,r):{node:this.contentDOM,offset:s?Jr(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let a=n,o=0;;o++){let l=this.children[o],c=a+l.size;if(i==-1&&e<=c){let u=a+l.border;if(e>=u&&r<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,r,u);e=a;for(let d=o;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=Jr(f.dom)+1;break}e-=f.size}i==-1&&(i=0)}if(i>-1&&(c>r||o==this.children.length-1)){r=c;for(let u=o+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=Jr(d.dom);break}r+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=c}return{node:this.contentDOM,from:e,to:r,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,i=!1){let s=Math.min(e,r),a=Math.max(e,r);for(let p=0,h=0;p<this.children.length;p++){let g=this.children[p],v=h+g.size;if(s>h&&a<v)return g.setSelection(e-h-g.border,r-h-g.border,n,i);h=v}let o=this.domFromPos(e,e?-1:1),l=r==e?o:this.domFromPos(r,r?-1:1),c=n.root.getSelection(),u=n.domSelectionRange(),d=!1;if((ma||Pn)&&e==r){let{node:p,offset:h}=o;if(p.nodeType==3){if(d=!!(h&&p.nodeValue[h-1]==`
`),d&&h==p.nodeValue.length)for(let g=p,v;g;g=g.parentNode){if(v=g.nextSibling){v.nodeName=="BR"&&(o=l={node:v.parentNode,offset:Jr(v)+1});break}let y=g.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{let g=p.childNodes[h-1];d=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(ma&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let p=u.focusNode.childNodes[u.focusOffset];p&&p.contentEditable=="false"&&(i=!0)}if(!(i||d&&Pn)&&Ud(o.node,o.offset,u.anchorNode,u.anchorOffset)&&Ud(l.node,l.offset,u.focusNode,u.focusOffset))return;let f=!1;if((c.extend||e==r)&&!d){c.collapse(o.node,o.offset);try{e!=r&&c.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(e>r){let h=o;o=l,l=h}let p=document.createRange();p.setEnd(l.node,l.offset),p.setStart(o.node,o.offset),c.removeAllRanges(),c.addRange(p)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,i=0;i<this.children.length;i++){let s=this.children[i],a=n+s.size;if(n==a?e<=a&&r>=n:e<a&&r>n){let o=n+s.border,l=a-s.border;if(e>=o&&r<=l){this.dirty=e==n||r==a?$d:zY,e==o&&r==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=eo:s.markDirty(e-o,r-o);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?$d:eo}n=a}this.dirty=$d}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?$d:zY;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}},VC=class extends zd{constructor(e,r,n,i){let s,a=r.type.toDOM;if(typeof a=="function"&&(a=a(n,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!r.type.spec.raw){if(a.nodeType!=1){let o=document.createElement("span");o.appendChild(a),a=o}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=r,this.widget=r,s=this}matchesWidget(e){return this.dirty==Ts&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}},s6=class extends zd{constructor(e,r,n,i){super(e,[],r,null),this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}},hh=class t extends zd{constructor(e,r,n,i,s){super(e,[],n,i),this.mark=r,this.spec=s}static create(e,r,n,i){let s=i.nodeViews[r.type.name],a=s&&s(r,i,n);return(!a||!a.dom)&&(a=Mi.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new t(e,r,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&eo||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=eo&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=Ts){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=Ts}}slice(e,r,n){let i=t.create(this.parent,this.mark,!0,n),s=this.children,a=this.size;r<a&&(s=c6(s,r,a,n)),e>0&&(s=c6(s,0,e,n));for(let o=0;o<s.length;o++)s[o].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}},vc=class t extends zd{constructor(e,r,n,i,s,a,o,l,c){super(e,[],s,a),this.node=r,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=o}static create(e,r,n,i,s,a){let o=s.nodeViews[r.type.name],l,c=o&&o(r,s,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)},n,i),u=c&&c.dom,d=c&&c.contentDOM;if(r.isText){if(!u)u=document.createTextNode(r.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=Mi.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!d&&!r.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),r.type.spec.draggable&&(u.draggable=!0));let f=u;return u=TX(u,n,r),c?l=new a6(e,r,n,i,u,d||null,f,c,s,a+1):r.isText?new qC(e,r,n,i,u,f,s):new t(e,r,n,i,u,d||null,f,s,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>J.empty)}return e}matchesNode(e,r,n){return this.dirty==Ts&&e.eq(this.node)&&UC(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,i=r,s=e.composing?this.localCompositionInfo(e,r):null,a=s&&s.pos>-1?s:null,o=s&&s.pos<0,l=new l6(this,a&&a.node,e);g3e(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,n,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?Xe.none:this.node.child(u).marks,n,e),l.placeWidget(c,e,i)},(c,u,d,f)=>{l.syncToMarks(c.marks,n,e);let p;l.findNodeMatch(c,u,d,f)||o&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(p=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,u,d,p,e)||l.updateNextNode(c,u,d,e,f,i)||l.addNode(c,u,d,e,i),i+=c.nodeSize}),l.syncToMarks([],n,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==$d)&&(a&&this.protectLocalComposition(e,a),CX(this.contentDOM,this.children,e),ph&&y3e(this.dom))}localCompositionInfo(e,r){let{from:n,to:i}=e.state.selection;if(!(e.state.selection instanceof Fe)||n<r||i>r+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,o=v3e(this.node.content,a,n-r,i-r);return o<0?null:{node:s,pos:o,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:i}){if(this.getDesc(r))return;let s=r;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let a=new s6(this,s,r,i);e.input.compositionNodes.push(a),this.children=c6(this.children,n,n+i.length,e,a)}update(e,r,n,i){return this.dirty==eo||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,i),!0)}updateInner(e,r,n,i){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Ts}updateOuterDeco(e){if(UC(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=EX(this.dom,this.nodeDOM,o6(this.outerDeco,this.node,r),o6(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}};function HY(t,e,r,n,i){TX(n,e,t);let s=new vc(void 0,t,e,r,n,n,n,i,0);return s.contentDOM&&s.updateChildren(i,0),s}var qC=class t extends vc{constructor(e,r,n,i,s,a,o){super(e,r,n,i,s,null,a,o,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,i){return this.dirty==eo||this.dirty!=Ts&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=Ts||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Ts,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let i=this.node.cut(e,r),s=document.createTextNode(i.text);return new t(this.parent,i,this.outerDeco,this.innerDeco,s,s,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=eo)}get domAtom(){return!1}isText(e){return this.node.text==e}},BC=class extends zd{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ts&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}},a6=class extends vc{constructor(e,r,n,i,s,a,o,l,c,u){super(e,r,n,i,s,a,o,c,u),this.spec=l}update(e,r,n,i){if(this.dirty==eo)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,r,n);return s&&this.updateInner(e,r,n,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,i){this.spec.setSelection?this.spec.setSelection(e,r,n.root):super.setSelection(e,r,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}};function CX(t,e,r){let n=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let a=e[s],o=a.dom;if(o.parentNode==t){for(;o!=n;)n=GY(n),i=!0;n=n.nextSibling}else i=!0,t.insertBefore(o,n);if(a instanceof hh){let l=n?n.previousSibling:t.lastChild;CX(a.contentDOM,a.children,r),n=l?l.nextSibling:t.firstChild}}for(;n;)n=GY(n),i=!0;i&&r.trackWrites==t&&(r.trackWrites=null)}var a0=function(t){t&&(this.nodeName=t)};a0.prototype=Object.create(null);var jd=[new a0];function o6(t,e,r){if(t.length==0)return jd;let n=r?jd[0]:new a0,i=[n];for(let s=0;s<t.length;s++){let a=t[s].type.attrs;if(a){a.nodeName&&i.push(n=new a0(a.nodeName));for(let o in a){let l=a[o];l!=null&&(r&&i.length==1&&i.push(n=new a0(e.isInline?"span":"div")),o=="class"?n.class=(n.class?n.class+" ":"")+l:o=="style"?n.style=(n.style?n.style+";":"")+l:o!="nodeName"&&(n[o]=l))}}}return i}function EX(t,e,r,n){if(r==jd&&n==jd)return e;let i=e;for(let s=0;s<n.length;s++){let a=n[s],o=r[s];if(s){let l;o&&o.nodeName==a.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(i),o=jd[0]),i=l}p3e(i,o||jd[0],a)}return i}function p3e(t,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],i=r.class?r.class.split(" ").filter(Boolean):[];for(let s=0;s<n.length;s++)i.indexOf(n[s])==-1&&t.classList.remove(n[s]);for(let s=0;s<i.length;s++)n.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=n.exec(e.style);)t.style.removeProperty(i[1])}r.style&&(t.style.cssText+=r.style)}}function TX(t,e,r){return EX(t,t,jd,o6(e,r,t.nodeType!=1))}function UC(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function GY(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}var l6=class{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=h3e(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n){let i=0,s=this.stack.length>>1,a=Math.min(s,e.length);for(;i<a&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Ts,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let o=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[s])&&!this.isLocked(c.dom)){o=l;break}}if(o>-1)o>this.index&&(this.changed=!0,this.destroyBetween(this.index,o)),this.top=this.top.children[this.index];else{let l=hh.create(this.top,e[s],r,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,r,n,i){let s=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(e,r,n))s=this.top.children.indexOf(a,this.index);else for(let o=this.index,l=Math.min(this.top.children.length,o+5);o<l;o++){let c=this.top.children[o];if(c.matchesNode(e,r,n)&&!this.preMatch.matched.has(c)){s=o;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,r,n,i,s){let a=this.top.children[i];return a.dirty==eo&&a.dom==a.contentDOM&&(a.dirty=$d),a.update(e,r,n,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i}return-1}e=r}}updateNextNode(e,r,n,i,s,a){for(let o=this.index;o<this.top.children.length;o++){let l=this.top.children[o];if(l instanceof vc){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let u=l.dom,d,f=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=eo&&UC(r,l.outerDeco));if(!f&&l.update(e,r,n,i))return this.destroyBetween(this.index,o),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,e,r,n,i,a)))return this.destroyBetween(this.index,o),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=$d,d.updateChildren(i,a+1),d.dirty=Ts),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,i,s,a){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content)||!UC(n,e.outerDeco)||!i.eq(e.innerDeco))return null;let o=vc.create(this.top,r,n,i,s,a);if(o.contentDOM){o.children=e.children,e.children=[];for(let l of o.children)l.parent=o}return e.destroy(),o}addNode(e,r,n,i,s){let a=vc.create(this.top,e,r,n,i,s);a.contentDOM&&a.updateChildren(i,s+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,r,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new VC(this.top,e,r,n);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof hh;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof qC)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Pn||pn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let i=new BC(this.top,[],n,null);r!=this.top?r.children.push(i):r.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}};function h3e(t,e){let r=e,n=r.children.length,i=t.childCount,s=new Map,a=[];e:for(;i>0;){let o;for(;;)if(n){let c=r.children[n-1];if(c instanceof hh)r=c,n=c.children.length;else{o=c,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let l=o.node;if(l){if(l!=t.child(i-1))break;--i,s.set(o,i),a.push(o)}}return{index:i,matched:s,matches:a.reverse()}}function m3e(t,e){return t.type.side-e.type.side}function g3e(t,e,r,n){let i=e.locals(t),s=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);n(u,i,e.forChild(s,u),c),s+=u.nodeSize}return}let a=0,o=[],l=null;for(let c=0;;){let u,d;for(;a<i.length&&i[a].to==s;){let v=i[a++];v.widget&&(u?(d||(d=[u])).push(v):u=v)}if(u)if(d){d.sort(m3e);for(let v=0;v<d.length;v++)r(d[v],c,!!l)}else r(u,c,!!l);let f,p;if(l)p=-1,f=l,l=null;else if(c<t.childCount)p=c,f=t.child(c++);else break;for(let v=0;v<o.length;v++)o[v].to<=s&&o.splice(v--,1);for(;a<i.length&&i[a].from<=s&&i[a].to>s;)o.push(i[a++]);let h=s+f.nodeSize;if(f.isText){let v=h;a<i.length&&i[a].from<v&&(v=i[a].from);for(let y=0;y<o.length;y++)o[y].to<v&&(v=o[y].to);v<h&&(l=f.cut(v-s),f=f.cut(0,v-s),h=v,p=-1)}else for(;a<i.length&&i[a].to<h;)a++;let g=f.isInline&&!f.isLeaf?o.filter(v=>!v.inline):o.slice();n(f,g,e.forChild(s,f),p),s=h}}function y3e(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function v3e(t,e,r,n){for(let i=0,s=0;i<t.childCount&&s<=n;){let a=t.child(i++),o=s;if(s+=a.nodeSize,!a.isText)continue;let l=a.text;for(;i<t.childCount;){let c=t.child(i++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=r){if(s>=n&&l.slice(n-e.length-o,n-o)==e)return n-e.length;let c=o<n?l.lastIndexOf(e,n-o-1):-1;if(c>=0&&c+e.length+o>=r)return o+c;if(r==n&&l.length>=n+e.length-o&&l.slice(n-o,n-o+e.length)==e)return n}}return-1}function c6(t,e,r,n,i){let s=[];for(let a=0,o=0;a<t.length;a++){let l=t[a],c=o,u=o+=l.size;c>=r||u<=e?s.push(l):(c<e&&s.push(l.slice(0,e-c,n)),i&&(s.push(i),i=void 0),u>r&&s.push(l.slice(r-c,l.size,n)))}return s}function w6(t,e=null){let r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;let i=t.docView.nearestDesc(r.focusNode),s=i&&i.size==0,a=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(a<0)return null;let o=n.resolve(a),l,c;if(QC(r)){for(l=a;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&we.isSelectable(d)&&i.parent&&!(d.isInline&&WRe(r.focusNode,r.focusOffset,i.dom))){let f=i.posBefore;c=new we(a==f?o:n.resolve(f))}}else{if(r instanceof t.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let d=a,f=a;for(let p=0;p<r.rangeCount;p++){let h=r.getRangeAt(p);d=Math.min(d,t.docView.posFromDOM(h.startContainer,h.startOffset,1)),f=Math.max(f,t.docView.posFromDOM(h.endContainer,h.endOffset,-1))}if(d<0)return null;[l,a]=f==t.state.selection.anchor?[f,d]:[d,f],o=n.resolve(a)}else l=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(l<0)return null}let u=n.resolve(l);if(!c){let d=e=="pointer"||t.state.selection.head<o.pos&&!s?1:-1;c=x6(t,u,o,d)}return c}function AX(t){return t.editable?t.hasFocus():IX(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function il(t,e=!1){let r=t.state.selection;if(LX(t,r),!!AX(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&pn){let n=t.domSelectionRange(),i=t.domObserver.currentSelection;if(n.anchorNode&&i.anchorNode&&Ud(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)w3e(t);else{let{anchor:n,head:i}=r,s,a;WY&&!(r instanceof Fe)&&(r.$from.parent.inlineContent||(s=KY(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(a=KY(t,r.to))),t.docView.setSelection(n,i,t,e),WY&&(s&&YY(s),a&&YY(a)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&b3e(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}var WY=Pn||pn&&yX<63;function KY(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),i=n<r.childNodes.length?r.childNodes[n]:null,s=n?r.childNodes[n-1]:null;if(Pn&&i&&i.contentEditable=="false")return Q_(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return Q_(i);if(s)return Q_(s)}}function Q_(t){return t.contentEditable="true",Pn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function YY(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function b3e(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),n=r.anchorNode,i=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!AX(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function w3e(t){let e=t.domSelection(),r=document.createRange();if(!e)return;let n=t.cursorWrapper.dom,i=n.nodeName=="IMG";i?r.setStart(n.parentNode,Jr(n)+1):r.setStart(n,0),r.collapse(!0),e.removeAllRanges(),e.addRange(r),!i&&!t.state.selection.visible&&ri&&yc<=11&&(n.disabled=!0,n.disabled=!1)}function LX(t,e){if(e instanceof we){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(XY(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else XY(t)}function XY(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function x6(t,e,r,n){return t.someProp("createSelectionBetween",i=>i(t,e,r))||Fe.between(e,r,n)}function QY(t){return t.editable&&!t.hasFocus()?!1:IX(t)}function IX(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function x3e(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return Ud(e.node,e.offset,r.anchorNode,r.anchorOffset)}function u6(t,e){let{$anchor:r,$head:n}=t.selection,i=e>0?r.max(n):r.min(n),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Ce.findFrom(s,e)}function mc(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function JY(t,e,r){let n=t.state.selection;if(n instanceof Fe)if(r.indexOf("s")>-1){let{$head:i}=n,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let a=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return mc(t,new Fe(n.$anchor,a))}else if(n.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=u6(t.state,e);return i&&i instanceof we?mc(t,i):!1}else if(!(Cs&&r.indexOf("m")>-1)){let i=n.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!s||s.isText)return!1;let o=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(a=t.docView.descAt(o))&&!a.contentDOM?we.isSelectable(s)?mc(t,new we(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):f0?mc(t,new Fe(t.state.doc.resolve(e<0?o:o+s.nodeSize))):!1:!1}}else return!1;else{if(n instanceof we&&n.node.isInline)return mc(t,new Fe(e>0?n.$to:n.$from));{let i=u6(t.state,e);return i?mc(t,i):!1}}}function zC(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function o0(t,e){let r=t.pmViewDesc;return r&&r.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function ch(t,e){return e<0?S3e(t):k3e(t)}function S3e(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i,s,a=!1;for(ma&&r.nodeType==1&&n<zC(r)&&o0(r.childNodes[n],-1)&&(a=!0);;)if(n>0){if(r.nodeType!=1)break;{let o=r.childNodes[n-1];if(o0(o,-1))i=r,s=--n;else if(o.nodeType==3)r=o,n=r.nodeValue.length;else break}}else{if(RX(r))break;{let o=r.previousSibling;for(;o&&o0(o,-1);)i=r.parentNode,s=Jr(o),o=o.previousSibling;if(o)r=o,n=zC(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}a?d6(t,r,n):i&&d6(t,i,s)}function k3e(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i=zC(r),s,a;for(;;)if(n<i){if(r.nodeType!=1)break;let o=r.childNodes[n];if(o0(o,1))s=r,a=++n;else break}else{if(RX(r))break;{let o=r.nextSibling;for(;o&&o0(o,1);)s=o.parentNode,a=Jr(o)+1,o=o.nextSibling;if(o)r=o,n=0,i=zC(r);else{if(r=r.parentNode,r==t.dom)break;n=i=0}}}s&&d6(t,s,a)}function RX(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function C3e(t,e){for(;t&&e==t.childNodes.length&&!d0(t);)e=Jr(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let r=t.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=0}}function E3e(t,e){for(;t&&!e&&!d0(t);)e=Jr(t),t=t.parentNode;for(;t&&e;){let r=t.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=t.childNodes.length}}function d6(t,e,r){if(e.nodeType!=3){let s,a;(a=C3e(e,r))?(e=a,r=0):(s=E3e(e,r))&&(e=s,r=s.nodeValue.length)}let n=t.domSelection();if(!n)return;if(QC(n)){let s=document.createRange();s.setEnd(e,r),s.setStart(e,r),n.removeAllRanges(),n.addRange(s)}else n.extend&&n.extend(e,r);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&il(t)},50)}function ZY(t,e){let r=t.state.doc.resolve(e);if(!(pn||XRe)&&r.parent.inlineContent){let i=t.coordsAtPos(e);if(e>r.start()){let s=t.coordsAtPos(e-1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<r.end()){let s=t.coordsAtPos(e+1),a=(s.top+s.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function eX(t,e,r){let n=t.state.selection;if(n instanceof Fe&&!n.empty||r.indexOf("s")>-1||Cs&&r.indexOf("m")>-1)return!1;let{$from:i,$to:s}=n;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=u6(t.state,e);if(a&&a instanceof we)return mc(t,a)}if(!i.parent.inlineContent){let a=e<0?i:s,o=n instanceof dn?Ce.near(a,e):Ce.findFrom(a,e);return o?mc(t,o):!1}return!1}function tX(t,e){if(!(t.state.selection instanceof Fe))return!0;let{$head:r,$anchor:n,empty:i}=t.state.selection;if(!r.sameParent(n))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(s&&!s.isText){let a=t.state.tr;return e<0?a.delete(r.pos-s.nodeSize,r.pos):a.delete(r.pos,r.pos+s.nodeSize),t.dispatch(a),!0}return!1}function rX(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function T3e(t){if(!Pn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;rX(t,n,"true"),setTimeout(()=>rX(t,n,"false"),20)}return!1}function A3e(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function L3e(t,e){let r=e.keyCode,n=A3e(e);if(r==8||Cs&&r==72&&n=="c")return tX(t,-1)||ch(t,-1);if(r==46&&!e.shiftKey||Cs&&r==68&&n=="c")return tX(t,1)||ch(t,1);if(r==13||r==27)return!0;if(r==37||Cs&&r==66&&n=="c"){let i=r==37?ZY(t,t.state.selection.from)=="ltr"?-1:1:-1;return JY(t,i,n)||ch(t,i)}else if(r==39||Cs&&r==70&&n=="c"){let i=r==39?ZY(t,t.state.selection.from)=="ltr"?1:-1:1;return JY(t,i,n)||ch(t,i)}else{if(r==38||Cs&&r==80&&n=="c")return eX(t,-1,n)||ch(t,-1);if(r==40||Cs&&r==78&&n=="c")return T3e(t)||eX(t,1,n)||ch(t,1);if(n==(Cs?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function S6(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let r=[],{content:n,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&n.childCount==1&&n.firstChild.childCount==1;){i--,s--;let p=n.firstChild;r.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),n=p.content}let a=t.someProp("clipboardSerializer")||Mi.fromSchema(t.state.schema),o=NX(),l=o.createElement("div");l.appendChild(a.serializeFragment(n,{document:o}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=DX[c.nodeName.toLowerCase()]);){for(let p=u.length-1;p>=0;p--){let h=o.createElement(u[p]);for(;l.firstChild;)h.appendChild(l.firstChild);l.appendChild(h),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${s}${d?` -${d}`:""} ${JSON.stringify(r)}`);let f=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f,slice:e}}function MX(t,e,r,n,i){let s=i.parent.type.spec.code,a,o;if(!r&&!e)return null;let l=e&&(n||s||!r);if(l){if(t.someProp("transformPastedText",f=>{e=f(e,s||n,t)}),s)return e?new ee(J.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):ee.empty;let d=t.someProp("clipboardTextParser",f=>f(e,i,n,t));if(d)o=d;else{let f=i.marks(),{schema:p}=t.state,h=Mi.fromSchema(p);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let v=a.appendChild(document.createElement("p"));g&&v.appendChild(h.serializeNode(p.text(g,f)))})}}else t.someProp("transformPastedHTML",d=>{r=d(r,t)}),a=P3e(r),f0&&O3e(a);let c=a&&a.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=a.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;a=f}if(o||(o=(t.someProp("clipboardParser")||t.someProp("domParser")||_d.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!I3e.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)o=_3e(nX(o,+u[1],+u[2]),u[4]);else if(o=ee.maxOpen(R3e(o.content,i),!0),o.openStart||o.openEnd){let d=0,f=0;for(let p=o.content.firstChild;d<o.openStart&&!p.type.spec.isolating;d++,p=p.firstChild);for(let p=o.content.lastChild;f<o.openEnd&&!p.type.spec.isolating;f++,p=p.lastChild);o=nX(o,d,f)}return t.someProp("transformPasted",d=>{o=d(o,t)}),o}var I3e=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function R3e(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let i=e.node(r).contentMatchAt(e.index(r)),s,a=[];if(t.forEach(o=>{if(!a)return;let l=i.findWrapping(o.type),c;if(!l)return a=null;if(c=a.length&&s.length&&OX(l,s,o,a[a.length-1],0))a[a.length-1]=c;else{a.length&&(a[a.length-1]=_X(a[a.length-1],s.length));let u=PX(o,l);a.push(u),i=i.matchType(u.type),s=l}}),a)return J.from(a)}return t}function PX(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,J.from(t));return t}function OX(t,e,r,n,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=OX(t,e,r,n.lastChild,i+1);if(s)return n.copy(n.content.replaceChild(n.childCount-1,s));if(n.contentMatchAt(n.childCount).matchType(i==t.length-1?r.type:t[i+1]))return n.copy(n.content.append(J.from(PX(r,t,i+1))))}}function _X(t,e){if(e==0)return t;let r=t.content.replaceChild(t.childCount-1,_X(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(J.empty,!0);return t.copy(r.append(n))}function f6(t,e,r,n,i,s){let a=e<0?t.firstChild:t.lastChild,o=a.content;return t.childCount>1&&(s=0),i<n-1&&(o=f6(o,e,r,n,i+1,s)),i>=r&&(o=e<0?a.contentMatchAt(0).fillBefore(o,s<=i).append(o):o.append(a.contentMatchAt(a.childCount).fillBefore(J.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(o))}function nX(t,e,r){return e<t.openStart&&(t=new ee(f6(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new ee(f6(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}var DX={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},iX=null;function NX(){return iX||(iX=document.implementation.createHTMLDocument("title"))}var J_=null;function M3e(t){let e=window.trustedTypes;return e?(J_||(J_=e.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),J_.createHTML(t)):t}function P3e(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r=NX().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),i;if((i=n&&DX[n[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),r.innerHTML=M3e(t),i)for(let s=0;s<i.length;s++)r=r.querySelector(i[s])||r;return r}function O3e(t){let e=t.querySelectorAll(pn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent=="\xA0"&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}function _3e(t,e){if(!t.size)return t;let r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:a}=t;for(let o=n.length-2;o>=0;o-=2){let l=r.nodes[n[o]];if(!l||l.hasRequiredAttrs())break;i=J.from(l.create(n[o+1],i)),s++,a++}return new ee(i,s,a)}var On={},_n={},D3e={touchstart:!0,touchmove:!0},p6=class{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}};function N3e(t){for(let e in On){let r=On[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=n=>{$3e(t,n)&&!k6(t,n)&&(t.editable||!(n.type in _n))&&r(t,n)},D3e[e]?{passive:!0}:void 0)}Pn&&t.dom.addEventListener("input",()=>null),h6(t)}function gc(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function F3e(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function h6(t){t.someProp("handleDOMEvents",e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>k6(t,n))})}function k6(t,e){return t.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}function $3e(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function j3e(t,e){!k6(t,e)&&On[e.type]&&(t.editable||!(e.type in _n))&&On[e.type](t,e)}_n.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!$X(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(nl&&pn&&r.keyCode==13)))if(r.keyCode!=229&&t.domObserver.forceFlush(),ph&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",i=>i(t,Fd(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",n=>n(t,r))||L3e(t,r)?r.preventDefault():gc(t,"key")};_n.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};_n.keypress=(t,e)=>{let r=e;if($X(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||Cs&&r.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,r))){r.preventDefault();return}let n=t.state.selection;if(!(n instanceof Fe)||!n.$from.sameParent(n.$to)){let i=String.fromCharCode(r.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",s=>s(t,n.$from.pos,n.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),r.preventDefault()}};function JC(t){return{left:t.clientX,top:t.clientY}}function V3e(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}function C6(t,e,r,n,i){if(n==-1)return!1;let s=t.state.doc.resolve(n);for(let a=s.depth+1;a>0;a--)if(t.someProp(e,o=>a>s.depth?o(t,r,s.nodeAfter,s.before(a),i,!0):o(t,r,s.node(a),s.before(a),i,!1)))return!0;return!1}function dh(t,e,r){if(t.focused||t.focus(),t.state.selection.eq(e))return;let n=t.state.tr.setSelection(e);r=="pointer"&&n.setMeta("pointer",!0),t.dispatch(n)}function q3e(t,e){if(e==-1)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&we.isSelectable(n)?(dh(t,new we(r),"pointer"),!0):!1}function B3e(t,e){if(e==-1)return!1;let r=t.state.selection,n,i;r instanceof we&&(n=r.node);let s=t.state.doc.resolve(e);for(let a=s.depth+1;a>0;a--){let o=a>s.depth?s.nodeAfter:s.node(a);if(we.isSelectable(o)){n&&r.$from.depth>0&&a>=r.$from.depth&&s.before(r.$from.depth+1)==r.$from.pos?i=s.before(r.$from.depth):i=s.before(a);break}}return i!=null?(dh(t,we.create(t.state.doc,i),"pointer"),!0):!1}function U3e(t,e,r,n,i){return C6(t,"handleClickOn",e,r,n)||t.someProp("handleClick",s=>s(t,e,n))||(i?B3e(t,r):q3e(t,r))}function z3e(t,e,r,n){return C6(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",i=>i(t,e,n))}function H3e(t,e,r,n){return C6(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",i=>i(t,e,n))||G3e(t,r,n)}function G3e(t,e,r){if(r.button!=0)return!1;let n=t.state.doc;if(e==-1)return n.inlineContent?(dh(t,Fe.create(n,0,n.content.size),"pointer"),!0):!1;let i=n.resolve(e);for(let s=i.depth+1;s>0;s--){let a=s>i.depth?i.nodeAfter:i.node(s),o=i.before(s);if(a.inlineContent)dh(t,Fe.create(n,o+1,o+1+a.content.size),"pointer");else if(we.isSelectable(a))dh(t,we.create(n,o),"pointer");else continue;return!0}}function E6(t){return HC(t)}var FX=Cs?"metaKey":"ctrlKey";On.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=E6(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&V3e(r,t.input.lastClick)&&!r[FX]&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:r.clientX,y:r.clientY,type:s};let a=t.posAtCoords(JC(r));a&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new m6(t,a,r,!!n)):(s=="doubleClick"?z3e:H3e)(t,a.pos,a.inside,r)?r.preventDefault():gc(t,"pointer"))};var m6=class{constructor(e,r,n,i){this.view=e,this.pos=r,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[FX],this.allowDefault=n.shiftKey;let s,a;if(r.inside>-1)s=e.state.doc.nodeAt(r.inside),a=r.inside;else{let u=e.state.doc.resolve(r.pos);s=u.parent,a=u.depth?u.before():0}let o=i?null:n.target,l=o?e.docView.nearestDesc(o,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(n.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof we&&c.from<=a&&c.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ma&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),gc(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>il(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(JC(e))),this.updateAllowDefault(e),this.allowDefault||!r?gc(this.view,"pointer"):U3e(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Pn&&this.mightDrag&&!this.mightDrag.node.isAtom||pn&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(dh(this.view,Ce.near(this.view.state.doc.resolve(r.pos)),"pointer"),e.preventDefault()):gc(this.view,"pointer")}move(e){this.updateAllowDefault(e),gc(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}};On.touchstart=t=>{t.input.lastTouch=Date.now(),E6(t),gc(t,"pointer")};On.touchmove=t=>{t.input.lastTouch=Date.now(),gc(t,"pointer")};On.contextmenu=t=>E6(t);function $X(t,e){return t.composing?!0:Pn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}var W3e=nl?5e3:-1;_n.compositionstart=_n.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$to;if(e.selection instanceof Fe&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||r.marks(),HC(t,!0),t.markCursor=null;else if(HC(t,!e.selection.empty),ma&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=t.domSelectionRange();for(let i=n.focusNode,s=n.focusOffset;i&&i.nodeType==1&&s!=0;){let a=s<0?i.lastChild:i.childNodes[s-1];if(!a)break;if(a.nodeType==3){let o=t.domSelection();o&&o.collapse(a,a.nodeValue.length);break}else i=a,s=-1}}t.input.composing=!0}jX(t,W3e)};_n.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,jX(t,20))};function jX(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>HC(t),e))}function VX(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Y3e());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function K3e(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let r=HRe(e.focusNode,e.focusOffset),n=GRe(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let i=n.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(r==s||n==s)return s;if(!i||!i.isText(n.nodeValue))return n;if(t.input.compositionNode==n){let a=r.pmViewDesc;if(!(!a||!a.isText(r.nodeValue)))return n}}return r||n}function Y3e(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function HC(t,e=!1){if(!(nl&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),VX(t),e||t.docView&&t.docView.dirty){let r=w6(t);return r&&!r.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(r)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function X3e(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}var l0=ri&&yc<15||ph&&QRe<604;On.copy=_n.cut=(t,e)=>{let r=e,n=t.state.selection,i=r.type=="cut";if(n.empty)return;let s=l0?null:r.clipboardData,a=n.content(),{dom:o,text:l}=S6(t,a);s?(r.preventDefault(),s.clearData(),s.setData("text/html",o.innerHTML),s.setData("text/plain",l)):X3e(t,o),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Q3e(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function J3e(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?c0(t,n.value,null,i,e):c0(t,n.textContent,n.innerHTML,i,e)},50)}function c0(t,e,r,n,i){let s=MX(t,e,r,n,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,s||ee.empty)))return!0;if(!s)return!1;let a=Q3e(s),o=a?t.state.tr.replaceSelectionWith(a,n):t.state.tr.replaceSelection(s);return t.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function qX(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}_n.paste=(t,e)=>{let r=e;if(t.composing&&!nl)return;let n=l0?null:r.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;n&&c0(t,qX(n),n.getData("text/html"),i,r)?r.preventDefault():J3e(t,r)};var GC=class{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}},BX=Cs?"altKey":"ctrlKey";On.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(JC(r)),a;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof we?i.to-1:i.to))){if(n&&n.mightDrag)a=we.create(t.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let d=t.docView.nearestDesc(r.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(a=we.create(t.state.doc,d.posBefore))}}let o=(a||t.state.selection).content(),{dom:l,text:c,slice:u}=S6(t,o);(!r.dataTransfer.files.length||!pn||yX>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(l0?"Text":"text/html",l.innerHTML),r.dataTransfer.effectAllowed="copyMove",l0||r.dataTransfer.setData("text/plain",c),t.dragging=new GC(u,!r[BX],a)};On.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};_n.dragover=_n.dragenter=(t,e)=>e.preventDefault();_n.drop=(t,e)=>{let r=e,n=t.dragging;if(t.dragging=null,!r.dataTransfer)return;let i=t.posAtCoords(JC(r));if(!i)return;let s=t.state.doc.resolve(i.pos),a=n&&n.slice;a?t.someProp("transformPasted",h=>{a=h(a,t)}):a=MX(t,qX(r.dataTransfer),l0?null:r.dataTransfer.getData("text/html"),!1,s);let o=!!(n&&!r[BX]);if(t.someProp("handleDrop",h=>h(t,r,a||ee.empty,o))){r.preventDefault();return}if(!a)return;r.preventDefault();let l=a?FC(t.state.doc,s.pos,a):s.pos;l==null&&(l=s.pos);let c=t.state.tr;if(o){let{node:h}=n;h?h.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,f=c.doc;if(d?c.replaceRangeWith(u,u,a.content.firstChild):c.replaceRange(u,u,a),c.doc.eq(f))return;let p=c.doc.resolve(u);if(d&&we.isSelectable(a.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(a.content.firstChild))c.setSelection(new we(p));else{let h=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((g,v,y,b)=>h=b),c.setSelection(x6(t,p,c.doc.resolve(h)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};On.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&il(t)},20))};On.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};On.beforeinput=(t,e)=>{if(pn&&nl&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Fd(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in _n)On[t]=_n[t];function u0(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}var WC=class t{constructor(e,r){this.toDOM=e,this.spec=r||qd,this.side=this.spec.side||0}map(e,r,n,i){let{pos:s,deleted:a}=e.mapResult(r.from+i,this.side<0?-1:1);return a?null:new kr(s-n,s-n,this)}valid(){return!0}eq(e){return this==e||e instanceof t&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&u0(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}},Vd=class t{constructor(e,r){this.attrs=e,this.spec=r||qd}map(e,r,n,i){let s=e.map(r.from+i,this.spec.inclusiveStart?-1:1)-n,a=e.map(r.to+i,this.spec.inclusiveEnd?1:-1)-n;return s>=a?null:new kr(s,a,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof t&&u0(this.attrs,e.attrs)&&u0(this.spec,e.spec)}static is(e){return e.type instanceof t}destroy(){}},g6=class t{constructor(e,r){this.attrs=e,this.spec=r||qd}map(e,r,n,i){let s=e.mapResult(r.from+i,1);if(s.deleted)return null;let a=e.mapResult(r.to+i,-1);return a.deleted||a.pos<=s.pos?null:new kr(s.pos-n,a.pos-n,this)}valid(e,r){let{index:n,offset:i}=e.content.findIndex(r.from),s;return i==r.from&&!(s=e.child(n)).isText&&i+s.nodeSize==r.to}eq(e){return this==e||e instanceof t&&u0(this.attrs,e.attrs)&&u0(this.spec,e.spec)}destroy(){}},kr=class t{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new t(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new t(e,e,new WC(r,n))}static inline(e,r,n,i){return new t(e,r,new Vd(n,i))}static node(e,r,n,i){return new t(e,r,new g6(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Vd}get widget(){return this.type instanceof WC}},uh=[],qd={},Zt=class t{constructor(e,r){this.local=e.length?e:uh,this.children=r.length?r:uh}static create(e,r){return r.length?YC(r,e,0,qd):fn}find(e,r,n){let i=[];return this.findInner(e??0,r??1e9,i,0,n),i}findInner(e,r,n,i,s){for(let a=0;a<this.local.length;a++){let o=this.local[a];o.from<=r&&o.to>=e&&(!s||s(o.spec))&&n.push(o.copy(o.from+i,o.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<r&&this.children[a+1]>e){let o=this.children[a]+1;this.children[a+2].findInner(e-o,r-o,n,i+o,s)}}map(e,r,n){return this==fn||e.maps.length==0?this:this.mapInner(e,r,0,0,n||qd)}mapInner(e,r,n,i,s){let a;for(let o=0;o<this.local.length;o++){let l=this.local[o].map(e,n,i);l&&l.type.valid(r,l)?(a||(a=[])).push(l):s.onRemove&&s.onRemove(this.local[o].spec)}return this.children.length?Z3e(this.children,a||[],e,r,n,i,s):a?new t(a.sort(Bd),uh):fn}add(e,r){return r.length?this==fn?t.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let i,s=0;e.forEach((o,l)=>{let c=l+n,u;if(u=zX(r,o,c)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(o,u,c+1):i.splice(s,0,l,l+o.nodeSize,YC(u,o,c+1,qd)),s+=3}});let a=UX(s?HX(r):r,-n);for(let o=0;o<a.length;o++)a[o].type.valid(e,a[o])||a.splice(o--,1);return new t(a.length?this.local.concat(a).sort(Bd):this.local,i||this.children)}remove(e){return e.length==0||this==fn?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,i=this.local;for(let s=0;s<n.length;s+=3){let a,o=n[s]+r,l=n[s+1]+r;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>o&&d.to<l&&(e[u]=null,(a||(a=[])).push(d));if(!a)continue;n==this.children&&(n=this.children.slice());let c=n[s+2].removeInner(a,o+1);c!=fn?n[s+2]=c:(n.splice(s,3),s-=3)}if(i.length){for(let s=0,a;s<e.length;s++)if(a=e[s])for(let o=0;o<i.length;o++)i[o].eq(a,r)&&(i==this.local&&(i=this.local.slice()),i.splice(o--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new t(i,n):fn}forChild(e,r){if(this==fn)return this;if(r.isLeaf)return t.empty;let n,i;for(let o=0;o<this.children.length;o+=3)if(this.children[o]>=e){this.children[o]==e&&(n=this.children[o+2]);break}let s=e+1,a=s+r.content.size;for(let o=0;o<this.local.length;o++){let l=this.local[o];if(l.from<a&&l.to>s&&l.type instanceof Vd){let c=Math.max(s,l.from)-s,u=Math.min(a,l.to)-s;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let o=new t(i.sort(Bd),uh);return n?new KC([o,n]):o}return n||fn}eq(e){if(this==e)return!0;if(!(e instanceof t)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return T6(this.localsInner(e))}localsInner(e){if(this==fn)return uh;if(e.inlineContent||!this.local.some(Vd.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Vd||r.push(this.local[n]);return r}forEachSet(e){e(this)}};Zt.empty=new Zt([],[]);Zt.removeOverlap=T6;var fn=Zt.empty,KC=class t{constructor(e){this.members=e}map(e,r){let n=this.members.map(i=>i.map(e,r,qd));return t.from(n)}forChild(e,r){if(r.isLeaf)return Zt.empty;let n=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,r);s!=fn&&(s instanceof t?n=n.concat(s.members):n.push(s))}return t.from(n)}eq(e){if(!(e instanceof t)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!r)r=s;else{n&&(r=r.slice(),n=!1);for(let a=0;a<s.length;a++)r.push(s[a])}}return r?T6(n?r:r.sort(Bd)):uh}static from(e){switch(e.length){case 0:return fn;case 1:return e[0];default:return new t(e.every(r=>r instanceof Zt)?e:e.reduce((r,n)=>r.concat(n instanceof Zt?n:n.members),[]))}}forEachSet(e){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(e)}};function Z3e(t,e,r,n,i,s,a){let o=t.slice();for(let c=0,u=s;c<r.maps.length;c++){let d=0;r.maps[c].forEach((f,p,h,g)=>{let v=g-h-(p-f);for(let y=0;y<o.length;y+=3){let b=o[y+1];if(b<0||f>b+u-d)continue;let w=o[y]+u-d;p>=w?o[y+1]=f<=w?-2:-1:f>=u&&v&&(o[y]+=v,o[y+1]+=v)}d+=v}),u=r.maps[c].map(u,-1)}let l=!1;for(let c=0;c<o.length;c+=3)if(o[c+1]<0){if(o[c+1]==-2){l=!0,o[c+1]=-1;continue}let u=r.map(t[c]+s),d=u-i;if(d<0||d>=n.content.size){l=!0;continue}let f=r.map(t[c+1]+s,-1),p=f-i,{index:h,offset:g}=n.content.findIndex(d),v=n.maybeChild(h);if(v&&g==d&&g+v.nodeSize==p){let y=o[c+2].mapInner(r,v,u+1,t[c]+s+1,a);y!=fn?(o[c]=d,o[c+1]=p,o[c+2]=y):(o[c+1]=-2,l=!0)}else l=!0}if(l){let c=eMe(o,t,e,r,i,s,a),u=YC(c,n,0,a);e=u.local;for(let d=0;d<o.length;d+=3)o[d+1]<0&&(o.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let p=u.children[d];for(;f<o.length&&o[f]<p;)f+=3;o.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new Zt(e.sort(Bd),o)}function UX(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let i=t[n];r.push(new kr(i.from+e,i.to+e,i.type))}return r}function eMe(t,e,r,n,i,s,a){function o(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(n,i,c);d?r.push(d):a.onRemove&&a.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)o(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&o(t[l+2],e[l]+s+1);return r}function zX(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,i=null;for(let s=0,a;s<t.length;s++)(a=t[s])&&a.from>r&&a.to<n&&((i||(i=[])).push(a),t[s]=null);return i}function HX(t){let e=[];for(let r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}function YC(t,e,r,n){let i=[],s=!1;e.forEach((o,l)=>{let c=zX(t,o,l+r);if(c){s=!0;let u=YC(c,o,r+l+1,n);u!=fn&&i.push(l,l+o.nodeSize,u)}});let a=UX(s?HX(t):t,-r).sort(Bd);for(let o=0;o<a.length;o++)a[o].type.valid(e,a[o])||(n.onRemove&&n.onRemove(a[o].spec),a.splice(o--,1));return a.length||i.length?new Zt(a,i):fn}function Bd(t,e){return t.from-e.from||t.to-e.to}function T6(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let i=r+1;i<e.length;i++){let s=e[i];if(s.from==n.from){s.to!=n.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,n.to),sX(e,i+1,s.copy(n.to,s.to)));continue}else{s.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,s.from),sX(e,i,n.copy(s.from,n.to)));break}}}return e}function sX(t,e,r){for(;e<t.length&&Bd(r,t[e])>0;)e++;t.splice(e,0,r)}function Z_(t){let e=[];return t.someProp("decorations",r=>{let n=r(t.state);n&&n!=fn&&e.push(n)}),t.cursorWrapper&&e.push(Zt.create(t.state.doc,[t.cursorWrapper.deco])),KC.from(e)}var tMe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},rMe=ri&&yc<=11,y6=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}},v6=class{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new y6,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let i=0;i<n.length;i++)this.queue.push(n[i]);ri&&yc<=11&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),rMe&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,tMe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(QY(this.view)){if(this.suppressingSelectionUpdates)return il(this.view);if(ri&&yc<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ud(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let s=e.focusNode;s;s=fh(s))r.add(s);for(let s=e.anchorNode;s;s=fh(s))if(r.has(s)){n=s;break}let i=n&&this.view.docView.nearestDesc(n);if(i&&i.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&QY(e)&&!this.ignoreSelectionChange(n),s=-1,a=-1,o=!1,l=[];if(e.editable)for(let u=0;u<r.length;u++){let d=this.registerMutation(r[u],l);d&&(s=s<0?d.from:Math.min(d.from,s),a=a<0?d.to:Math.max(d.to,a),d.typeOver&&(o=!0))}if(ma&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,f]=u;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of u){let p=f.parentNode;p&&p.nodeName=="LI"&&(!d||sMe(e,d)!=p)&&f.remove()}}}let c=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&QC(n)&&(c=w6(e))&&c.eq(Ce.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,il(e),this.currentSelection.set(n),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,a),nMe(e)),this.handleDOMChange(s,a,o,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||il(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];r.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let i=e.previousSibling,s=e.nextSibling;if(ri&&yc<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(s=f)}let a=i&&i.parentNode==e.target?Jr(i)+1:0,o=n.localPosFromDOM(e.target,a,-1),l=s&&s.parentNode==e.target?Jr(s):e.target.childNodes.length,c=n.localPosFromDOM(e.target,l,1);return{from:o,to:c}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}},aX=new WeakMap,oX=!1;function nMe(t){if(!aX.has(t)&&(aX.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=ma,oX)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),oX=!0}}function lX(t,e){let r=e.startContainer,n=e.startOffset,i=e.endContainer,s=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return Ud(a.node,a.offset,i,s)&&([r,n,i,s]=[i,s,r,n]),{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:s}}function iMe(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return lX(t,i)}let r;function n(i){i.preventDefault(),i.stopImmediatePropagation(),r=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0),r?lX(t,r):null}function sMe(t,e){for(let r=e.parentNode;r&&r!=t.dom;r=r.parentNode){let n=t.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function aMe(t,e,r){let{node:n,fromOffset:i,toOffset:s,from:a,to:o}=t.docView.parseRange(e,r),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],QC(l)||c.push({node:l.focusNode,offset:l.focusOffset})),pn&&t.input.lastKeyCode===8)for(let v=s;v>i;v--){let y=n.childNodes[v-1],b=y.pmViewDesc;if(y.nodeName=="BR"&&!b){s=v;break}if(!b||b.size)break}let d=t.state.doc,f=t.someProp("domParser")||_d.fromSchema(t.state.schema),p=d.resolve(a),h=null,g=f.parse(n,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:s,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:oMe,context:p});if(c&&c[0].pos!=null){let v=c[0].pos,y=c[1]&&c[1].pos;y==null&&(y=v),h={anchor:v+a,head:y+a}}return{doc:g,sel:h,from:a,to:o}}function oMe(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Pn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||Pn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}var lMe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function cMe(t,e,r,n,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let E=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,I=w6(t,E);if(I&&!t.state.selection.eq(I)){if(pn&&nl&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",T=>T(t,Fd(13,"Enter"))))return;let R=t.state.tr.setSelection(I);E=="pointer"?R.setMeta("pointer",!0):E=="key"&&R.scrollIntoView(),s&&R.setMeta("composition",s),t.dispatch(R)}return}let a=t.state.doc.resolve(e),o=a.sharedDepth(r);e=a.before(o+1),r=t.state.doc.resolve(r).after(o+1);let l=t.state.selection,c=aMe(t,e,r),u=t.state.doc,d=u.slice(c.from,c.to),f,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,p="end"):(f=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let h=fMe(d.content,c.doc.content,c.from,f,p);if(h&&t.input.domChangeCount++,(ph&&t.input.lastIOSEnter>Date.now()-225||nl)&&i.some(E=>E.nodeType==1&&!lMe.test(E.nodeName))&&(!h||h.endA>=h.endB)&&t.someProp("handleKeyDown",E=>E(t,Fd(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!h)if(n&&l instanceof Fe&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))h={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let E=cX(t,t.state.doc,c.sel);if(E&&!E.eq(t.state.selection)){let I=t.state.tr.setSelection(E);s&&I.setMeta("composition",s),t.dispatch(I)}}return}t.state.selection.from<t.state.selection.to&&h.start==h.endB&&t.state.selection instanceof Fe&&(h.start>t.state.selection.from&&h.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?h.start=t.state.selection.from:h.endA<t.state.selection.to&&h.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(h.endB+=t.state.selection.to-h.endA,h.endA=t.state.selection.to)),ri&&yc<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>c.from&&c.doc.textBetween(h.start-c.from-1,h.start-c.from+1)==" \xA0"&&(h.start--,h.endA--,h.endB--);let g=c.doc.resolveNoCache(h.start-c.from),v=c.doc.resolveNoCache(h.endB-c.from),y=u.resolve(h.start),b=g.sameParent(v)&&g.parent.inlineContent&&y.end()>=h.endA,w;if((ph&&t.input.lastIOSEnter>Date.now()-225&&(!b||i.some(E=>E.nodeName=="DIV"||E.nodeName=="P"))||!b&&g.pos<c.doc.content.size&&!g.sameParent(v)&&(w=Ce.findFrom(c.doc.resolve(g.pos+1),1,!0))&&w.head==v.pos)&&t.someProp("handleKeyDown",E=>E(t,Fd(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>h.start&&dMe(u,h.start,h.endA,g,v)&&t.someProp("handleKeyDown",E=>E(t,Fd(8,"Backspace")))){nl&&pn&&t.domObserver.suppressSelectionUpdates();return}pn&&h.endB==h.start&&(t.input.lastChromeDelete=Date.now()),nl&&!b&&g.start()!=v.start()&&v.parentOffset==0&&g.depth==v.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==h.endA&&(h.endB-=2,v=c.doc.resolveNoCache(h.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(E){return E(t,Fd(13,"Enter"))})},20));let x=h.start,A=h.endA,O,S,k;if(b){if(g.pos==v.pos)ri&&yc<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>il(t),20)),O=t.state.tr.delete(x,A),S=u.resolve(h.start).marksAcross(u.resolve(h.endA));else if(h.endA==h.endB&&(k=uMe(g.parent.content.cut(g.parentOffset,v.parentOffset),y.parent.content.cut(y.parentOffset,h.endA-y.start()))))O=t.state.tr,k.type=="add"?O.addMark(x,A,k.mark):O.removeMark(x,A,k.mark);else if(g.parent.child(g.index()).isText&&g.index()==v.index()-(v.textOffset?0:1)){let E=g.parent.textBetween(g.parentOffset,v.parentOffset);if(t.someProp("handleTextInput",I=>I(t,x,A,E)))return;O=t.state.tr.insertText(E,x,A)}}if(O||(O=t.state.tr.replace(x,A,c.doc.slice(h.start-c.from,h.endB-c.from))),c.sel){let E=cX(t,O.doc,c.sel);E&&!(pn&&t.composing&&E.empty&&(h.start!=h.endB||t.input.lastChromeDelete<Date.now()-100)&&(E.head==x||E.head==O.mapping.map(A)-1)||ri&&E.empty&&E.head==x)&&O.setSelection(E)}S&&O.ensureMarks(S),s&&O.setMeta("composition",s),t.dispatch(O.scrollIntoView())}function cX(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:x6(t,e.resolve(r.anchor),e.resolve(r.head))}function uMe(t,e){let r=t.firstChild.marks,n=e.firstChild.marks,i=r,s=n,a,o,l;for(let u=0;u<n.length;u++)i=n[u].removeFromSet(i);for(let u=0;u<r.length;u++)s=r[u].removeFromSet(s);if(i.length==1&&s.length==0)o=i[0],a="add",l=u=>u.mark(o.addToSet(u.marks));else if(i.length==0&&s.length==1)o=s[0],a="remove",l=u=>u.mark(o.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(J.from(c).eq(t))return{mark:o,type:a}}function dMe(t,e,r,n,i){if(r-e<=i.pos-n.pos||e6(n,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!n.parent.isTextblock){let o=s.nodeAfter;return o!=null&&r==e+o.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let a=t.resolve(e6(s,!0,!0));return!a.parent.isTextblock||a.pos>r||e6(a,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(a.parent.content)}function e6(t,e,r){let n=t.depth,i=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,i++,e=!1;if(r){let s=t.node(n).maybeChild(t.indexAfter(n));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function fMe(t,e,r,n,i){let s=t.findDiffStart(e,r);if(s==null)return null;let{a,b:o}=t.findDiffEnd(e,r+t.size,r+e.size);if(i=="end"){let l=Math.max(0,s-Math.min(a,o));n-=a+l-s}if(a<s&&t.size<e.size){let l=n<=s&&n>=a?s-n:0;s-=l,s&&s<e.size&&uX(e.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}else if(o<s){let l=n<=s&&n>=o?s-n:0;s-=l,s&&s<t.size&&uX(t.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}return{start:s,endA:a,endB:o}}function uX(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),r=t.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}var XC=class{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new p6,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(mX),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=pX(this),fX(this),this.nodeViews=hX(this),this.docView=HY(this.state.doc,dX(this),Z_(this),this.dom,this),this.domObserver=new v6(this,(n,i,s,a)=>cMe(this,n,i,s,a)),this.domObserver.start(),N3e(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&h6(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(mX),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let i=this.state,s=!1,a=!1;e.storedMarks&&this.composing&&(VX(this),a=!0),this.state=e;let o=i.plugins!=e.plugins||this._props.plugins!=r.plugins;if(o||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let p=hX(this);hMe(p,this.nodeViews)&&(this.nodeViews=p,s=!0)}(o||r.handleDOMEvents!=this._props.handleDOMEvents)&&h6(this),this.editable=pX(this),fX(this);let l=Z_(this),c=dX(this),u=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(i.selection))&&(a=!0);let f=u=="preserve"&&a&&this.dom.style.overflowAnchor==null&&e3e(this);if(a){this.domObserver.stop();let p=d&&(ri||pn)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&pMe(i.selection,e.selection);if(d){let h=pn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=K3e(this)),(s||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=HY(e.doc,c,l,this.dom,this)),h&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&x3e(this))?il(this,p):(LX(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((n=this.dragging)===null||n===void 0)&&n.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&t3e(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof we){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&jY(this,r.getBoundingClientRect(),e)}else jY(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,i=-1;if(this.state.doc.nodeAt(n.from)==n.node)i=n.from;else{let s=n.from+(this.state.doc.content.size-r.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==n.node&&(i=s)}this.dragging=new GC(e.slice,e.move,i<0?void 0:we.create(this.state.doc,i))}someProp(e,r){let n=this._props&&this._props[e],i;if(n!=null&&(i=r?r(n):n))return i;for(let a=0;a<this.directPlugins.length;a++){let o=this.directPlugins[a].props[e];if(o!=null&&(i=r?r(o):o))return i}let s=this.state.plugins;if(s)for(let a=0;a<s.length;a++){let o=s[a].props[e];if(o!=null&&(i=r?r(o):o))return i}}hasFocus(){if(ri){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&r3e(this.dom),il(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return o3e(this,e)}coordsAtPos(e,r=1){return SX(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let i=this.docView.posFromDOM(e,r,n);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,r){return f3e(this,r||this.state,e)}pasteHTML(e,r){return c0(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return c0(this,e,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(e){return S6(this,e)}destroy(){this.docView&&(F3e(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Z_(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,URe())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return j3e(this,e)}dispatch(e){let r=this._props.dispatchTransaction;r?r.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Pn&&this.root.nodeType===11&&KRe(this.dom.ownerDocument)==this.dom&&iMe(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}};function dX(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[kr.node(0,t.state.doc.content.size,e)]}function fX(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:kr.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function pX(t){return!t.someProp("editable",e=>e(t.state)===!1)}function pMe(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}function hX(t){let e=Object.create(null);function r(n){for(let i in n)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=n[i])}return t.someProp("nodeViews",r),t.someProp("markViews",r),e}function hMe(t,e){let r=0,n=0;for(let i in t){if(t[i]!=e[i])return!0;r++}for(let i in e)n++;return r!=n}function mX(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var p0=mMe;function mMe(t,e){for(var r={},n=Object.keys(t),i=n.length,s=0;s<i;s++){var a=n[s];r[a]=e(t[a],a,t)}return r}var ni=class extends Error{},A6=class extends ni{constructor(){super("Unable to find editor. Pass it as an argument or call this function inside a ProseKit component.")}},GX=class extends ni{constructor(){super("Unable to find browser Document. When not in the browser environment, you need to pass a DOM Document.")}};function m0(t,e){if(typeof e=="string"){let r=t.marks[e];if(!r)throw new ni(`Cannot find mark type "${e}"`);return r}return e}function $r(t,e="Assertion failed"){if(!t)throw new ni(e)}function g0(t,e){if(typeof e=="string"){let r=t.nodes[e];if(!r)throw new ni(`Cannot find ProseMirror node type "${e}"`);return r}return e}var gMe=0,WX=class{constructor(t,e,r,n){this._reducer=r,this._reduce=n,this.index=gMe++,$r((n||r)&&!(n&&r)),this.parent=t,this.singleton=e,this.path=t?[...t.path,this.index]:[]}get reducer(){return this._reducer??this._reduce?.()}};function Cr(t){return new WX(t.parent,t.singleton??!1,t.reducer,t.reduce)}function eE(t){return t instanceof Ri}function KX(t){return t instanceof Ce}function Oi(t){return t!=null}function yMe(t){let e,r,n,i;for(let a of t)e=a.schema||e,r=a.commands||r,n=a.state||n,i=a.view||i;let s=e&&(n?.({schema:e})??{schema:e});return{schema:e,state:s,commands:r,view:i}}var tE=new WX(null,!0,yMe),L6=Cr({reducer:t=>{$r(t.length<=1);let e=t[0];return{schema:e?new RC(e):null}},parent:tE,singleton:!0}),YX=class{constructor(){this.trees=[null,null,null,null,null]}getTree(t){var e;let r=t??this.priority??2;return(e=this.trees)[r]||(e[r]=this.createTree(r))}findFacetOutput(t){let e=this.getTree();for(let r of t.path)e=e?.children.get(r);return e?.getOutput()??null}get schema(){return this.findFacetOutput(L6)?.find(Boolean)?.schema??null}};function XX(t,e){let r=[...t];for(let n of e)r.includes(n)||r.push(n);return r}function vMe(t,e){return t.filter(r=>!e.includes(r))}function I6(t){return t.toReversed?.()??[...t].reverse()}function QX(t,e,r){return[r(t[0],e[0]),r(t[1],e[1]),r(t[2],e[2]),r(t[3],e[3]),r(t[4],e[4])]}function bMe(t,e){return!t&&!e?null:XX(t??[],e??[])}function wMe(t,e){return t?e?vMe(t,e):[...t]:null}function xMe(t,e){let r=new Map(t);for(let[n,i]of e.entries()){let s=t.get(n);r.set(n,s?R6(s,i):i)}return r}function SMe(t,e){let r=new Map(t);for(let[n,i]of e.entries()){let s=t.get(n);s&&r.set(n,JX(s,i))}return r}function R6(t,e){return $r(t.facet===e.facet),new ZC(t.facet,QX(t.inputs,e.inputs,bMe),xMe(t.children,e.children),t.reducers)}function JX(t,e){return $r(t.facet===e.facet),new ZC(t.facet,QX(t.inputs,e.inputs,wMe),SMe(t.children,e.children),t.reducers)}var ZC=class{constructor(t,e=[null,null,null,null,null],r=new Map,n=[null,null,null,null,null]){this.facet=t,this.inputs=e,this.children=r,this.reducers=n,this.output=null}calcOutput(){var t,e,r;let n=[null,null,null,null,null],i=[null,null,null,null,null];for(let s=0;s<5;s++){let a=this.inputs[s];a&&(n[s]=[...a])}for(let s of this.children.values()){let a=s.getOutput();for(let o=0;o<5;o++)a[o]&&(n[o]||(n[o]=[])).push(a[o])}if(this.facet.singleton){let s=(t=this.reducers)[e=2]||(t[e]=this.facet.reducer),a=n.filter(Oi).flat();i[2]=s(a)}else for(let s=0;s<5;s++){let a=n[s];if(a){let o=(r=this.reducers)[s]||(r[s]=this.facet.reducer);i[s]=o(a)}}return i}getOutput(){return this.output||(this.output=this.calcOutput()),this.output}getSingletonOutput(){return $r(this.facet.singleton),this.getOutput()[2]}getRootOutput(){$r(this.isRoot());let t=this.getSingletonOutput();return $r(t),t}isRoot(){return!this.facet.parent}},kMe=class extends YX{constructor(t,e){super(),this.facet=t,this.payloads=e}createTree(t){let e=this.priority??t,r=[null,null,null,null,null];r[e]=[...this.payloads];let n=new ZC(this.facet,r);for(;n.facet.parent;){let i=new Map([[n.facet.index,n]]);n=new ZC(n.facet.parent,void 0,i)}return n}};function _i(t,e){return new kMe(t,e)}function CMe(t){return typeof t=="object"&&t!=null}var EMe=1;function y0(t){return CMe(t)&&t.nodeType===EMe&&typeof t.nodeName=="string"}function TMe(){if(typeof document<"u")return document;if(typeof globalThis<"u"&&globalThis.document)return globalThis.document}function ZX(){if(typeof window<"u")return window;if(typeof globalThis<"u"&&globalThis.window)return globalThis.window}function eQ(t){return t?.document??TMe()??ZX()?.document}function AMe(t){return t?.document?.defaultView??ZX()??eQ(t)?.defaultView??void 0}function LMe(t){let e=eQ(t);if(e)return e;throw new GX}function IMe(t){let e=AMe(t);if(e)return e;throw new GX}function v0(t){return t.toJSON()}function tQ(t,e){let{DOMParser:r,schema:n,...i}=e;return(r||_d).fromSchema(n).parse(t,i)}function rQ(t,e){let r=e?.DOMSerializer||Mi,n=LMe(e),i=t.type.schema,s=r.fromSchema(i);return i.topNodeType!==t.type?s.serializeNode(t,{document:n}):s.serializeFragment(t.content,{document:n},n.createElement("div"))}function RMe(t,e){let r=IMe(e);return new r.DOMParser().parseFromString(`<body><div>${t}</div></body>`,"text/html").body.firstElementChild}function nQ(t,e){return rQ(t,e).outerHTML}function iQ(t,e){return v0(tQ(t,e))}function sQ(t,e){return iQ(RMe(t,e),e)}var M6=Cr({reduce:()=>{let t=[],e=r=>{let n=t.map(s=>s(r)),i={schema:r.schema,storedMarks:[],plugins:[]};for(let s of n)i.schema=i.schema??s.schema,i.doc=i.doc??s.doc,i.selection=i.selection??s.selection,i.storedMarks=[...i.storedMarks,...s.storedMarks??[]],i.plugins=XX(i.plugins??[],s.plugins??[]);return $r(i.doc||i.schema,"Can't create state without a schema nor a document"),i.doc&&(i.schema=void 0),i};return function(n){return t=n,{state:e}}},singleton:!0,parent:tE});function aQ(t,e){return typeof e=="string"?sQ(e,{schema:t}):y0(e)?iQ(e,{schema:t}):e}function MMe(t,e){return eE(e)?e:t.nodeFromJSON(aQ(t,e))}function PMe(t,e){let r=MMe(t,e);return $r(r.type.schema===t,"Document schema does not match editor schema"),$r(r.type===t.topNodeType,`Document type does not match editor top node type. Expected ${t.topNodeType.name}, got ${r.type.name}`),r}function OMe(t,e){return KX(e)?($r(e.$head.doc===t,"Selection and doc do not match"),e):e==="start"?Ce.atStart(t):e==="end"?Ce.atEnd(t):Ce.fromJSON(t,e)}function oQ({defaultSelection:t,defaultContent:e,defaultDoc:r,defaultHTML:n}){let i=e||r||n;return _i(M6,[({schema:s})=>{let a={};if(i){let o=aQ(s,i);a.doc=s.nodeFromJSON(o),t&&(a.selection=Ce.fromJSON(a.doc,t))}return a}])}function _Me(t,e){return Object.keys(t).every(r=>t[r]===e[r])}function lQ(t,e,r){return r=r||{},t.some(n=>n.type===e&&_Me(r,n.attrs))}function rE(t,e,r,n,i){let s=!1,a=!1;return t.nodesBetween(e,r,(o,l,c)=>{if(s)return!1;c?.type.allowsMarkType(n)&&!o.marks.some(d=>d.type!==n&&d.type.excludes(n))&&(a=!0,lQ(o.marks,n,i)||(s=!0))}),a?s:!0}function cQ(t,e,r){let{from:n,$from:i,to:s,empty:a}=t.selection,o=m0(t.schema,e);if(a){let l=t.storedMarks||i.marks();return lQ(l,o,r)}else return!rE(t.doc,n,s,o,r)}var DMe=class extends YX{constructor(t=[]){super(),this.extension=t}createTree(t){let e=this.priority??t,r=[...this.extension];r.sort((s,a)=>(s.priority??e)-(a.priority??e));let n=r.map(s=>s.getTree(e));$r(n.length>0);let i=n[0];for(let s=1;s<n.length;s++)i=R6(i,n[s]);return i}};function Di(...t){let e=t.flat();return $r(e.length>0,"At least one extension is required"),new DMe(e)}function h0(t,e){if(t===e)return!0;if(!t||!e)return!1;if(Array.isArray(t)&&Array.isArray(e))return t.length===e.length&&t.every((r,n)=>h0(r,e[n]));if(t instanceof Ii&&e instanceof Ii)return t.size===e.size&&h0(t.toObject(),e.toObject());if(typeof t=="object"&&typeof e=="object"){let r=Object.keys(t),n=Object.keys(e);return r.length===n.length&&r.every(i=>h0(t[i],e[i]))}return!1}function NMe(t,e){let r=t.attrs;for(let[n,i]of Object.entries(e))if(r[n]!==i)return!1;return!0}function uQ(t,e,r){let n=t.selection.$from,i=g0(t.schema,e);for(let s=n.depth;s>=0;s--){let a=n.node(s);if(a.type===i&&(!r||NMe(a,r)))return!0}return!1}function FMe(t,e,r=zMe){return p0(t.nodes,n=>$Me(n,e,r))}function $Me(t,e,r){let n=(...i)=>UMe(t,i,r);return n.isActive=i=>{let s=e();return s?uQ(s,t,i):!1},n}function jMe(t,e,r=BMe){return p0(t.marks,n=>VMe(n,e,r))}function VMe(t,e,r){let n=(...i)=>qMe(t,i,r);return n.isActive=i=>{let s=e();return s?cQ(s,t,i):!1},n}function qMe(t,e,r){let[n,i]=dQ(e),s=t.create(n);return r(s,P6(t.schema,i))}var BMe=(t,e)=>e.map(r=>r.mark(t.addToSet(r.marks)));function UMe(t,e,r){let[n,i]=dQ(e);return r(t,n,P6(t.schema,i))}var zMe=(t,e,r)=>{let n=t.createAndFill(e,r);return $r(n,`Failed to create node ${t.name}`),n};function P6(t,e){let r=[];for(let n of e)if(typeof n=="string")n&&r.push(t.text(n,null));else if(Array.isArray(n))r.push(...P6(t,n));else if(eE(n))r.push(n);else throw new ni(`Invalid node child: ${typeof n}`);return r}function dQ(t){let[e,...r]=t;return HMe(e)?(r.unshift(e),[null,r]):typeof e=="object"?[e,r]:[null,r]}function HMe(t){return t?typeof t=="string"||Array.isArray(t)||eE(t):!1}function GMe(t){return t.defaultContent||t.defaultDoc||t.defaultHTML?Di(t.extension,oQ(t)):t.extension}function O6(t){let e=GMe(t),r=new fQ(e);return new pQ(r)}var fQ=class{constructor(t){this.view=null,this.commands={},this.afterMounted=[],this.getState=()=>this.view?.state||this.directEditorProps.state,this.dispatch=s=>{this.view?this.view.dispatch(s):this.directEditorProps.state=this.directEditorProps.state.apply(s)},this.getDocJSON=()=>{let s=this.getState();return v0(s.doc)},this.getDocHTML=s=>{let a=this.getProp("clipboardSerializer"),o=a?{fromSchema:()=>a}:void 0,l=this.getDoc();return nQ(l,{...s,DOMSerializer:o})},this.tree=t.getTree();let e=this.tree.getRootOutput(),r=e.schema,n=e.state;$r(r&&n,"Schema must be defined");let i=i0.create(n);if(e.commands)for(let[s,a]of Object.entries(e.commands))this.defineCommand(s,a);this.nodes=FMe(i.schema,this.getState),this.marks=jMe(i.schema,this.getState),this.schema=i.schema,this.directEditorProps={state:i,...e.view}}getDoc(){return this.getState().doc}getProp(t){return this.view?.someProp(t)??this.directEditorProps[t]}updateState(t){this.view?this.view.updateState(t):this.directEditorProps.state=t}setContent(t,e){let r=PMe(this.schema,t);r.check();let n=OMe(r,e||"start"),i=this.getState();if(r.eq(i.doc)&&(!e||n.eq(i.selection)))return;let s=i0.create({doc:r,selection:n,plugins:i.plugins});this.updateState(s)}updateExtension(t,e){let r=this.view;if(!r||r.isDestroyed)return;let n=t.getTree(),i=n.getRootOutput();if(i?.schema)throw new ni("Schema cannot be changed");if(i?.view)throw new ni("View cannot be changed");let s=this.tree.getRootOutput(),a=[...r.state?.plugins??[]];this.tree=e?R6(this.tree,n):JX(this.tree,n);let o=this.tree.getRootOutput(),l=[...o?.state?.plugins??[]];if(!h0(a,l)){let c=r.state.reconfigure({plugins:l});r.updateState(c)}if(o?.commands&&!h0(s?.commands,o?.commands)){let c=o.commands,u=Object.keys(c);for(let d of u)this.defineCommand(d,c[d])}}use(t){if(!this.mounted){let e=!1,r=null,n=()=>{e||(r=this.use(t))};return this.afterMounted.push(n),()=>{e=!0,r?.()}}return this.updateExtension(t,!0),()=>this.updateExtension(t,!1)}mount(t){if(this.view)throw new ni("Editor is already mounted");this.view=new XC({mount:t},this.directEditorProps),this.afterMounted.forEach(e=>e())}unmount(){this.view&&(this.directEditorProps.state=this.view.state,this.view.destroy(),this.view=null)}get mounted(){return!!this.view&&!this.view.isDestroyed}get assertView(){if(!this.view)throw new ni("Editor is not mounted");return this.view}definePlugins(t){let e=this.assertView,r=e.state,n=[...t,...r.plugins],i=r.reconfigure({plugins:n});e.setProps({state:i})}removePlugins(t){let e=this.view;if(!e)return;let r=e.state,n=r.plugins.filter(s=>!t.includes(s)),i=r.reconfigure({plugins:n});e.setProps({state:i})}exec(t){let e=this.getState();return t(e,this.dispatch,this.view??void 0)}canExec(t){let e=this.getState();return t(e,void 0,this.view??void 0)}defineCommand(t,e){let r=(...i)=>{let s=e(...i);return this.exec(s)},n=(...i)=>{let s=e(...i);return this.canExec(s)};r.canApply=n,r.canExec=n,this.commands[t]=r}removeCommand(t){delete this.commands[t]}},pQ=class{constructor(t){if(this.mount=e=>{e?this.instance.mount(e):this.instance.unmount()},this.unmount=()=>{this.instance.unmount()},this.focus=()=>{this.instance.view?.focus()},this.blur=()=>{this.instance.view?.dom.blur()},this.use=e=>this.instance.use(e),this.updateState=e=>{this.instance.updateState(e)},this.setContent=(e,r)=>this.instance.setContent(e,r),this.getDocJSON=()=>this.instance.getDocJSON(),this.getDocHTML=e=>this.instance.getDocHTML(e),this.exec=e=>this.instance.exec(e),this.canExec=e=>this.instance.canExec(e),!(t instanceof fQ))throw new TypeError("Invalid EditorInstance");this.instance=t}get mounted(){return this.instance.mounted}get view(){return this.instance.assertView}get schema(){return this.instance.schema}get state(){return this.instance.getState()}get focused(){return this.instance.view?.hasFocus()??!1}get commands(){return this.instance.commands}get nodes(){return this.instance.nodes}get marks(){return this.instance.marks}};var nE=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function mQ(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}var WMe=(t,e,r)=>{let n=mQ(t,r);if(!n)return!1;let i=N6(n);if(!i){let a=n.blockRange(),o=a&&NC(a);return o==null?!1:(e&&e(t.tr.lift(a,o).scrollIntoView()),!0)}let s=i.nodeBefore;if(vQ(t,i,e,-1))return!0;if(n.parent.content.size==0&&(mh(s,"end")||we.isSelectable(s)))for(let a=n.depth;;a--){let o=r0(t.doc,n.before(a),n.after(a),ee.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=t.tr.step(o);l.setSelection(mh(s,"end")?Ce.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):we.create(l.doc,i.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(a==1||n.node(a-1).childCount>1)break}return s.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},gQ=(t,e,r)=>{let n=mQ(t,r);if(!n)return!1;let i=N6(n);return i?KMe(t,i,e):!1};function KMe(t,e,r){let n=e.nodeBefore,i=n,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let a=e.nodeAfter,o=a,l=e.pos+1;for(;!o.isTextblock;l++){if(o.type.spec.isolating)return!1;let u=o.firstChild;if(!u)return!1;o=u}let c=r0(t.doc,s,l,ee.empty);if(!c||c.from!=s||c instanceof ti&&c.slice.size>=l-s)return!1;if(r){let u=t.tr.step(c);u.setSelection(Fe.create(u.doc,s)),r(u.scrollIntoView())}return!0}function mh(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}var D6=(t,e,r)=>{let{$head:n,empty:i}=t.selection,s=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;s=N6(n)}let a=s&&s.nodeBefore;return!a||!we.isSelectable(a)?!1:(e&&e(t.tr.setSelection(we.create(t.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function N6(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function YMe(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}var XMe=(t,e,r)=>{let n=YMe(t,r);if(!n)return!1;let i=yQ(n);if(!i)return!1;let s=i.nodeAfter;if(vQ(t,i,e,1))return!0;if(n.parent.content.size==0&&(mh(s,"start")||we.isSelectable(s))){let a=r0(t.doc,n.before(),n.after(),ee.empty);if(a&&a.slice.size<a.to-a.from){if(e){let o=t.tr.step(a);o.setSelection(mh(s,"start")?Ce.findFrom(o.doc.resolve(o.mapping.map(i.pos)),1):we.create(o.doc,o.mapping.map(i.pos))),e(o.scrollIntoView())}return!0}}return s.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},QMe=(t,e,r)=>{let{$head:n,empty:i}=t.selection,s=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;s=yQ(n)}let a=s&&s.nodeAfter;return!a||!we.isSelectable(a)?!1:(e&&e(t.tr.setSelection(we.create(t.doc,s.pos)).scrollIntoView()),!0)};function yQ(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}var b0=(t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function F6(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}var JMe=(t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let i=r.node(-1),s=r.indexAfter(-1),a=F6(i.contentMatchAt(s));if(!a||!i.canReplaceWith(s,s,a))return!1;if(e){let o=r.after(),l=t.tr.replaceWith(o,o,a.createAndFill());l.setSelection(Ce.near(l.doc.resolve(o),1)),e(l.scrollIntoView())}return!0},w0=(t,e)=>{let r=t.selection,{$from:n,$to:i}=r;if(r instanceof dn||n.parent.inlineContent||i.parent.inlineContent)return!1;let s=F6(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let a=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,o=t.tr.insert(a,s.createAndFill());o.setSelection(Fe.create(o.doc,a+1)),e(o.scrollIntoView())}return!0},x0=(t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let s=r.before();if(el(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let n=r.blockRange(),i=n&&NC(n);return i==null?!1:(e&&e(t.tr.lift(n,i).scrollIntoView()),!0)};function $6(t){return(e,r)=>{let{$from:n,$to:i}=e.selection;if(e.selection instanceof we&&e.selection.node.isBlock)return!n.parentOffset||!el(e.doc,n.pos)?!1:(r&&r(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let s=[],a,o,l=!1,c=!1;for(let p=n.depth;;p--)if(n.node(p).isBlock){l=n.end(p)==n.pos+(n.depth-p),c=n.start(p)==n.pos-(n.depth-p),o=F6(n.node(p-1).contentMatchAt(n.indexAfter(p-1)));let g=t&&t(i.parent,l,n);s.unshift(g||(l&&o?{type:o}:null)),a=p;break}else{if(p==1)return!1;s.unshift(null)}let u=e.tr;(e.selection instanceof Fe||e.selection instanceof dn)&&u.deleteSelection();let d=u.mapping.map(n.pos),f=el(u.doc,d,s.length,s);if(f||(s[0]=o?{type:o}:null,f=el(u.doc,d,s.length,s)),u.split(d,s.length,s),!l&&c&&n.node(a).type!=o){let p=u.mapping.map(n.before(a)),h=u.doc.resolve(p);o&&n.node(a-1).canReplaceWith(h.index(),h.index()+1,o)&&u.setNodeMarkup(u.mapping.map(n.before(a)),o)}return r&&r(u.scrollIntoView()),!0}}var ZMe=$6();var ePe=(t,e)=>(e&&e(t.tr.setSelection(new dn(t.doc))),!0);function tPe(t,e,r){let n=e.nodeBefore,i=e.nodeAfter,s=e.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&e.parent.canReplace(s-1,s)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||H_(t.doc,e.pos))?!1:(r&&r(t.tr.join(e.pos).scrollIntoView()),!0)}function vQ(t,e,r,n){let i=e.nodeBefore,s=e.nodeAfter,a,o,l=i.type.spec.isolating||s.type.spec.isolating;if(!l&&tPe(t,e,r))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(a=(o=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&o.matchType(a[0]||s.type).validEnd){if(r){let p=e.pos+s.nodeSize,h=J.empty;for(let y=a.length-1;y>=0;y--)h=J.from(a[y].create(null,h));h=J.from(i.copy(h));let g=t.tr.step(new Pi(e.pos-1,p,e.pos,p,new ee(h,1,0),a.length,!0)),v=g.doc.resolve(p+2*a.length);v.nodeAfter&&v.nodeAfter.type==i.type&&H_(g.doc,v.pos)&&g.join(v.pos),r(g.scrollIntoView())}return!0}let u=s.type.spec.isolating||n>0&&l?null:Ce.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),f=d&&NC(d);if(f!=null&&f>=e.depth)return r&&r(t.tr.lift(d,f).scrollIntoView()),!0;if(c&&mh(s,"start",!0)&&mh(i,"end")){let p=i,h=[];for(;h.push(p),!p.isTextblock;)p=p.lastChild;let g=s,v=1;for(;!g.isTextblock;g=g.firstChild)v++;if(p.canReplace(p.childCount,p.childCount,g.content)){if(r){let y=J.empty;for(let w=h.length-1;w>=0;w--)y=J.from(h[w].copy(y));let b=t.tr.step(new Pi(e.pos-h.length,e.pos+s.nodeSize,e.pos+v,e.pos+s.nodeSize-v,new ee(y,h.length,0),0,!0));r(b.scrollIntoView())}return!0}}return!1}function bQ(t){return function(e,r){let n=e.selection,i=t<0?n.$from:n.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(r&&r(e.tr.setSelection(Fe.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}var rPe=bQ(-1),nPe=bQ(1);function iPe(t,e,r,n){for(let i=0;i<e.length;i++){let{$from:s,$to:a}=e[i],o=s.depth==0?t.inlineContent&&t.type.allowsMarkType(r):!1;if(t.nodesBetween(s.pos,a.pos,(l,c)=>{if(o||!n&&l.isAtom&&l.isInline&&c>=s.pos&&c+l.nodeSize<=a.pos)return!1;o=l.inlineContent&&l.type.allowsMarkType(r)}),o)return!0}return!1}function sPe(t){let e=[];for(let r=0;r<t.length;r++){let{$from:n,$to:i}=t[r];n.doc.nodesBetween(n.pos,i.pos,(s,a)=>{if(s.isAtom&&s.content.size&&s.isInline&&a>=n.pos&&a+s.nodeSize<=i.pos)return a+1>n.pos&&e.push(new oh(n,n.doc.resolve(a+1))),n=n.doc.resolve(a+1+s.content.size),!1}),n.pos<i.pos&&e.push(new oh(n,i))}return e}function wQ(t,e=null,r){let n=(r&&r.removeWhenPresent)!==!1,i=(r&&r.enterInlineAtoms)!==!1,s=!(r&&r.includeWhitespace);return function(a,o){let{empty:l,$cursor:c,ranges:u}=a.selection;if(l&&!c||!iPe(a.doc,u,t,i))return!1;if(o)if(c)t.isInSet(a.storedMarks||c.marks())?o(a.tr.removeStoredMark(t)):o(a.tr.addStoredMark(t.create(e)));else{let d,f=a.tr;i||(u=sPe(u)),n?d=!u.some(p=>a.doc.rangeHasMark(p.$from.pos,p.$to.pos,t)):d=!u.every(p=>{let h=!1;return f.doc.nodesBetween(p.$from.pos,p.$to.pos,(g,v,y)=>{if(h)return!1;h=!t.isInSet(g.marks)&&!!y&&y.type.allowsMarkType(t)&&!(g.isText&&/^\s*$/.test(g.textBetween(Math.max(0,p.$from.pos-v),Math.min(g.nodeSize,p.$to.pos-v))))}),!h});for(let p=0;p<u.length;p++){let{$from:h,$to:g}=u[p];if(!d)f.removeMark(h.pos,g.pos,t);else{let v=h.pos,y=g.pos,b=h.nodeAfter,w=g.nodeBefore,x=s&&b&&b.isText?/^\s*/.exec(b.text)[0].length:0,A=s&&w&&w.isText?/\s*$/.exec(w.text)[0].length:0;v+x<y&&(v+=x,y-=A),f.addMark(v,y,t.create(e))}}o(f.scrollIntoView())}return!0}}function to(...t){return function(e,r,n){for(let i=0;i<t.length;i++)if(t[i](e,r,n))return!0;return!1}}var _6=to(nE,WMe,D6),hQ=to(nE,XMe,QMe),sl={Enter:to(b0,w0,x0,ZMe),"Mod-Enter":JMe,Backspace:_6,"Mod-Backspace":_6,"Shift-Backspace":_6,Delete:hQ,"Mod-Delete":hQ,"Mod-a":ePe},xQ={"Ctrl-h":sl.Backspace,"Alt-Backspace":sl["Mod-Backspace"],"Ctrl-d":sl.Delete,"Ctrl-Alt-Backspace":sl["Mod-Delete"],"Alt-Delete":sl["Mod-Delete"],"Alt-d":sl["Mod-Delete"],"Ctrl-a":rPe,"Ctrl-e":nPe};for(let t in sl)xQ[t]=sl[t];var aPe=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,SQ=aPe?xQ:sl;var iE=S0;function S0(t){let e=t;var r={}.toString.call(t).slice(8,-1);if(r=="Set")return new Set([...t].map(i=>S0(i)));if(r=="Map")return new Map([...t].map(i=>[S0(i[0]),S0(i[1])]));if(r=="Date")return new Date(t.getTime());if(r=="RegExp")return RegExp(t.source,oPe(t));if(r=="Array"||r=="Object"){e=Array.isArray(t)?[]:{};for(var n in t)e[n]=S0(t[n])}return e}function oPe(t){if(typeof t.source.flags=="string")return t.source.flags;var e=[];return t.global&&e.push("g"),t.ignoreCase&&e.push("i"),t.multiline&&e.push("m"),t.sticky&&e.push("y"),t.unicode&&e.push("u"),e.join("")}var sE=200,Zr=function(){};Zr.prototype.append=function(e){return e.length?(e=Zr.from(e),!this.length&&e||e.length<sE&&this.leafAppend(e)||this.length<sE&&e.leafPrepend(this)||this.appendInner(e)):this};Zr.prototype.prepend=function(e){return e.length?Zr.from(e).append(this):this};Zr.prototype.appendInner=function(e){return new lPe(this,e)};Zr.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?Zr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};Zr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Zr.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};Zr.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(s,a){return i.push(e(s,a))},r,n),i};Zr.from=function(e){return e instanceof Zr?e:e&&e.length?new kQ(e):Zr.empty};var kQ=function(t){function e(n){t.call(this),this.values=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,a,o){for(var l=s;l<a;l++)if(i(this.values[l],o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,a,o){for(var l=s-1;l>=a;l--)if(i(this.values[l],o+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=sE)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=sE)return new e(i.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e}(Zr);Zr.empty=new kQ([]);var lPe=function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,i,s,a){var o=this.left.length;if(i<o&&this.left.forEachInner(n,i,Math.min(s,o),a)===!1||s>o&&this.right.forEachInner(n,Math.max(i-o,0),Math.min(this.length,s)-o,a+o)===!1)return!1},e.prototype.forEachInvertedInner=function(n,i,s,a){var o=this.left.length;if(i>o&&this.right.forEachInvertedInner(n,i-o,Math.max(s,o)-o,a+o)===!1||s<o&&this.left.forEachInvertedInner(n,Math.min(i,o),s,a)===!1)return!1},e.prototype.sliceInner=function(n,i){if(n==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(n,i):n>=s?this.right.slice(n-s,i-s):this.left.slice(n,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(n){var i=this.right.leafAppend(n);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(n){var i=this.left.leafPrepend(n);if(i)return new e(i,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(Zr),j6=Zr;var cPe=500,Gd=class t{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let i,s;r&&(i=this.remapping(n,this.items.length),s=i.maps.length);let a=e.tr,o,l,c=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(n,f+1),s=i.maps.length),s--,u.push(d);return}if(i){u.push(new ro(d.map));let p=d.step.map(i.slice(s)),h;p&&a.maybeStep(p).doc&&(h=a.mapping.maps[a.mapping.maps.length-1],c.push(new ro(h,void 0,void 0,c.length+u.length))),s--,h&&i.appendMap(h,s)}else a.maybeStep(d.step);if(d.selection)return o=i?d.selection.map(i.slice(s)):d.selection,l=new t(this.items.slice(0,n).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:a,selection:o}}addTransform(e,r,n,i){let s=[],a=this.eventCount,o=this.items,l=!i&&o.length?o.get(o.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),f=new ro(e.mapping.maps[u],d,r),p;(p=l&&l.merge(f))&&(f=p,u?s.pop():o=o.slice(0,o.length-1)),s.push(f),r&&(a++,r=void 0),i||(l=f)}let c=a-n.depth;return c>dPe&&(o=uPe(o,c),a-=c),new t(o.append(s),a)}remapping(e,r){let n=new Jb;return this.items.forEach((i,s)=>{let a=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?n.maps.length-i.mirrorOffset:void 0;n.appendMap(i.map,a)},e,r),n}addMaps(e){return this.eventCount==0?this:new t(this.items.append(e.map(r=>new ro(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-r),s=e.mapping,a=e.steps.length,o=this.eventCount;this.items.forEach(f=>{f.selection&&o--},i);let l=r;this.items.forEach(f=>{let p=s.getMirror(--l);if(p==null)return;a=Math.min(a,p);let h=s.maps[p];if(f.step){let g=e.steps[p].invert(e.docs[p]),v=f.selection&&f.selection.map(s.slice(l+1,p));v&&o++,n.push(new ro(h,g,v))}else n.push(new ro(h))},i);let c=[];for(let f=r;f<a;f++)c.push(new ro(s.maps[f]));let u=this.items.slice(0,i).append(c).append(n),d=new t(u,o);return d.emptyItemCount()>cPe&&(d=d.compress(this.items.length-n.length)),d}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,i=[],s=0;return this.items.forEach((a,o)=>{if(o>=e)i.push(a),a.selection&&s++;else if(a.step){let l=a.step.map(r.slice(n)),c=l&&l.getMap();if(n--,c&&r.appendMap(c,n),l){let u=a.selection&&a.selection.map(r.slice(n));u&&s++;let d=new ro(c.invert(),l,u),f,p=i.length-1;(f=i.length&&i[p].merge(d))?i[p]=f:i.push(d)}}else a.map&&n--},this.items.length,0),new t(j6.from(i.reverse()),s)}};Gd.empty=new Gd(j6.empty,0);function uPe(t,e){let r;return t.forEach((n,i)=>{if(n.selection&&e--==0)return r=i,!1}),t.slice(r)}var ro=class t{constructor(e,r,n,i){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new t(r.getMap().invert(),r,this.selection)}}},no=class{constructor(e,r,n,i,s){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=i,this.prevComposition=s}},dPe=20;function fPe(t,e,r,n){let i=r.getMeta(Hd),s;if(i)return i.historyState;r.getMeta(mPe)&&(t=new no(t.done,t.undone,null,0,-1));let a=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(a&&a.getMeta(Hd))return a.getMeta(Hd).redo?new no(t.done.addTransform(r,void 0,n,aE(e)),t.undone,CQ(r.mapping.maps),t.prevTime,t.prevComposition):new no(t.done,t.undone.addTransform(r,void 0,n,aE(e)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let o=r.getMeta("composition"),l=t.prevTime==0||!a&&t.prevComposition!=o&&(t.prevTime<(r.time||0)-n.newGroupDelay||!pPe(r,t.prevRanges)),c=a?V6(t.prevRanges,r.mapping):CQ(r.mapping.maps);return new no(t.done.addTransform(r,l?e.selection.getBookmark():void 0,n,aE(e)),Gd.empty,c,r.time,o??t.prevComposition)}else return(s=r.getMeta("rebased"))?new no(t.done.rebased(r,s),t.undone.rebased(r,s),V6(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new no(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),V6(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}function pPe(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,i)=>{for(let s=0;s<e.length;s+=2)n<=e[s+1]&&i>=e[s]&&(r=!0)}),r}function CQ(t){let e=[];for(let r=t.length-1;r>=0&&e.length==0;r--)t[r].forEach((n,i,s,a)=>e.push(s,a));return e}function V6(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let i=e.map(t[n],1),s=e.map(t[n+1],-1);i<=s&&r.push(i,s)}return r}function hPe(t,e,r){let n=aE(e),i=Hd.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,n);if(!s)return null;let a=s.selection.resolve(s.transform.doc),o=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,n),l=new no(r?o:s.remaining,r?s.remaining:o,null,0,-1);return s.transform.setSelection(a).setMeta(Hd,{redo:r,historyState:l})}var q6=!1,EQ=null;function aE(t){let e=t.plugins;if(EQ!=e){q6=!1,EQ=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){q6=!0;break}}return q6}var Hd=new Qe("history"),mPe=new Qe("closeHistory");function TQ(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Ee({key:Hd,state:{init(){return new no(Gd.empty,Gd.empty,null,0,-1)},apply(e,r,n){return fPe(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,i=n=="historyUndo"?lE:n=="historyRedo"?k0:null;return i?(r.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function oE(t,e){return(r,n)=>{let i=Hd.getState(r);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(n){let s=hPe(i,r,t);s&&n(e?s.scrollIntoView():s)}return!0}}var lE=oE(!1,!0),k0=oE(!0,!0),qat=oE(!1,!1),Bat=oE(!0,!1);var al={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},uE={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},gPe=typeof navigator<"u"&&/Mac/.test(navigator.platform),yPe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(mr=0;mr<10;mr++)al[48+mr]=al[96+mr]=String(mr);var mr;for(mr=1;mr<=24;mr++)al[mr+111]="F"+mr;var mr;for(mr=65;mr<=90;mr++)al[mr]=String.fromCharCode(mr+32),uE[mr]=String.fromCharCode(mr);var mr;for(cE in al)uE.hasOwnProperty(cE)||(uE[cE]=al[cE]);var cE;function AQ(t){var e=gPe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||yPe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?uE:al)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}var vPe=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function bPe(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,i,s,a;for(let o=0;o<e.length-1;o++){let l=e[o];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))vPe?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(r="Alt-"+r),i&&(r="Ctrl-"+r),a&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function wPe(t){let e=Object.create(null);for(let r in t)e[bPe(r)]=t[r];return e}function B6(t,e,r=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}function dE(t){let e=wPe(t);return function(r,n){let i=AQ(n),s,a=e[B6(i,n)];if(a&&a(r.state,r.dispatch,r))return!0;if(i.length==1&&i!=" "){if(n.shiftKey){let o=e[B6(i,n,!1)];if(o&&o(r.state,r.dispatch,r))return!0}if((n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(s=al[n.keyCode])&&s!=i){let o=e[B6(s,n)];if(o&&o(r.state,r.dispatch,r))return!0}}return!1}}var IQ=xPe((t,e,r)=>{if(!e)return null;let n=r.depth==0?null:RQ(r.node(-1).contentMatchAt(r.indexAfter(-1)));if(!n)return null;let i=SPe(t,n);return i?{type:n,attrs:i}:null});function xPe(t){return(e,r)=>{let{$from:n,$to:i}=e.selection;if(e.selection instanceof we&&e.selection.node.isBlock)return!n.parentOffset||!el(e.doc,n.pos)?!1:(r&&r(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.parent.isBlock)return!1;if(r){let s=i.parentOffset==i.parent.content.size,a=e.tr;(e.selection instanceof Fe||e.selection instanceof dn)&&a.deleteSelection();let o=n.depth==0?null:RQ(n.node(-1).contentMatchAt(n.indexAfter(-1))),l=t&&t(i.parent,s,n),c=l?[l]:s&&o?[{type:o}]:void 0,u=el(a.doc,a.mapping.map(n.pos),1,c);if(!c&&!u&&el(a.doc,a.mapping.map(n.pos),1,o?[{type:o}]:void 0)&&(o&&(c=[{type:o}]),u=!0),u&&(a.split(a.mapping.map(n.pos),1,c),!s&&!n.parentOffset&&n.parent.type!=o)){let d=a.mapping.map(n.before()),f=a.doc.resolve(d);o&&n.node(-1).canReplaceWith(f.index(),f.index()+1,o)&&a.setNodeMarkup(a.mapping.map(n.before()),o)}r(a.scrollIntoView())}return!0}}function SPe(t,e){let r=LQ(t.type,!0),n=LQ(e,!0),i=r.filter(s=>n.includes(s));return i.length===0?null:Object.fromEntries(i.map(s=>[s,t.attrs[s]]))}function LQ(t,e){var r;let n=[];for(let[i,s]of Object.entries((r=t.spec.attrs)!=null?r:{}))s.splittable===e&&n.push(i);return n}function RQ(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function wc({type:t,attrs:e,removeWhenPresent:r=!1,enterInlineAtoms:n=!0}){return(i,s,a)=>wQ(m0(i.schema,t),e,{removeWhenPresent:r,enterInlineAtoms:n})(i,s,a)}function _Q(t,e){let r=Di(t);return r.priority=e,r}function Dn(t){if(t instanceof Ee||Array.isArray(t)&&t.every(e=>e instanceof Ee))return MQ(()=>t);if(typeof t=="function")return MQ(t);throw new TypeError("Invalid plugin")}function MQ(t){return _i(As,[t])}var As=Cr({reducer:t=>({schema:e})=>{let r=[];for(let n of t)if(n instanceof Ee)r.push(n);else if(Array.isArray(n)&&n.every(i=>i instanceof Ee))r.push(...n);else if(typeof n=="function")r.push(...[n({schema:e})].flat());else throw new ni("Invalid plugin");return r.reverse(),{plugins:r}},parent:M6});function fE(t){return e=>t.filter(Oi).reduce((r,n)=>n(r),e)}function pE(t,e){return e?e(t):t}var kPe=class extends Mi{constructor(t,e,r,n){super(t,e),this.serializeFragmentWrapper=r,this.serializeNodeWrapper=n}serializeFragment(...t){return pE((...r)=>super.serializeFragment(...r),this.serializeFragmentWrapper)(...t)}serializeNode(...t){return pE((...r)=>super.serializeNode(...r),this.serializeNodeWrapper)(...t)}};function CPe(t,e){let r=(...a)=>Mi.nodesFromSchema(...a),n=(...a)=>Mi.marksFromSchema(...a),i=pE(r,e.nodesFromSchemaWrapper)(t),s=pE(n,e.marksFromSchemaWrapper)(t);return new kPe(i,s,e.serializeFragmentWrapper,e.serializeNodeWrapper)}var got=Cr({reducer:t=>{let e={serializeFragmentWrapper:fE(t.map(r=>r.serializeFragmentWrapper)),serializeNodeWrapper:fE(t.map(r=>r.serializeNodeWrapper)),nodesFromSchemaWrapper:fE(t.map(r=>r.nodesFromSchemaWrapper)),marksFromSchemaWrapper:fE(t.map(r=>r.marksFromSchemaWrapper))};return({schema:r})=>{let n=CPe(r,e);return[new Ee({key:new Qe("prosekit-clipboard-serializer"),props:{clipboardSerializer:n}})]}},singleton:!0,parent:As});var EPe=Cr({reducer:t=>({commands:Object.assign({},...t)}),parent:tE,singleton:!0});function io(t){return _i(EPe,[t])}var DQ=Cr({reducer:t=>{let e=Ii.from({}),r=Ii.from({}),n;for(let i of t)e=e.append(i.nodes),r=r.append(i.marks??{}),n=n??i.topNode;return{nodes:e,marks:r,topNode:n}},parent:L6,singleton:!0});function NQ(t,e){let r={};for(let n of t){let i=e(n);(r[i]||(r[i]=[])).push(n)}return r}function FQ(t){let e={};for(let[r,n]of t)(e[r]||(e[r]=[])).push(n);return e}function TPe(t){let e={};for(let[r,n]of Object.entries(t))n!==void 0&&(e[r]=n);return e}function PQ(...t){let e=t.filter(Oi).map(TPe);return Object.assign({},...e)}function $Q(t,e){let r={},n=new Set([...Object.keys(t.attrs??{}),...Object.keys(e.attrs??{})]);for(let s of n){let a=t.attrs?.[s],o=e.attrs?.[s],l=PQ(a,o);l&&(r[s]=l)}let i=[...t.parseDOM??[],...e.parseDOM??[]];return PQ(t,e,{attrs:r,parseDOM:i})}function jQ(t,e){return(r,...n)=>{let i=t(r,...n),s=e.map(a=>a.toDOM?.(r.attrs[a.attr])).filter(Oi);return APe(i,s)}}function VQ(t,e){let r=t.getAttrs,n=t.attrs;return{...t,getAttrs:i=>{let s=r?.(i)??n??{};if(s===!1||!i||!y0(i))return s??null;let a={};for(let o of e)o.parseDOM&&(a[o.attr]=o.parseDOM(i));return{...s,...a}}}}function APe(t,e){if(!t)return t;if(Array.isArray(t)){let r=t.slice(1),n;r.length>0&&(r[0]==null||typeof r[0]=="object")?n=r.shift():n={};let i=LPe(n,e);return[t[0],i,...r]}return y0(t)?OQ(t,e):typeof t=="object"&&"dom"in t&&y0(t.dom)?{...t,dom:OQ(t.dom,e)}:t}function LPe(t,e){t={...t};for(let[r,n]of e){let i=t[r],s=r==="style"?qQ(n,typeof i=="string"?i:""):n;t[r]=s}return t}function OQ(t,e){t=t.cloneNode(!0);for(let[r,n]of e){let i=t.getAttribute(r),s=r==="style"?qQ(n,typeof i=="string"?i:""):n;t.setAttribute(r,s)}return t}function qQ(...t){return t.map(e=>e.trim().replace(/;$/,"")).filter(Boolean).join("; ")}function gh(t){return _i(IPe,[[t,void 0]])}var IPe=Cr({reducer:t=>{let e=Ii.from({}),r,n=t.map(a=>a[0]).filter(Oi),i=t.map(a=>a[1]).filter(Oi);for(let{name:a,topNode:o,...l}of n){o&&(r=a);let c=e.get(a);c?e=e.update(a,$Q(c,l)):e=e.addToStart(a,l)}let s=NQ(i,a=>a.type);for(let[a,o]of Object.entries(s)){if(!o)continue;let l=e.get(a);$r(l,`Node type ${a} must be defined`);let c=iE(l);c.attrs||(c.attrs={});for(let u of o)c.attrs[u.attr]={default:u.default,validate:u.validate,splittable:u.splittable};c.toDOM&&(c.toDOM=jQ(c.toDOM,o)),c.parseDOM&&(c.parseDOM=c.parseDOM.map(u=>VQ(u,o))),e=e.update(a,c)}return{nodes:e,topNode:r}},parent:DQ,singleton:!0});function BQ(){return gh({name:"doc",content:"block+",topNode:!0})}function UQ(t){return zQ(["mount",t])}function U6(t){return zQ(["update",t])}function zQ(t){return _i(RPe,[t])}var RPe=Cr({reduce:()=>{let t=[],e=[],r=[],n=new Ee({key:MPe,view:s=>(t.forEach(a=>a(s)),{update:(a,o)=>{e.forEach(l=>l(a,o))},destroy:()=>{r.forEach(a=>a())}})}),i=s=>{t=[],e=[],r=[];for(let a of s)switch(a[0]){case"mount":t.push(a[1]);break;case"update":e.push(a[1]);break;case"unmount":r.push(a[1]);break}};return function(a){return i(a),n}},parent:As,singleton:!0}),MPe=new Qe("prosekit-plugin-view-handler");function HQ(t){return U6((e,r)=>{e.state.doc.eq(r.doc)||t(e,r)})}function Ni(){let t=[];function e(n){t=I6(n)}function r(...n){for(let i of t)if(i(...n))return!0;return!1}return[e,r]}var Sot=Cr({reduce:()=>{let t={},e={},r,n=i=>{let s=!1;for(let[o]of i)if(!t[o]){s=!0;let[l,c]=Ni();t[o]=l;let u=(d,f)=>c(d,f);e[o]=u}let a=FQ(i);for(let[o,l]of Object.entries(t)){let c=a[o]??[];l(c)}s&&(r=new Ee({key:new Qe("prosekit-dom-event-handler"),props:{handleDOMEvents:e}}))};return function(s){return n(s),r??[]}},parent:As,singleton:!0});function PPe(t){return _i(OPe,[t])}function GQ(t){return PPe(["clickOn",t])}var OPe=Cr({reduce:()=>{let[t,e]=_Pe();return r=>(t(r),e)},parent:As,singleton:!0});function _Pe(){let[t,e]=Ni(),[r,n]=Ni(),[i,s]=Ni(),[a,o]=Ni(),[l,c]=Ni(),[u,d]=Ni(),[f,p]=Ni(),[h,g]=Ni(),[v,y]=Ni(),[b,w]=Ni(),[x,A]=Ni(),[O,S]=Ni(),k=I=>{let R=FQ(I);t(R.keyDown??[]),r(R.keyPress??[]),i(R.textInput??[]),a(R.clickOn??[]),l(R.click??[]),u(R.doubleClickOn??[]),f(R.doubleClick??[]),h(R.tripleClickOn??[]),v(R.tripleClick??[]),b(R.paste??[]),x(R.drop??[]),O(R.scrollToSelection??[])},E=new Ee({key:new Qe("prosekit-editor-event"),props:{handleKeyDown:e,handleKeyPress:n,handleTextInput:s,handleClickOn:o,handleClick:c,handleDoubleClickOn:d,handleDoubleClick:p,handleTripleClickOn:g,handleTripleClick:y,handlePaste:w,handleDrop:A,handleScrollToSelection:S}});return[k,E]}var z6=typeof navigator<"u"?/Mac|iP(hone|[ao]d)/.test(navigator.platform):!1;function Wd(t){return _i(DPe,[t])}var DPe=Cr({reduce:()=>{let t,e=(n,i)=>t?t(n,i):!1,r=new Ee({key:$Pe,props:{handleKeyDown:e}});return n=>(t=dE(NPe(I6(n))),r)},parent:As,singleton:!0});function NPe(t){let e={};for(let r of t)for(let[n,i]of Object.entries(r))(e[n]||(e[n]=[])).push(i);return p0(e,FPe)}function FPe(t){return to(...t)}var $Pe=new Qe("prosekit-keymap"),WQ={"Mod-z":lE,"Shift-Mod-z":k0};z6||(WQ["Mod-y"]=k0);var jPe={undo:()=>lE,redo:()=>k0};function KQ({depth:t=200,newGroupDelay:e=250}={}){return Di(Dn(TQ({depth:t,newGroupDelay:e})),Wd(WQ),io(jPe))}var VPe=to(b0,w0,x0,IQ),qPe=to(nE,gQ,D6),Mot={...SQ,Enter:VPe,Backspace:qPe};function hE(t){return _i(BPe,[[t,void 0]])}var BPe=Cr({reducer:t=>{let e=Ii.from({}),r=t.map(s=>s[0]).filter(Oi),n=t.map(s=>s[1]).filter(Oi);for(let{name:s,...a}of r){let o=e.get(s);o?e=e.update(s,$Q(o,a)):e=e.addToStart(s,a)}let i=NQ(n,s=>s.type);for(let[s,a]of Object.entries(i)){if(!a)continue;let o=e.get(s);$r(o,`Mark type ${s} must be defined`);let l=iE(o);l.attrs||(l.attrs={});for(let c of a)l.attrs[c.attr]={default:c.default,validate:c.validate};l.toDOM&&(l.toDOM=jQ(l.toDOM,a)),l.parseDOM&&(l.parseDOM=l.parseDOM.map(c=>UPe(c,a))),e=e.update(s,l)}return{marks:e,nodes:{}}},parent:DQ,singleton:!0});function UPe(t,e){return t.tag?VQ(t,e):t}var Dot=Cr({reducer:t=>{let e={};for(let r of t)e[r.name]||(e[r.name]=r.constructor);return()=>[new Ee({key:new Qe("prosekit-mark-view"),props:{markViews:e}})]},parent:As});function YQ(t){return _i(HPe,[[t,null]])}var zPe=typeof window>"u",HPe=Cr({reducer:t=>{if(zPe)return[];let e={},r=t.map(i=>i[0]).filter(Oi),n=t.map(i=>i[1]).filter(Oi);for(let{group:i,name:s,args:a}of n){let o=r.find(l=>l.group===i);o&&(e[s]=o.factory(a))}return()=>[new Ee({key:new Qe("prosekit-mark-view-effect"),props:{markViews:e}})]},parent:As});var $ot=Cr({reducer:t=>{let e={};for(let r of t)e[r.name]||(e[r.name]=r.constructor);return()=>[new Ee({key:new Qe("prosekit-node-view"),props:{nodeViews:e}})]},parent:As});function XQ(t){return _i(WPe,[[t,null]])}var GPe=typeof window>"u",WPe=Cr({reducer:t=>{if(GPe)return[];let e={},r=t.map(i=>i[0]).filter(Oi),n=t.map(i=>i[1]).filter(Oi);for(let{group:i,name:s,args:a}of n){let o=r.find(l=>l.group===i);o&&(e[s]=o.factory(a))}return()=>[new Ee({key:new Qe("prosekit-node-view-effect"),props:{nodeViews:e}})]},parent:As});function QQ(){return gh({name:"text",group:"inline"})}function KPe(t){let e;return()=>(e===void 0&&(e=t()),e)}var mE=KPe(()=>{try{return"ab".replace(new RegExp("(?<=a)b","g"),"c")==="ac"}catch{return!1}});function JQ(t,...e){return typeof t=="function"?t(...e):t}var gE=z(he(),1),ZQ=(0,gE.createContext)(null);function H6(){return(0,gE.useContext)(ZQ)}var eJ=ZQ.Provider;var Oe=z(he(),1);var tJ=t=>{throw TypeError(t)},YPe=(t,e,r)=>e.has(t)||tJ("Cannot "+r),Y6=(t,e,r)=>e.has(t)?tJ("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),C0=(t,e,r)=>(YPe(t,e,"access private method"),r),yE,G6,bE=class{constructor({mark:e,view:r,inline:n,options:i}){Y6(this,yE),this.shouldIgnoreMutation=s=>!this.dom||!this.contentDOM?!0:s.type==="selection"?!1:this.contentDOM===s.target&&s.type==="attributes"?!0:!this.contentDOM.contains(s.target),this.ignoreMutation=s=>{if(!this.dom||!this.contentDOM)return!0;let a,o=this.options.ignoreMutation;return o&&(a=o(s)),typeof a!="boolean"&&(a=this.shouldIgnoreMutation(s)),a},this.destroy=()=>{var s,a;(a=(s=this.options).destroy)==null||a.call(s),this.dom.remove(),this.contentDOM.remove()},this.mark=e,this.view=r,this.inline=n,this.options=i,this.dom=this.createDOM(i.as),this.contentDOM=this.createContentDOM(i.contentAs),this.dom.setAttribute("data-mark-view-root","true"),this.contentDOM.setAttribute("data-mark-view-content","true"),this.contentDOM.style.whiteSpace="inherit"}createDOM(e){return C0(this,yE,G6).call(this,e)}createContentDOM(e){return C0(this,yE,G6).call(this,e)}get component(){return this.options.component}};yE=new WeakSet,G6=function(t){let{inline:e,mark:r}=this;return t==null?document.createElement(e?"span":"div"):t instanceof HTMLElement?t:t instanceof Function?t(r):document.createElement(t)};var vE,W6,wE=class{constructor({node:e,view:r,getPos:n,decorations:i,innerDecorations:s,options:a}){Y6(this,vE),this.selected=!1,this.selectNode=()=>{var o,l;this.selected=!0,(l=(o=this.options).selectNode)==null||l.call(o)},this.deselectNode=()=>{var o,l;this.selected=!1,(l=(o=this.options).deselectNode)==null||l.call(o)},this.shouldUpdate=o=>!(o.type!==this.node.type||o.sameMarkup(this.node)&&o.content.eq(this.node.content)),this.update=(o,l,c)=>{var u,d;let f=this.options.update,p;return f&&(p=f(o,l,c)),typeof p!="boolean"&&(p=this.shouldUpdate(o)),this.node=o,this.decorations=l,this.innerDecorations=c,p&&((d=(u=this.options).onUpdate)==null||d.call(u)),p},this.shouldIgnoreMutation=o=>!this.dom||!this.contentDOM||this.node.isLeaf||this.node.isAtom?!0:o.type==="selection"?!1:this.contentDOM===o.target&&o.type==="attributes"?!0:!this.contentDOM.contains(o.target),this.ignoreMutation=o=>{if(!this.dom||!this.contentDOM)return!0;let l,c=this.options.ignoreMutation;return c&&(l=c(o)),typeof l!="boolean"&&(l=this.shouldIgnoreMutation(o)),l},this.destroy=()=>{var o,l,c;(l=(o=this.options).destroy)==null||l.call(o),this.dom.remove(),(c=this.contentDOM)==null||c.remove()},this.setAttrs=o=>{let{dispatch:l,state:c}=this.view,u=this.getPos();if(typeof u=="number")return l(c.tr.setNodeMarkup(u,void 0,{...this.node.attrs,...o}))},this.node=e,this.view=r,this.getPos=n,this.decorations=i,this.innerDecorations=s,this.options=a,this.dom=this.createDOM(a.as),this.contentDOM=e.isLeaf?null:this.createContentDOM(a.contentAs),this.dom.setAttribute("data-node-view-root","true"),this.contentDOM&&(this.contentDOM.setAttribute("data-node-view-content","true"),this.contentDOM.style.whiteSpace="inherit"),this.setSelection=a.setSelection,this.stopEvent=a.stopEvent}createDOM(e){return C0(this,vE,W6).call(this,e)}createContentDOM(e){return C0(this,vE,W6).call(this,e)}get component(){return this.options.component}};vE=new WeakSet,W6=function(t){let{node:e}=this;return t==null?document.createElement(e.isInline?"span":"div"):t instanceof HTMLElement?t:t instanceof Function?t(e):document.createElement(t)};var xE=class{constructor(e){this.view=e.view,this.options=e.options}get component(){return this.options.component}get root(){var e,r;let n=(r=(e=this.options).root)==null?void 0:r.call(e,this.view.dom);return n||(n=this.view.dom.parentElement??document.body),n}update(e,r){var n,i;this.view=e,this.prevState=r,(i=(n=this.options).update)==null||i.call(n,e,r)}destroy(){var e,r;(r=(e=this.options).destroy)==null||r.call(e)}},K6,rJ,SE=class{constructor({pos:e,spec:r,options:n}){Y6(this,K6),this.pos=e,this.options=n,this.spec=r,this.dom=C0(this,K6,rJ).call(this,n.as),this.dom.setAttribute("data-widget-view-root","true")}bind(e,r){this.view=e,this.getPos=r}get component(){return this.options.component}};K6=new WeakSet,rJ=function(t){return t instanceof HTMLElement?t:document.createElement(t)};var Kd=z(Pu(),1);var XPe=(0,Oe.createContext)({contentRef:()=>{},view:null,mark:null});var nJ=(0,Oe.createContext)(t=>{throw new Error("No ProsemirrorAdapterProvider detected, maybe you need to wrap the component with the Editor with ProsemirrorAdapterProvider?")}),iJ=()=>(0,Oe.useContext)(nJ),X6=class extends bE{constructor(){super(...arguments),this.key=xr(),this.context={contentRef:e=>{e&&this.contentDOM&&e.firstChild!==this.contentDOM&&e.appendChild(this.contentDOM)},view:this.view,mark:this.mark},this.updateContext=()=>{Object.assign(this.context,{mark:this.mark})},this.render=()=>{let e=this.component;return(0,Kd.createPortal)(Oe.default.createElement(XPe.Provider,{value:this.context},Oe.default.createElement(e,null)),this.dom,this.key)}}},QPe=(0,Oe.createContext)({contentRef:()=>{},view:null,getPos:()=>0,setAttrs:()=>{},node:null,selected:!1,decorations:[],innerDecorations:null});var sJ=(0,Oe.createContext)(t=>{throw new Error("No ProsemirrorAdapterProvider detected, maybe you need to wrap the component with the Editor with ProsemirrorAdapterProvider?")}),aJ=()=>(0,Oe.useContext)(sJ),Q6=class extends wE{constructor(){super(...arguments),this.key=xr(),this.context={contentRef:e=>{e&&this.contentDOM&&e.firstChild!==this.contentDOM&&e.appendChild(this.contentDOM)},view:this.view,getPos:this.getPos,setAttrs:this.setAttrs,node:this.node,selected:this.selected,decorations:this.decorations,innerDecorations:this.innerDecorations},this.updateContext=()=>{Object.assign(this.context,{node:this.node,selected:this.selected,decorations:this.decorations,innerDecorations:this.innerDecorations})},this.render=()=>{let e=this.component;return(0,Kd.createPortal)(Oe.default.createElement(QPe.Provider,{value:this.context},Oe.default.createElement(e,null)),this.dom,this.key)}}},JPe=(0,Oe.createContext)({view:null});var ZPe=(0,Oe.createContext)(t=>{throw new Error("out of scope")});var J6=class extends xE{constructor(){super(...arguments),this.key=xr(),this.context={view:this.view,prevState:this.prevState},this.updateContext=()=>{Object.assign(this.context,{view:this.view,prevState:this.prevState})},this.render=()=>{let e=this.component;return(0,Kd.createPortal)(Oe.default.createElement(JPe.Provider,{value:this.context},Oe.default.createElement(e,null)),this.root,this.key)}}};function eOe(t,e){return(0,Oe.useCallback)(r=>(n,i,s)=>{let a=new X6({mark:n,view:i,inline:s,options:{...r,destroy(){var o;(o=r.destroy)==null||o.call(r),e(a)}}});return t(a,!1),a},[e,t])}function tOe(t,e){return(0,Oe.useCallback)(r=>(n,i,s,a,o)=>{let l=new Q6({node:n,view:i,getPos:s,decorations:a,innerDecorations:o,options:{...r,onUpdate(){var c;(c=r.onUpdate)==null||c.call(r),t(l)},selectNode(){var c;(c=r.selectNode)==null||c.call(r),t(l)},deselectNode(){var c;(c=r.deselectNode)==null||c.call(r),t(l)},destroy(){var c;(c=r.destroy)==null||c.call(r),e(l)}}});return t(l,!1),l},[e,t])}function rOe(t,e){return(0,Oe.useCallback)(r=>n=>{let i=new J6({view:n,options:{...r,update:(s,a)=>{var o;(o=r.update)==null||o.call(r,s,a),t(i)},destroy:()=>{var s;(s=r.destroy)==null||s.call(r),e(i)}}});return t(i,!1),i},[e,t])}function nOe(){let[t,e]=(0,Oe.useState)({}),r=(0,Oe.useRef)(!1);(0,Oe.useEffect)(()=>(requestAnimationFrame(()=>{r.current=!0}),()=>{r.current=!1}),[]);let n=(0,Oe.useCallback)(a=>{r.current?(0,Kd.flushSync)(a):a()},[]),i=(0,Oe.useCallback)((a,o=!0)=>{n(()=>{o&&a.updateContext(),e(l=>({...l,[a.key]:a.render()}))})},[n]),s=(0,Oe.useCallback)(a=>{n(()=>{e(o=>{let l={...o};return delete l[a.key],l})})},[n]);return{portals:t,renderReactRenderer:i,removeReactRenderer:s}}var iOe=(0,Oe.createContext)({view:null,getPos:()=>{}});var sOe=(0,Oe.createContext)(t=>{throw new Error("out of scope")});var Z6=class extends SE{constructor(){super(...arguments),this.key=xr(),this.context={view:this.view,getPos:this.getPos,spec:this.spec},this.updateContext=()=>{Object.assign(this.context,{view:this.view,getPos:this.getPos,spec:this.spec})},this.render=()=>{let e=this.component;return(0,Kd.createPortal)(Oe.default.createElement(iOe.Provider,{value:this.context},Oe.default.createElement(e,null)),this.dom,this.key)}}};function aOe(t,e){return(0,Oe.useCallback)(r=>(n,i={})=>{let s=new Z6({pos:n,options:r}),a={...i,destroy:o=>{var l;(l=i.destroy)==null||l.call(i,o),e(s)}};return s.spec=a,kr.widget(n,(o,l)=>(s.bind(o,l),t(s),s.dom),a)},[e,t])}var oJ=({children:t})=>{let{renderReactRenderer:e,removeReactRenderer:r,portals:n}=nOe(),i=tOe(e,r),s=eOe(e,r),a=rOe(e,r),o=aOe(e,r),l=(0,Oe.useMemo)(()=>Object.values(n),[n]);return Oe.default.createElement(sJ.Provider,{value:i},Oe.default.createElement(nJ.Provider,{value:s},Oe.default.createElement(ZPe.Provider,{value:a},Oe.default.createElement(sOe.Provider,{value:o},t,l))))};var E0=z(he(),1);var eD=z(he(),1);var lJ=z(he(),1);var cJ=z(he(),1);var tD=z(he(),1);var dJ=z(he(),1);var kE=z(he(),1);var hOe=z(he(),1);var mOe=z(he(),1);function oOe(t,e){if(!t)throw new A6;(0,lJ.useEffect)(()=>{if(e)return t.use(e)},[t,e])}function lOe(t,e){return(0,cJ.useMemo)(()=>t&&e?_Q(t,e):t,[t,e])}function Yd(t,e){let r=H6();oOe(e?.editor||r,lOe(t,e?.priority))}var cOe=()=>{let t=iJ(),e=(0,eD.useMemo)(()=>uOe(t),[t]);return Yd(e),null};function uOe(t){return YQ({group:"react",factory:t})}var dOe=()=>{let t=aJ(),e=(0,tD.useMemo)(()=>fOe(t),[t]);return Yd(e),null};function fOe(t){return XQ({group:"react",factory:t})}var uJ=t=>{let{editor:e,children:r}=t;return(0,E0.createElement)(oJ,null,(0,E0.createElement)(eJ,{value:e},(0,E0.createElement)(dOe),(0,E0.createElement)(cOe),r))};function fJ(t,e){let r=(0,dJ.useMemo)(()=>HQ(n=>t(n.state.doc)),[t]);return Yd(r,e)}function rD(t){let e=t?.update??!1,r=H6();if(!r)throw new ni("useEditor must be used within the ProseKit component");let n=pOe();return(0,kE.useEffect)(()=>{if(e){let i=Di(UQ(n),U6(n));return r.use(i)}},[r,e,n]),r}function pOe(){let[,t]=(0,kE.useReducer)(e=>e+1,0);return t}var A0=class{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&!(this.regexp&&!bOe(this.search)),this.wholeWord=!!e.wholeWord,this.filter=e.filter||null,this.impl=this.valid?this.regexp?new sD(this):new iD(this):gOe}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}findNext(e,r=0,n=e.doc.content.size){for(;;){if(r>=n)return null;let i=this.impl.findNext(e,r,n);if(!i||this.checkResult(e,i))return i;r=i.from+1}}findPrev(e,r=e.doc.content.size,n=0){for(;;){if(r<=n)return null;let i=this.impl.findPrev(e,r,n);if(!i||this.checkResult(e,i))return i;r=i.to-1}}checkResult(e,r){return(!this.wholeWord||hJ(e,r.from)&&hJ(e,r.to))&&(!this.filter||this.filter(e,r))}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(r,n)=>n=="n"?`
`:n=="r"?"\r":n=="t"?"	":"\\")}getReplacements(e,r){let n=e.doc.resolve(r.from),i=n.marksAcross(e.doc.resolve(r.to)),s=[],a=J.empty,o=r.from,{match:l}=r,c=l?yOe(l):[[0,r.to-r.from]],u=vOe(this.unquote(this.replace)),d;for(let f of u)if(typeof f=="string")a=a.addToEnd(e.schema.text(f,i));else if(d=c[f.group]){let p=n.depth;for(;p>0&&n.node(p).isInline;)p--;let h=n.start(p)+d[0],g=n.start(p)+d[1];f.copy?a=a.append(e.doc.slice(h,g).content):((a!=J.empty||h>o)&&(s.push({from:o,to:h,insert:new ee(a,0,0)}),a=J.empty),o=g)}return(a!=J.empty||o<r.to)&&s.push({from:o,to:r.to,insert:new ee(a,0,0)}),s}},gOe=new class{findNext(){return null}findPrev(){return null}},iD=class{constructor(e){this.query=e;let r=e.unquote(e.search);e.caseSensitive||(r=r.toLowerCase()),this.string=r}findNext(e,r,n){return vh(e.doc,r,n,(i,s)=>{let a=Math.max(r,s),o=L0(i).slice(a-s,Math.min(i.content.size,n-s)),l=(this.query.caseSensitive?o:o.toLowerCase()).indexOf(this.string);return l<0?null:{from:a+l,to:a+l+this.string.length,match:null}})}findPrev(e,r,n){return vh(e.doc,r,n,(i,s)=>{let a=Math.max(s,n),o=L0(i).slice(a-s,Math.min(i.content.size,r-s));this.query.caseSensitive||(o=o.toLowerCase());let l=o.lastIndexOf(this.string);return l<0?null:{from:a+l,to:a+l+this.string.length,match:null}})}},mJ="g"+(/x/.unicode==null?"":"u")+(/x/.hasIndices==null?"":"d"),sD=class{constructor(e){this.query=e,this.regexp=new RegExp(e.search,mJ+(e.caseSensitive?"":"i"))}findNext(e,r,n){return vh(e.doc,r,n,(i,s)=>{let a=L0(i).slice(0,Math.min(i.content.size,n-s));this.regexp.lastIndex=r-s;let o=this.regexp.exec(a);return o?{from:s+o.index,to:s+o.index+o[0].length,match:o}:null})}findPrev(e,r,n){return vh(e.doc,r,n,(i,s)=>{let a=L0(i).slice(0,Math.min(i.content.size,r-s)),o;for(let l=0;;){this.regexp.lastIndex=l;let c=this.regexp.exec(a);if(!c)break;o=c,l=c.index+1}return o?{from:s+o.index,to:s+o.index+o[0].length,match:o}:null})}};function yOe(t){if(t.indices)return t.indices;let e=[[0,t[0].length]];for(let r=1,n=0;r<t.length;r++){let i=t[r]?t[0].indexOf(t[r],n):-1;e.push(i<0?void 0:[i,n=i+t[r].length])}return e}function vOe(t){let e=[],r=-1;function n(i){let s=e.length-1;s>-1&&typeof e[s]=="string"?e[s]+=i:e.push(i)}for(;t.length;){let i=/\$([$&\d+])/.exec(t);if(!i)return n(t),e;if(i.index>0&&n(t.slice(0,i.index+(i[1]=="$"?1:0))),i[1]!="$"){let s=i[1]=="&"?0:+i[1];r>=s?e.push({group:s,copy:!0}):(r=s||1e3,e.push({group:s,copy:!1}))}t=t.slice(i.index+i[0].length)}return e}function bOe(t){try{return new RegExp(t,mJ),!0}catch{return!1}}var pJ=new WeakMap;function L0(t){let e=pJ.get(t);if(e)return e;let r="";for(let n=0;n<t.childCount;n++){let i=t.child(n);i.isText?r+=i.text:i.isLeaf?r+="\uFFFC":r+=" "+L0(i)+" "}return pJ.set(t,r),r}function vh(t,e,r,n,i=0){if(t.inlineContent)return n(t,i);if(!t.isLeaf)if(e>r)for(let s=t.childCount-1,a=i+t.content.size;s>=0&&a>r;s--){let o=t.child(s);if(a-=o.nodeSize,a<e){let l=vh(o,e,r,n,a+1);if(l!=null)return l}}else for(let s=0,a=i;s<t.childCount&&a<r;s++){let o=t.child(s),l=a;if(a+=o.nodeSize,a>e){let c=vh(o,e,r,n,l+1);if(c!=null)return c}}return null}function hJ(t,e){let r=t.doc.resolve(e),n=r.nodeBefore,i=r.nodeAfter;return!n||!i||!n.isText||!i.isText?!0:!/\p{L}$/u.test(n.text)||!/^\p{L}/u.test(i.text)}var T0=class{constructor(e,r,n){this.query=e,this.range=r,this.deco=n}};function nD(t,e,r){if(!e.valid)return Zt.empty;let n=[],i=t.selection;for(let s=r?r.from:0,a=r?r.to:t.doc.content.size;;){let o=e.findNext(t,s,a);if(!o)break;let l=o.from==i.from&&o.to==i.to?"ProseMirror-active-search-match":"ProseMirror-search-match";n.push(kr.inline(o.from,o.to,{class:l})),s=o.to}return Zt.create(t.doc,n)}var yh=new Qe("search");function gJ(t={}){return new Ee({key:yh,state:{init(e,r){let n=t.initialQuery||new A0({search:""}),i=t.initialRange||null;return new T0(n,i,nD(r,n,i))},apply(e,r,n,i){let s=e.getMeta(yh);if(s)return new T0(s.query,s.range,nD(i,s.query,s.range));if(e.docChanged||e.selectionSet){let a=r.range;if(a){let o=e.mapping.map(a.from,1),l=e.mapping.map(a.to,-1);a=o<l?{from:o,to:l}:null}r=new T0(r.query,a,nD(i,r.query,a))}return r}},props:{decorations:e=>yh.getState(e).deco}})}function aD(t,e,r,n,i){let s=t.range||{from:0,to:e.doc.content.size},a=t.query.findNext(e,Math.max(i,s.from),s.to);return!a&&r&&(a=t.query.findNext(e,s.from,Math.min(n,s.to))),a}function wOe(t,e,r,n,i){let s=t.range||{from:0,to:e.doc.content.size},a=t.query.findPrev(e,Math.min(n,s.to),s.from);return!a&&r&&(a=t.query.findPrev(e,s.to,Math.max(i,s.from))),a}function CE(t,e){return(r,n)=>{let i=yh.getState(r);if(!i||!i.query.valid)return!1;let{from:s,to:a}=r.selection,o=e>0?aD(i,r,t,s,a):wOe(i,r,t,s,a);if(!o)return!1;let l=Fe.create(r.doc,o.from,o.to);return n&&n(r.tr.setSelection(l).scrollIntoView()),!0}}var yJ=CE(!0,1),vJ=CE(!1,1),bJ=CE(!0,-1),wJ=CE(!1,-1);function oD(t,e){return(r,n)=>{let i=yh.getState(r);if(!i||!i.query.valid)return!1;let{from:s}=r.selection,a=aD(i,r,t,s,s);if(!a)return!1;if(!n)return!0;if(r.selection.from==a.from&&r.selection.to==a.to){let o=r.tr,l=i.query.getReplacements(r,a);for(let u=l.length-1;u>=0;u--){let{from:d,to:f,insert:p}=l[u];o.replace(d,f,p)}let c=e&&aD(i,r,t,a.from,a.to);c?o.setSelection(Fe.create(o.doc,o.mapping.map(c.from,1),o.mapping.map(c.to,-1))):o.setSelection(Fe.create(o.doc,a.from,o.mapping.map(a.to,1))),n(o.scrollIntoView())}else if(e)n(r.tr.setSelection(Fe.create(r.doc,a.from,a.to)).scrollIntoView());else return!1;return!0}}var xJ=oD(!0,!0),SJ=oD(!1,!0),kJ=oD(!1,!1),CJ=(t,e)=>{let r=yh.getState(t);if(!r)return!1;let n=[],i=r.range||{from:0,to:t.doc.content.size};for(let s=i.from;;){let a=r.query.findNext(t,s,i.to);if(!a)break;n.push(a),s=a.to}if(e){let s=t.tr;for(let a=n.length-1;a>=0;a--){let o=n[a],l=r.query.getReplacements(t,o);for(let c=l.length-1;c>=0;c--){let{from:u,to:d,insert:f}=l[c];s.replace(u,d,f)}}e(s)}return!0};function EJ(t){let e=new A0(t);return Dn(gJ({initialQuery:e}))}function xOe(t){if(t.isDestroyed)return;t.dom.querySelector(".ProseMirror-active-search-match")?.scrollIntoView({block:"nearest",inline:"nearest",behavior:"smooth"})}function xc(t){return(e,r,n)=>{let i=t(e,r,n);return i&&r&&n&&setTimeout(()=>xOe(n),50),i}}function TJ(){return io({findNext:()=>xc(yJ),findPrev:()=>xc(bJ),findNextNoWrap:()=>xc(vJ),findPrevNoWrap:()=>xc(wJ),replaceNext:()=>xc(xJ),replaceNextNoWrap:()=>xc(SJ),replaceCurrent:()=>xc(kJ),replaceAll:()=>xc(CJ)})}var so=class{constructor(e,r,n={}){this.match=e,this.match=e,this.handler=typeof r=="string"?SOe(r):r,this.undoable=n.undoable!==!1,this.inCode=n.inCode||!1,this.inCodeMark=n.inCodeMark!==!1}};function SOe(t){return function(e,r,n,i){let s=t;if(r[1]){let a=r[0].lastIndexOf(r[1]);s+=r[0].slice(a+r[1].length),n+=a;let o=n-i;o>0&&(s=r[0].slice(a-o,a)+s,n=i)}return e.tr.insertText(s,n,i)}}var kOe=500;function LJ({rules:t}){let e=new Ee({state:{init(){return null},apply(r,n){let i=r.getMeta(this);return i||(r.selectionSet||r.docChanged?null:n)}},props:{handleTextInput(r,n,i,s){return AJ(r,n,i,s,t,e)},handleDOMEvents:{compositionend:r=>{setTimeout(()=>{let{$cursor:n}=r.state.selection;n&&AJ(r,n.pos,n.pos,"",t,e)})}}},isInputRules:!0});return e}function AJ(t,e,r,n,i,s){if(t.composing)return!1;let a=t.state,o=a.doc.resolve(e),l=o.parent.textBetween(Math.max(0,o.parentOffset-kOe),o.parentOffset,null,"\uFFFC")+n;for(let c=0;c<i.length;c++){let u=i[c];if(!u.inCodeMark&&o.marks().some(p=>p.type.spec.code))continue;if(o.parent.type.spec.code){if(!u.inCode)continue}else if(u.inCode==="only")continue;let d=u.match.exec(l),f=d&&d[0].length>=n.length&&u.handler(a,d,e-(d[0].length-n.length),r);if(f)return u.undoable&&f.setMeta(s,{transform:f,from:e,to:r,text:n}),t.dispatch(f),!0}return!1}var blt=new so(/--$/,"\u2014",{inCodeMark:!1}),wlt=new so(/\.\.\.$/,"\u2026",{inCodeMark:!1}),xlt=new so(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201C",{inCodeMark:!1}),Slt=new so(/"$/,"\u201D",{inCodeMark:!1}),klt=new so(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018",{inCodeMark:!1}),Clt=new so(/'$/,"\u2019",{inCodeMark:!1});function COe(t){return TOe(()=>t)}function EOe({regex:t,type:e,attrs:r=null}){return new so(t,(i,s,a,o)=>{let{tr:l,schema:c}=i,[u,d]=s;if(!d)return null;let f=a+u.indexOf(d),p=f+d.length;if(!(a<=f&&f<p&&p<=o))return null;let h=m0(c,e),g=h.create(JQ(r,s));if(!rE(l.doc,f,p,h,r))return null;let v=l.storedMarks??[];return l.addMark(f,p,g),p<o&&l.delete(p,o),a<f&&l.delete(a,f),l.setStoredMarks(v),l})}function EE(t){return COe(EOe(t))}function TOe(t){return _i(AOe,[t])}var AOe=Cr({reducer:t=>e=>{let r=t.flatMap(n=>n(e));return[LJ({rules:r})]},parent:As});function LOe(){return io({toggleBold:()=>wc({type:"bold"})})}function IOe(){return EE({regex:mE()?/(?<=\s|^)\*\*([^\s*]|[^\s*][^*]*[^\s*])\*\*$/:/\*\*([^\s*]|[^\s*][^*]*[^\s*])\*\*$/,type:"bold"})}function ROe(){return Wd({"Mod-b":wc({type:"bold"})})}function MOe(){return hE({name:"bold",parseDOM:[{tag:"strong"},{tag:"b",getAttrs:t=>typeof t!="string"&&t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name=="strong"},{style:"font-weight",getAttrs:t=>typeof t=="string"&&/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}],toDOM(){return["strong",0]}})}function IJ(){return Di(MOe(),LOe(),ROe(),IOe())}function RJ(t={}){return new Ee({view(e){return new lD(e,t)}})}var lD=class{constructor(e,r){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=a=>{this[i](a)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:r})=>this.editorView.dom.removeEventListener(e,r))}update(e,r){this.cursorPos!=null&&r.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),r=!e.parent.inlineContent,n;if(r){let o=e.nodeBefore,l=e.nodeAfter;if(o||l){let c=this.editorView.nodeDOM(this.cursorPos-(o?o.nodeSize:0));if(c){let u=c.getBoundingClientRect(),d=o?u.bottom:u.top;o&&l&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),n={left:u.left,right:u.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!n){let o=this.editorView.coordsAtPos(this.cursorPos);n={left:o.left-this.width/2,right:o.left+this.width/2,top:o.top,bottom:o.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let s,a;if(!i||i==document.body&&getComputedStyle(i).position=="static")s=-pageXOffset,a=-pageYOffset;else{let o=i.getBoundingClientRect();s=o.left-i.scrollLeft,a=o.top-i.scrollTop}this.element.style.left=n.left-s+"px",this.element.style.top=n.top-a+"px",this.element.style.width=n.right-n.left+"px",this.element.style.height=n.bottom-n.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),i=n&&n.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,r,e):i;if(r&&!s){let a=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let o=FC(this.editorView.state.doc,a,this.editorView.dragging.slice);o!=null&&(a=o)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}};function MJ(t){return Dn(()=>RJ(t))}var hn=class t extends Ce{constructor(e){super(e,e)}map(e,r){let n=e.resolve(r.map(this.head));return t.valid(n)?new t(n):Ce.near(n)}content(){return ee.empty}eq(e){return e instanceof t&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new t(e.resolve(r.pos))}getBookmark(){return new cD(this.anchor)}static valid(e){let r=e.parent;if(r.isTextblock||!POe(e)||!OOe(e))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let i=r.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,r,n=!1){e:for(;;){if(!n&&t.valid(e))return e;let i=e.pos,s=null;for(let a=e.depth;;a--){let o=e.node(a);if(r>0?e.indexAfter(a)<o.childCount:e.index(a)>0){s=o.child(r>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;i+=r;let l=e.doc.resolve(i);if(t.valid(l))return l}for(;;){let a=r>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!we.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*r),n=!1;continue e}break}s=a,i+=r;let o=e.doc.resolve(i);if(t.valid(o))return o}return null}}};hn.prototype.visible=!1;hn.findFrom=hn.findGapCursorFrom;Ce.jsonID("gapcursor",hn);var cD=class t{constructor(e){this.pos=e}map(e){return new t(e.map(this.pos))}resolve(e){let r=e.resolve(this.pos);return hn.valid(r)?new hn(r):Ce.near(r)}};function POe(t){for(let e=t.depth;e>=0;e--){let r=t.index(e),n=t.node(e);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let i=n.child(r-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function OOe(t){for(let e=t.depth;e>=0;e--){let r=t.indexAfter(e),n=t.node(e);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let i=n.child(r);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function PJ(){return new Ee({props:{decorations:FOe,createSelectionBetween(t,e,r){return e.pos==r.pos&&hn.valid(r)?new hn(r):null},handleClick:DOe,handleKeyDown:_Oe,handleDOMEvents:{beforeinput:NOe}}})}var _Oe=dE({ArrowLeft:TE("horiz",-1),ArrowRight:TE("horiz",1),ArrowUp:TE("vert",-1),ArrowDown:TE("vert",1)});function TE(t,e){let r=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,i,s){let a=n.selection,o=e>0?a.$to:a.$from,l=a.empty;if(a instanceof Fe){if(!s.endOfTextblock(r)||o.depth==0)return!1;l=!1,o=n.doc.resolve(e>0?o.after():o.before())}let c=hn.findGapCursorFrom(o,e,l);return c?(i&&i(n.tr.setSelection(new hn(c))),!0):!1}}function DOe(t,e,r){if(!t||!t.editable)return!1;let n=t.state.doc.resolve(e);if(!hn.valid(n))return!1;let i=t.posAtCoords({left:r.clientX,top:r.clientY});return i&&i.inside>-1&&we.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new hn(n))),!0)}function NOe(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof hn))return!1;let{$from:r}=t.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(t.state.schema.nodes.text);if(!n)return!1;let i=J.empty;for(let a=n.length-1;a>=0;a--)i=J.from(n[a].createAndFill(null,i));let s=t.state.tr.replace(r.pos,r.pos,new ee(i,0,0));return s.setSelection(Fe.near(s.doc.resolve(r.pos+1))),t.dispatch(s),!1}function FOe(t){if(!(t.selection instanceof hn))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Zt.create(t.doc,[kr.widget(t.selection.head,e,{key:"gapcursor"})])}function OJ(){return Dn(()=>PJ())}function $Oe(){return io({toggleItalic:()=>wc({type:"italic"})})}function jOe(){return EE({regex:mE()?/(?<=\s|^)\*([^\s*]|[^\s*][^*]*[^\s*])\*$/:/\*([^\s*]|[^\s*][^*]*[^\s*])\*$/,type:"italic"})}function VOe(){return Wd({"Mod-i":wc({type:"italic"})})}function qOe(){return hE({name:"italic",parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:t=>t.type.name==="italic"}],toDOM(){return["em",0]}})}function _J(){return Di(qOe(),$Oe(),VOe(),jOe())}function DJ(){return Dn(new Ee({key:BOe,props:{handleClick:UOe}}))}var BOe=new Qe("prosekit-mod-click-prevention");function UOe(t,e,r){return!!r[zOe]}var zOe=z6?"metaKey":"ctrlKey";function FJ(){return Dn(WOe)}var AE=new Qe("prosekit-virtual-selection");function HOe(t){return t.getMeta(AE)}function NJ(t,e){return t.setMeta(AE,e)}function GOe(t){return AE.getState(t)}var WOe=new Ee({key:AE,state:{init:()=>!1,apply:(t,e)=>HOe(t)??e},props:{handleDOMEvents:{focus:t=>{t.dispatch(NJ(t.state.tr,!1))},blur:t=>{let{dom:e,root:r}=t;r.activeElement!==e&&t.dispatch(NJ(t.state.tr,!0))}},decorations:t=>{let{selection:e,doc:r}=t;return e.empty||!GOe(t)?null:Zt.create(r,[kr.inline(e.from,e.to,{class:"prosekit-virtual-selection"})])}}});var KOe=Math.pow(10,8)*24*60*60*1e3,fct=-KOe;var $J=864e5,jJ=6e4,VJ=36e5;var YOe=3600;var qJ=YOe*24,pct=qJ*7,XOe=qJ*365.2425,QOe=XOe/12,hct=QOe*3,uD=Symbol.for("constructDateFrom");function Fi(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&uD in t?t[uD](e):t instanceof Date?new t.constructor(e):new Date(e)}function qt(t,e){return Fi(e||t,t)}function BJ(t,e,r){let n=qt(t,r?.in);return isNaN(e)?Fi(r?.in||t,NaN):(e&&n.setDate(n.getDate()+e),n)}function UJ(t,e,r){let n=qt(t,r?.in);if(isNaN(e))return Fi(r?.in||t,NaN);if(!e)return n;let i=n.getDate(),s=Fi(r?.in||t,n.getTime());s.setMonth(n.getMonth()+e+1,0);let a=s.getDate();return i>=a?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function bh(t,e,r){let{years:n=0,months:i=0,weeks:s=0,days:a=0,hours:o=0,minutes:l=0,seconds:c=0}=e,u=qt(t,r?.in),d=i||n?UJ(u,i+n*12):u,f=a||s?BJ(d,a+s*7):d,p=l+o*60,g=(c+p*60)*1e3;return Fi(r?.in||t,+f+g)}function zJ(t,e,r){return Fi(r?.in||t,+qt(t)+e)}function dD(t){let e=qt(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function mn(t,...e){let r=Fi.bind(null,t||e.find(n=>typeof n=="object"));return e.map(r)}function fD(t,e){let r=qt(t,e?.in);return r.setHours(0,0,0,0),r}function HJ(t,e,r){let[n,i]=mn(r?.in,t,e),s=fD(n),a=fD(i),o=+s-dD(s),l=+a-dD(a);return Math.round((o-l)/$J)}function GJ(t,e,r){return zJ(t,e*1e3,r)}function Xd(t,e){let r=+qt(t)-+qt(e);return r<0?-1:r>0?1:r}function WJ(t,e,r){let[n,i]=mn(r?.in,t,e),s=n.getFullYear()-i.getFullYear(),a=n.getMonth()-i.getMonth();return s*12+a}function KJ(t,e,r){let[n,i]=mn(r?.in,t,e);return n.getFullYear()-i.getFullYear()}function XJ(t,e,r){let[n,i]=mn(r?.in,t,e),s=YJ(n,i),a=Math.abs(HJ(n,i));n.setDate(n.getDate()-s*a);let o=+(YJ(n,i)===-s),l=s*(a-o);return l===0?0:l}function YJ(t,e){let r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function wh(t){return e=>{let n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function QJ(t,e,r){let[n,i]=mn(r?.in,t,e),s=(+n-+i)/VJ;return wh(r?.roundingMethod)(s)}function LE(t,e){return+qt(t)-+qt(e)}function JJ(t,e,r){let n=LE(t,e)/jJ;return wh(r?.roundingMethod)(n)}function ZJ(t,e){let r=qt(t,e?.in);return r.setHours(23,59,59,999),r}function eZ(t,e){let r=qt(t,e?.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function tZ(t,e){let r=qt(t,e?.in);return+ZJ(r,e)==+eZ(r,e)}function rZ(t,e,r){let[n,i,s]=mn(r?.in,t,t,e),a=Xd(i,s),o=Math.abs(WJ(i,s));if(o<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-a*o);let l=Xd(i,s)===-a;tZ(n)&&o===1&&Xd(n,s)===1&&(l=!1);let c=a*(o-+l);return c===0?0:c}function nZ(t,e,r){let n=LE(t,e)/1e3;return wh(r?.roundingMethod)(n)}function iZ(t,e,r){let[n,i]=mn(r?.in,t,e),s=Xd(n,i),a=Math.abs(KJ(n,i));n.setFullYear(1584),i.setFullYear(1584);let o=Xd(n,i)===-s,l=s*(a-+o);return l===0?0:l}function sZ(t,e){let[r,n]=mn(t,e.start,e.end);return{start:r,end:n}}function IE(t,e){let{start:r,end:n}=sZ(e?.in,t),i={},s=iZ(n,r);s&&(i.years=s);let a=bh(r,{years:i.years}),o=rZ(n,a);o&&(i.months=o);let l=bh(a,{months:i.months}),c=XJ(n,l);c&&(i.days=c);let u=bh(l,{days:i.days}),d=QJ(n,u);d&&(i.hours=d);let f=bh(u,{hours:i.hours}),p=JJ(n,f);p&&(i.minutes=p);let h=bh(f,{minutes:i.minutes}),g=nZ(n,h);return g&&(i.seconds=g),i}I0();var I_e=Object.defineProperty,wZ=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),xZ=t=>{throw TypeError(t)},R_e=(t,e,r)=>e in t?I_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,DE=(t,e,r)=>R_e(t,typeof e!="symbol"?e+"":e,r),SZ=(t,e,r)=>{if(e!=null){typeof e!="object"&&typeof e!="function"&&xZ("Object expected");var n,i;r&&(n=e[wZ("asyncDispose")]),n===void 0&&(n=e[wZ("dispose")],r&&(i=n)),typeof n!="function"&&xZ("Object not disposable"),i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.push([r,n,e])}else r&&t.push([r]);return e},kZ=(t,e,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(a,o,l,c){return c=Error(l),c.name="SuppressedError",c.error=a,c.suppressed=o,c},i=a=>e=r?new n(a,e,"An error was suppressed during disposal"):(r=!0,a),s=a=>{for(;a=t.pop();)try{var o=a[1]&&a[1].call(a[2]);if(a[0])return Promise.resolve(o).then(s,l=>(i(l),s()))}catch(l){i(l)}if(r)throw e};return s()},CZ={exports:{}},P0={};var EZ;function M_e(){if(EZ)return P0;EZ=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var o in i)o!=="key"&&(s[o]=i[o])}else s=i;return i=s.ref,{$$typeof:t,type:n,key:a,ref:i!==void 0?i:null,props:s}}return P0.Fragment=e,P0.jsx=r,P0.jsxs=r,P0}var TZ;function P_e(){return TZ||(TZ=1,CZ.exports=M_e()),CZ.exports}var m=P_e(),V0={},AZ=(t,e)=>t.unstable_is?t.unstable_is(e):e===t,LZ=t=>"init"in t,xD=t=>!!t.write,IZ=t=>"v"in t||"e"in t,NE=t=>{if("e"in t)throw t.e;if((V0?"production":void 0)!=="production"&&!("v"in t))throw new Error("[Bug] atom state is not initialized");return t.v},HE=new WeakMap,RZ=t=>{var e;return GE(t)&&!!((e=HE.get(t))!=null&&e[0])},O_e=t=>{let e=HE.get(t);e!=null&&e[0]&&(e[0]=!1,e[1].forEach(r=>r()))},wee=(t,e)=>{let r=HE.get(t);if(!r){r=[!0,new Set],HE.set(t,r);let n=()=>{r[0]=!1};t.then(n,n)}r[1].add(e)},GE=t=>typeof t?.then=="function",xee=(t,e,r)=>{r.p.has(t)||(r.p.add(t),e.then(()=>{r.p.delete(t)},()=>{r.p.delete(t)}))},SD=(t,e,r)=>{let n=r(t),i="v"in n,s=n.v;if(GE(e))for(let a of n.d.keys())xee(t,e,r(a));n.v=e,delete n.e,(!i||!Object.is(s,n.v))&&(++n.n,GE(s)&&O_e(s))},MZ=(t,e,r)=>{var n;let i=new Set;for(let s of((n=r.get(t))==null?void 0:n.t)||[])r.has(s)&&i.add(s);for(let s of e.p)i.add(s);return i},__e=()=>{let t=new Set,e=()=>{t.forEach(r=>r())};return e.add=r=>(t.add(r),()=>{t.delete(r)}),e},kD=()=>{let t={},e=new WeakMap,r=n=>{var i,s;(i=e.get(t))==null||i.forEach(a=>a(n)),(s=e.get(n))==null||s.forEach(a=>a())};return r.add=(n,i)=>{let s=n||t,a=(e.has(s)?e:e.set(s,new Set)).get(s);return a.add(i),()=>{a?.delete(i),a.size||e.delete(s)}},r},D_e=t=>(t.c||(t.c=kD()),t.m||(t.m=kD()),t.u||(t.u=kD()),t.f||(t.f=__e()),t),N_e=Symbol(),F_e=(t=new WeakMap,e=new WeakMap,r=new WeakMap,n=new Set,i=new Set,s=new Set,a={},o=(f,...p)=>f.read(...p),l=(f,...p)=>f.write(...p),c=(f,p)=>{var h;return(h=f.unstable_onInit)==null?void 0:h.call(f,p)},u=(f,p)=>{var h;return(h=f.onMount)==null?void 0:h.call(f,p)},...d)=>{let f=d[0]||(S=>{if((V0?"production":void 0)!=="production"&&!S)throw new Error("Atom is undefined or null");let k=t.get(S);return k||(k={d:new Map,p:new Set,n:0},t.set(S,k),c?.(S,O)),k}),p=d[1]||(()=>{let S=[],k=E=>{try{E()}catch(I){S.push(I)}};do{a.f&&k(a.f);let E=new Set,I=E.add.bind(E);n.forEach(R=>{var T;return(T=e.get(R))==null?void 0:T.l.forEach(I)}),n.clear(),s.forEach(I),s.clear(),i.forEach(I),i.clear(),E.forEach(k),n.size&&h()}while(n.size||s.size||i.size);if(S.length)throw new AggregateError(S)}),h=d[2]||(()=>{let S=[],k=new WeakSet,E=new WeakSet,I=Array.from(n);for(;I.length;){let R=I[I.length-1],T=f(R);if(E.has(R)){I.pop();continue}if(k.has(R)){if(r.get(R)===T.n)S.push([R,T]);else if((V0?"production":void 0)!=="production"&&r.has(R))throw new Error("[Bug] invalidated atom exists");E.add(R),I.pop();continue}k.add(R);for(let _ of MZ(R,T,e))k.has(_)||I.push(_)}for(let R=S.length-1;R>=0;--R){let[T,_]=S[R],F=!1;for(let Y of _.d.keys())if(Y!==T&&n.has(Y)){F=!0;break}F&&(g(T),b(T)),r.delete(T)}}),g=d[3]||(S=>{var k;let E=f(S);if(IZ(E)&&(e.has(S)&&r.get(S)!==E.n||Array.from(E.d).every(([D,U])=>g(D).n===U)))return E;E.d.clear();let I=!0,R=()=>{e.has(S)&&(b(S),h(),p())},T=D=>{var U;if(AZ(S,D)){let De=f(D);if(!IZ(De))if(LZ(D))SD(D,D.init,f);else throw new Error("no atom init");return NE(De)}let ue=g(D);try{return NE(ue)}finally{E.d.set(D,ue.n),RZ(E.v)&&xee(S,E.v,ue),(U=e.get(D))==null||U.t.add(S),I||R()}},_,F,Y={get signal(){return _||(_=new AbortController),_.signal},get setSelf(){return(V0?"production":void 0)!=="production"&&!xD(S)&&console.warn("setSelf function cannot be used with read-only atom"),!F&&xD(S)&&(F=(...D)=>{if((V0?"production":void 0)!=="production"&&I&&console.warn("setSelf function cannot be called in sync"),!I)try{return y(S,...D)}finally{h(),p()}}),F}},H=E.n;try{let D=o(S,T,Y);return SD(S,D,f),GE(D)&&(wee(D,()=>_?.abort()),D.then(R,R)),E}catch(D){return delete E.v,E.e=D,++E.n,E}finally{I=!1,H!==E.n&&r.get(S)===H&&(r.set(S,E.n),n.add(S),(k=a.c)==null||k.call(a,S))}}),v=d[4]||(S=>{let k=[S];for(;k.length;){let E=k.pop(),I=f(E);for(let R of MZ(E,I,e)){let T=f(R);r.set(R,T.n),k.push(R)}}}),y=d[5]||((S,...k)=>{let E=!0,I=T=>NE(g(T)),R=(T,..._)=>{var F;let Y=f(T);try{if(AZ(S,T)){if(!LZ(T))throw new Error("atom not writable");let H=Y.n,D=_[0];SD(T,D,f),b(T),H!==Y.n&&(n.add(T),(F=a.c)==null||F.call(a,T),v(T));return}else return y(T,..._)}finally{E||(h(),p())}};try{return l(S,I,R,...k)}finally{E=!1}}),b=d[6]||(S=>{var k;let E=f(S),I=e.get(S);if(I&&!RZ(E.v)){for(let[R,T]of E.d)if(!I.d.has(R)){let _=f(R);w(R).t.add(S),I.d.add(R),T!==_.n&&(n.add(R),(k=a.c)==null||k.call(a,R),v(R))}for(let R of I.d||[])if(!E.d.has(R)){I.d.delete(R);let T=x(R);T?.t.delete(S)}}}),w=d[7]||(S=>{var k;let E=f(S),I=e.get(S);if(!I){g(S);for(let R of E.d.keys())w(R).t.add(S);if(I={l:new Set,d:new Set(E.d.keys()),t:new Set},e.set(S,I),(k=a.m)==null||k.call(a,S),xD(S)){let R=()=>{let T=!0,_=(...F)=>{try{return y(S,...F)}finally{T||(h(),p())}};try{let F=u(S,_);F&&(I.u=()=>{T=!0;try{F()}finally{T=!1}})}finally{T=!1}};i.add(R)}}return I}),x=d[8]||(S=>{var k;let E=f(S),I=e.get(S);if(I&&!I.l.size&&!Array.from(I.t).some(R=>{var T;return(T=e.get(R))==null?void 0:T.d.has(S)})){I.u&&s.add(I.u),I=void 0,e.delete(S),(k=a.u)==null||k.call(a,S);for(let R of E.d.keys()){let T=x(R);T?.t.delete(S)}return}return I}),A=[t,e,r,n,i,s,a,o,l,c,u,f,p,h,g,v,y,b,w,x],O={get:S=>NE(g(S)),set:(S,...k)=>{try{return y(S,...k)}finally{h(),p()}},sub:(S,k)=>{let E=w(S).l;return E.add(k),p(),()=>{E.delete(k),x(S),p()}}};return Object.defineProperty(O,N_e,{value:A}),O},See=F_e,$_e=D_e,PZ=wee,YD={},j_e=0;function Ic(t,e){let r=`atom${++j_e}`,n={toString(){return(YD?"production":void 0)!=="production"&&this.debugLabel?r+":"+this.debugLabel:r}};return typeof t=="function"?n.read=t:(n.init=t,n.read=V_e,n.write=q_e),e&&(n.write=e),n}function V_e(t){return t(this)}function q_e(t,e,r){return e(this,typeof r=="function"?r(t(this)):r)}var B_e=()=>{let t=0,e=$_e({}),r=new WeakMap,n=new WeakMap,i=See(r,n,void 0,void 0,void 0,void 0,e,void 0,(a,o,l,...c)=>t?l(a,...c):a.write(o,l,...c)),s=new Set;return e.m.add(void 0,a=>{s.add(a);let o=r.get(a);o.m=n.get(a)}),e.u.add(void 0,a=>{s.delete(a);let o=r.get(a);delete o.m}),Object.assign(i,{dev4_get_internal_weak_map:()=>r,dev4_get_mounted_atoms:()=>s,dev4_restore_atoms:a=>{let o={read:()=>null,write:(l,c)=>{++t;try{for(let[u,d]of a)"init"in u&&c(u,d)}finally{--t}}};i.set(o)}})};function kee(){return(YD?"production":void 0)!=="production"?B_e():See()}var O0;function U_e(){return O0||(O0=kee(),(YD?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=O0),globalThis.__JOTAI_DEFAULT_STORE__!==O0&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),O0}var z_e={},Cee=(0,$.createContext)(void 0);function sT(t){return(0,$.useContext)(Cee)||U_e()}function H_e({children:t,store:e}){let r=(0,$.useRef)(void 0);return!e&&!r.current&&(r.current=kee()),(0,$.createElement)(Cee.Provider,{value:e||r.current},t)}var Eee=t=>typeof t?.then=="function",G_e=t=>{t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e})},W_e=$.default.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(G_e(t),t)}),CD=new WeakMap,K_e=(t,e)=>{let r=CD.get(t);return r||(r=new Promise((n,i)=>{let s=t,a=c=>u=>{s===c&&n(u)},o=c=>u=>{s===c&&i(u)},l=()=>{try{let c=e();Eee(c)?(CD.set(c,r),s=c,c.then(a(c),o(c)),PZ(c,l)):n(c)}catch(c){i(c)}};t.then(a(t),o(t)),PZ(t,l)}),CD.set(t,r)),r};function XD(t,e){let r=sT(),[[n,i,s],a]=(0,$.useReducer)(l=>{let c=r.get(t);return Object.is(l[0],c)&&l[1]===r&&l[2]===t?l:[c,r,t]},void 0,()=>[r.get(t),r,t]),o=n;if((i!==r||s!==t)&&(a(),o=r.get(t)),(0,$.useEffect)(()=>{let l=r.sub(t,()=>{a()});return a(),l},[r,t,void 0]),(0,$.useDebugValue)(o),Eee(o)){let l=K_e(o,()=>r.get(t));return W_e(l)}return o}function DD(t,e){let r=sT();return(0,$.useCallback)((...n)=>{if((z_e?"production":void 0)!=="production"&&!("write"in t))throw new Error("not writable atom");return r.set(t,...n)},[r,t])}function Y_e(t,e){return[XD(t),DD(t)]}function X_e(t){let e=Ic(0),r=Ic(()=>({i:0}),(l,c)=>{let u=l(r);return Object.assign(u,{m:!0,peek:l,set:c}),c(e,d=>d+1),()=>{u.m=!1,a(u),o(u)}});r.onMount=l=>l();let n=Ic(l=>{l(e);let c=l(r);if(!c.m||c.irc||c.i&&!c.irf)return c.p;o(c);let u=new Map,d=g=>{let v=l(g);return u.set(g,v),v};d.peek=c.peek;let f=(...g)=>{try{return++c.i,c.set(...g)}finally{Array.from(u.keys(),l),--c.i}};f.recurse=(g,...v)=>{if(!c.fc)try{return c.irc=!0,c.set(g,...v)}finally{c.irc=!1,Array.from(u).some(p)&&s(c)}};function p([g,v]){return l(g)!==v}++c.i;function h(){try{if(c.irf=!1,!c.m)return;a(c),c.c=i.effect(d,f)}catch(g){c.e=g,s(c)}finally{c.p=void 0,--c.i}}return c.irf?h():c.p=Promise.resolve().then(h)}),i=Ic(l=>void l(n));return i.effect=t,i;function s(l){try{l.irf=!0,l.set(e,c=>c+1)}finally{l.irf=!1}}function a(l){if(typeof l.c=="function")try{l.fc=!0,l.c()}finally{l.fc=!1,l.c=void 0}}function o(l){if("e"in l){let c=l.e;throw delete l.e,c}}}function ND(t){let e=t.getBoundingClientRect();return e.width===0?1:t.width/e.width}function ED(t,e){let r=e.getBoundingClientRect(),n=e.width/r.width,i=e.height/r.height,s,a;if(t instanceof TouchEvent){let o=t.touches[0]||t.changedTouches[0];if(!o)throw new Error("Touch event without touch data");s=o.clientX,a=o.clientY}else s=t.clientX,a=t.clientY;return{x:(s-r.left)*n,y:(a-r.top)*i}}function Q_e(t,e,{format:r="image/png",quality:n}={}){let i=Math.abs(e.width),s=Math.abs(e.height),a=document.createElement("canvas");a.width=i,a.height=s;let o=a.getContext("2d");return{blob:new Promise(l=>{if(!o){l(null);return}o.drawImage(t,e.x,e.y,e.width,e.height,0,0,e.width,e.height),a.toBlob(c=>{l(c)},r,n)}),rect:e}}function J_e({canvas:t,image:e,selection:r,scale:n}){let i=t.getContext("2d");if(i&&(i.clearRect(0,0,t.width,t.height),i.drawImage(e,0,0),r)){i.fillStyle="rgba(0, 0, 0, 0.5)",i.fillRect(0,0,t.width,t.height),i.clearRect(r.x,r.y,r.width,r.height),i.drawImage(e,r.x,r.y,r.width,r.height,r.x,r.y,r.width,r.height);let s=l=>l*n;i.strokeStyle="#ffffff",i.lineWidth=s(3),i.strokeRect(r.x,r.y,r.width,r.height),i.strokeStyle="#3b82f6",i.lineWidth=s(1),i.strokeRect(r.x,r.y,r.width,r.height);let a=s(10),o=[{x:r.x-a/2,y:r.y-a/2},{x:r.x+r.width-a/2,y:r.y-a/2},{x:r.x-a/2,y:r.y+r.height-a/2},{x:r.x+r.width-a/2,y:r.y+r.height-a/2},{x:r.x+r.width/2-a/2,y:r.y-a/2},{x:r.x+r.width/2-a/2,y:r.y+r.height-a/2},{x:r.x-a/2,y:r.y+r.height/2-a/2},{x:r.x+r.width-a/2,y:r.y+r.height/2-a/2}];i.fillStyle="#ffffff";for(let l of o)i.fillRect(l.x,l.y,a,a);i.strokeStyle="#3b82f6",i.lineWidth=2;for(let l of o)i.strokeRect(l.x,l.y,a,a)}}function Z_e(t){switch(t){case"topLeft":case"bottomRight":return"nwse-resize";case"topRight":case"bottomLeft":return"nesw-resize";case"topCenter":case"bottomCenter":case"topEdge":case"bottomEdge":return"ns-resize";case"leftCenter":case"rightCenter":case"leftEdge":case"rightEdge":return"ew-resize";default:return"crosshair"}}function OZ(t,e,r,n){if(!r)return null;let i=l=>l*n,s=i(10)/2,a=i(8),o=[{type:"topLeft",x:r.x,y:r.y},{type:"topRight",x:r.x+r.width,y:r.y},{type:"bottomLeft",x:r.x,y:r.y+r.height},{type:"bottomRight",x:r.x+r.width,y:r.y+r.height},{type:"topCenter",x:r.x+r.width/2,y:r.y},{type:"bottomCenter",x:r.x+r.width/2,y:r.y+r.height},{type:"leftCenter",x:r.x,y:r.y+r.height/2},{type:"rightCenter",x:r.x+r.width,y:r.y+r.height/2}];for(let l of o)if(Math.abs(t-l.x)<=s&&Math.abs(e-l.y)<=s)return l.type;return t>=r.x&&t<=r.x+r.width&&Math.abs(e-r.y)<=a?"topEdge":t>=r.x&&t<=r.x+r.width&&Math.abs(e-(r.y+r.height))<=a?"bottomEdge":e>=r.y&&e<=r.y+r.height&&Math.abs(t-r.x)<=a?"leftEdge":e>=r.y&&e<=r.y+r.height&&Math.abs(t-(r.x+r.width))<=a?"rightEdge":null}function _Z(t,e,r){return r?t>=r.x&&t<=r.x+r.width&&e>=r.y&&e<=r.y+r.height:!1}var Tee=(0,$.createContext)(null);function e6e(){let t=(0,$.use)(Tee);if(!t)throw new Error("ImageClipper components must be used within ImageClipper.Root");return t}var Jd=Ic(null),QD=Ic(null),Ah=Ic(null),t6e=X_e(t=>{let e=t(Ah),r=t(QD),n=t(Jd);if(e&&r){e.width=r.naturalWidth,e.height=r.naturalHeight;let i=ND(e);J_e({selection:n,canvas:e,image:r,scale:i})}}),BE=Ic("crosshair");function r6e(){let t=sT(),e=(0,$.useRef)({mode:"none",handle:null,startX:0,startY:0});return(0,$.useMemo)(()=>{let r=(i,s)=>{let a=t.get(Jd),o=t.get(Ah);if(!o)return;let l=ND(o),c=OZ(i,s,a,l);c?t.set(BE,Z_e(c)):_Z(i,s,a)?t.set(BE,"move"):t.set(BE,"crosshair")},n=i=>{t.set(Jd,i)};return{handleInteractionStart:i=>{i.preventDefault();let s=t.get(Ah),a=t.get(Jd);if(!s)return;let o=ED(i.nativeEvent,s),l=ND(s),c=OZ(o.x,o.y,a,l);e.current.startX=o.x,e.current.startY=o.y,c?(e.current.mode="resizing",e.current.handle=c):_Z(o.x,o.y,a)?e.current.mode="moving":(e.current.mode="drawing",n({x:o.x,y:o.y,width:0,height:0}))},handleInteractionMove:i=>{i.preventDefault();let s=t.get(Ah),a=t.get(Jd);if(!s||e.current.mode==="none")return;let o=ED(i.nativeEvent,s),{mode:l,handle:c,startX:u,startY:d}=e.current;if(l==="drawing")n(f=>{let p=e.current.startX,h=e.current.startY,g=Math.min(p,o.x),v=Math.min(h,o.y),y=Math.max(p,o.x),b=Math.max(h,o.y);return{x:g,y:v,width:y-g,height:b-v}});else if(l==="moving"&&a){let f=o.x-u,p=o.y-d;n(h=>h?{...h,x:Math.max(0,Math.min(s.width-h.width,h.x+f)),y:Math.max(0,Math.min(s.height-h.height,h.y+p))}:null),e.current.startX=o.x,e.current.startY=o.y}else l==="resizing"&&c&&a&&n(f=>{if(!f)return null;let p={...f};switch(c){case"topLeft":p.width+=p.x-o.x,p.height+=p.y-o.y,p.x=o.x,p.y=o.y;break;case"topRight":p.width=o.x-p.x,p.height+=p.y-o.y,p.y=o.y;break;case"bottomLeft":p.width+=p.x-o.x,p.height=o.y-p.y,p.x=o.x;break;case"bottomRight":p.width=o.x-p.x,p.height=o.y-p.y;break;case"topCenter":case"topEdge":p.height+=p.y-o.y,p.y=o.y;break;case"bottomCenter":case"bottomEdge":p.height=o.y-p.y;break;case"leftCenter":case"leftEdge":p.width+=p.x-o.x,p.x=o.x;break;case"rightCenter":case"rightEdge":p.width=o.x-p.x;break}return p.width<0&&(p.x+=p.width,p.width=-p.width),p.height<0&&(p.y+=p.height,p.height=-p.height),p})},handleInteractionEnd:i=>{i.preventDefault(),e.current.mode="none",e.current.handle=null,n(s=>!s||s.width===0||s.height===0?null:s)},handleMouseHover:i=>{if(e.current.mode==="none"){let s=t.get(Ah);if(!s)return;let a=ED(i.nativeEvent,s);r(a.x,a.y)}}}},[t])}var n6e=({className:t,onMouseDown:e,onMouseMove:r,onMouseUp:n,onTouchStart:i,onTouchMove:s,onTouchEnd:a,style:o,...l})=>{Y_e(t6e);let c=DD(QD),u=DD(Ah),{imageBlob:d}=e6e(),{handleInteractionStart:f,handleInteractionMove:p,handleInteractionEnd:h,handleMouseHover:g}=r6e(),v=XD(BE);return(0,$.useEffect)(()=>{if(!d)return;let y=new Image,b=URL.createObjectURL(d);return y.onload=()=>{c(y)},y.src=b,()=>{URL.revokeObjectURL(b)}},[d,c]),m.jsx("canvas",{ref:u,className:t,style:{cursor:v,touchAction:"none",...o},onMouseDown:y=>{e?.(y),f(y)},onMouseMove:y=>{r?.(y),p(y),g(y)},onMouseUp:y=>{n?.(y),h(y)},onTouchStart:y=>{i?.(y),f(y)},onTouchMove:y=>{s?.(y),p(y)},onTouchEnd:y=>{a?.(y),h(y)},...l})};function DZ(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function i6e(...t){return e=>{let r=!1,n=t.map(i=>{let s=DZ(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){let s=n[i];typeof s=="function"?s():DZ(t[i],null)}}}}function s6e(t){let e=a6e(t),r=N.forwardRef((n,i)=>{let{children:s,...a}=n,o=N.Children.toArray(s),l=o.find(l6e);if(l){let c=l.props.children,u=o.map(d=>d===l?N.Children.count(c)>1?N.Children.only(null):N.isValidElement(c)?c.props.children:null:d);return m.jsx(e,{...a,ref:i,children:N.isValidElement(c)?N.cloneElement(c,void 0,u):null})}return m.jsx(e,{...a,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}var aT=s6e("Slot");function a6e(t){let e=N.forwardRef((r,n)=>{let{children:i,...s}=r;if(N.isValidElement(i)){let a=u6e(i),o=c6e(s,i.props);return i.type!==N.Fragment&&(o.ref=n?i6e(n,a):a),N.cloneElement(i,o)}return N.Children.count(i)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var o6e=Symbol("radix.slottable");function l6e(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===o6e}function c6e(t,e){let r={...e};for(let n in e){let i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...a)=>{s(...a),i(...a)}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function u6e(t){var e,r;let n=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,i=n&&"isReactWarning"in n&&n.isReactWarning;return i?t.ref:(n=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,i=n&&"isReactWarning"in n&&n.isReactWarning,i?t.props.ref:t.props.ref||t.ref)}function Aee(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=Aee(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Lee(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=Aee(t))&&(n&&(n+=" "),n+=e);return n}var NZ=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,FZ=Lee,oT=(t,e)=>r=>{var n;if(e?.variants==null)return FZ(t,r?.class,r?.className);let{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(c=>{let u=r?.[c],d=s?.[c];if(u===null)return null;let f=NZ(u)||NZ(d);return i[c][f]}),o=r&&Object.entries(r).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:d,className:f,...p}=u;return Object.entries(p).every(h=>{let[g,v]=h;return Array.isArray(v)?v.includes({...s,...o}[g]):{...s,...o}[g]===v})?[...c,d,f]:c},[]);return FZ(t,a,l,r?.class,r?.className)},JD="-",d6e=t=>{let e=p6e(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:i=>{let s=i.split(JD);return s[0]===""&&s.length!==1&&s.shift(),Iee(s,e)||f6e(i)},getConflictingClassGroupIds:(i,s)=>{let a=r[i]||[];return s&&n[i]?[...a,...n[i]]:a}}},Iee=(t,e)=>{var r;if(t.length===0)return e.classGroupId;let n=t[0],i=e.nextPart.get(n),s=i?Iee(t.slice(1),i):void 0;if(s)return s;if(e.validators.length===0)return;let a=t.join(JD);return(r=e.validators.find(({validator:o})=>o(a)))==null?void 0:r.classGroupId},$Z=/^\[(.+)\]$/,f6e=t=>{if($Z.test(t)){let e=$Z.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},p6e=t=>{let{theme:e,classGroups:r}=t,n={nextPart:new Map,validators:[]};for(let i in r)FD(r[i],n,i,e);return n},FD=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){let s=i===""?e:jZ(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(h6e(i)){FD(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,a])=>{FD(a,jZ(e,s),r,n)})})},jZ=(t,e)=>{let r=t;return e.split(JD).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},h6e=t=>t.isThemeGetter,m6e=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map,i=(s,a)=>{r.set(s,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let a=r.get(s);if(a!==void 0)return a;if((a=n.get(s))!==void 0)return i(s,a),a},set(s,a){r.has(s)?r.set(s,a):i(s,a)}}},$D="!",jD=":",g6e=jD.length,y6e=t=>{let{prefix:e,experimentalParseClassName:r}=t,n=i=>{let s=[],a=0,o=0,l=0,c;for(let h=0;h<i.length;h++){let g=i[h];if(a===0&&o===0){if(g===jD){s.push(i.slice(l,h)),l=h+g6e;continue}if(g==="/"){c=h;continue}}g==="["?a++:g==="]"?a--:g==="("?o++:g===")"&&o--}let u=s.length===0?i:i.substring(l),d=v6e(u),f=d!==u,p=c&&c>l?c-l:void 0;return{modifiers:s,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:p}};if(e){let i=e+jD,s=n;n=a=>a.startsWith(i)?s(a.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(r){let i=n;n=s=>r({className:s,parseClassName:i})}return n},v6e=t=>t.endsWith($D)?t.substring(0,t.length-1):t.startsWith($D)?t.substring(1):t,b6e=t=>{let e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;let n=[],i=[];return r.forEach(s=>{s[0]==="["||e[s]?(n.push(...i.sort(),s),i=[]):i.push(s)}),n.push(...i.sort()),n}},w6e=t=>({cache:m6e(t.cacheSize),parseClassName:y6e(t),sortModifiers:b6e(t),...d6e(t)}),x6e=/\s+/,S6e=(t,e)=>{let{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:s}=e,a=[],o=t.trim().split(x6e),l="";for(let c=o.length-1;c>=0;c-=1){let u=o[c],{isExternal:d,modifiers:f,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:g}=r(u);if(d){l=u+(l.length>0?" "+l:l);continue}let v=!!g,y=n(v?h.substring(0,g):h);if(!y){if(!v){l=u+(l.length>0?" "+l:l);continue}if(y=n(h),!y){l=u+(l.length>0?" "+l:l);continue}v=!1}let b=s(f).join(":"),w=p?b+$D:b,x=w+y;if(a.includes(x))continue;a.push(x);let A=i(y,v);for(let O=0;O<A.length;++O){let S=A[O];a.push(w+S)}l=u+(l.length>0?" "+l:l)}return l};function k6e(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Ree(e))&&(n&&(n+=" "),n+=r);return n}var Ree=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Ree(t[n]))&&(r&&(r+=" "),r+=e);return r};function C6e(t,...e){let r,n,i,s=a;function a(l){let c=e.reduce((u,d)=>d(u),t());return r=w6e(c),n=r.cache.get,i=r.cache.set,s=o,o(l)}function o(l){let c=n(l);if(c)return c;let u=S6e(l,r);return i(l,u),u}return function(){return s(k6e.apply(null,arguments))}}var Er=t=>{let e=r=>r[t]||[];return e.isThemeGetter=!0,e},Mee=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Pee=/^\((?:(\w[\w-]*):)?(.+)\)$/i,E6e=/^\d+\/\d+$/,T6e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,A6e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,L6e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,I6e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,R6e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ch=t=>E6e.test(t),$e=t=>!!t&&!Number.isNaN(Number(t)),Cc=t=>!!t&&Number.isInteger(Number(t)),TD=t=>t.endsWith("%")&&$e(t.slice(0,-1)),ol=t=>T6e.test(t),M6e=()=>!0,P6e=t=>A6e.test(t)&&!L6e.test(t),Oee=()=>!1,O6e=t=>I6e.test(t),_6e=t=>R6e.test(t),D6e=t=>!ae(t)&&!oe(t),N6e=t=>Mh(t,Nee,Oee),ae=t=>Mee.test(t),Qd=t=>Mh(t,Fee,P6e),AD=t=>Mh(t,q6e,$e),VZ=t=>Mh(t,_ee,Oee),F6e=t=>Mh(t,Dee,_6e),FE=t=>Mh(t,$ee,O6e),oe=t=>Pee.test(t),_0=t=>Ph(t,Fee),$6e=t=>Ph(t,B6e),qZ=t=>Ph(t,_ee),j6e=t=>Ph(t,Nee),V6e=t=>Ph(t,Dee),$E=t=>Ph(t,$ee,!0),Mh=(t,e,r)=>{let n=Mee.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},Ph=(t,e,r=!1)=>{let n=Pee.exec(t);return n?n[1]?e(n[1]):r:!1},_ee=t=>t==="position"||t==="percentage",Dee=t=>t==="image"||t==="url",Nee=t=>t==="length"||t==="size"||t==="bg-size",Fee=t=>t==="length",q6e=t=>t==="number",B6e=t=>t==="family-name",$ee=t=>t==="shadow",U6e=()=>{let t=Er("color"),e=Er("font"),r=Er("text"),n=Er("font-weight"),i=Er("tracking"),s=Er("leading"),a=Er("breakpoint"),o=Er("container"),l=Er("spacing"),c=Er("radius"),u=Er("shadow"),d=Er("inset-shadow"),f=Er("text-shadow"),p=Er("drop-shadow"),h=Er("blur"),g=Er("perspective"),v=Er("aspect"),y=Er("ease"),b=Er("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],x=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...x(),oe,ae],O=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],k=()=>[oe,ae,l],E=()=>[Ch,"full","auto",...k()],I=()=>[Cc,"none","subgrid",oe,ae],R=()=>["auto",{span:["full",Cc,oe,ae]},Cc,oe,ae],T=()=>[Cc,"auto",oe,ae],_=()=>["auto","min","max","fr",oe,ae],F=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Y=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...k()],D=()=>[Ch,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],U=()=>[t,oe,ae],ue=()=>[...x(),qZ,VZ,{position:[oe,ae]}],De=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Ct=()=>["auto","cover","contain",j6e,N6e,{size:[oe,ae]}],Kt=()=>[TD,_0,Qd],mt=()=>["","none","full",c,oe,ae],Ft=()=>["",$e,_0,Qd],sn=()=>["solid","dashed","dotted","double"],es=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ct=()=>[$e,TD,qZ,VZ],Oa=()=>["","none",h,oe,ae],Hr=()=>["none",$e,oe,ae],Gr=()=>["none",$e,oe,ae],_a=()=>[$e,oe,ae],ts=()=>[Ch,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ol],breakpoint:[ol],color:[M6e],container:[ol],"drop-shadow":[ol],ease:["in","out","in-out"],font:[D6e],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ol],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ol],shadow:[ol],spacing:["px",$e],text:[ol],"text-shadow":[ol],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ch,ae,oe,v]}],container:["container"],columns:[{columns:[$e,ae,oe,o]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:E()}],"inset-x":[{"inset-x":E()}],"inset-y":[{"inset-y":E()}],start:[{start:E()}],end:[{end:E()}],top:[{top:E()}],right:[{right:E()}],bottom:[{bottom:E()}],left:[{left:E()}],visibility:["visible","invisible","collapse"],z:[{z:[Cc,"auto",oe,ae]}],basis:[{basis:[Ch,"full","auto",o,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[$e,Ch,"auto","initial","none",ae]}],grow:[{grow:["",$e,oe,ae]}],shrink:[{shrink:["",$e,oe,ae]}],order:[{order:[Cc,"first","last","none",oe,ae]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:R()}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:R()}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":_()}],"auto-rows":[{"auto-rows":_()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...F(),"normal"]}],"justify-items":[{"justify-items":[...Y(),"normal"]}],"justify-self":[{"justify-self":["auto",...Y()]}],"align-content":[{content:["normal",...F()]}],"align-items":[{items:[...Y(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Y(),{baseline:["","last"]}]}],"place-content":[{"place-content":F()}],"place-items":[{"place-items":[...Y(),"baseline"]}],"place-self":[{"place-self":["auto",...Y()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:D()}],w:[{w:[o,"screen",...D()]}],"min-w":[{"min-w":[o,"screen","none",...D()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...D()]}],h:[{h:["screen","lh",...D()]}],"min-h":[{"min-h":["screen","lh","none",...D()]}],"max-h":[{"max-h":["screen","lh",...D()]}],"font-size":[{text:["base",r,_0,Qd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,oe,AD]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",TD,ae]}],"font-family":[{font:[$6e,ae,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,oe,ae]}],"line-clamp":[{"line-clamp":[$e,"none",oe,AD]}],leading:[{leading:[s,...k()]}],"list-image":[{"list-image":["none",oe,ae]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",oe,ae]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...sn(),"wavy"]}],"text-decoration-thickness":[{decoration:[$e,"from-font","auto",oe,Qd]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[$e,"auto",oe,ae]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",oe,ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",oe,ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ue()}],"bg-repeat":[{bg:De()}],"bg-size":[{bg:Ct()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Cc,oe,ae],radial:["",oe,ae],conic:[Cc,oe,ae]},V6e,F6e]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:Kt()}],"gradient-via-pos":[{via:Kt()}],"gradient-to-pos":[{to:Kt()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:mt()}],"rounded-s":[{"rounded-s":mt()}],"rounded-e":[{"rounded-e":mt()}],"rounded-t":[{"rounded-t":mt()}],"rounded-r":[{"rounded-r":mt()}],"rounded-b":[{"rounded-b":mt()}],"rounded-l":[{"rounded-l":mt()}],"rounded-ss":[{"rounded-ss":mt()}],"rounded-se":[{"rounded-se":mt()}],"rounded-ee":[{"rounded-ee":mt()}],"rounded-es":[{"rounded-es":mt()}],"rounded-tl":[{"rounded-tl":mt()}],"rounded-tr":[{"rounded-tr":mt()}],"rounded-br":[{"rounded-br":mt()}],"rounded-bl":[{"rounded-bl":mt()}],"border-w":[{border:Ft()}],"border-w-x":[{"border-x":Ft()}],"border-w-y":[{"border-y":Ft()}],"border-w-s":[{"border-s":Ft()}],"border-w-e":[{"border-e":Ft()}],"border-w-t":[{"border-t":Ft()}],"border-w-r":[{"border-r":Ft()}],"border-w-b":[{"border-b":Ft()}],"border-w-l":[{"border-l":Ft()}],"divide-x":[{"divide-x":Ft()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Ft()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...sn(),"hidden","none"]}],"divide-style":[{divide:[...sn(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...sn(),"none","hidden"]}],"outline-offset":[{"outline-offset":[$e,oe,ae]}],"outline-w":[{outline:["",$e,_0,Qd]}],"outline-color":[{outline:U()}],shadow:[{shadow:["","none",u,$E,FE]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",d,$E,FE]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:Ft()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[$e,Qd]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":Ft()}],"inset-ring-color":[{"inset-ring":U()}],"text-shadow":[{"text-shadow":["none",f,$E,FE]}],"text-shadow-color":[{"text-shadow":U()}],opacity:[{opacity:[$e,oe,ae]}],"mix-blend":[{"mix-blend":[...es(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":es()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[$e]}],"mask-image-linear-from-pos":[{"mask-linear-from":ct()}],"mask-image-linear-to-pos":[{"mask-linear-to":ct()}],"mask-image-linear-from-color":[{"mask-linear-from":U()}],"mask-image-linear-to-color":[{"mask-linear-to":U()}],"mask-image-t-from-pos":[{"mask-t-from":ct()}],"mask-image-t-to-pos":[{"mask-t-to":ct()}],"mask-image-t-from-color":[{"mask-t-from":U()}],"mask-image-t-to-color":[{"mask-t-to":U()}],"mask-image-r-from-pos":[{"mask-r-from":ct()}],"mask-image-r-to-pos":[{"mask-r-to":ct()}],"mask-image-r-from-color":[{"mask-r-from":U()}],"mask-image-r-to-color":[{"mask-r-to":U()}],"mask-image-b-from-pos":[{"mask-b-from":ct()}],"mask-image-b-to-pos":[{"mask-b-to":ct()}],"mask-image-b-from-color":[{"mask-b-from":U()}],"mask-image-b-to-color":[{"mask-b-to":U()}],"mask-image-l-from-pos":[{"mask-l-from":ct()}],"mask-image-l-to-pos":[{"mask-l-to":ct()}],"mask-image-l-from-color":[{"mask-l-from":U()}],"mask-image-l-to-color":[{"mask-l-to":U()}],"mask-image-x-from-pos":[{"mask-x-from":ct()}],"mask-image-x-to-pos":[{"mask-x-to":ct()}],"mask-image-x-from-color":[{"mask-x-from":U()}],"mask-image-x-to-color":[{"mask-x-to":U()}],"mask-image-y-from-pos":[{"mask-y-from":ct()}],"mask-image-y-to-pos":[{"mask-y-to":ct()}],"mask-image-y-from-color":[{"mask-y-from":U()}],"mask-image-y-to-color":[{"mask-y-to":U()}],"mask-image-radial":[{"mask-radial":[oe,ae]}],"mask-image-radial-from-pos":[{"mask-radial-from":ct()}],"mask-image-radial-to-pos":[{"mask-radial-to":ct()}],"mask-image-radial-from-color":[{"mask-radial-from":U()}],"mask-image-radial-to-color":[{"mask-radial-to":U()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":x()}],"mask-image-conic-pos":[{"mask-conic":[$e]}],"mask-image-conic-from-pos":[{"mask-conic-from":ct()}],"mask-image-conic-to-pos":[{"mask-conic-to":ct()}],"mask-image-conic-from-color":[{"mask-conic-from":U()}],"mask-image-conic-to-color":[{"mask-conic-to":U()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ue()}],"mask-repeat":[{mask:De()}],"mask-size":[{mask:Ct()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",oe,ae]}],filter:[{filter:["","none",oe,ae]}],blur:[{blur:Oa()}],brightness:[{brightness:[$e,oe,ae]}],contrast:[{contrast:[$e,oe,ae]}],"drop-shadow":[{"drop-shadow":["","none",p,$E,FE]}],"drop-shadow-color":[{"drop-shadow":U()}],grayscale:[{grayscale:["",$e,oe,ae]}],"hue-rotate":[{"hue-rotate":[$e,oe,ae]}],invert:[{invert:["",$e,oe,ae]}],saturate:[{saturate:[$e,oe,ae]}],sepia:[{sepia:["",$e,oe,ae]}],"backdrop-filter":[{"backdrop-filter":["","none",oe,ae]}],"backdrop-blur":[{"backdrop-blur":Oa()}],"backdrop-brightness":[{"backdrop-brightness":[$e,oe,ae]}],"backdrop-contrast":[{"backdrop-contrast":[$e,oe,ae]}],"backdrop-grayscale":[{"backdrop-grayscale":["",$e,oe,ae]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$e,oe,ae]}],"backdrop-invert":[{"backdrop-invert":["",$e,oe,ae]}],"backdrop-opacity":[{"backdrop-opacity":[$e,oe,ae]}],"backdrop-saturate":[{"backdrop-saturate":[$e,oe,ae]}],"backdrop-sepia":[{"backdrop-sepia":["",$e,oe,ae]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",oe,ae]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[$e,"initial",oe,ae]}],ease:[{ease:["linear","initial",y,oe,ae]}],delay:[{delay:[$e,oe,ae]}],animate:[{animate:["none",b,oe,ae]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,oe,ae]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:Hr()}],"rotate-x":[{"rotate-x":Hr()}],"rotate-y":[{"rotate-y":Hr()}],"rotate-z":[{"rotate-z":Hr()}],scale:[{scale:Gr()}],"scale-x":[{"scale-x":Gr()}],"scale-y":[{"scale-y":Gr()}],"scale-z":[{"scale-z":Gr()}],"scale-3d":["scale-3d"],skew:[{skew:_a()}],"skew-x":[{"skew-x":_a()}],"skew-y":[{"skew-y":_a()}],transform:[{transform:[oe,ae,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ts()}],"translate-x":[{"translate-x":ts()}],"translate-y":[{"translate-y":ts()}],"translate-z":[{"translate-z":ts()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",oe,ae]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",oe,ae]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[$e,_0,Qd,AD]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},jee=C6e(U6e);function je(...t){return jee(Lee(t))}var z6e=oT("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9",iconSm:"size-6",iconSubtitle:"size-8"}},defaultVariants:{variant:"default",size:"default"}});function Tr({className:t,variant:e,size:r,asChild:n=!1,...i}){let s=n?aT:"button";return m.jsx(s,{"data-slot":"button",className:je(z6e({variant:e,size:r,className:t})),...i})}var BZ=({onClip:t,type:e="button",onClick:r,className:n,format:i,quality:s,...a})=>{let o=sT(),l=XD(Jd),c=(0,$.useCallback)(async u=>{r?.(u);let d=o.get(Jd),f=o.get(QD);!d||!f||t==null||t(u,Q_e(f,d,{format:i,quality:s}))},[o,r,t,i,s]);return m.jsx(Tr,{type:e,onClick:c,disabled:!l,className:n,...a})},H6e=({children:t,format:e,imageBlob:r})=>m.jsx(H_e,{children:m.jsx(Tee.Provider,{value:{imageBlob:r,format:e},children:t})});function Vee({imageBlob:t,onCopy:e,onSave:r,outputSpec:n,copyLoading:i=!1,saveLoading:s=!1}){return m.jsx("div",{className:"flex flex-col h-full max-h-[80vh] w-full",children:m.jsxs(H6e,{imageBlob:t,children:[m.jsx("div",{className:"flex-1 flex items-center justify-center pb-4 overflow-hidden bg-muted/20",children:m.jsx("div",{className:"relative max-w-full max-h-full",children:m.jsx(n6e,{className:"max-w-full max-h-full object-contain border border-border/20 rounded-md shadow-sm"})})}),m.jsxs("div",{"data-slot":"bottom-toolbar",className:"flex items-center justify-end gap-2 pt-3 border-t bg-background/50 backdrop-blur-sm",children:[e&&m.jsxs(BZ,{size:"sm",variant:"outline",onClip:(a,o)=>e?.(a,o),disabled:i,...n,children:[i?m.jsx(ia,{className:"size-4 animate-spin"}):m.jsx(Ip,{className:"size-4"}),"Copy"]}),r&&m.jsxs(BZ,{variant:"default",size:"sm",onClip:r,disabled:s,...n,children:[s?m.jsx(ia,{className:"size-4 animate-spin"}):m.jsx(Pp,{className:"size-4"}),"Save"]})]})]})})}var UZ=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ii=t=>!t||typeof t!="object"||Object.keys(t).length===0,G6e=(t,e)=>JSON.stringify(t)===JSON.stringify(e);function qee(t,e){t.forEach(function(r){Array.isArray(r)?qee(r,e):e.push(r)})}function Bee(t){let e=[];return qee(t,e),e}var Uee=(...t)=>Bee(t).filter(Boolean),zee=(t,e)=>{let r={},n=Object.keys(t),i=Object.keys(e);for(let s of n)if(i.includes(s)){let a=t[s],o=e[s];Array.isArray(a)||Array.isArray(o)?r[s]=Uee(o,a):typeof a=="object"&&typeof o=="object"?r[s]=zee(a,o):r[s]=o+" "+a}else r[s]=t[s];for(let s of i)n.includes(s)||(r[s]=e[s]);return r},zZ=t=>!t||typeof t!="string"?t:t.replace(/\s+/g," ").trim(),ZD="-",W6e=t=>{let e=Y6e(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:i=>{let s=i.split(ZD);return s[0]===""&&s.length!==1&&s.shift(),Hee(s,e)||K6e(i)},getConflictingClassGroupIds:(i,s)=>{let a=r[i]||[];return s&&n[i]?[...a,...n[i]]:a}}},Hee=(t,e)=>{var r;if(t.length===0)return e.classGroupId;let n=t[0],i=e.nextPart.get(n),s=i?Hee(t.slice(1),i):void 0;if(s)return s;if(e.validators.length===0)return;let a=t.join(ZD);return(r=e.validators.find(({validator:o})=>o(a)))==null?void 0:r.classGroupId},HZ=/^\[(.+)\]$/,K6e=t=>{if(HZ.test(t)){let e=HZ.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Y6e=t=>{let{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Q6e(Object.entries(t.classGroups),r).forEach(([i,s])=>{VD(s,n,i,e)}),n},VD=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){let s=i===""?e:GZ(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(X6e(i)){VD(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,a])=>{VD(a,GZ(e,s),r,n)})})},GZ=(t,e)=>{let r=t;return e.split(ZD).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},X6e=t=>t.isThemeGetter,Q6e=(t,e)=>e?t.map(([r,n])=>{let i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[r,i]}):t,J6e=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map,i=(s,a)=>{r.set(s,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let a=r.get(s);if(a!==void 0)return a;if((a=n.get(s))!==void 0)return i(s,a),a},set(s,a){r.has(s)?r.set(s,a):i(s,a)}}},Gee="!",Z6e=t=>{let{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,a=o=>{let l=[],c=0,u=0,d;for(let v=0;v<o.length;v++){let y=o[v];if(c===0){if(y===i&&(n||o.slice(v,v+s)===e)){l.push(o.slice(u,v)),u=v+s;continue}if(y==="/"){d=v;continue}}y==="["?c++:y==="]"&&c--}let f=l.length===0?o:o.substring(u),p=f.startsWith(Gee),h=p?f.substring(1):f,g=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:g}};return r?o=>r({className:o,parseClassName:a}):a},eDe=t=>{if(t.length<=1)return t;let e=[],r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},tDe=t=>({cache:J6e(t.cacheSize),parseClassName:Z6e(t),...W6e(t)}),rDe=/\s+/,nDe=(t,e)=>{let{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(rDe),o="";for(let l=a.length-1;l>=0;l-=1){let c=a[l],{modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:p}=r(c),h=!!p,g=n(h?f.substring(0,p):f);if(!g){if(!h){o=c+(o.length>0?" "+o:o);continue}if(g=n(f),!g){o=c+(o.length>0?" "+o:o);continue}h=!1}let v=eDe(u).join(":"),y=d?v+Gee:v,b=y+g;if(s.includes(b))continue;s.push(b);let w=i(g,h);for(let x=0;x<w.length;++x){let A=w[x];s.push(y+A)}o=c+(o.length>0?" "+o:o)}return o};function iDe(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Wee(e))&&(n&&(n+=" "),n+=r);return n}var Wee=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Wee(t[n]))&&(r&&(r+=" "),r+=e);return r};function qD(t,...e){let r,n,i,s=a;function a(l){let c=e.reduce((u,d)=>d(u),t());return r=tDe(c),n=r.cache.get,i=r.cache.set,s=o,o(l)}function o(l){let c=n(l);if(c)return c;let u=nDe(l,r);return i(l,u),u}return function(){return s(iDe.apply(null,arguments))}}var Ot=t=>{let e=r=>r[t]||[];return e.isThemeGetter=!0,e},Kee=/^\[(?:([a-z-]+):)?(.+)\]$/i,sDe=/^\d+\/\d+$/,aDe=new Set(["px","full","screen"]),oDe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lDe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cDe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,uDe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dDe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ll=t=>Lh(t)||aDe.has(t)||sDe.test(t),Ec=t=>Oh(t,"length",bDe),Lh=t=>!!t&&!Number.isNaN(Number(t)),LD=t=>Oh(t,"number",Lh),D0=t=>!!t&&Number.isInteger(Number(t)),fDe=t=>t.endsWith("%")&&Lh(t.slice(0,-1)),_e=t=>Kee.test(t),Tc=t=>oDe.test(t),pDe=new Set(["length","size","percentage"]),hDe=t=>Oh(t,pDe,Yee),mDe=t=>Oh(t,"position",Yee),gDe=new Set(["image","url"]),yDe=t=>Oh(t,gDe,xDe),vDe=t=>Oh(t,"",wDe),N0=()=>!0,Oh=(t,e,r)=>{let n=Kee.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},bDe=t=>lDe.test(t)&&!cDe.test(t),Yee=()=>!1,wDe=t=>uDe.test(t),xDe=t=>dDe.test(t),BD=()=>{let t=Ot("colors"),e=Ot("spacing"),r=Ot("blur"),n=Ot("brightness"),i=Ot("borderColor"),s=Ot("borderRadius"),a=Ot("borderSpacing"),o=Ot("borderWidth"),l=Ot("contrast"),c=Ot("grayscale"),u=Ot("hueRotate"),d=Ot("invert"),f=Ot("gap"),p=Ot("gradientColorStops"),h=Ot("gradientColorStopPositions"),g=Ot("inset"),v=Ot("margin"),y=Ot("opacity"),b=Ot("padding"),w=Ot("saturate"),x=Ot("scale"),A=Ot("sepia"),O=Ot("skew"),S=Ot("space"),k=Ot("translate"),E=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",_e,e],T=()=>[_e,e],_=()=>["",ll,Ec],F=()=>["auto",Lh,_e],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],ue=()=>["","0",_e],De=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ct=()=>[Lh,_e];return{cacheSize:500,separator:":",theme:{colors:[N0],spacing:[ll,Ec],blur:["none","",Tc,_e],brightness:Ct(),borderColor:[t],borderRadius:["none","","full",Tc,_e],borderSpacing:T(),borderWidth:_(),contrast:Ct(),grayscale:ue(),hueRotate:Ct(),invert:ue(),gap:T(),gradientColorStops:[t],gradientColorStopPositions:[fDe,Ec],inset:R(),margin:R(),opacity:Ct(),padding:T(),saturate:Ct(),scale:Ct(),sepia:ue(),skew:Ct(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[Tc]}],"break-after":[{"break-after":De()}],"break-before":[{"break-before":De()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),_e]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",D0,_e]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:ue()}],shrink:[{shrink:ue()}],order:[{order:["first","last","none",D0,_e]}],"grid-cols":[{"grid-cols":[N0]}],"col-start-end":[{col:["auto",{span:["full",D0,_e]},_e]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[N0]}],"row-start-end":[{row:["auto",{span:[D0,_e]},_e]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_e,e]}],"min-w":[{"min-w":[_e,e,"min","max","fit"]}],"max-w":[{"max-w":[_e,e,"none","full","min","max","fit","prose",{screen:[Tc]},Tc]}],h:[{h:[_e,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_e,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_e,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_e,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Tc,Ec]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",LD]}],"font-family":[{font:[N0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",Lh,LD]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ll,_e]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ll,Ec]}],"underline-offset":[{"underline-offset":["auto",ll,_e]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),mDe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hDe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yDe]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:H()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[ll,_e]}],"outline-w":[{outline:[ll,Ec]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:_()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[ll,Ec]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Tc,vDe]}],"shadow-color":[{shadow:[N0]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Tc,_e]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:Ct()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:Ct()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[D0,_e]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ll,Ec,LD]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},SDe=(t,{cacheSize:e,prefix:r,separator:n,experimentalParseClassName:i,extend:s={},override:a={}})=>{q0(t,"cacheSize",e),q0(t,"prefix",r),q0(t,"separator",n),q0(t,"experimentalParseClassName",i);for(let o in a)kDe(t[o],a[o]);for(let o in s)CDe(t[o],s[o]);return t},q0=(t,e,r)=>{r!==void 0&&(t[e]=r)},kDe=(t,e)=>{if(e)for(let r in e)q0(t,r,e[r])},CDe=(t,e)=>{if(e)for(let r in e){let n=e[r];n!==void 0&&(t[r]=(t[r]||[]).concat(n))}},EDe=(t,...e)=>typeof t=="function"?qD(BD,t,...e):qD(()=>SDe(BD(),t),...e),TDe=qD(BD),ADe={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},Xee=t=>t||void 0,z0=(...t)=>Xee(Bee(t).filter(Boolean).join(" ")),ID=null,ul={},UD=!1,F0=(...t)=>e=>e.twMerge?((!ID||UD)&&(UD=!1,ID=ii(ul)?TDe:EDe({...ul,extend:{theme:ul.theme,classGroups:ul.classGroups,conflictingClassGroupModifiers:ul.conflictingClassGroupModifiers,conflictingClassGroups:ul.conflictingClassGroups,...ul.extend}})),Xee(ID(z0(t)))):z0(t),WZ=(t,e)=>{for(let r in e)t.hasOwnProperty(r)?t[r]=z0(t[r],e[r]):t[r]=e[r];return t},_h=(t,e)=>{let{extend:r=null,slots:n={},variants:i={},compoundVariants:s=[],compoundSlots:a=[],defaultVariants:o={}}=t,l={...ADe,...e},c=r!=null&&r.base?z0(r.base,t?.base):t?.base,u=r!=null&&r.variants&&!ii(r.variants)?zee(i,r.variants):i,d=r!=null&&r.defaultVariants&&!ii(r.defaultVariants)?{...r.defaultVariants,...o}:o;!ii(l.twMergeConfig)&&!G6e(l.twMergeConfig,ul)&&(UD=!0,ul=l.twMergeConfig);let f=ii(r?.slots),p=ii(n)?{}:{base:z0(t?.base,f&&r?.base),...n},h=f?p:WZ({...r?.slots},ii(p)?{base:t?.base}:p),g=ii(r?.compoundVariants)?s:Uee(r?.compoundVariants,s),v=b=>{if(ii(u)&&ii(n)&&f)return F0(c,b?.class,b?.className)(l);if(g&&!Array.isArray(g))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof g}`);if(a&&!Array.isArray(a))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof a}`);let w=(T,_,F=[],Y)=>{let H=F;if(typeof _=="string")H=H.concat(zZ(_).split(" ").map(D=>`${T}:${D}`));else if(Array.isArray(_))H=H.concat(_.reduce((D,U)=>D.concat(`${T}:${U}`),[]));else if(typeof _=="object"&&typeof Y=="string"){for(let D in _)if(_.hasOwnProperty(D)&&D===Y){let U=_[D];if(U&&typeof U=="string"){let ue=zZ(U);H[Y]?H[Y]=H[Y].concat(ue.split(" ").map(De=>`${T}:${De}`)):H[Y]=ue.split(" ").map(De=>`${T}:${De}`)}else Array.isArray(U)&&U.length>0&&(H[Y]=U.reduce((ue,De)=>ue.concat(`${T}:${De}`),[]))}}return H},x=(T,_=u,F=null,Y=null)=>{var H;let D=_[T];if(!D||ii(D))return null;let U=(H=Y?.[T])!=null?H:b?.[T];if(U===null)return null;let ue=UZ(U),De=Array.isArray(l.responsiveVariants)&&l.responsiveVariants.length>0||l.responsiveVariants===!0,Ct=d?.[T],Kt=[];if(typeof ue=="object"&&De)for(let[sn,es]of Object.entries(ue)){let ct=D[es];if(sn==="initial"){Ct=es;continue}Array.isArray(l.responsiveVariants)&&!l.responsiveVariants.includes(sn)||(Kt=w(sn,ct,Kt,F))}let mt=ue!=null&&typeof ue!="object"?ue:UZ(Ct),Ft=D[mt||"false"];return typeof Kt=="object"&&typeof F=="string"&&Kt[F]?WZ(Kt,Ft):Kt.length>0?(Kt.push(Ft),F==="base"?Kt.join(" "):Kt):Ft},A=()=>u?Object.keys(u).map(T=>x(T,u)):null,O=(T,_)=>{if(!u||typeof u!="object")return null;let F=new Array;for(let Y in u){let H=x(Y,u,T,_),D=T==="base"&&typeof H=="string"?H:H&&H[T];D&&(F[F.length]=D)}return F},S={};for(let T in b)b[T]!==void 0&&(S[T]=b[T]);let k=(T,_)=>{var F;let Y=typeof b?.[T]=="object"?{[T]:(F=b[T])==null?void 0:F.initial}:{};return{...d,...S,...Y,..._}},E=(T=[],_)=>{let F=[];for(let{class:Y,className:H,...D}of T){let U=!0;for(let[ue,De]of Object.entries(D)){let Ct=k(ue,_)[ue];if(Array.isArray(De)){if(!De.includes(Ct)){U=!1;break}}else{let Kt=mt=>mt==null||mt===!1;if(Kt(De)&&Kt(Ct))continue;if(Ct!==De){U=!1;break}}}U&&(Y&&F.push(Y),H&&F.push(H))}return F},I=T=>{let _=E(g,T);if(!Array.isArray(_))return _;let F={};for(let Y of _)if(typeof Y=="string"&&(F.base=F0(F.base,Y)(l)),typeof Y=="object")for(let[H,D]of Object.entries(Y))F[H]=F0(F[H],D)(l);return F},R=T=>{if(a.length<1)return null;let _={};for(let{slots:F=[],class:Y,className:H,...D}of a){if(!ii(D)){let U=!0;for(let ue of Object.keys(D)){let De=k(ue,T)[ue];if(De===void 0||(Array.isArray(D[ue])?!D[ue].includes(De):D[ue]!==De)){U=!1;break}}if(!U)continue}for(let U of F)_[U]=_[U]||[],_[U].push([Y,H])}return _};if(!ii(n)||!f){let T={};if(typeof h=="object"&&!ii(h))for(let _ of Object.keys(h))T[_]=F=>{var Y,H;return F0(h[_],O(_,F),((Y=I(F))!=null?Y:[])[_],((H=R(F))!=null?H:[])[_],F?.class,F?.className)(l)};return T}return F0(c,A(),E(g),b?.class,b?.className)(l)},y=()=>{if(!(!u||typeof u!="object"))return Object.keys(u)};return v.variantKeys=y(),v.extend=r,v.base=c,v.slots=h,v.variants=u,v.defaultVariants=d,v.compoundSlots=a,v.compoundVariants=g,v},LDe=_h({slots:{base:"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*=size-])]:size-4 [&_svg]:shrink-0 ring-ring/10 dark:ring-ring/20 dark:outline-ring/40 outline-ring/50 focus-visible:ring-4 focus-visible:outline-1 aria-invalid:focus-visible:ring-0"},variants:{variant:{default:{base:"bg-primary text-primary-foreground shadow-sm hover:bg-primary/90"},destructive:{base:"bg-destructive text-destructive-foreground shadow-xs hover:bg-destructive/90"},outline:{base:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground"},secondary:{base:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80"},ghost:{base:"hover:bg-accent hover:text-accent-foreground"},link:{base:"text-primary underline-offset-4 hover:underline"},controls:{base:"hover:bg-primary/80 hover:text-accent-foreground"}},size:{default:{base:"h-9 px-4 py-2 has-[>svg]:px-3"},sm:{base:"h-8 rounded-md px-3 has-[>svg]:px-2.5"},lg:{base:"h-10 rounded-md px-6 has-[>svg]:px-4"},icon:{base:"size-9"},controls:{base:"size-8 [&_svg:not([class*=size-])]:size-5"},center:{base:"size-10 rounded-full [&_svg:not([class*=size-])]:size-6"},"center-lg":{base:"size-12 rounded-full [&_svg:not([class*=size-])]:size-6"}}},defaultVariants:{variant:"default",size:"default"}}),pl=_h({extend:LDe,slots:{base:"relative group shrink-0",icon:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 transition-opacity"},variants:{"may-support":{true:{base:"not-data-supported:hidden"}},active:{true:{icon:"group-data-active:opacity-0"}},inactive:{true:{icon:"not-group-data-active:opacity-0"}}},defaultVariants:{size:"controls",variant:"controls"}});function Qee({className:t,variant:e,size:r,...n}){let i=pl({variant:e,size:r});return m.jsx("button",{className:i.base({className:t}),...n,children:m.jsx(rc,{className:i.icon()})})}function Jee({className:t,variant:e,size:r,...n}){let i=pl({variant:e,size:r});return m.jsx("button",{className:i.base({className:t}),...n,children:m.jsx(sv,{className:i.icon()})})}function KZ(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Zee(...t){return e=>{let r=!1,n=t.map(i=>{let s=KZ(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){let s=n[i];typeof s=="function"?s():KZ(t[i],null)}}}}function Rh(...t){return N.useCallback(Zee(...t),t)}var WE=N.forwardRef((t,e)=>{let{children:r,...n}=t,i=N.Children.toArray(r),s=i.find(RDe);if(s){let a=s.props.children,o=i.map(l=>l===s?N.Children.count(a)>1?N.Children.only(null):N.isValidElement(a)?a.props.children:null:l);return m.jsx(zD,{...n,ref:e,children:N.isValidElement(a)?N.cloneElement(a,void 0,o):null})}return m.jsx(zD,{...n,ref:e,children:r})});WE.displayName="Slot";var zD=N.forwardRef((t,e)=>{let{children:r,...n}=t;if(N.isValidElement(r)){let i=PDe(r),s=MDe(n,r.props);return r.type!==N.Fragment&&(s.ref=e?Zee(e,i):i),N.cloneElement(r,s)}return N.Children.count(r)>1?N.Children.only(null):null});zD.displayName="SlotClone";var IDe=({children:t})=>m.jsx(m.Fragment,{children:t});function RDe(t){return N.isValidElement(t)&&t.type===IDe}function MDe(t,e){let r={...e};for(let n in e){let i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...a)=>{s(...a),i(...a)}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function PDe(t){var e,r;let n=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,i=n&&"isReactWarning"in n&&n.isReactWarning;return i?t.ref:(n=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,i=n&&"isReactWarning"in n&&n.isReactWarning,i?t.props.ref:t.props.ref||t.ref)}var ODe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Sa=ODe.reduce((t,e)=>{let r=N.forwardRef((n,i)=>{let{asChild:s,...a}=n,o=s?WE:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(o,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),_De="Separator",YZ="horizontal",DDe=["horizontal","vertical"],ete=N.forwardRef((t,e)=>{let{decorative:r,orientation:n=YZ,...i}=t,s=NDe(n)?n:YZ,a=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return m.jsx(Sa.div,{"data-orientation":s,...a,...i,ref:e})});ete.displayName=_De;function NDe(t){return DDe.includes(t)}var FDe=ete;function H0({className:t,orientation:e="horizontal",decorative:r=!0,...n}){return m.jsx(FDe,{"data-slot":"separator-root",decorative:r,orientation:e,className:je("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...n})}function lT({className:t,variant:e,size:r,...n}){let i=pl({variant:e,size:r});return m.jsxs(fC,{className:i.base({className:t}),...n,children:[m.jsx(ud,{className:i.icon({class:"not-group-data-paused:opacity-0"})}),m.jsx(Qy,{className:i.icon({class:"group-data-paused:opacity-0"})})]})}function KE({seconds:t=30,className:e,variant:r,size:n,...i}){if(t===0)return null;let s=t>0?ev:uv,a=pl({variant:r,size:n});return m.jsx(yC,{className:a.base({className:e}),seconds:t,...i,children:m.jsx(s,{className:a.icon()})})}function $De(t){let e=getComputedStyle(t);return e.display!=="none"&&Number.parseInt(e.opacity,10)>0}function jDe(t){return!!t&&("checkVisibility"in t?t.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0}):$De(t))}function Oc({className:t,type:e="current",hidden:r=!1,padHours:n=null,padMinutes:i=null,remainder:s=!1,showHours:a=!1,toggle:o=!1}={}){let l=ei("duration"),c=ei("currentTime"),u=ei("bufferedEnd"),[d,f]=(0,$.useState)(null),[p,h]=(0,$.useState)(!0),[g,v]=(0,$.useState)(!0),y=(0,$.useRef)(null),b=(0,$.useCallback)(()=>{switch(e){case"buffered":return u;case"duration":return l;default:return c}},[e,u,l,c]),w=s&&d!==!1,x=b(),A=(0,$.useMemo)(()=>r||!p||!g,[r,p,g]),O=(0,$.useCallback)(()=>{if(!Number.isFinite(x+l))return"LIVE";let I=w?Math.max(0,l-x):x,R=Jo(I,{padHrs:n,padMins:i,showHrs:a});return(w?"-":"")+R},[x,l,w,n,i,a]),S=(0,$.useCallback)(I=>{o&&(I.preventDefault(),f(d===null?!s:R=>!R))},[o,s,d]),k=(0,$.useCallback)(I=>{(I.key==="Enter"||I.key===" ")&&S(I)},[S]);(0,$.useEffect)(()=>{if(!y.current)return;let I=new IntersectionObserver(([R])=>{var T;let _=(T=y.current)==null?void 0:T.getBoundingClientRect(),F=_&&_.top>=0&&_.left>=0&&_.bottom<=window.innerHeight&&_.right<=window.innerWidth;v(F??R?.isIntersecting??!0)},{threshold:0});return I.observe(y.current),()=>I.disconnect()},[]),(0,$.useEffect)(()=>{if(!y.current)return;let I,R=!0,T=()=>{R&&(h(jDe(y.current)),I=requestAnimationFrame(T))};return T(),()=>{R=!1,cancelAnimationFrame(I)}},[]);let E=A?"":O();return o?m.jsx("button",{className:je("min-h-1 min-w-1",t),ref:y,type:"button","data-type":e,"data-remainder":w,onClick:S,onKeyDown:k,children:E}):m.jsx("div",{className:je("min-h-1 min-w-1",t),ref:y,"data-type":e,"data-remainder":w,children:E})}var VDe=_h({slots:{container:["group flex h-full w-auto flex-row-reverse items-center justify-end gap-2 overflow-hidden px-1 transition-[max-width] @sm:px-2"],sep:"h-2/5 bg-foreground/80",hash:"h-3.5 w-3.5 shrink-0 opacity-80 @sm:h-4 @sm:w-4",h1:["max-w-48 shrink-0 truncate transition-[max-width] hover:max-w-full @xl:text-lg @xl:font-medium","delay-0 hover:delay-200"],"h2-container":["group flex shrink-0 grow flex-nowrap items-center gap-1 pr-4"],h2:["w-full max-w-48 shrink-0 truncate text-sm font-medium transition-[max-width] group-hover:max-w-full @xl:text-base @xl:font-normal","delay-0 group-hover:delay-200"]},variants:{variant:{none:{container:"hidden"},"h1-only":{h1:"hidden max-w-72 @sm:block",sep:"hidden","h2-container":"hidden",hash:"hidden"},"h2-only":{h1:"hidden",sep:"hidden",h2:"max-w-96",hash:"@sm:flex"},full:{h1:"hidden @sm:block",sep:"hidden @sm:flex",h2:"@sm:text-xs",hash:"@sm:hidden"}}}});function cT({className:t,...e}){let r=ei("title"),n=xC(),i=r&&n?"full":r?"h1-only":n?"h2-only":"none",{h1:s,h2:a,"h2-container":o,hash:l,container:c,sep:u}=VDe({variant:i});return m.jsxs("div",{"data-title":i,className:c({className:t}),...e,children:[m.jsxs("div",{className:o(),children:[m.jsx(Gy,{className:l()}),m.jsx("h2",{className:a(),children:n})]}),m.jsx(H0,{orientation:"vertical",className:u()}),m.jsx("h1",{className:s(),children:r})]})}var RD;async function qDe(){if(typeof document>"u"||typeof document.createElement!="function"||typeof HTMLAudioElement>"u")return null;try{let t=document.createElement("audio");return t.volume=.5,await new Promise(e=>{setTimeout(()=>{e(t.volume===.5)},0)})}catch(t){return console.error("Error in detectVolumeSetter:",t),null}}var BDe=async()=>(RD!==void 0||(RD=qDe()),RD);function UDe({className:t,variant:e,size:r,...n}){let i=pl({variant:e,size:r});return m.jsxs(mC,{className:i.base({className:t}),...n,children:[m.jsx(hv,{className:i.icon({class:"not-group-data-muted:opacity-0"})}),m.jsx(fv,{className:i.icon({class:"group-data-[state=high]:opacity-0 group-data-muted:opacity-0"})}),m.jsx(pv,{className:i.icon({class:"not-group-data-[state=high]:opacity-0 group-data-muted:opacity-0"})})]})}function zDe(){let[t,e]=N.useState({width:null,height:null}),r=N.useRef(null);return[N.useCallback(n=>{if(r.current&&(r.current.disconnect(),r.current=null),n?.nodeType===Node.ELEMENT_NODE){let i=new ResizeObserver(([s])=>{if(s&&s.borderBoxSize){let{inlineSize:a,blockSize:o}=s.borderBoxSize[0];e({width:a,height:o})}});i.observe(n),r.current=i}},[]),t]}var HDe=_h({slots:{root:"group relative inline-flex h-5 w-full cursor-pointer touch-none select-none items-center outline-none aria-disabled:cursor-auto aria-hidden:hidden",track:"relative z-0 h-1.5 w-full rounded-full",trackFill:"absolute h-full w-(--slider-fill) rounded-full bg-primary will-change-[width]",thumb:["pointer-events-none absolute left-(--slider-fill) top-1/2 z-20 h-3.5 w-3.5 -translate-x-1/2 -translate-y-1/2 rounded-full opacity-0 transition-[opacity,box-shadow] ease-in-out will-change-[left] group-data-active:opacity-100","ring-0 ring-transparent ring-offset-1 ring-offset-primary group-data-dragging:ring-2 group-data-dragging:ring-thumb/30","bg-thumb"],preview:["absolute w-max","pointer-events-none items-center px-2","opacity-0 transition-opacity duration-200 group-data-pointing:opacity-100","flex flex-col gap-0.5"]},variants:{focus:{default:{track:"group-data-focus:outline-2 group-data-focus:outline-offset-1 group-data-focus:outline-ring"},none:{track:""}},variant:{default:{track:"bg-secondary/60"},video:{track:"bg-secondary-foreground/20"},audio:{track:"bg-secondary/60",preview:"flex-col-reverse"}},tooltip:{top:"",bottom:""}},defaultVariants:{focus:"default",variant:"default",tooltip:"top"}}),{root:tte,track:GDe,preview:WDe,trackFill:KDe,thumb:YDe}=HDe();function rte({className:t,focus:e,variant:r,tooltip:n,...i}){return m.jsx(zb.Track,{className:GDe({className:t,variant:r,focus:e,tooltip:n}),...i})}function nte({className:t,variant:e,focus:r,tooltip:n,...i}){return m.jsx(zb.TrackFill,{className:KDe({className:t,variant:e,focus:r,tooltip:n}),...i})}function ite({className:t,variant:e,focus:r,tooltip:n,...i}){return m.jsx(zb.Thumb,{className:YDe({className:t,variant:e,focus:r,tooltip:n}),...i})}function XDe({ref:t,children:e,className:r,style:n,variant:i,focus:s,tooltip:a,...o}){let[l,{width:c}]=zDe(),u=c?`calc(var(--slider-pointer) - ${c/2}px)`:"calc(var(--slider-pointer))";return m.jsx("div",{ref:G1([l,t]),className:WDe({className:r,variant:i,focus:s,tooltip:a}),style:{...n,left:u,[a==="bottom"?"top":"bottom"]:"calc(100% + var(--media-slider-preview-offset, 0px))"},...o,children:e})}function QDe({className:t,variant:e,...r}){return m.jsxs(k_.Root,{className:je("max-w-20",tte({className:t,variant:e})),...r,children:[m.jsx(rte,{focus:"default",variant:e,children:m.jsx(nte,{variant:e})}),m.jsx(ite,{variant:e})]})}var JDe=_h({slots:{root:"group/vol-ctrl flex items-center not-data-supported:hidden",slider:"flex w-20 max-w-0 transition-all delay-0 vol-active:max-w-20 vol-active:delay-200"},variants:{direction:{default:{root:"flex-row",slider:"mr-1 vol-active:mr-3 vol-active:pl-2"},reverse:{root:"flex-row-reverse",slider:"ml-1 vol-active:ml-3 vol-active:pr-2"}}},defaultVariants:{direction:"default"}}),{root:ZDe,slider:eNe}=JDe();function tNe(){let[t,e]=(0,$.useState)(null);return(0,$.useEffect)(()=>{BDe().then(e)},[]),t}function uT({className:t,direction:e,variant:r,sliderVariant:n,size:i,...s}){let a=tNe();return m.jsxs("div",{className:ZDe({direction:e,className:t}),"data-supported":a===!1?void 0:"",...s,children:[m.jsx(UDe,{className:"peer",variant:r,size:i}),m.jsx("div",{className:eNe({direction:e}),children:m.jsx(QDe,{className:"h-full w-full",variant:n})})]})}function dT({className:t,variant:e,focus:r,tooltip:n,...i}){let s={variant:e,focus:r,tooltip:n};return m.jsxs(Id.Root,{className:je(tte({className:t}),"rounded-none"),...s,...i,children:[m.jsx(Id.Chapters,{className:je("relative flex h-full w-full items-center gap-x-0.5 rounded-[1px] px-px group-data-focus:h-2 group-data-focus:ring-2 group-data-focus:ring-ring"),children:(a,o)=>a.map((l,c,u)=>m.jsx("div",{className:je("group/cue relative flex h-full w-full items-center rounded-sm"),style:{contain:"layout style"},ref:o,children:m.jsxs(rte,{...s,focus:"none",className:je("rounded-sm transition-all",u.length>1&&"group-hover/cue:h-2.5 group-hover/cue:max-h-2.5"),children:[m.jsx(nte,{...s,className:je("z-10 w-(--chapter-fill) rounded-sm")}),m.jsx(Id.Progress,{className:"absolute h-full w-(--chapter-progress) rounded-sm bg-primary/40 will-change-[width]"})]})},l.startTime))}),m.jsxs(XDe,{...s,children:[m.jsx(Id.ChapterTitle,{className:je("text-sm",s.variant==="audio"&&"rounded-sm bg-background/90 px-2 py-1")}),m.jsx(Id.Value,{className:"rounded-sm bg-secondary px-2 py-px text-[13px] font-medium text-secondary-foreground"})]}),m.jsx(ite,{...s})]})}function rNe({utilsSlot:t}){return m.jsxs("div",{className:"hidden @xl:grid h-full w-full grid-cols-[auto_auto_1fr_auto] grid-rows-2 gap-x-2 p-2",children:[m.jsx(Gt.Group,{className:"row-span-2 flex items-center ml-2 gap-x-1",children:m.jsx(lT,{variant:"outline",size:"center-lg"})}),m.jsxs(Gt.Group,{className:"peer/title col-span-3 flex gap-2 px-1",children:[m.jsx("div",{className:"h-full w-full",children:m.jsx(cT,{})}),m.jsxs("div",{className:"flex items-center gap-x-1.5 pl-2 text-sm font-medium",children:[m.jsx(Oc,{type:"current"}),m.jsx(H0,{className:"data-[orientation=vertical]:h-3",orientation:"vertical"}),m.jsx(Oc,{type:"duration"})]})]}),m.jsxs(Gt.Group,{className:"col-start-2 row-start-2 flex items-center pl-1",children:[m.jsx(KE,{seconds:-30,variant:"ghost"}),m.jsx(KE,{seconds:30,variant:"ghost"})]}),m.jsx(Gt.Group,{className:"col-start-3 row-start-2 flex w-full items-center",children:m.jsx("div",{className:"flex h-[6px] w-full items-center",children:m.jsx(dT,{variant:"audio"})})}),m.jsxs(Gt.Group,{className:"col-start-4 row-start-2 flex w-full items-center justify-end",children:[m.jsx(uT,{variant:"ghost",direction:"reverse"}),t]})]})}function nNe({utilsSlot:t}){return m.jsxs("div",{className:"@xl:hidden grid h-full w-full grid-cols-3 gap-x-2 p-2",children:[m.jsxs(Gt.Group,{className:"peer/title col-span-3 mt-2 flex gap-2",children:[m.jsx("div",{className:"h-full w-full",children:m.jsx(cT,{})}),m.jsxs("div",{className:"flex items-center gap-x-1.5 pl-2 text-sm font-medium",children:[m.jsx(Oc,{type:"current"}),m.jsx(H0,{className:"h-3",orientation:"vertical"}),m.jsx(Oc,{type:"duration"})]})]}),m.jsx(Gt.Group,{className:"col-span-3 col-start-1 row-start-1 flex w-full items-center",children:m.jsx("div",{className:"flex h-[6px] w-full items-center",children:m.jsx(dT,{variant:"audio"})})}),m.jsx(Gt.Group,{className:"col-start-1 row-start-3 flex w-full items-end",children:m.jsx(uT,{variant:"ghost"})}),m.jsxs(Gt.Group,{className:"col-start-2 row-start-3 flex w-full items-end justify-center gap-x-1",children:[m.jsx(KE,{seconds:-30,variant:"ghost"}),m.jsx(lT,{variant:"outline",size:"center"}),m.jsx(KE,{seconds:30,variant:"ghost"})]}),m.jsx(Gt.Group,{className:"col-start-3 row-start-3 flex w-full items-end justify-end",children:t})]})}function ste({utilsSlot:t}){return ei("viewType")!=="audio"?null:m.jsxs(Gt.Root,{className:"z-10 h-full w-full opacity-0 transition-opacity media-controls:opacity-100",children:[m.jsx(rNe,{utilsSlot:t}),m.jsx(nNe,{utilsSlot:t})]})}var eN=(0,$.createContext)({});function ate({className:t,onTimestamp:e,onScreenshot:r,onTogglePip:n,onResetClip:i,flip:s="none",...a}){return m.jsx(eN.Provider,{value:{onTimestamp:e,onScreenshot:r,onTogglePip:n,onResetClip:i},children:m.jsx(A_,{className:je("group/player @container","overflow-hidden","rounded-md font-sans ring-ring data-focus:ring-4","border shadow-sm","**:data-media-provider:!rounded-none",(s==="horizontal"||s==="both")&&"**:data-media-provider:scale-x-[-1]",(s==="vertical"||s==="both")&&"**:data-media-provider:scale-y-[-1]",s&&s!=="none"&&"**:data-media-provider:origin-center",t),...a})})}var iNe="_captions_1ihkv_9",sNe={captions:iNe},aNe=_h({base:"absolute block",variants:{area:{full:"inset-0 z-0 h-full w-full",left:"left-0 top-0 z-10 h-full w-1/5",right:"right-0 top-0 z-10 h-full w-1/5"}}}),jE=(0,$.forwardRef)(function({className:t,area:e,...r},n){return m.jsx(bC,{className:aNe({className:t,area:e}),ref:n,...r})});function oNe(){return m.jsxs(m.Fragment,{children:[m.jsx(jE,{area:"full",event:"pointerup",action:"toggle:paused"}),m.jsx(jE,{area:"full",event:"dblpointerup",action:"toggle:fullscreen"}),m.jsx(jE,{area:"left",event:"dblpointerup",action:"seek:-10"}),m.jsx(jE,{area:"right",event:"dblpointerup",action:"seek:10"})]})}function ote({className:t,variant:e,size:r,...n}){let i=pl({variant:e,size:r});return m.jsxs(pC,{className:i.base({className:t,"may-support":!0}),...n,children:[m.jsx(jy,{className:i.icon({active:!0})}),m.jsx(No,{className:i.icon({inactive:!0})})]})}function lte({className:t,variant:e,size:r,...n}){let i=pl({variant:e,size:r});return m.jsxs(hC,{className:i.base({className:t,"may-support":!0}),...n,children:[m.jsx(Ky,{className:i.icon({active:!0})}),m.jsx(Xy,{className:i.icon({inactive:!0})})]})}function cte({className:t,variant:e,size:r,...n}){let{onTogglePip:i}=(0,$.use)(eN),s=wC(),a=pl({variant:e,size:r});return i&&s?m.jsx("button",{className:a.base({className:t}),...n,onClick:()=>i(s),children:m.jsx(Mp,{className:a.icon({active:!0})})}):m.jsxs(gC,{className:a.base({className:t,"may-support":!0}),...n,children:[m.jsx(Mp,{className:a.icon({inactive:!0})}),m.jsx(Jy,{className:a.icon({active:!0})})]})}function lNe({className:t,variant:e,size:r,asChild:n=!1,...i}){let s=n?aT:"button",a=pl({variant:e,size:r});return m.jsx(s,{"data-slot":"button",className:a.base({className:t}),...i})}function ute(){let{clipStartTime:t,clipEndTime:e}=dC(),r=wC(),{onResetClip:n}=(0,$.use)(eN);if(!t||!e)return null;let i=t>0?Jo(t):"start",s=Number.isFinite(t)&&t>0?Jo(e):"end";return m.jsxs("div",{className:"flex items-center gap-0.5",title:`Video clipped from ${i} to ${s}`,children:[m.jsx("div",{className:"flex items-center gap-1 px-2 text-sm",children:m.jsx(nc,{className:"size-4 text-primary"})}),n&&r&&m.jsx(lNe,{type:"button",onClick:()=>n(r),title:"Reset clip",children:m.jsx(cv,{})})]})}function cNe({utilsSlot:t}){return m.jsx(Gt.Root,{className:"mx-player-video mx-player hidden @md:block",children:m.jsxs("div",{className:`${je("absolute inset-0 z-10 grid h-full w-full opacity-0 transition-[opacity,padding,font-size] media-controls:opacity-100 media-paused:opacity-100","grid-cols-3 grid-rows-[2.5rem_1fr_6px_2rem] gap-y-2 p-2 pb-2","@xl:grid-rows-[2.5rem_1fr_6px_2rem] @xl:px-4 @xl:pt-4")} bg-linear-to-t from-video-overlay/20 from-0% via-transparent via-[4rem_calc(100%-5rem)] to-video-overlay/20 to-100%`,children:[m.jsx("div",{className:"col-span-2",children:m.jsx(cT,{})}),m.jsx(Gt.Group,{className:"col-span-1 flex w-full place-content-end items-center overflow-hidden",children:m.jsx(ute,{})}),m.jsx("div",{className:"pointer-events-none col-span-3 flex items-center justify-center"}),m.jsxs(Gt.Group,{className:"col-span-2 flex w-full items-center gap-x-0.5 row-start-4 pl-0",children:[m.jsx(lT,{}),m.jsx(uT,{sliderVariant:"video"}),m.jsxs("div",{className:"ml-2 flex items-center gap-x-1.5 text-sm font-medium",children:[m.jsx(Oc,{type:"current"}),m.jsx(H0,{className:"h-3 bg-foreground/80",orientation:"vertical"}),m.jsx(Oc,{type:"duration"})]})]}),m.jsxs(Gt.Group,{className:"col-span-1 flex w-full flex-row-reverse items-center justify-start gap-0.5 row-start-4",children:[t,m.jsxs("div",{className:"group contents",children:[m.jsx(lte,{className:"peer"}),m.jsx(cte,{className:"max-w-full opacity-100"})]}),m.jsx(ote,{})]}),m.jsx(Gt.Group,{className:"col-span-3 flex w-full items-center px-1 row-start-3",children:m.jsx(dT,{variant:"video"})})]})})}function uNe({utilsSlot:t}){return m.jsx(Gt.Root,{className:"mx-player-video mx-player @md:hidden",children:m.jsxs("div",{className:`${je("absolute inset-0 z-10 grid h-full w-full opacity-0 transition-[opacity,padding,font-size] media-controls:opacity-100 media-paused:opacity-100","grid-cols-3 grid-rows-[2rem_1fr_2rem_6px] gap-y-1 p-2 pb-3")} bg-linear-to-t from-video-overlay/20 from-0% via-transparent via-[4rem_calc(100%-5rem)] to-video-overlay/20 to-100%`,children:[m.jsx("div",{className:"col-span-2",children:m.jsx(cT,{})}),m.jsxs(Gt.Group,{className:"col-span-1 flex w-full place-content-end items-center overflow-hidden",children:[m.jsx(ute,{}),m.jsx(ote,{}),t]}),m.jsx("div",{className:"pointer-events-none col-span-3 flex items-center justify-center",children:m.jsx(lT,{className:"pointer-events-auto",size:"center"})}),m.jsx(Gt.Group,{className:"col-span-2 flex w-full items-center gap-x-0.5 pl-1",children:m.jsxs("div",{className:"ml-2 flex items-center gap-x-1.5 text-sm font-medium",children:[m.jsx(Oc,{type:"current"}),m.jsx(H0,{className:"h-3 bg-foreground/80",orientation:"vertical"}),m.jsx(Oc,{type:"duration"})]})}),m.jsxs(Gt.Group,{className:"col-span-1 flex w-full flex-row-reverse items-center justify-start gap-0.5",children:[m.jsxs("div",{className:"group contents",children:[m.jsx(lte,{className:"peer"}),m.jsx(cte,{className:"max-w-0 opacity-0 focus-visible:max-w-full focus-visible:opacity-100 group-hover:max-w-full group-hover:opacity-100 peer-focus-visible:max-w-full peer-focus-visible:opacity-100 data-enabled:max-w-full data-enabled:opacity-100"})]}),m.jsx(uT,{direction:"reverse",sliderVariant:"video"})]}),m.jsx(Gt.Group,{className:"col-span-3 flex w-full items-center px-1",children:m.jsx(dT,{variant:"video"})})]})})}function dte({utilsSlot:t}){return ei("viewType")==="audio"?null:m.jsxs(m.Fragment,{children:[m.jsx(oNe,{}),m.jsx(SC,{className:je(`${sNe.captions} absolute inset-0 bottom-2 z-10 select-none break-words opacity-0 transition-[opacity,bottom] duration-300 media-captions:opacity-100 media-controls:bottom-14 media-preview:opacity-0 `)}),m.jsx(uNe,{utilsSlot:t}),m.jsx(cNe,{utilsSlot:t})]})}var G0=t=>t.type==="checkbox",Zd=t=>t instanceof Date,Nn=t=>t==null,fte=t=>typeof t=="object",or=t=>!Nn(t)&&!Array.isArray(t)&&fte(t)&&!Zd(t),pte=t=>or(t)&&t.target?G0(t.target)?t.target.checked:t.target.value:t,dNe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,hte=(t,e)=>t.has(dNe(e)),fNe=t=>{let e=t.constructor&&t.constructor.prototype;return or(e)&&e.hasOwnProperty("isPrototypeOf")},tN=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function jr(t){let e,r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(tN&&(t instanceof Blob||n))&&(r||or(t)))if(e=r?[]:{},!r&&!fNe(t))e=t;else for(let i in t)t.hasOwnProperty(i)&&(e[i]=jr(t[i]));else return t;return e}var fT=t=>/^\w*$/.test(t),er=t=>t===void 0,rN=t=>Array.isArray(t)?t.filter(Boolean):[],nN=t=>rN(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Z=(t,e,r)=>{if(!e||!or(t))return r;let n=(fT(e)?[e]:nN(e)).reduce((i,s)=>Nn(i)?i:i[s],t);return er(n)||n===t?er(t[e])?r:t[e]:n},ji=t=>typeof t=="boolean",lt=(t,e,r)=>{let n=-1,i=fT(e)?[e]:nN(e),s=i.length,a=s-1;for(;++n<s;){let o=i[n],l=r;if(n!==a){let c=t[o];l=or(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}},YE={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},va={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},cl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},iN=$.default.createContext(null);iN.displayName="HookFormContext";var pT=()=>$.default.useContext(iN),pNe=t=>{let{children:e,...r}=t;return $.default.createElement(iN.Provider,{value:r},e)},mte=(t,e,r,n=!0)=>{let i={defaultValues:e._defaultValues};for(let s in t)Object.defineProperty(i,s,{get:()=>{let a=s;return e._proxyFormState[a]!==va.all&&(e._proxyFormState[a]=!n||va.all),r&&(r[a]=!0),t[a]}});return i},sN=typeof window<"u"?N.useLayoutEffect:N.useEffect;function gte(t){let e=pT(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[a,o]=$.default.useState(r._formState),l=$.default.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return sN(()=>r._subscribe({name:i,formState:l.current,exact:s,callback:c=>{!n&&o({...r._formState,...c})}}),[i,n,s]),$.default.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),$.default.useMemo(()=>mte(a,r,l.current,!1),[a,r])}var ao=t=>typeof t=="string",yte=(t,e,r,n,i)=>ao(t)?(n&&e.watch.add(t),Z(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),Z(r,s))):(n&&(e.watchAll=!0),r);function hNe(t){let e=pT(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:a}=t||{},o=$.default.useRef(i),[l,c]=$.default.useState(r._getWatch(n,o.current));return sN(()=>r._subscribe({name:n,formState:{values:!0},exact:a,callback:u=>!s&&c(yte(n,r._names,u.values||r._formValues,!1,o.current))}),[n,r,s,a]),$.default.useEffect(()=>r._removeUnmounted()),l}function mNe(t){let e=pT(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s}=t,a=hte(i._names.array,r),o=hNe({control:i,name:r,defaultValue:Z(i._formValues,r,Z(i._defaultValues,r,t.defaultValue)),exact:!0}),l=gte({control:i,name:r,exact:!0}),c=$.default.useRef(t),u=$.default.useRef(i.register(r,{...t.rules,value:o,...ji(t.disabled)?{disabled:t.disabled}:{}})),d=$.default.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Z(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!Z(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Z(l.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Z(l.validatingFields,r)},error:{enumerable:!0,get:()=>Z(l.errors,r)}}),[l,r]),f=$.default.useCallback(v=>u.current.onChange({target:{value:pte(v),name:r},type:YE.CHANGE}),[r]),p=$.default.useCallback(()=>u.current.onBlur({target:{value:Z(i._formValues,r),name:r},type:YE.BLUR}),[r,i._formValues]),h=$.default.useCallback(v=>{let y=Z(i._fields,r);y&&v&&(y._f.ref={focus:()=>v.focus&&v.focus(),select:()=>v.select&&v.select(),setCustomValidity:b=>v.setCustomValidity(b),reportValidity:()=>v.reportValidity()})},[i._fields,r]),g=$.default.useMemo(()=>({name:r,value:o,...ji(n)||l.disabled?{disabled:l.disabled||n}:{},onChange:f,onBlur:p,ref:h}),[r,n,l.disabled,f,p,h,o]);return $.default.useEffect(()=>{let v=i._options.shouldUnregister||s;i.register(r,{...c.current.rules,...ji(c.current.disabled)?{disabled:c.current.disabled}:{}});let y=(b,w)=>{let x=Z(i._fields,b);x&&x._f&&(x._f.mount=w)};if(y(r,!0),v){let b=jr(Z(i._options.defaultValues,r));lt(i._defaultValues,r,b),er(Z(i._formValues,r))&&lt(i._formValues,r,b)}return!a&&i.register(r),()=>{(a?v&&!i._state.action:v)?i.unregister(r):y(r,!1)}},[r,i,a,s]),$.default.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),$.default.useMemo(()=>({field:g,formState:l,fieldState:d}),[g,l,d])}var gNe=t=>t.render(mNe(t)),vte=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},B0=t=>Array.isArray(t)?t:[t],XZ=()=>{let t=[];return{get observers(){return t},next:e=>{for(let r of t)r.next&&r.next(e)},subscribe:e=>(t.push(e),{unsubscribe:()=>{t=t.filter(r=>r!==e)}}),unsubscribe:()=>{t=[]}}},HD=t=>Nn(t)||!fte(t);function Lc(t,e,r=new WeakSet){if(HD(t)||HD(e))return t===e;if(Zd(t)&&Zd(e))return t.getTime()===e.getTime();let n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(let s of n){let a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){let o=e[s];if(Zd(a)&&Zd(o)||or(a)&&or(o)||Array.isArray(a)&&Array.isArray(o)?!Lc(a,o,r):a!==o)return!1}}return!0}var si=t=>or(t)&&!Object.keys(t).length,aN=t=>t.type==="file",ba=t=>typeof t=="function",XE=t=>{if(!tN)return!1;let e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},bte=t=>t.type==="select-multiple",oN=t=>t.type==="radio",yNe=t=>oN(t)||G0(t),MD=t=>XE(t)&&t.isConnected;function vNe(t,e){let r=e.slice(0,-1).length,n=0;for(;n<r;)t=er(t)?n++:t[e[n++]];return t}function bNe(t){for(let e in t)if(t.hasOwnProperty(e)&&!er(t[e]))return!1;return!0}function gr(t,e){let r=Array.isArray(e)?e:fT(e)?[e]:nN(e),n=r.length===1?t:vNe(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(or(n)&&si(n)||Array.isArray(n)&&bNe(n))&&gr(t,r.slice(0,-1)),t}var wte=t=>{for(let e in t)if(ba(t[e]))return!0;return!1};function QE(t,e={}){let r=Array.isArray(t);if(or(t)||r)for(let n in t)Array.isArray(t[n])||or(t[n])&&!wte(t[n])?(e[n]=Array.isArray(t[n])?[]:{},QE(t[n],e[n])):Nn(t[n])||(e[n]=!0);return e}function xte(t,e,r){let n=Array.isArray(t);if(or(t)||n)for(let i in t)Array.isArray(t[i])||or(t[i])&&!wte(t[i])?er(e)||HD(r[i])?r[i]=Array.isArray(t[i])?QE(t[i],[]):{...QE(t[i])}:xte(t[i],Nn(e)?{}:e[i],r[i]):r[i]=!Lc(t[i],e[i]);return r}var $0=(t,e)=>xte(t,e,QE(e)),QZ={value:!1,isValid:!1},JZ={value:!0,isValid:!0},Ste=t=>{if(Array.isArray(t)){if(t.length>1){let e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!er(t[0].attributes.value)?er(t[0].value)||t[0].value===""?JZ:{value:t[0].value,isValid:!0}:JZ:QZ}return QZ},kte=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>er(t)?t:e?t===""?NaN:t&&+t:r&&ao(t)?new Date(t):n?n(t):t,ZZ={isValid:!1,value:null},Cte=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,ZZ):ZZ;function eee(t){let e=t.ref;return aN(e)?e.files:oN(e)?Cte(t.refs).value:bte(e)?[...e.selectedOptions].map(({value:r})=>r):G0(e)?Ste(t.refs).value:kte(er(e.value)?t.ref.value:e.value,t)}var wNe=(t,e,r,n)=>{let i={};for(let s of t){let a=Z(e,s);a&&lt(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},JE=t=>t instanceof RegExp,j0=t=>er(t)?t:JE(t)?t.source:or(t)?JE(t.value)?t.value.source:t.value:t,tee=t=>({isOnSubmit:!t||t===va.onSubmit,isOnBlur:t===va.onBlur,isOnChange:t===va.onChange,isOnAll:t===va.all,isOnTouch:t===va.onTouched}),ree="AsyncFunction",xNe=t=>!!t&&!!t.validate&&!!(ba(t.validate)&&t.validate.constructor.name===ree||or(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===ree)),SNe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),nee=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length)))),U0=(t,e,r,n)=>{for(let i of r||Object.keys(t)){let s=Z(t,i);if(s){let{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n||a.ref&&e(a.ref,a.name)&&!n)return!0;if(U0(o,e))break}else if(or(o)&&U0(o,e))break}}};function iee(t,e,r){let n=Z(t,r);if(n||fT(r))return{error:n,name:r};let i=r.split(".");for(;i.length;){let s=i.join("."),a=Z(e,s),o=Z(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:r}}var kNe=(t,e,r,n)=>{r(t);let{name:i,...s}=t;return si(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||va.all))},CNe=(t,e,r)=>!t||!e||t===e||B0(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),ENe=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,TNe=(t,e)=>!rN(Z(t,e)).length&&gr(t,e),ANe=(t,e,r)=>{let n=B0(Z(t,r));return lt(n,"root",e[r]),lt(t,r,n),t},UE=t=>ao(t);function see(t,e,r="validate"){if(UE(t)||Array.isArray(t)&&t.every(UE)||ji(t)&&!t)return{type:r,message:UE(t)?t:"",ref:e}}var Eh=t=>or(t)&&!JE(t)?t:{value:t,message:""},aee=async(t,e,r,n,i,s)=>{let{ref:a,refs:o,required:l,maxLength:c,minLength:u,min:d,max:f,pattern:p,validate:h,name:g,valueAsNumber:v,mount:y}=t._f,b=Z(r,g);if(!y||e.has(g))return{};let w=o?o[0]:a,x=T=>{i&&w.reportValidity&&(w.setCustomValidity(ji(T)?"":T||""),w.reportValidity())},A={},O=oN(a),S=G0(a),k=O||S,E=(v||aN(a))&&er(a.value)&&er(b)||XE(a)&&a.value===""||b===""||Array.isArray(b)&&!b.length,I=vte.bind(null,g,n,A),R=(T,_,F,Y=cl.maxLength,H=cl.minLength)=>{let D=T?_:F;A[g]={type:T?Y:H,message:D,ref:a,...I(T?Y:H,D)}};if(s?!Array.isArray(b)||!b.length:l&&(!k&&(E||Nn(b))||ji(b)&&!b||S&&!Ste(o).isValid||O&&!Cte(o).isValid)){let{value:T,message:_}=UE(l)?{value:!!l,message:l}:Eh(l);if(T&&(A[g]={type:cl.required,message:_,ref:w,...I(cl.required,_)},!n))return x(_),A}if(!E&&(!Nn(d)||!Nn(f))){let T,_,F=Eh(f),Y=Eh(d);if(!Nn(b)&&!isNaN(b)){let H=a.valueAsNumber||b&&+b;Nn(F.value)||(T=H>F.value),Nn(Y.value)||(_=H<Y.value)}else{let H=a.valueAsDate||new Date(b),D=De=>new Date(new Date().toDateString()+" "+De),U=a.type=="time",ue=a.type=="week";ao(F.value)&&b&&(T=U?D(b)>D(F.value):ue?b>F.value:H>new Date(F.value)),ao(Y.value)&&b&&(_=U?D(b)<D(Y.value):ue?b<Y.value:H<new Date(Y.value))}if((T||_)&&(R(!!T,F.message,Y.message,cl.max,cl.min),!n))return x(A[g].message),A}if((c||u)&&!E&&(ao(b)||s&&Array.isArray(b))){let T=Eh(c),_=Eh(u),F=!Nn(T.value)&&b.length>+T.value,Y=!Nn(_.value)&&b.length<+_.value;if((F||Y)&&(R(F,T.message,_.message),!n))return x(A[g].message),A}if(p&&!E&&ao(b)){let{value:T,message:_}=Eh(p);if(JE(T)&&!b.match(T)&&(A[g]={type:cl.pattern,message:_,ref:a,...I(cl.pattern,_)},!n))return x(_),A}if(h){if(ba(h)){let T=await h(b,r),_=see(T,w);if(_&&(A[g]={..._,...I(cl.validate,_.message)},!n))return x(_.message),A}else if(or(h)){let T={};for(let _ in h){if(!si(T)&&!n)break;let F=see(await h[_](b,r),w,_);F&&(T={...F,...I(_,F.message)},x(F.message),n&&(A[g]=T))}if(!si(T)&&(A[g]={ref:w,...T},!n))return A}}return x(!0),A},LNe={mode:va.onSubmit,reValidateMode:va.onChange,shouldFocusError:!0};function INe(t={}){let e={...LNe,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ba(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=or(e.defaultValues)||or(e.values)?jr(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:jr(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0,u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={...u},f={array:XZ(),state:XZ()},p=e.criteriaMode===va.all,h=L=>P=>{clearTimeout(c),c=setTimeout(L,P)},g=async L=>{if(!e.disabled&&(u.isValid||d.isValid||L)){let P=e.resolver?si((await S()).errors):await E(n,!0);P!==r.isValid&&f.state.next({isValid:P})}},v=(L,P)=>{!e.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((L||Array.from(o.mount)).forEach(j=>{j&&(P?lt(r.validatingFields,j,P):gr(r.validatingFields,j))}),f.state.next({validatingFields:r.validatingFields,isValidating:!si(r.validatingFields)}))},y=(L,P=[],j,re,te=!0,X=!0)=>{if(re&&j&&!e.disabled){if(a.action=!0,X&&Array.isArray(Z(n,L))){let de=j(Z(n,L),re.argA,re.argB);te&&lt(n,L,de)}if(X&&Array.isArray(Z(r.errors,L))){let de=j(Z(r.errors,L),re.argA,re.argB);te&&lt(r.errors,L,de),TNe(r.errors,L)}if((u.touchedFields||d.touchedFields)&&X&&Array.isArray(Z(r.touchedFields,L))){let de=j(Z(r.touchedFields,L),re.argA,re.argB);te&&lt(r.touchedFields,L,de)}(u.dirtyFields||d.dirtyFields)&&(r.dirtyFields=$0(i,s)),f.state.next({name:L,isDirty:R(L,P),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else lt(s,L,P)},b=(L,P)=>{lt(r.errors,L,P),f.state.next({errors:r.errors})},w=L=>{r.errors=L,f.state.next({errors:r.errors,isValid:!1})},x=(L,P,j,re)=>{let te=Z(n,L);if(te){let X=Z(s,L,er(j)?Z(i,L):j);er(X)||re&&re.defaultChecked||P?lt(s,L,P?X:eee(te._f)):F(L,X),a.mount&&g()}},A=(L,P,j,re,te)=>{let X=!1,de=!1,Ze={name:L};if(!e.disabled){if(!j||re){(u.isDirty||d.isDirty)&&(de=r.isDirty,r.isDirty=Ze.isDirty=R(),X=de!==Ze.isDirty);let Et=Lc(Z(i,L),P);de=!!Z(r.dirtyFields,L),Et?gr(r.dirtyFields,L):lt(r.dirtyFields,L,!0),Ze.dirtyFields=r.dirtyFields,X=X||(u.dirtyFields||d.dirtyFields)&&de!==!Et}if(j){let Et=Z(r.touchedFields,L);Et||(lt(r.touchedFields,L,j),Ze.touchedFields=r.touchedFields,X=X||(u.touchedFields||d.touchedFields)&&Et!==j)}X&&te&&f.state.next(Ze)}return X?Ze:{}},O=(L,P,j,re)=>{let te=Z(r.errors,L),X=(u.isValid||d.isValid)&&ji(P)&&r.isValid!==P;if(e.delayError&&j?(l=h(()=>b(L,j)),l(e.delayError)):(clearTimeout(c),l=null,j?lt(r.errors,L,j):gr(r.errors,L)),(j?!Lc(te,j):te)||!si(re)||X){let de={...re,...X&&ji(P)?{isValid:P}:{},errors:r.errors,name:L};r={...r,...de},f.state.next(de)}},S=async L=>{v(L,!0);let P=await e.resolver(s,e.context,wNe(L||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return v(L),P},k=async L=>{let{errors:P}=await S(L);if(L)for(let j of L){let re=Z(P,j);re?lt(r.errors,j,re):gr(r.errors,j)}else r.errors=P;return P},E=async(L,P,j={valid:!0})=>{for(let re in L){let te=L[re];if(te){let{_f:X,...de}=te;if(X){let Ze=o.array.has(X.name),Et=te._f&&xNe(te._f);Et&&u.validatingFields&&v([re],!0);let rs=await aee(te,o.disabled,s,p,e.shouldUseNativeValidation&&!P,Ze);if(Et&&u.validatingFields&&v([re]),rs[X.name]&&(j.valid=!1,P))break;!P&&(Z(rs,X.name)?Ze?ANe(r.errors,rs,X.name):lt(r.errors,X.name,rs[X.name]):gr(r.errors,X.name))}!si(de)&&await E(de,P,j)}}return j.valid},I=()=>{for(let L of o.unMount){let P=Z(n,L);P&&(P._f.refs?P._f.refs.every(j=>!MD(j)):!MD(P._f.ref))&&ct(L)}o.unMount=new Set},R=(L,P)=>!e.disabled&&(L&&P&&lt(s,L,P),!Lc(De(),i)),T=(L,P,j)=>yte(L,o,{...a.mount?s:er(P)?i:ao(L)?{[L]:P}:P},j,P),_=L=>rN(Z(a.mount?s:i,L,e.shouldUnregister?Z(i,L,[]):[])),F=(L,P,j={})=>{let re=Z(n,L),te=P;if(re){let X=re._f;X&&(!X.disabled&&lt(s,L,kte(P,X)),te=XE(X.ref)&&Nn(P)?"":P,bte(X.ref)?[...X.ref.options].forEach(de=>de.selected=te.includes(de.value)):X.refs?G0(X.ref)?X.refs.forEach(de=>{(!de.defaultChecked||!de.disabled)&&(Array.isArray(te)?de.checked=!!te.find(Ze=>Ze===de.value):de.checked=te===de.value||!!te)}):X.refs.forEach(de=>de.checked=de.value===te):aN(X.ref)?X.ref.value="":(X.ref.value=te,X.ref.type||f.state.next({name:L,values:jr(s)})))}(j.shouldDirty||j.shouldTouch)&&A(L,te,j.shouldTouch,j.shouldDirty,!0),j.shouldValidate&&ue(L)},Y=(L,P,j)=>{for(let re in P){if(!P.hasOwnProperty(re))return;let te=P[re],X=L+"."+re,de=Z(n,X);(o.array.has(L)||or(te)||de&&!de._f)&&!Zd(te)?Y(X,te,j):F(X,te,j)}},H=(L,P,j={})=>{let re=Z(n,L),te=o.array.has(L),X=jr(P);lt(s,L,X),te?(f.array.next({name:L,values:jr(s)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&j.shouldDirty&&f.state.next({name:L,dirtyFields:$0(i,s),isDirty:R(L,X)})):re&&!re._f&&!Nn(X)?Y(L,X,j):F(L,X,j),nee(L,o)&&f.state.next({...r}),f.state.next({name:a.mount?L:void 0,values:jr(s)})},D=async L=>{a.mount=!0;let P=L.target,j=P.name,re=!0,te=Z(n,j),X=Et=>{re=Number.isNaN(Et)||Zd(Et)&&isNaN(Et.getTime())||Lc(Et,Z(s,j,Et))},de=tee(e.mode),Ze=tee(e.reValidateMode);if(te){let Et,rs,zx=P.type?eee(te._f):pte(L),ql=L.type===YE.BLUR||L.type===YE.FOCUS_OUT,ome=!SNe(te._f)&&!e.resolver&&!Z(r.errors,j)&&!te._f.deps||ENe(ql,Z(r.touchedFields,j),r.isSubmitted,Ze,de),MI=nee(j,o,ql);lt(s,j,zx),ql?(te._f.onBlur&&te._f.onBlur(L),l&&l(0)):te._f.onChange&&te._f.onChange(L);let PI=A(j,zx,ql),lme=!si(PI)||MI;if(!ql&&f.state.next({name:j,type:L.type,values:jr(s)}),ome)return(u.isValid||d.isValid)&&(e.mode==="onBlur"?ql&&g():ql||g()),lme&&f.state.next({name:j,...MI?{}:PI});if(!ql&&MI&&f.state.next({...r}),e.resolver){let{errors:f7}=await S([j]);if(X(zx),re){let cme=iee(r.errors,n,j),p7=iee(f7,n,cme.name||j);Et=p7.error,j=p7.name,rs=si(f7)}}else v([j],!0),Et=(await aee(te,o.disabled,s,p,e.shouldUseNativeValidation))[j],v([j]),X(zx),re&&(Et?rs=!1:(u.isValid||d.isValid)&&(rs=await E(n,!0)));re&&(te._f.deps&&ue(te._f.deps),O(j,rs,Et,PI))}},U=(L,P)=>{if(Z(r.errors,P)&&L.focus)return L.focus(),1},ue=async(L,P={})=>{let j,re,te=B0(L);if(e.resolver){let X=await k(er(L)?L:te);j=si(X),re=L?!te.some(de=>Z(X,de)):j}else L?(re=(await Promise.all(te.map(async X=>{let de=Z(n,X);return await E(de&&de._f?{[X]:de}:de)}))).every(Boolean),!(!re&&!r.isValid)&&g()):re=j=await E(n);return f.state.next({...!ao(L)||(u.isValid||d.isValid)&&j!==r.isValid?{}:{name:L},...e.resolver||!L?{isValid:j}:{},errors:r.errors}),P.shouldFocus&&!re&&U0(n,U,L?te:o.mount),re},De=L=>{let P={...a.mount?s:i};return er(L)?P:ao(L)?Z(P,L):L.map(j=>Z(P,j))},Ct=(L,P)=>({invalid:!!Z((P||r).errors,L),isDirty:!!Z((P||r).dirtyFields,L),error:Z((P||r).errors,L),isValidating:!!Z(r.validatingFields,L),isTouched:!!Z((P||r).touchedFields,L)}),Kt=L=>{L&&B0(L).forEach(P=>gr(r.errors,P)),f.state.next({errors:L?r.errors:{}})},mt=(L,P,j)=>{let re=(Z(n,L,{_f:{}})._f||{}).ref,te=Z(r.errors,L)||{},{ref:X,message:de,type:Ze,...Et}=te;lt(r.errors,L,{...Et,...P,ref:re}),f.state.next({name:L,errors:r.errors,isValid:!1}),j&&j.shouldFocus&&re&&re.focus&&re.focus()},Ft=(L,P)=>ba(L)?f.state.subscribe({next:j=>L(T(void 0,P),j)}):T(L,P,!0),sn=L=>f.state.subscribe({next:P=>{CNe(L.name,P.name,L.exact)&&kNe(P,L.formState||u,ame,L.reRenderRoot)&&L.callback({values:{...s},...r,...P})}}).unsubscribe,es=L=>(a.mount=!0,d={...d,...L.formState},sn({...L,formState:d})),ct=(L,P={})=>{for(let j of L?B0(L):o.mount)o.mount.delete(j),o.array.delete(j),P.keepValue||(gr(n,j),gr(s,j)),!P.keepError&&gr(r.errors,j),!P.keepDirty&&gr(r.dirtyFields,j),!P.keepTouched&&gr(r.touchedFields,j),!P.keepIsValidating&&gr(r.validatingFields,j),!e.shouldUnregister&&!P.keepDefaultValue&&gr(i,j);f.state.next({values:jr(s)}),f.state.next({...r,...P.keepDirty?{isDirty:R()}:{}}),!P.keepIsValid&&g()},Oa=({disabled:L,name:P})=>{(ji(L)&&a.mount||L||o.disabled.has(P))&&(L?o.disabled.add(P):o.disabled.delete(P))},Hr=(L,P={})=>{let j=Z(n,L),re=ji(P.disabled)||ji(e.disabled);return lt(n,L,{...j||{},_f:{...j&&j._f?j._f:{ref:{name:L}},name:L,mount:!0,...P}}),o.mount.add(L),j?Oa({disabled:ji(P.disabled)?P.disabled:e.disabled,name:L}):x(L,!0,P.value),{...re?{disabled:P.disabled||e.disabled}:{},...e.progressive?{required:!!P.required,min:j0(P.min),max:j0(P.max),minLength:j0(P.minLength),maxLength:j0(P.maxLength),pattern:j0(P.pattern)}:{},name:L,onChange:D,onBlur:D,ref:te=>{if(te){Hr(L,P),j=Z(n,L);let X=er(te.value)&&te.querySelectorAll&&te.querySelectorAll("input,select,textarea")[0]||te,de=yNe(X),Ze=j._f.refs||[];if(de?Ze.find(Et=>Et===X):X===j._f.ref)return;lt(n,L,{_f:{...j._f,...de?{refs:[...Ze.filter(MD),X,...Array.isArray(Z(i,L))?[{}]:[]],ref:{type:X.type,name:L}}:{ref:X}}}),x(L,!1,void 0,X)}else j=Z(n,L,{}),j._f&&(j._f.mount=!1),(e.shouldUnregister||P.shouldUnregister)&&!(hte(o.array,L)&&a.action)&&o.unMount.add(L)}}},Gr=()=>e.shouldFocusError&&U0(n,U,o.mount),_a=L=>{ji(L)&&(f.state.next({disabled:L}),U0(n,(P,j)=>{let re=Z(n,j);re&&(P.disabled=re._f.disabled||L,Array.isArray(re._f.refs)&&re._f.refs.forEach(te=>{te.disabled=re._f.disabled||L}))},0,!1))},ts=(L,P)=>async j=>{let re;j&&(j.preventDefault&&j.preventDefault(),j.persist&&j.persist());let te=jr(s);if(f.state.next({isSubmitting:!0}),e.resolver){let{errors:X,values:de}=await S();r.errors=X,te=jr(de)}else await E(n);if(o.disabled.size)for(let X of o.disabled)gr(te,X);if(gr(r.errors,"root"),si(r.errors)){f.state.next({errors:{}});try{await L(te,j)}catch(X){re=X}}else P&&await P({...r.errors},j),Gr(),setTimeout(Gr);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:si(r.errors)&&!re,submitCount:r.submitCount+1,errors:r.errors}),re)throw re},vg=(L,P={})=>{Z(n,L)&&(er(P.defaultValue)?H(L,jr(Z(i,L))):(H(L,P.defaultValue),lt(i,L,jr(P.defaultValue))),P.keepTouched||gr(r.touchedFields,L),P.keepDirty||(gr(r.dirtyFields,L),r.isDirty=P.defaultValue?R(L,jr(Z(i,L))):R()),P.keepError||(gr(r.errors,L),u.isValid&&g()),f.state.next({...r}))},_f=(L,P={})=>{let j=L?jr(L):i,re=jr(j),te=si(L),X=te?i:re;if(P.keepDefaultValues||(i=j),!P.keepValues){if(P.keepDirtyValues){let de=new Set([...o.mount,...Object.keys($0(i,s))]);for(let Ze of Array.from(de))Z(r.dirtyFields,Ze)?lt(X,Ze,Z(s,Ze)):H(Ze,Z(X,Ze))}else{if(tN&&er(L))for(let de of o.mount){let Ze=Z(n,de);if(Ze&&Ze._f){let Et=Array.isArray(Ze._f.refs)?Ze._f.refs[0]:Ze._f.ref;if(XE(Et)){let rs=Et.closest("form");if(rs){rs.reset();break}}}}for(let de of o.mount){let Ze=Z(X,de,Z(i,de));er(Ze)||(lt(X,de,Ze),H(de,Z(X,de)))}}s=jr(X),f.array.next({values:{...X}}),f.state.next({values:{...X}})}o={mount:P.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!u.isValid||!!P.keepIsValid||!!P.keepDirtyValues,a.watch=!!e.shouldUnregister,f.state.next({submitCount:P.keepSubmitCount?r.submitCount:0,isDirty:te?!1:P.keepDirty?r.isDirty:!!(P.keepDefaultValues&&!Lc(L,i)),isSubmitted:P.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:te?{}:P.keepDirtyValues?P.keepDefaultValues&&s?$0(i,s):r.dirtyFields:P.keepDefaultValues&&L?$0(i,L):P.keepDirty?r.dirtyFields:{},touchedFields:P.keepTouched?r.touchedFields:{},errors:P.keepErrors?r.errors:{},isSubmitSuccessful:P.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},bg=(L,P)=>_f(ba(L)?L(s):L,P),Ux=(L,P={})=>{let j=Z(n,L),re=j&&j._f;if(re){let te=re.refs?re.refs[0]:re.ref;te.focus&&(te.focus(),P.shouldSelect&&ba(te.select)&&te.select())}},ame=L=>{r={...r,...L}},d7={control:{register:Hr,unregister:ct,getFieldState:Ct,handleSubmit:ts,setError:mt,_subscribe:sn,_runSchema:S,_focusError:Gr,_getWatch:T,_getDirty:R,_setValid:g,_setFieldArray:y,_setDisabledField:Oa,_setErrors:w,_getFieldArray:_,_reset:_f,_resetDefaultValues:()=>ba(e.defaultValues)&&e.defaultValues().then(L=>{bg(L,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:_a,_subjects:f,_proxyFormState:u,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state(L){a=L},get _defaultValues(){return i},get _names(){return o},set _names(L){o=L},get _formState(){return r},get _options(){return e},set _options(L){e={...e,...L}}},subscribe:es,trigger:ue,register:Hr,handleSubmit:ts,watch:Ft,setValue:H,getValues:De,reset:bg,resetField:vg,clearErrors:Kt,unregister:ct,setError:mt,setFocus:Ux,getFieldState:Ct};return{...d7,formControl:d7}}function lN(t={}){let e=$.default.useRef(void 0),r=$.default.useRef(void 0),[n,i]=$.default.useState({isDirty:!1,isValidating:!1,isLoading:ba(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ba(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!ba(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{let{formControl:a,...o}=INe(t);e.current={...o,formState:n}}let s=e.current.control;return s._options=t,sN(()=>{let a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),$.default.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),$.default.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),$.default.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),$.default.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),$.default.useEffect(()=>{if(s._proxyFormState.isDirty){let a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),$.default.useEffect(()=>{t.values&&!Lc(t.values,r.current)?(s._reset(t.values,s._options.resetOptions),r.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[s,t.values]),$.default.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=mte(n,s),e.current}var RNe="Label",Ete=N.forwardRef((t,e)=>m.jsx(Sa.label,{...t,ref:e,onMouseDown:r=>{var n;r.target.closest("button, input, select, textarea")||((n=t.onMouseDown)==null||n.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Ete.displayName=RNe;var MNe=Ete;function PNe({className:t,...e}){return m.jsx(MNe,{"data-slot":"label",className:je("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}var cN=pNe,Tte=N.createContext({}),Fn=({...t})=>m.jsx(Tte.Provider,{value:{name:t.name},children:m.jsx(gNe,{...t})}),hT=()=>{let t=N.useContext(Tte),e=N.useContext(Ate),{getFieldState:r}=pT(),n=gte({name:t.name}),i=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");let{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},Ate=N.createContext({});function Ls({className:t,...e}){let r=N.useId();return m.jsx(Ate.Provider,{value:{id:r},children:m.jsx("div",{"data-slot":"form-item",className:je("grid gap-2",t),...e})})}function Is({className:t,...e}){let{error:r,formItemId:n}=hT();return m.jsx(PNe,{"data-slot":"form-label","data-error":!!r,className:je("data-[error=true]:text-destructive",t),htmlFor:n,...e})}function wa({...t}){let{error:e,formItemId:r,formDescriptionId:n,formMessageId:i}=hT();return m.jsx(aT,{"data-slot":"form-control",id:r,"aria-describedby":e?`${n} ${i}`:`${n}`,"aria-invalid":!!e,...t})}function Rc({className:t,...e}){let{formDescriptionId:r}=hT();return m.jsx("p",{"data-slot":"form-description",id:r,className:je("text-muted-foreground text-sm",t),...e})}function dl({className:t,...e}){let{error:r,formMessageId:n}=hT(),i=r?String(r?.message??""):e.children;return i?m.jsx("p",{"data-slot":"form-message",id:n,className:je("text-destructive text-sm",t),...e,children:i}):null}function xa({className:t,type:e,...r}){return m.jsx("input",{type:e,"data-slot":"input",className:je("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}function ONe({disabled:t,testPattern:e}){let[r,n]=(0,$.useState)(""),[i,s]=(0,$.useState)(null),a=()=>{try{let d=new URL(r),f=e(d);s(f)}catch{s({type:"error",reason:"Invalid URL format"})}},o=()=>{if(!i)return null;switch(i.type){case"matched":return m.jsx($o,{className:"size-4 text-success"});case"not-matched":return m.jsx(ec,{className:"size-4 text-warning"});case"invalid-pattern":case"error":return m.jsx(Fo,{className:"size-4 text-destructive"})}},l=()=>{if(!i)return null;switch(i.type){case"matched":return"Pattern matches URL";case"not-matched":return"Pattern does not match URL";case"invalid-pattern":return`Invalid pattern${i.reason?`: ${i.reason}`:""}`;case"error":return`Error: ${i.reason}`}},c=()=>{if(!i)return"";switch(i.type){case"matched":return"text-success";case"not-matched":return"text-warning";case"invalid-pattern":case"error":return"text-destructive"}},u=(0,$.useId)();return m.jsxs("div",{className:"mt-4 p-4 border border-border rounded-md bg-muted/50",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[m.jsx(ov,{className:"size-4"}),m.jsx("h3",{className:"text-sm font-medium text-foreground",children:"Verify URL Pattern"})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs(Ls,{children:[m.jsx(Is,{htmlFor:u,className:"sr-only",children:"Target URL"}),m.jsx(Rc,{children:"Enter a link to resource to test if the pattern matches."}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(xa,{id:u,type:"text",value:r,onChange:d=>n(d.target.value),className:"flex-1",placeholder:"https://example.com/path",onKeyDown:d=>{d.key==="Enter"&&!t&&r&&a()}}),m.jsx(Tr,{type:"button",onClick:a,disabled:t||!r.trim(),variant:"outline",children:"Test"})]})]}),i&&m.jsxs("div",{className:`flex items-center text-sm ${c()}`,children:[o(),m.jsx("span",{className:"ml-2",children:l()})]})]})]})}function Lte({defaultValues:t,resolver:e,onSave:r,onInvalid:n,onCancel:i,testPattern:s}){let a=lN({resolver:e,defaultValues:{...t,pattern:"",username:"",password:""}}),o=a.watch("pattern"),l=c=>s(o||"",c);return m.jsx(cN,{...a,children:m.jsxs("form",{onSubmit:a.handleSubmit(r,n),className:"space-y-6",children:[m.jsx(Fn,{control:a.control,name:"pattern",render:({field:c})=>m.jsxs(Ls,{children:[m.jsx(Is,{children:"Pattern/URL *"}),m.jsx(wa,{children:m.jsx(xa,{placeholder:"https://example.com/*",...c})}),m.jsx(dl,{})]})}),m.jsx(Fn,{control:a.control,name:"username",render:({field:c})=>m.jsxs(Ls,{children:[m.jsx(Is,{children:"Username *"}),m.jsx(wa,{children:m.jsx(xa,{placeholder:"Enter username or email",...c})}),m.jsx(dl,{})]})}),m.jsx(Fn,{control:a.control,name:"password",render:({field:c})=>m.jsxs(Ls,{children:[m.jsx(Is,{children:"Password *"}),m.jsx(wa,{children:m.jsx(xa,{type:"password",placeholder:"Enter password",...c})}),m.jsx(dl,{})]})}),m.jsx(ONe,{disabled:!o,testPattern:l}),m.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-border",children:[m.jsxs(Tr,{type:"button",onClick:i,variant:"outline",children:[m.jsx(jo,{className:"size-4"}),"Cancel"]}),m.jsxs(Tr,{type:"submit",children:[m.jsx(Pp,{className:"size-4"}),"Save"]})]})]})})}function _Ne(t){let{Deno:e}=globalThis;return typeof e?.inspect=="function"?e.inspect(t,{depth:1/0,sorted:!0,trailingComma:!0,compact:!1,iterableLimit:1/0,getters:!0,strAbbreviateSize:1/0}):`"${String(t).replace(/(?=["\\])/g,"\\")}"`}var GD=class extends Error{constructor(e,r){super(e,r),this.name="AssertionError"}};function WD(t,e){throw new GD(`Expect ${_Ne(t)} to be of type never`)}function oee(t,e={}){let{signal:r,persistent:n=!0}=e;return r!=null&&r.aborted?Promise.reject(r.reason):new Promise((i,s)=>{let a=()=>{clearTimeout(+o),s(r?.reason)},o=DNe(()=>{r?.removeEventListener("abort",a),i()},t);if(r?.addEventListener("abort",a,{once:!0}),n===!1)try{Deno.unrefTimer(o)}catch(l){if(!(l instanceof ReferenceError))throw l;console.error("`persistent` option is only available in Deno")}})}var lee=2**31-1;function DNe(t,e){let r=e=Math.trunc(Math.max(e,0)||0),n=Date.now(),i,s=()=>{r=e-(Date.now()-n),i=r>lee?setTimeout(s,lee):setTimeout(t,r)};return s(),{valueOf:()=>i}}function Ac({className:t,...e}){return m.jsx("div",{"data-slot":"skeleton",className:je("bg-accent animate-pulse rounded-md",t),...e})}function Ite({username:t,password:e,pattern:r,onEdit:n,onDelete:i,disabled:s=!1}){let[a,o]=(0,$.useState)(!1);return m.jsx("li",{className:"@container bg-card border border-border rounded-lg p-3 shadow-xs hover:shadow-md transition-shadow",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("dl",{className:"flex-1 grid grid-cols-1 @sm:grid-cols-2 @lg:grid-cols-3 gap-4 min-w-0",children:[m.jsxs("div",{className:"min-w-0 @sm:col-span-2 @lg:col-span-1",children:[m.jsx("dt",{className:"text-xs font-medium text-muted-foreground mb-1",children:"URL Pattern"}),m.jsx("dd",{className:"text-sm font-medium text-foreground truncate",children:r})]}),m.jsxs("div",{className:"min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx("dt",{className:"text-xs font-medium text-muted-foreground uppercase",children:"Username"}),m.jsx(cee,{value:t,target:"username"})]}),m.jsx("dd",{className:"text-sm text-foreground truncate",children:t})]}),m.jsxs("div",{className:"min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx("dt",{className:"text-xs font-medium text-muted-foreground uppercase",children:"Password"}),m.jsx(cee,{value:e,target:"password"})]}),m.jsxs("dd",{className:"flex items-center","data-hidden":a?void 0:"",children:[m.jsx("div",{className:"text-sm text-foreground font-mono truncate",children:a?e:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),m.jsx("button",{type:"button",onClick:()=>o(!a),className:"ml-2 p-1 text-accent-foreground hover:bg-accent dark:hover:bg-accent/50 rounded-sm transition-colors shrink-0",title:a?"Hide password":"Show password",children:a?m.jsx(By,{className:"size-3"}):m.jsx(Uy,{className:"size-3"})})]})]})]}),m.jsxs("div",{className:"flex items-center space-x-1 ml-6 shrink-0 self-start @lg:self-center",children:[m.jsxs("button",{type:"button",onClick:n,disabled:s,className:"p-1.5 text-accent-foreground hover:bg-accent dark:hover:bg-accent/50 rounded-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent",children:[m.jsx("span",{className:"sr-only",children:"Edit"}),m.jsx(Yn,{className:"size-4"})]}),m.jsxs("button",{type:"button",onClick:i,disabled:s,className:"p-1.5 text-accent-foreground hover:text-destructive hover:bg-destructive/10 rounded-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent disabled:hover:text-accent-foreground",children:[m.jsx("span",{className:"sr-only",children:"Delete"}),m.jsx(lv,{className:"size-4"})]})]})]})})}function Rte({children:t}){return m.jsx("ul",{className:"flex flex-col gap-4 h-full",children:t})}function Mte({onAdd:t}){return m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center py-12 text-center",children:[m.jsx(Wy,{className:"size-12 text-muted-foreground mb-4"}),m.jsx("p",{className:"text-lg font-medium text-foreground mb-2",children:"No passwords saved"}),m.jsx("p",{className:"text-sm text-muted-foreground max-w-md text-balance mb-6",children:"Your saved passwords will appear here. Add your first password to get started."}),t&&m.jsxs(Tr,{onClick:t,size:"lg",children:[m.jsx(Zy,{}),"Add Password"]})]})}function Pte(){return m.jsx("div",{className:"flex-1 flex flex-col gap-4",children:Array.from({length:3}).map((t,e)=>m.jsx("li",{className:"@container bg-card border border-border rounded-lg p-3 shadow-xs",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("dl",{className:"flex-1 grid grid-cols-1 @sm:grid-cols-2 @lg:grid-cols-3 gap-4 min-w-0",children:[m.jsxs("div",{className:"min-w-0 @sm:col-span-2 @lg:col-span-1",children:[m.jsx(Ac,{className:"h-3 w-16 mb-2"}),m.jsx(Ac,{className:"h-4 w-32"})]}),m.jsxs("div",{className:"min-w-0",children:[m.jsx(Ac,{className:"h-3 w-12 mb-2"}),m.jsx(Ac,{className:"h-4 w-24"})]}),m.jsxs("div",{className:"min-w-0",children:[m.jsx(Ac,{className:"h-3 w-12 mb-2"}),m.jsx(Ac,{className:"h-4 w-20"})]})]}),m.jsxs("div",{className:"flex items-center space-x-1 ml-6 shrink-0",children:[m.jsx(Ac,{className:"h-7 w-7 rounded-sm"}),m.jsx(Ac,{className:"h-7 w-7 rounded-sm"})]})]})},`skeleton-${e}`))})}function NNe(){let[t,e]=(0,$.useState)("idle");return{copyState:t,copy:(0,$.useCallback)((r,n={})=>{let i=new AbortController;oee(200,{signal:i.signal}).then(()=>e("copying")).catch(()=>{}),navigator.clipboard.writeText(r).then(()=>e("copied")).catch(()=>e("error")).finally(async()=>{i.abort(),await oee(n.timeout??2e3),e("idle")})},[])}}function cee({value:t,target:e}){let{copyState:r,copy:n}=NNe(),i=r==="idle"?`Copy ${e} to clipboard`:r==="copied"?`Copied ${e} to clipboard`:r==="error"?`Error copying ${e} to clipboard`:r==="copying"?`Copying ${e} to clipboard`:WD(r);return m.jsxs("button",{type:"button","data-copy-state":r,disabled:r!=="idle",onClick:()=>n(t),className:"p-1 text-accent-foreground hover:bg-accent dark:hover:bg-accent/50 rounded-sm transition-colors data-[copy-state=copied]:text-success data-[copy-state=error]:text-destructive data-[copy-state=copying]:text-muted-foreground",children:[m.jsx("span",{className:"sr-only",children:i}),r==="idle"?m.jsx(Ip,{className:"size-3"}):r==="copied"?m.jsx(od,{className:"size-3"}):r==="error"?m.jsx(jo,{className:"size-3"}):r==="copying"?m.jsx(ia,{className:"size-3 animate-spin"}):WD(r)]})}function Ote({className:t,...e}){return m.jsx("div",{"data-slot":"card",className:je("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function FNe({className:t,...e}){return m.jsx("div",{"data-slot":"card-content",className:je("px-6",t),...e})}function W0(t,e=[]){let r=[];function n(s,a){let o=N.createContext(a),l=r.length;r=[...r,a];let c=d=>{var f;let{scope:p,children:h,...g}=d,v=((f=p?.[t])==null?void 0:f[l])||o,y=N.useMemo(()=>g,Object.values(g));return m.jsx(v.Provider,{value:y,children:h})};c.displayName=s+"Provider";function u(d,f){var p;let h=((p=f?.[t])==null?void 0:p[l])||o,g=N.useContext(h);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}let i=()=>{let s=r.map(a=>N.createContext(a));return function(a){let o=a?.[t]||s;return N.useMemo(()=>({[`__scope${t}`]:{...a,[t]:o}}),[a,o])}};return i.scopeName=t,[n,$Ne(i,...e)]}function $Ne(...t){let e=t[0];if(t.length===1)return e;let r=()=>{let n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(i){let s=n.reduce((a,{useScope:o,scopeName:l})=>{let c=o(i)[`__scope${l}`];return{...a,...c}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}function oo(t,e,{checkForDefaultPrevented:r=!0}={}){return function(n){if(t?.(n),r===!1||!n.defaultPrevented)return e?.(n)}}function uN(t){let e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Dh({prop:t,defaultProp:e,onChange:r=()=>{}}){let[n,i]=jNe({defaultProp:e,onChange:r}),s=t!==void 0,a=s?t:n,o=uN(r),l=N.useCallback(c=>{if(s){let u=typeof c=="function"?c(t):c;u!==t&&o(u)}else i(c)},[s,t,i,o]);return[a,l]}function jNe({defaultProp:t,onChange:e}){let r=N.useState(t),[n]=r,i=N.useRef(n),s=uN(e);return N.useEffect(()=>{i.current!==n&&(s(n),i.current=n)},[n,i,s]),r}function _te(t){let e=N.useRef({value:t,previous:t});return N.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var ZE=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{};function Dte(t){let[e,r]=N.useState(void 0);return ZE(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});let n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;let s=i[0],a,o;if("borderBoxSize"in s){let l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,o=c.blockSize}else a=t.offsetWidth,o=t.offsetHeight;r({width:a,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}function VNe(t,e){return N.useReducer((r,n)=>e[r][n]??r,t)}var Nte=t=>{let{present:e,children:r}=t,n=qNe(e),i=typeof r=="function"?r({present:n.isPresent}):N.Children.only(r),s=Rh(n.ref,BNe(i));return typeof r=="function"||n.isPresent?N.cloneElement(i,{ref:s}):null};Nte.displayName="Presence";function qNe(t){let[e,r]=N.useState(),n=N.useRef({}),i=N.useRef(t),s=N.useRef("none"),a=t?"mounted":"unmounted",[o,l]=VNe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{let c=VE(n.current);s.current=o==="mounted"?c:"none"},[o]),ZE(()=>{let c=n.current,u=i.current;if(u!==t){let d=s.current,f=VE(c);t?l("MOUNT"):f==="none"||c?.display==="none"?l("UNMOUNT"):l(u&&d!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),ZE(()=>{if(e){let c,u=e.ownerDocument.defaultView??window,d=p=>{let h=VE(n.current).includes(p.animationName);if(p.target===e&&h&&(l("ANIMATION_END"),!i.current)){let g=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},f=p=>{p.target===e&&(s.current=VE(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:N.useCallback(c=>{c&&(n.current=getComputedStyle(c)),r(c)},[])}}function VE(t){return t?.animationName||"none"}function BNe(t){var e,r;let n=(e=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:e.get,i=n&&"isReactWarning"in n&&n.isReactWarning;return i?t.ref:(n=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,i=n&&"isReactWarning"in n&&n.isReactWarning,i?t.props.ref:t.props.ref||t.ref)}var dN="Checkbox",[UNe,Tdt]=W0(dN),[zNe,HNe]=UNe(dN),Fte=N.forwardRef((t,e)=>{let{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:a,disabled:o,value:l="on",onCheckedChange:c,form:u,...d}=t,[f,p]=N.useState(null),h=Rh(e,x=>p(x)),g=N.useRef(!1),v=f?u||!!f.closest("form"):!0,[y=!1,b]=Dh({prop:i,defaultProp:s,onChange:c}),w=N.useRef(y);return N.useEffect(()=>{let x=f?.form;if(x){let A=()=>b(w.current);return x.addEventListener("reset",A),()=>x.removeEventListener("reset",A)}},[f,b]),m.jsxs(zNe,{scope:r,state:y,disabled:o,children:[m.jsx(Sa.button,{type:"button",role:"checkbox","aria-checked":Pc(y)?"mixed":y,"aria-required":a,"data-state":Vte(y),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:h,onKeyDown:oo(t.onKeyDown,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:oo(t.onClick,x=>{b(A=>Pc(A)?!0:!A),v&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})}),v&&m.jsx(GNe,{control:f,bubbles:!g.current,name:n,value:l,checked:y,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Pc(s)?!1:s})]})});Fte.displayName=dN;var $te="CheckboxIndicator",jte=N.forwardRef((t,e)=>{let{__scopeCheckbox:r,forceMount:n,...i}=t,s=HNe($te,r);return m.jsx(Nte,{present:n||Pc(s.state)||s.state===!0,children:m.jsx(Sa.span,{"data-state":Vte(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});jte.displayName=$te;var GNe=t=>{let{control:e,checked:r,bubbles:n=!0,defaultChecked:i,...s}=t,a=N.useRef(null),o=_te(r),l=Dte(e);N.useEffect(()=>{let u=a.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&f){let p=new Event("click",{bubbles:n});u.indeterminate=Pc(r),f.call(u,Pc(r)?!1:r),u.dispatchEvent(p)}},[o,r,n]);let c=N.useRef(Pc(r)?!1:r);return m.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??c.current,...s,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Pc(t){return t==="indeterminate"}function Vte(t){return Pc(t)?"indeterminate":t?"checked":"unchecked"}var WNe=Fte,KNe=jte;function YNe({className:t,...e}){return m.jsx(WNe,{"data-slot":"checkbox",className:je("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:m.jsx(KNe,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:m.jsx(od,{className:"size-3.5"})})})}function qte({value:t,onChange:e,disabled:r}){return m.jsxs(Ls,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[m.jsx(wa,{children:m.jsx(YNe,{checked:t,onCheckedChange:e,disabled:r})}),m.jsxs("div",{className:"space-y-1 leading-none",children:[m.jsx(Is,{children:"Default track"}),m.jsx(Rc,{children:t===!0?"This track will be enabled by default during playback.":"This track won't be displayed unless explicitly enabled."})]})]})}var uee=(t,e,r)=>{if(t&&"reportValidity"in t){let n=Z(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},XNe=(t,e)=>{for(let r in e.fields){let n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?uee(n.ref,r,t):n&&n.refs&&n.refs.forEach(i=>uee(i,r,t))}},QNe=(t,e)=>{e.shouldUseNativeValidation&&XNe(t,e);let r={};for(let n in t){let i=Z(e.fields,n),s=Object.assign(t[n]||{},{ref:i&&i.ref});if(JNe(e.names||Object.keys(t),n)){let a=Object.assign({},Z(r,n));lt(a,"root",s),lt(r,n,a)}else lt(r,n,s)}return r},JNe=(t,e)=>{let r=dee(e);return t.some(n=>dee(n).match(`^${r}\\.\\d+`))};function dee(t){return t.replace(/\]|\[/g,"")}var Th;function Bte(t){return{lang:t?.lang??Th?.lang,message:t?.message,abortEarly:t?.abortEarly??Th?.abortEarly,abortPipeEarly:t?.abortPipeEarly??Th?.abortPipeEarly}}var fee;function ZNe(t){return fee?.get(t)}var pee;function e4e(t){return pee?.get(t)}var hee;function t4e(t,e){var r;return(r=hee?.get(t))==null?void 0:r.get(e)}function Ute(t){var e,r;let n=typeof t;return n==="string"?`"${t}"`:n==="number"||n==="bigint"||n==="boolean"?`${t}`:n==="object"||n==="function"?(t&&((r=(e=Object.getPrototypeOf(t))==null?void 0:e.constructor)==null?void 0:r.name))??"null":n}function fl(t,e,r,n,i){let s=i&&"input"in i?i.input:r.value,a=i?.expected??t.expects??null,o=i?.received??Ute(s),l={kind:t.kind,type:t.type,input:s,expected:a,received:o,message:`Invalid ${e}: ${a?`Expected ${a} but r`:"R"}eceived ${o}`,requirement:t.requirement,path:i?.path,issues:i?.issues,lang:n.lang,abortEarly:n.abortEarly,abortPipeEarly:n.abortPipeEarly},c=t.kind==="schema",u=i?.message??t.message??t4e(t.reference,l.lang)??(c?e4e(l.lang):null)??n.message??ZNe(l.lang);u!==void 0&&(l.message=typeof u=="function"?u(l):u),c&&(r.typed=!1),r.issues?r.issues.push(l):r.issues=[l]}function _c(t){return{version:1,vendor:"valibot",validate(e){return t["~run"]({value:e},Bte())}}}function zte(t,e){let r=[...new Set(t)];return r.length>1?`(${r.join(` ${e} `)})`:r[0]??"never"}function r4e(t){if(t.path){let e="";for(let r of t.path)if(typeof r.key=="string"||typeof r.key=="number")e?e+=`.${r.key}`:e+=r.key;else return null;return e}return null}function Hte(t){return{kind:"validation",type:"url",reference:Hte,async:!1,expects:null,requirement(e){try{return new URL(e),!0}catch{return!1}},message:t,"~run"(e,r){return e.typed&&!this.requirement(e.value)&&fl(this,"URL",e,r),e}}}function n4e(t,e,r){return typeof t.fallback=="function"?t.fallback(e,r):t.fallback}function Gte(t,e,r){return typeof t.default=="function"?t.default(e,r):t.default}function eT(t){return{kind:"schema",type:"boolean",reference:eT,expects:"boolean",async:!1,message:t,get"~standard"(){return _c(this)},"~run"(e,r){return typeof e.value=="boolean"?e.typed=!0:fl(this,"type",e,r),e}}}function Wte(t){return{kind:"schema",type:"file",reference:Wte,expects:"File",async:!1,message:t,get"~standard"(){return _c(this)},"~run"(e,r){return e.value instanceof File?e.typed=!0:fl(this,"type",e,r),e}}}function tT(t,e){return{kind:"schema",type:"object",reference:tT,expects:"Object",async:!1,entries:t,message:e,get"~standard"(){return _c(this)},"~run"(r,n){var i;let s=r.value;if(s&&typeof s=="object"){r.typed=!0,r.value={};for(let a in this.entries){let o=this.entries[a];if(a in s||(o.type==="exact_optional"||o.type==="optional"||o.type==="nullish")&&o.default!==void 0){let l=a in s?s[a]:Gte(o),c=o["~run"]({value:l},n);if(c.issues){let u={type:"object",origin:"value",input:s,key:a,value:l};for(let d of c.issues)d.path?d.path.unshift(u):d.path=[u],(i=r.issues)==null||i.push(d);if(r.issues||(r.issues=c.issues),n.abortEarly){r.typed=!1;break}}c.typed||(r.typed=!1),r.value[a]=c.value}else if(o.fallback!==void 0)r.value[a]=n4e(o);else if(o.type!=="exact_optional"&&o.type!=="optional"&&o.type!=="nullish"&&(fl(this,"key",r,n,{input:void 0,expected:`"${a}"`,path:[{type:"object",origin:"key",input:s,key:a,value:s[a]}]}),n.abortEarly))break}}else fl(this,"type",r,n);return r}}}function Ih(t,e){return{kind:"schema",type:"optional",reference:Ih,expects:`(${t.expects} | undefined)`,async:!1,wrapped:t,default:e,get"~standard"(){return _c(this)},"~run"(r,n){return r.value===void 0&&(this.default!==void 0&&(r.value=Gte(this,r,n)),r.value===void 0)?(r.typed=!0,r):this.wrapped["~run"](r,n)}}}function rT(t,e){return{kind:"schema",type:"picklist",reference:rT,expects:zte(t.map(Ute),"|"),async:!1,options:t,message:e,get"~standard"(){return _c(this)},"~run"(r,n){return this.options.includes(r.value)?r.typed=!0:fl(this,"type",r,n),r}}}function Mc(t){return{kind:"schema",type:"string",reference:Mc,expects:"string",async:!1,message:t,get"~standard"(){return _c(this)},"~run"(e,r){return typeof e.value=="string"?e.typed=!0:fl(this,"type",e,r),e}}}function mee(t){let e;if(t)for(let r of t)e?e.push(...r.issues):e=r.issues;return e}function Kte(t,e){return{kind:"schema",type:"union",reference:Kte,expects:zte(t.map(r=>r.expects),"|"),async:!1,options:t,message:e,get"~standard"(){return _c(this)},"~run"(r,n){let i,s,a;for(let o of this.options){let l=o["~run"]({value:r.value},n);if(l.typed)if(l.issues)s?s.push(l):s=[l];else{i=l;break}else a?a.push(l):a=[l]}if(i)return i;if(s){if(s.length===1)return s[0];fl(this,"type",r,n,{issues:mee(s)}),r.typed=!0}else{if(a?.length===1)return a[0];fl(this,"type",r,n,{issues:mee(a)})}return r}}}function i4e(...t){return{...t[0],pipe:t,get"~standard"(){return _c(this)},"~run"(e,r){for(let n of t)if(n.kind!=="metadata"){if(e.issues&&(n.kind==="schema"||n.kind==="transformation")){e.typed=!1;break}(!e.issues||!r.abortEarly&&!r.abortPipeEarly)&&(e=n["~run"](e,r))}return e}}}async function s4e(t,e,r){let n=await t["~run"]({value:e},Bte(r));return{typed:n.typed,success:!n.issues,output:n.value,issues:n.issues}}function Yte(t,e,r){return r===void 0&&(r={}),function(n,i,s){try{var a=!s.shouldUseNativeValidation&&s.criteriaMode==="all";return Promise.resolve(s4e(t,n,Object.assign({},e,{abortPipeEarly:!a}))).then(function(o){if(o.issues){for(var l={};o.issues.length;){var c=o.issues[0],u=r4e(c);if(u&&(l[u]||(l[u]={message:c.message,type:c.type}),a)){var d=l[u].types,f=d&&d[c.type];l[u]=vte(u,a,l,c.type,f?[].concat(f,c.message):c.message)}o.issues.shift()}return{values:{},errors:QNe(l,s)}}return{values:r.raw?Object.assign({},n):o.output,errors:{}}})}catch(o){return Promise.reject(o)}}}var a4e=tT({"track-kind":rT(["captions","subtitles"]),"default-enable":eT(),label:Ih(Mc()),language:Ih(Mc()),file:Kte([Wte("Please select a text track file."),tT({path:Mc(),name:Mc()})])}),o4e=tT({"track-kind":rT(["captions","subtitles"]),"default-enable":eT(),label:Ih(Mc()),language:Ih(Mc()),url:i4e(Mc(),Hte("Please enter a valid URL.")),"should-download":eT(),format:Ih(rT(["vtt","srt","ass","ssa"]))}),l4e=Yte(o4e),c4e=Yte(a4e);function u4e(t){let e=t+"CollectionProvider",[r,n]=W0(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=p=>{let{scope:h,children:g}=p,v=$.default.useRef(null),y=$.default.useRef(new Map).current;return m.jsx(i,{scope:h,itemMap:y,collectionRef:v,children:g})};a.displayName=e;let o=t+"CollectionSlot",l=$.default.forwardRef((p,h)=>{let{scope:g,children:v}=p,y=s(o,g),b=Rh(h,y.collectionRef);return m.jsx(WE,{ref:b,children:v})});l.displayName=o;let c=t+"CollectionItemSlot",u="data-radix-collection-item",d=$.default.forwardRef((p,h)=>{let{scope:g,children:v,...y}=p,b=$.default.useRef(null),w=Rh(h,b),x=s(c,g);return $.default.useEffect(()=>(x.itemMap.set(b,{ref:b,...y}),()=>void x.itemMap.delete(b))),m.jsx(WE,{[u]:"",ref:w,children:v})});d.displayName=c;function f(p){let h=s(t+"CollectionConsumer",p);return $.default.useCallback(()=>{let g=h.collectionRef.current;if(!g)return[];let v=Array.from(g.querySelectorAll(`[${u}]`));return Array.from(h.itemMap.values()).sort((y,b)=>v.indexOf(y.ref.current)-v.indexOf(b.ref.current))},[h.collectionRef,h.itemMap])}return[{Provider:a,Slot:l,ItemSlot:d},f,n]}var d4e=N.useId||(()=>{}),f4e=0;function p4e(t){let[e,r]=N.useState(d4e());return ZE(()=>{r(n=>n??String(f4e++))},[t]),e?`radix-${e}`:""}var h4e=N.createContext(void 0);function Xte(t){let e=N.useContext(h4e);return t||e||"ltr"}var PD="rovingFocusGroup.onEntryFocus",m4e={bubbles:!1,cancelable:!0},mT="RovingFocusGroup",[KD,Qte,g4e]=u4e(mT),[y4e,Jte]=W0(mT,[g4e]),[v4e,b4e]=y4e(mT),Zte=N.forwardRef((t,e)=>m.jsx(KD.Provider,{scope:t.__scopeRovingFocusGroup,children:m.jsx(KD.Slot,{scope:t.__scopeRovingFocusGroup,children:m.jsx(w4e,{...t,ref:e})})}));Zte.displayName=mT;var w4e=N.forwardRef((t,e)=>{let{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,f=N.useRef(null),p=Rh(e,f),h=Xte(s),[g=null,v]=Dh({prop:a,defaultProp:o,onChange:l}),[y,b]=N.useState(!1),w=uN(c),x=Qte(r),A=N.useRef(!1),[O,S]=N.useState(0);return N.useEffect(()=>{let k=f.current;if(k)return k.addEventListener(PD,w),()=>k.removeEventListener(PD,w)},[w]),m.jsx(v4e,{scope:r,orientation:n,dir:h,loop:i,currentTabStopId:g,onItemFocus:N.useCallback(k=>v(k),[v]),onItemShiftTab:N.useCallback(()=>b(!0),[]),onFocusableItemAdd:N.useCallback(()=>S(k=>k+1),[]),onFocusableItemRemove:N.useCallback(()=>S(k=>k-1),[]),children:m.jsx(Sa.div,{tabIndex:y||O===0?-1:0,"data-orientation":n,...d,ref:p,style:{outline:"none",...t.style},onMouseDown:oo(t.onMouseDown,()=>{A.current=!0}),onFocus:oo(t.onFocus,k=>{let E=!A.current;if(k.target===k.currentTarget&&E&&!y){let I=new CustomEvent(PD,m4e);if(k.currentTarget.dispatchEvent(I),!I.defaultPrevented){let R=x().filter(Y=>Y.focusable),T=R.find(Y=>Y.active),_=R.find(Y=>Y.id===g),F=[T,_,...R].filter(Boolean).map(Y=>Y.ref.current);rre(F,u)}}A.current=!1}),onBlur:oo(t.onBlur,()=>b(!1))})})}),ere="RovingFocusGroupItem",tre=N.forwardRef((t,e)=>{let{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,...a}=t,o=p4e(),l=s||o,c=b4e(ere,r),u=c.currentTabStopId===l,d=Qte(r),{onFocusableItemAdd:f,onFocusableItemRemove:p}=c;return N.useEffect(()=>{if(n)return f(),()=>p()},[n,f,p]),m.jsx(KD.ItemSlot,{scope:r,id:l,focusable:n,active:i,children:m.jsx(Sa.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...a,ref:e,onMouseDown:oo(t.onMouseDown,h=>{n?c.onItemFocus(l):h.preventDefault()}),onFocus:oo(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:oo(t.onKeyDown,h=>{if(h.key==="Tab"&&h.shiftKey){c.onItemShiftTab();return}if(h.target!==h.currentTarget)return;let g=k4e(h,c.orientation,c.dir);if(g!==void 0){if(h.metaKey||h.ctrlKey||h.altKey||h.shiftKey)return;h.preventDefault();let v=d().filter(y=>y.focusable).map(y=>y.ref.current);if(g==="last")v.reverse();else if(g==="prev"||g==="next"){g==="prev"&&v.reverse();let y=v.indexOf(h.currentTarget);v=c.loop?C4e(v,y+1):v.slice(y+1)}setTimeout(()=>rre(v))}})})})});tre.displayName=ere;var x4e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function S4e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function k4e(t,e,r){let n=S4e(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return x4e[n]}function rre(t,e=!1){let r=document.activeElement;for(let n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function C4e(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var E4e=Zte,T4e=tre,A4e="Toggle",nre=N.forwardRef((t,e)=>{let{pressed:r,defaultPressed:n=!1,onPressedChange:i,...s}=t,[a=!1,o]=Dh({prop:r,onChange:i,defaultProp:n});return m.jsx(Sa.button,{type:"button","aria-pressed":a,"data-state":a?"on":"off","data-disabled":t.disabled?"":void 0,...s,ref:e,onClick:oo(t.onClick,()=>{t.disabled||o(!a)})})});nre.displayName=A4e;var Nh="ToggleGroup",[ire,Adt]=W0(Nh,[Jte]),sre=Jte(),fN=$.default.forwardRef((t,e)=>{let{type:r,...n}=t;if(r==="single"){let i=n;return m.jsx(L4e,{...i,ref:e})}if(r==="multiple"){let i=n;return m.jsx(I4e,{...i,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${Nh}\``)});fN.displayName=Nh;var[are,ore]=ire(Nh),L4e=$.default.forwardRef((t,e)=>{let{value:r,defaultValue:n,onValueChange:i=()=>{},...s}=t,[a,o]=Dh({prop:r,defaultProp:n,onChange:i});return m.jsx(are,{scope:t.__scopeToggleGroup,type:"single",value:a?[a]:[],onItemActivate:o,onItemDeactivate:$.default.useCallback(()=>o(""),[o]),children:m.jsx(lre,{...s,ref:e})})}),I4e=$.default.forwardRef((t,e)=>{let{value:r,defaultValue:n,onValueChange:i=()=>{},...s}=t,[a=[],o]=Dh({prop:r,defaultProp:n,onChange:i}),l=$.default.useCallback(u=>o((d=[])=>[...d,u]),[o]),c=$.default.useCallback(u=>o((d=[])=>d.filter(f=>f!==u)),[o]);return m.jsx(are,{scope:t.__scopeToggleGroup,type:"multiple",value:a,onItemActivate:l,onItemDeactivate:c,children:m.jsx(lre,{...s,ref:e})})});fN.displayName=Nh;var[R4e,M4e]=ire(Nh),lre=$.default.forwardRef((t,e)=>{let{__scopeToggleGroup:r,disabled:n=!1,rovingFocus:i=!0,orientation:s,dir:a,loop:o=!0,...l}=t,c=sre(r),u=Xte(a),d={role:"group",dir:u,...l};return m.jsx(R4e,{scope:r,rovingFocus:i,disabled:n,children:i?m.jsx(E4e,{asChild:!0,...c,orientation:s,dir:u,loop:o,children:m.jsx(Sa.div,{...d,ref:e})}):m.jsx(Sa.div,{...d,ref:e})})}),nT="ToggleGroupItem",cre=$.default.forwardRef((t,e)=>{let r=ore(nT,t.__scopeToggleGroup),n=M4e(nT,t.__scopeToggleGroup),i=sre(t.__scopeToggleGroup),s=r.value.includes(t.value),a=n.disabled||t.disabled,o={...t,pressed:s,disabled:a},l=$.default.useRef(null);return n.rovingFocus?m.jsx(T4e,{asChild:!0,...i,focusable:!a,active:s,ref:l,children:m.jsx(gee,{...o,ref:e})}):m.jsx(gee,{...o,ref:e})});cre.displayName=nT;var gee=$.default.forwardRef((t,e)=>{let{__scopeToggleGroup:r,value:n,...i}=t,s=ore(nT,r),a={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},o=s.type==="single"?a:void 0;return m.jsx(nre,{...o,...i,ref:e,onPressedChange:l=>{l?s.onItemActivate(n):s.onItemDeactivate(n)}})}),P4e=fN,O4e=cre,_4e=oT("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),ure=N.createContext({size:"default",variant:"default"});function D4e({className:t,variant:e,size:r,children:n,...i}){return m.jsx(P4e,{"data-slot":"toggle-group","data-variant":e,"data-size":r,className:je("group/toggle-group flex w-fit items-center rounded-md data-[variant=outline]:shadow-xs",t),...i,children:m.jsx(ure.Provider,{value:{variant:e,size:r},children:n})})}function yee({className:t,children:e,variant:r,size:n,...i}){let s=N.useContext(ure);return m.jsx(O4e,{"data-slot":"toggle-group-item","data-variant":s.variant||r,"data-size":s.size||n,className:je(_4e({variant:s.variant||r,size:s.size||n}),"min-w-0 flex-1 shrink-0 rounded-none shadow-none first:rounded-l-md last:rounded-r-md focus:z-10 focus-visible:z-10 data-[variant=outline]:border-l-0 data-[variant=outline]:first:border-l",t),...i,children:e})}function dre({onChange:t,disabled:e,value:r}){let n=(0,$.useId)();return m.jsxs(FNe,{className:"gap-4 flex flex-col px-4",children:[m.jsxs(D4e,{type:"single",onValueChange:i=>t(i),value:r,disabled:e,children:[m.jsxs(yee,{value:"captions","aria-label":"Caption","aria-describedby":`${n}-caption-desc`,className:"px-4",children:[m.jsx(No,{className:"size-4"}),"Caption"]}),m.jsxs(yee,{value:"subtitles","aria-label":"Subtitle","aria-describedby":`${n}-subtitle-desc`,className:"px-4",children:[m.jsx(Rp,{className:"size-4"}),"Subtitle"]})]}),m.jsx("p",{id:`${n}-caption-desc`,className:je("text-sm text-muted-foreground",r==="captions"||"hidden"),children:"This track displays the dialogue in their original language."}),m.jsx("p",{id:`${n}-subtitle-desc`,className:je("text-sm text-muted-foreground",r==="subtitles"||"hidden"),children:"This track translates the dialogue into the specified language."})]})}function fre(){return m.jsxs(Rc,{children:["Enter a language code (BCP 47 format recommended). ",m.jsx("br",{}),"See"," ",m.jsx("a",{href:"https://en.wikipedia.org/wiki/List_of_ISO_639_language_codes",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"ISO 639 language codes"})," ","for reference."]})}function pre({onSubmit:t,renderFilePicker:e,isLoading:r=!1,disabled:n=!1,inferDefaults:i}){let s=lN({resolver:c4e,mode:"onChange",defaultValues:{"track-kind":"captions","default-enable":!1}}),a=l=>{if(!l){s.reset();return}if(!i){s.setValue("file",l),s.trigger("file");return}let c=i(l);s.reset({file:l,...c})},o=async l=>{await t?.(l)};return m.jsx(cN,{...s,children:m.jsxs("form",{className:"flex flex-col gap-4",onSubmit:s.handleSubmit(o),children:[m.jsx(Fn,{control:s.control,name:"file",render:({field:{value:l,disabled:c}})=>e({value:l,onChange:a,disabled:c})}),m.jsx(Fn,{control:s.control,name:"language",render:({field:l})=>m.jsxs(Ls,{children:[m.jsx(Is,{children:"Language"}),m.jsx(wa,{children:m.jsx(xa,{...l,placeholder:"e.g., en, en-US, zh-CN"})}),m.jsx(fre,{}),m.jsx(dl,{})]})}),m.jsx(Fn,{control:s.control,name:"label",render:({field:l})=>m.jsxs(Ls,{children:[m.jsx(Is,{children:"Label"}),m.jsx(wa,{children:m.jsx(xa,{...l,placeholder:"Label will show up in the track selector"})}),m.jsx(Rc,{children:"Specify a label to identify this track."}),m.jsx(dl,{})]})}),m.jsx(Ote,{className:"py-4",children:m.jsx(Fn,{control:s.control,name:"track-kind",render:({field:l})=>m.jsx(dre,{...l})})}),m.jsx(Fn,{control:s.control,name:"default-enable",render:({field:l})=>m.jsx(qte,{...l})}),m.jsx("div",{className:"flex justify-end",children:m.jsxs(Tr,{type:"submit",disabled:r||!s.formState.isValid||n,children:[m.jsx(zy,{className:"size-4"}),r?"Loading...":"Import"]})})]})})}function pN({value:t}){let e=t?.name.split(".").slice(0,-1).join(".")??null,r=t?.name.split(".").pop()??null;return m.jsxs("div",{className:"group flex items-center justify-between py-3 px-4 gap-3 border-2 border-dashed border-border rounded-lg cursor-pointer transition-colors duration-200 hover:border-primary hover:bg-accent/50 has-focus-visible:outline-hidden has-focus-visible:ring-2 has-focus-visible:ring-ring has-focus-visible:ring-offset-2",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[t?m.jsx(ld,{className:"size-5 text-primary shrink-0"}):m.jsx(dv,{className:"size-5 text-muted-foreground group-hover:text-primary transition-colors shrink-0"}),m.jsxs("div",{className:"flex flex-col gap-1 items-start",children:[m.jsx("div",{className:"text-sm font-medium",children:t?"Text track file selected":"Select text track file"}),m.jsx("div",{className:"text-xs text-muted-foreground",children:"Supports .srt, .vtt, .ass formats"})]})]}),t?m.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[m.jsx("div",{className:"truncate max-w-[200px] font-medium",children:e}),m.jsxs("div",{className:"text-muted-foreground bg-secondary px-2 py-1 rounded text-xs font-mono",children:[".",r]})]}):m.jsx("div",{className:"text-sm text-muted-foreground group-hover:text-foreground transition-colors",children:"Click to browse"})]})}function hre({onChange:t,onCancel:e,children:r,disabled:n,...i}){let s=(0,$.useId)(),a=(0,$.useRef)(null);return(0,$.useEffect)(()=>{let o=a.current;if(!o||!e)return;let l=F4e(o);return o.addEventListener("cancel",e),()=>{l?.(),o.removeEventListener("cancel",e)}},[e]),m.jsxs("label",{htmlFor:s,...i,children:[r,m.jsx("input",{disabled:n,id:s,type:"file",tabIndex:0,className:"sr-only",ref:a,onChange:o=>{var l;let c=(l=o.target.files)==null?void 0:l[0];c&&t(c)}})]})}function N4e(){return"oncancel"in HTMLInputElement.prototype}function F4e(t){if(N4e())return;let e=()=>{if(document.hasFocus())window.addEventListener("focus",()=>{var r;((r=t.files)==null?void 0:r.length)===0&&t.dispatchEvent(new Event("cancel"))},{once:!0});else{console.warn("polyfill for input cancel event only works on focused windows, fallback to timeout");let r=window.setTimeout(()=>{var n;((n=t.files)==null?void 0:n.length)===0&&(console.warn("input cancel event timeout, dispatch cancel event"),t.dispatchEvent(new Event("cancel")))},3e4);t.addEventListener("change",()=>{var n;((n=t.files)==null?void 0:n.length)!==0&&window.clearTimeout(r)},{once:!0})}};return t.addEventListener("click",e),()=>{t.removeEventListener("click",e)}}var hN="Switch",[$4e,Ldt]=W0(hN),[j4e,V4e]=$4e(hN),mre=N.forwardRef((t,e)=>{let{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:a,disabled:o,value:l="on",onCheckedChange:c,form:u,...d}=t,[f,p]=N.useState(null),h=Rh(e,w=>p(w)),g=N.useRef(!1),v=f?u||!!f.closest("form"):!0,[y=!1,b]=Dh({prop:i,defaultProp:s,onChange:c});return m.jsxs(j4e,{scope:r,checked:y,disabled:o,children:[m.jsx(Sa.button,{type:"button",role:"switch","aria-checked":y,"aria-required":a,"data-state":vre(y),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:h,onClick:oo(t.onClick,w=>{b(x=>!x),v&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),v&&m.jsx(q4e,{control:f,bubbles:!g.current,name:n,value:l,checked:y,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});mre.displayName=hN;var gre="SwitchThumb",yre=N.forwardRef((t,e)=>{let{__scopeSwitch:r,...n}=t,i=V4e(gre,r);return m.jsx(Sa.span,{"data-state":vre(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});yre.displayName=gre;var q4e=t=>{let{control:e,checked:r,bubbles:n=!0,...i}=t,s=N.useRef(null),a=_te(r),o=Dte(e);return N.useEffect(()=>{let l=s.current,c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"checked").set;if(a!==r&&u){let d=new Event("click",{bubbles:n});u.call(l,r),l.dispatchEvent(d)}},[a,r,n]),m.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function vre(t){return t?"checked":"unchecked"}var B4e=mre,U4e=yre;function z4e({className:t,...e}){return m.jsx(B4e,{"data-slot":"switch",className:je("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:m.jsx(U4e,{"data-slot":"switch-thumb",className:je("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function bre({onSubmit:t,isLoading:e=!1,disabled:r=!1}){let n=lN({resolver:l4e,mode:"onChange",defaultValues:{"track-kind":"captions","default-enable":!1,"should-download":!0}}),i=async s=>{await t?.(s)};return m.jsx(cN,{...n,children:m.jsxs("form",{className:"flex flex-col gap-4",onSubmit:n.handleSubmit(i),children:[m.jsx(Fn,{control:n.control,name:"url",render:({field:s})=>m.jsxs(Ls,{children:[m.jsx(Is,{children:"Subtitle URL"}),m.jsx(wa,{children:m.jsx(xa,{...s,type:"url",placeholder:"https://example.com/subtitles.srt"})}),m.jsx(Rc,{children:"Enter the URL of the subtitle file. Supported formats include SRT, VTT, and ASS."}),m.jsx(dl,{})]})}),m.jsx(Fn,{control:n.control,name:"language",render:({field:s})=>m.jsxs(Ls,{children:[m.jsx(Is,{children:"Language"}),m.jsx(wa,{children:m.jsx(xa,{...s,placeholder:"e.g., en, en-US, zh-CN"})}),m.jsx(fre,{}),m.jsx(dl,{})]})}),m.jsx(Fn,{control:n.control,name:"label",render:({field:s})=>m.jsxs(Ls,{children:[m.jsx(Is,{children:"Label"}),m.jsx(wa,{children:m.jsx(xa,{...s,placeholder:"Label will show up in the track selector"})}),m.jsx(Rc,{children:"Specify a label to identify this track."}),m.jsx(dl,{})]})}),m.jsx(Ote,{className:"py-4",children:m.jsx(Fn,{control:n.control,name:"track-kind",render:({field:s})=>m.jsx(dre,{...s})})}),m.jsx(Fn,{control:n.control,name:"default-enable",render:({field:s})=>m.jsx(qte,{...s})}),m.jsx(Fn,{control:n.control,name:"format",render:({field:s})=>m.jsxs(Ls,{children:[m.jsx(Is,{children:"Format"}),m.jsx(wa,{children:m.jsxs("select",{...s,className:"border-input data-placeholder:text-muted-foreground aria-invalid:border-destructive ring-ring/10 dark:ring-ring/20 dark:outline-ring/40 outline-ring/50 flex h-9 w-full items-center justify-between rounded-md border bg-transparent px-3 py-2 text-sm shadow-xs transition-[color,box-shadow] focus-visible:ring-4 focus-visible:outline-1 disabled:cursor-not-allowed disabled:opacity-50 aria-invalid:focus-visible:ring-0",children:[m.jsx("option",{value:"",children:"Infer from URL"}),m.jsx("option",{value:"srt",children:"SRT"}),m.jsx("option",{value:"vtt",children:"VTT"}),m.jsx("option",{value:"ass",children:"ASS"}),m.jsx("option",{value:"ssa",children:"SSA"})]})}),m.jsx(Rc,{children:"Select the subtitle format in case it cannot be inferred from the URL."}),m.jsx(dl,{})]})}),m.jsx(Fn,{control:n.control,name:"should-download",render:({field:{value:s,onChange:a,disabled:o}})=>m.jsxs(Ls,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[m.jsxs("div",{className:"space-y-0.5",children:[m.jsx(Is,{children:"Download File"}),m.jsx(Rc,{children:"Download the subtitle file locally for offline use"})]}),m.jsx(wa,{children:m.jsx(z4e,{checked:s,onCheckedChange:a,disabled:o||r})})]})}),m.jsx("div",{className:"flex justify-end",children:m.jsxs(Tr,{type:"submit",disabled:e||!n.formState.isValid||r,children:[m.jsx(cd,{className:"size-4"}),e?"Loading...":"Import from URL"]})})]})})}var H4e=oT("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function G4e({className:t,variant:e,asChild:r=!1,...n}){let i=r?aT:"span";return m.jsx(i,{"data-slot":"badge",className:je(H4e({variant:e}),t),...n})}function W4e({onClick:t}){return m.jsx(Tr,{type:"button",onClick:t,disabled:!t,size:"iconSubtitle",variant:"ghost",title:"Open in Obsidian",children:m.jsx(tc,{className:"size-4"})})}function K4e({onClick:t}){return m.jsx(Tr,{type:"button",onClick:t,disabled:!t,size:"iconSubtitle",variant:"ghost",title:"Import to Obsidian",children:m.jsx(qy,{className:"size-4"})})}function Y4e({onClick:t}){return m.jsx(Tr,{type:"button",onClick:t,size:"iconSubtitle",disabled:!t,variant:"ghost",title:"Retry import",children:m.jsx(tv,{className:"size-4"})})}function X4e(){return m.jsx(Tr,{type:"button",disabled:!0,size:"iconSubtitle",variant:"ghost",title:"Importing...",children:m.jsx(ia,{className:"size-4 animate-spin"})})}function Q4e({status:t}){return t==="success"?m.jsx($o,{className:"size-4 text-green-600"}):t==="error"?m.jsx(Fo,{className:"size-4 text-red-600"}):null}function mN(t){let[e,r,...n]=t.split(/\s*-\s*/);return e===r&&n.length===0&&e?e:t.trim()}function iT(t){let[e,r]=t.split("-");return r&&!r.match(/^[a-z]{2}$/)?e:t}function OD({status:t,name:e,language:r,onImport:n,onOpen:i,onRetry:s,progress:a,type:o}){return m.jsxs("div",{className:"group relative",children:[m.jsx("div",{className:"px-3 py-2 rounded-md border hover:border-blue-300 hover:bg-blue-50 transition-all duration-200 h-14 flex items-center group-hover:shadow-sm",children:m.jsxs("div",{className:"flex items-center justify-between w-full",children:[m.jsx("div",{className:"flex-1 min-h-0 pr-3",children:m.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[m.jsx("span",{className:"font-medium text-sm group-hover:text-blue-700 transition-colors",children:e?mN(e):r?iT(r):"Unknown"}),o==="upload"&&m.jsx("span",{className:"inline-flex items-center justify-center size-5 rounded-full bg-emerald-100 text-emerald-700 border border-emerald-300 hover:bg-emerald-200 transition-colors cursor-help",title:"Creator uploaded",children:m.jsx(Op,{className:"size-3"})}),o==="ast"&&m.jsx("span",{className:"inline-flex items-center justify-center size-5 rounded-full bg-orange-100 text-orange-700 border border-orange-300 hover:bg-orange-200 transition-colors cursor-help",title:"Word-level timing available",children:m.jsx(Lp,{className:"size-3"})}),r&&e&&m.jsx(G4e,{variant:"outline",className:"text-xs",children:iT(r)})]})}),m.jsxs("div",{className:"flex items-center gap-2 opacity-60 group-hover:opacity-100 transition-opacity",children:[m.jsx(Q4e,{status:t}),t==="idle"?m.jsx(K4e,{onClick:n}):t==="importing"?m.jsx(X4e,{}):t==="success"?m.jsx(W4e,{onClick:i}):t==="error"?m.jsx(Y4e,{onClick:s}):WD(t)]})]})}),m.jsx("div",{className:je("absolute bottom-0 left-0 right-0 opacity-0 transition-opacity duration-100 px-2",a&&a>0&&"opacity-100"),children:m.jsx("div",{className:"h-0.5 bg-gray-200 rounded-b-md overflow-hidden",children:m.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300 ease-in-out",style:{width:`${a||0}%`}})})})]})}function vee({items:t,renderItem:e,maxInitialItems:r=3,isSearching:n=!1}){let[i,s]=(0,$.useState)(!1),a=n||i||t.length<=r?t:t.slice(0,r),o=t.length-r;return m.jsxs("div",{className:"space-y-2",children:[a.map(e),!n&&!i&&o>0&&m.jsxs("button",{type:"button",onClick:()=>s(!0),className:"w-full p-3 text-sm text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-md border border-dashed border-gray-300 hover:border-blue-300 transition-colors",children:["Show ",o," more..."]})]})}function bee({icon:t,title:e,count:r,description:n}){return m.jsxs("div",{className:"mb-3",children:[m.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 mb-1",children:[t,e," ",m.jsxs("span",{className:"text-sm text-gray-500",children:["(",r,")"]})]}),n&&m.jsx("p",{className:"text-sm text-gray-600",children:n})]})}function J4e(t,e){return(0,$.useMemo)(()=>{var r;let n=(r=t.find(({data:o})=>o.ast===!0&&o.lang.includes("-orig")))==null?void 0:r.data,i=t.filter(({data:o})=>n&&o.id===n.id?!0:o.lang===e||o.lang.startsWith(`${e}-`)?!(o.ast===!0&&(n?.lang===e||n!=null&&n.lang.startsWith(`${e}-`))):!1).sort((o,l)=>{let c=o.data.ast,u=l.data.ast;if(c!==u)return c?1:-1;if(c&&u){let g=o.data.lang.includes("-orig"),v=l.data.lang.includes("-orig");if(g!==v)return g?-1:1}let d=!!o.data.name,f=!!l.data.name;if(d!==f)return d?-1:1;let p=o.data.name||o.data.lang,h=l.data.name||l.data.lang;return p.localeCompare(h)}),s=t.filter(o=>!o.data.ast&&!i.includes(o)),a=t.filter(o=>o.data.ast&&!i.includes(o));return{recommended:i,professional:s,timestamped:a}},[t,e])}function _D(t,e){return(0,$.useMemo)(()=>t.filter(({data:r})=>{var n;return((n=r.name)==null?void 0:n.toLowerCase().includes(e.toLowerCase()))||r.lang.toLowerCase().includes(e.toLowerCase())}),[t,e])}function wre({subtitles:t,userLanguage:e,onImport:r,onOpen:n,onRetry:i}){let[s,a]=(0,$.useState)(""),o=J4e(t,e),l=_D(o.recommended,s),c=_D(o.professional,s),u=_D(o.timestamped,s);return m.jsxs("div",{className:"flex flex-col gap-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx(iv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 size-4"}),m.jsx(xa,{placeholder:"Search languages...",value:s,onChange:d=>a(d.target.value),className:"pl-10"})]}),l.length>0&&m.jsx("div",{className:"space-y-2",children:l.map(({data:d,state:f})=>m.jsx(OD,{status:f.status,name:d.name,language:d.lang,progress:f.status==="importing"?f.progress:void 0,type:d.ast?"ast":"upload",onImport:r?()=>r(d.id):void 0,onOpen:n?()=>n(d.id):void 0,onRetry:i?()=>i(d.id):void 0},d.id))}),c.length>0&&m.jsxs("div",{children:[m.jsx(bee,{icon:m.jsx(Op,{className:"size-4 text-emerald-600"}),title:"Creator Provided",count:c.length,description:"Subtitles uploaded by the video creator"}),m.jsx(vee,{items:c,isSearching:!!s,renderItem:({data:d,state:f})=>m.jsx(OD,{status:f.status,name:d.name,language:d.lang,progress:f.status==="importing"?f.progress:void 0,onImport:r?()=>r(d.id):void 0,onOpen:n?()=>n(d.id):void 0,onRetry:i?()=>i(d.id):void 0},d.id)})]}),u.length>0&&m.jsxs("div",{children:[m.jsx(bee,{icon:m.jsx(Lp,{className:"size-4 text-orange-600"}),title:"Word-Level Timing",count:u.length,description:"Auto-generated with precise word timing, may contain errors"}),m.jsx(vee,{items:u,isSearching:!!s,renderItem:({data:d,state:f})=>m.jsx(OD,{status:f.status,name:d.name,language:d.lang,progress:f.status==="importing"?f.progress:void 0,onImport:r?()=>r(d.id):void 0,onOpen:n?()=>n(d.id):void 0,onRetry:i?()=>i(d.id):void 0},d.id)})]}),l.length===0&&c.length===0&&u.length===0&&s&&m.jsxs("div",{className:"text-center py-8 text-gray-500",children:[m.jsx(Rp,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),m.jsxs("p",{children:['No subtitles found for "',s,'"']}),m.jsx(Tr,{variant:"ghost",onClick:()=>a(""),className:"mt-2",children:"Clear search"})]})]})}function xre(t,e){return t.id||`cue-${e}`}function Z4e({clipboardTextSerializer:t=i=>i.content.textBetween(0,i.content.size,`

`),clipboardSerializer:e,onCopy:r,transformCopied:n}){return Dn(i=>new Ee({key:new Qe("prosekit-clipboard-serializer"),props:{transformCopied:n,clipboardTextSerializer:(s,a)=>{let o=t(s,a);return r?.(o),o},clipboardSerializer:e?.(i)}}))}function e5e(){return gh({name:"metaTag",priority:1e3,group:"block",content:"",atom:!0,selectable:!1,draggable:!1,parseDOM:[{tag:"meta[name][content]",getAttrs:t=>{let e=t.getAttribute("name"),r=t.getAttribute("content");return{name:e||"",content:r||""}}}],toDOM:t=>["meta",{name:t.attrs.name,content:t.attrs.content,style:"display: none;"}],attrs:{name:{default:"",validate:"string"},content:{default:"",validate:"string"}}})}var t5e=new Ee({key:new Qe("webvtt-readonly"),props:{editable:()=>!1}});function r5e(){return Dn(t5e)}var en=class t{constructor({hours:e=0,minutes:r=0,seconds:n=0,milliseconds:i=0}={}){if(DE(this,"hours"),DE(this,"minutes"),DE(this,"seconds"),DE(this,"milliseconds"),!Number.isInteger(e)||e<0)throw new Error("Hours must be a non-negative integer");if(!Number.isInteger(r)||r<0||r>59)throw new Error("Minutes must be an integer between 0 and 59");if(!Number.isInteger(n)||n<0||n>59)throw new Error("Seconds must be an integer between 0 and 59");if(!Number.isInteger(i)||i<0||i>999)throw new Error("Milliseconds must be an integer between 0 and 999");this.hours=e,this.minutes=r,this.seconds=n,this.milliseconds=i}static parse(e){if(e instanceof t)return e;if(typeof e!="string")throw new Error("Invalid WebVTT timestamp format");let r=/^(?:(\d{2,}):)?([0-5]\d):([0-5]\d)\.(\d{3})$/,n=e.match(r);if(!n)throw new Error("Invalid WebVTT timestamp format");let[,i,s,a,o]=n,l=i?Number.parseInt(i,10):0,c=Number.parseInt(s,10),u=Number.parseInt(a,10),d=Number.parseInt(o,10);return new t({hours:l,minutes:c,seconds:u,milliseconds:d})}toString(){let e=[this.minutes.toString().padStart(2,"0"),this.seconds.toString().padStart(2,"0")];return this.hours>0&&e.unshift(this.hours.toString().padStart(2,"0")),`${e.join(":")}.${this.milliseconds.toString().padStart(3,"0")}`}toDate(){return new Date(this.hours*3600*1e3+this.minutes*60*1e3+this.seconds*1e3+this.milliseconds)}getTimestamp(){return this.hours*3600+this.minutes*60+this.seconds+this.milliseconds/1e3}static fromTimestamp(e){if(e<0)throw new Error("Seconds must be non-negative");let r=Math.floor(e*1e3),n=Math.floor(r/(3600*1e3)),i=Math.floor(r%(3600*1e3)/(60*1e3)),s=Math.floor(r%(60*1e3)/1e3),a=r%1e3;return new t({hours:n,minutes:i,seconds:s,milliseconds:a})}static fromDate(e){return new t({hours:e.getUTCHours(),minutes:e.getUTCMinutes(),seconds:e.getUTCSeconds(),milliseconds:e.getUTCMilliseconds()})}equals(e){return this.hours===e.hours&&this.minutes===e.minutes&&this.seconds===e.seconds&&this.milliseconds===e.milliseconds}compare(e){return this.hours!==e.hours?this.hours<e.hours?-1:1:this.minutes!==e.minutes?this.minutes<e.minutes?-1:1:this.seconds!==e.seconds?this.seconds<e.seconds?-1:1:this.milliseconds!==e.milliseconds?this.milliseconds<e.milliseconds?-1:1:0}isWithinRange(e,r){return this.compare(e)>=0&&this.compare(r)<=0}};function n5e(){return gh({name:"webvttCue",priority:1e3,group:"block",content:"(inline|top)*",defining:!0,parseDOM:[{tag:"p[data-part='cue']",getAttrs:t=>{let e=t.dataset.id,r=t.dataset.start,n=t.dataset.end;return{id:e,start:en.parse(r),end:en.parse(n)}}}],toDOM:t=>["p",{"data-part":"cue","data-id":t.attrs.id,"data-start":t.attrs.start.toString(),"data-end":t.attrs.end.toString()},0],attrs:{id:{default:xr(),validate:"string"},start:{default:en.fromTimestamp(0),validate:t=>{en.parse(t)}},end:{default:en.fromTimestamp(0),validate:t=>{en.parse(t)}}}})}var i5e=$6((t,e)=>{if(t.type.name==="webvttCue"){let r=t.attrs;if(!e)return{type:t.type,attrs:{...r}};let n=r.end,i=GJ(n.toDate(),1);return{type:t.type,attrs:{...r,start:n,end:en.fromDate(i)}}}return null});function s5e(){return Wd({Enter:to(b0,w0,x0,i5e)})}function*a5e(t){let e=0;for(let r=0;r<t.childCount;r++){let n=t.child(r);if(n.type.name!=="webvttCue")continue;let{start:i,end:s,id:a}=n.attrs;yield[n,{start:i,end:s,id:a,nodePos:e}],e+=n.nodeSize}}function o5e(){return gh({name:"webvttTimestamp",inline:!0,group:"top",content:"inline*",selectable:!1,defining:!0,parseDOM:[{tag:"span[data-part='timestamp']",getAttrs:t=>{let e=t.dataset.time;return{time:en.parse(e||"0")}}}],toDOM:t=>["span",{"data-part":"timestamp","data-time":t.attrs.time.toString()}],attrs:{time:{default:en.fromTimestamp(0)}}})}function l5e(){return io({insertTimestamp:t=>(e,r)=>{if(!r)return!0;let{schema:n,tr:i}=e,s=g0(n,"webvttTimestamp").createChecked({time:t}),a=i.selection.anchor;return i.replaceRange(a,a,new ee(J.from(s),0,0)),r(i),!0}})}function c5e({onTimestampClicked:t}){return GQ((e,r,n,i,s,a)=>{if(!t||n.type.name!=="webvttCue")return!1;let o=n,{start:l,end:c,id:u}=o.attrs,d={start:l,end:c,id:u};for(let[f,p]of Sre(o,{nodePos:i,start:l,end:c}))if(f.from<=r&&f.to>=r)return t(s,{timespan:p,cue:d});return t(s,{timespan:null,cue:d})})}function*Sre(t,{start:e,end:r,nodePos:n}){let i=n,s=e,a=n;for(let l=0;l<t.childCount;l++){let c=t.child(l);if(c.type.name!=="webvttTimestamp"){i+=c.nodeSize;continue}let u=c.attrs.time;if(u.compare(e)<0||u.compare(r)>0){i+=c.nodeSize;continue}let d={start:s,end:u};yield[{from:a,to:i+c.nodeSize},d],i+=c.nodeSize,a=i,s=u}let o={start:s,end:r};yield[{from:a,to:n+t.nodeSize},o]}function u5e(){return Di(Dn(zE),io({dispatchTrackChange:t=>(e,r,n)=>{var i,s;if(!r)return!0;r(e.tr.setMeta(zE,{type:"update",...t}));let a=(i=zE.getState(e))==null?void 0:i.activeCues;if(t.scrollContainer&&t.activeCues&&a&&kre(a,t.activeCues)){let o=(s=t.activeCues.at(0))==null?void 0:s.id;if(!o)return!0;let l=n?.dom.querySelector(`[data-part="cue"][data-id="${o}"]`);if(!l||!n)return!0;let c=t.scrollContainer,u=Array.from(n.dom.querySelectorAll('[data-part="cue"]')),d=u.indexOf(l),f=0,p=Math.min(3,d);for(let b=d-p;b<d;b++)if(b>=0&&u[b]){let w=u[b].offsetHeight;f+=w}let h=l.getBoundingClientRect(),g=c.getBoundingClientRect(),v=f,y=h.top-g.top+c.scrollTop;c.scrollTo({top:y-v,behavior:"smooth"})}return!0}}))}var zE=new Ee({key:new Qe("track-sync"),state:{init:(t,e)=>({decos:Zt.create(t.doc??e.doc,[]),activeCues:[],currentTime:0}),apply(t,e){let r=t.getMeta(zE);if(!(r!=null&&r.type)&&!t.docChanged)return e;if(r?.type==="update"){if(!r.activeCues&&!r.currentTime||(!r.activeCues||!kre(e.activeCues,r.activeCues))&&e.activeCues.length===0)return e;let{activeCues:n=e.activeCues,currentTime:i=e.currentTime}=r;return{decos:Zt.create(t.doc,[...d5e(n,i,t.doc)]),activeCues:n,currentTime:i}}return e}},props:{decorations(t){var e;return(e=this.getState(t))==null?void 0:e.decos}}}),qE=(t,e,{className:r,...n}={})=>kr.inline(t.from,t.to,{...n,class:r??"",nodeName:"span","data-part":"timed","data-start":e.start.toString(),"data-end":e.end.toString()});function*d5e(t,e,r){let n=t.map(s=>s.id),i=en.fromTimestamp(e);for(let[s,a]of a5e(r)){let o=[...Sre(s,a)];if(n.includes(a.id)){if(yield kr.node(a.nodePos,a.nodePos+s.nodeSize,{"data-active":""}),o.length<=1)continue;for(let[l,c]of o)i.compare(c.start)<0?yield qE(l,c,{"data-future":""}):i.compare(c.end)>0?yield qE(l,c,{"data-past":""}):yield qE(l,c,{"data-current":""})}else{if(o.length<=1)continue;for(let[l,c]of o)yield qE(l,c)}}}function kre(t,e){return t.length!==e.length||t.some(r=>!e.includes(r))}var gT=(0,$.createContext)({emitter:null,remote:null});function f5e({className:t,onKeyDown:e,onClose:r}){let[n,i]=(0,$.useState)(""),s=(0,$.useMemo)(()=>n?EJ({search:n}):null,[n]);Yd(s);let a=rD(),o=(0,$.useCallback)(l=>{e?.(l,a)},[e,a]);return m.jsx("div",{className:je("vtt-editor-search-container grid grid-cols-[1fr_min-content] gap-2",t),children:m.jsxs("div",{className:"vtt-editor-search-input flex items-center justify-between max-w-[48ch] w-full mx-auto gap-2",children:[m.jsx(xa,{autoFocus:!0,placeholder:"Search",type:"text",className:"h-8",value:n,onChange:l=>i(l.target.value),onKeyDown:o}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx(Tr,{size:"iconSm",variant:"ghost",onClick:a.commands.findPrev,children:m.jsx(Dy,{className:"size-4"})}),m.jsx(Tr,{size:"iconSm",variant:"ghost",onClick:a.commands.findNext,children:m.jsx(Oy,{className:"size-4"})}),m.jsx(Tr,{size:"iconSm",variant:"ghost",onClick:r,children:m.jsx(jo,{className:"size-4"})})]})]})})}function p5e(t){return t+.001}function h5e({target:t="start"}={}){let{remote:e}=(0,$.use)(gT);return(0,$.useCallback)((r,{timespan:n,cue:i})=>{if(!e)return!1;let s=(n??i)[t].getTimestamp(),a=i[t].getTimestamp();return s===a?e.seek(p5e(s),r):e.seek(s,r),!0},[e,t])}function Cre({onDocUpdate:t,showSearch:e,editor:r,handleSearchKeyDown:n,onClose:i,...s}){return m.jsx(gT.Provider,{value:s,children:m.jsx(m5e,{editor:r,showSearch:e,onClose:i,handleSearchKeyDown:n,onDocUpdate:t})})}function m5e({onDocUpdate:t,showSearch:e,editor:r,handleSearchKeyDown:n,onClose:i}){let s=(0,$.useCallback)(c=>t?.(v0(c)),[t]);fJ(s,{editor:r});let a=(0,$.useRef)(null),[o,l]=(0,$.useState)(0);return(0,$.useEffect)(()=>{let c=a.current;if(!c)return;let u=()=>{let f=c.clientHeight;l(f)};u();let d=new ResizeObserver(u);return d.observe(c),()=>d.disconnect()},[]),m.jsxs(uJ,{editor:r,children:[m.jsxs("div",{className:"vtt-editor-container h-full w-full flex gap-2 flex-col",children:[e&&m.jsx(f5e,{className:"vtt-editor-search",onKeyDown:n,onClose:i}),m.jsx("div",{className:"vtt-editor-container-inner flex-1 overflow-y-auto",ref:a,children:m.jsx("div",{ref:r.mount,className:"pb-[calc(var(--editor-height)-4rem)] select-text vtt-editor mx-auto text-balance ProseMirror box-border prose prose-sm prose-p:my-1 prose-p:hover:bg-muted prose-p:rounded-md prose-p:pl-2.5 prose-p:pr-2 prose-p:py-1 prose-p:text-foreground",style:{"--editor-height":`${o}px`}})})]}),m.jsx(g5e,{scrollContainerRef:a}),m.jsx(y5e,{}),m.jsx(v5e,{})]})}function g5e({scrollContainerRef:t}){let{emitter:e}=(0,$.use)(gT),r=rD();return(0,$.useEffect)(()=>{var n=[];try{if(!r||!e)return;let a=SZ(n,new DisposableStack),o=null;a.defer(()=>{o?.dispose()}),a.defer(e.on("track-change",c=>{var u=[];try{if(!c){o&&(o.dispose(),o=null),r.commands.dispatchTrackChange({activeCues:[]});return}let p=()=>{let g=c.cues,v=c.activeCues.map(y=>({id:xre(y,g.indexOf(y))}));r.commands.dispatchTrackChange({activeCues:v,scrollContainer:t.current??r.view.dom})};p();let h=SZ(u,new DisposableStack);c.addEventListener("cue-change",p),h.defer(()=>{c.removeEventListener("cue-change",p)}),o=h.move()}catch(p){var d=p,f=!0}finally{kZ(u,d,f)}})),a.defer(e.on("time-update",c=>{r.commands.dispatchTrackChange({currentTime:c})}));let l=a.move();return()=>l.dispose()}catch(a){var i=a,s=!0}finally{kZ(n,i,s)}},[r,e,t]),null}function y5e(){let t=h5e(),e=(0,$.useMemo)(()=>c5e({onTimestampClicked:t}),[t]);return Yd(e),null}function v5e(){let{clipboardTextSerializer:t,clipboardSerializer:e,onCopy:r,transformCopied:n}=(0,$.use)(gT),i=(0,$.useMemo)(()=>Z4e({clipboardTextSerializer:t,clipboardSerializer:e,onCopy:r,transformCopied:n}),[t,e,r,n]);return Yd(i),null}function Ere(){return Di(BQ(),QQ(),KQ(),_J(),IJ(),MJ(),OJ(),FJ(),e5e(),DJ(),s5e(),n5e(),l5e(),o5e(),u5e(),r5e(),TJ())}function Tre(t){return t.map((e,r)=>{let n=wD(e);return{type:"webvttCue",attrs:{id:xre(e,r),start:en.fromTimestamp(e.startTime),end:en.fromTimestamp(e.endTime)},content:n.flatMap(i=>{let s=a=>a.type==="text"?[{type:"text",text:a.data}]:a.type==="timestamp"?[{type:"webvttTimestamp",attrs:{time:en.fromTimestamp(a.time)}},...a.children.flatMap(s)]:a.type==="b"?a.children.flatMap(s).map(o=>({...o,marks:[{type:"bold"}]})):a.type==="i"?a.children.flatMap(s).map(o=>({...o,marks:[{type:"italic"}]})):a.children?a.children.flatMap(s):[];return s(i)})}})}var b5e=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},w5e=N[" useInsertionEffect ".trim().toString()]||b5e;function x5e({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){let[i,s,a]=S5e({defaultProp:e,onChange:r}),o=t!==void 0,l=o?t:i;{let u=N.useRef(t!==void 0);N.useEffect(()=>{let d=u.current;d!==o&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=o},[o,n])}let c=N.useCallback(u=>{var d;if(o){let f=k5e(u)?u(t):u;f!==t&&((d=a.current)==null||d.call(a,f))}else s(u)},[o,t,s,a]);return[l,c]}function S5e({defaultProp:t,onChange:e}){let[r,n]=N.useState(t),i=N.useRef(r),s=N.useRef(e);return w5e(()=>{s.current=e},[e]),N.useEffect(()=>{var a;i.current!==r&&((a=s.current)==null||a.call(s,r),i.current=r)},[r,i]),[r,n,s]}function k5e(t){return typeof t=="function"}var Are=(0,$.createContext)({show:!0,setShow:()=>{}}),C5e=({children:t,visible:e,defaultVisible:r=!0,onClose:n,className:i,inset:s=!1,...a})=>{let[o,l]=x5e({defaultProp:r,prop:e,onChange:n});return o?m.jsx(Are.Provider,{value:{show:o,setShow:l},children:m.jsx("div",{className:je("flex w-full items-center justify-between gap-2 bg-primary px-4 py-2 text-primary-foreground",s&&"rounded-lg",i),...a,children:t})}):null},E5e=({icon:t,className:e,...r})=>m.jsx("div",{className:je("rounded-full border border-background/20 bg-background/10 p-1 shadow-sm",e),...r,children:m.jsx(t,{size:16})}),T5e=({className:t,...e})=>m.jsx("p",{className:je("flex-1 text-sm",t),...e}),A5e=({variant:t="outline",size:e="sm",className:r,...n})=>m.jsx(Tr,{className:je("shrink-0 bg-transparent hover:bg-background/10 hover:text-background",r),size:e,variant:t,...n}),L5e=({variant:t="ghost",size:e="icon",onClick:r,className:n,...i})=>{let{setShow:s}=(0,$.useContext)(Are),a=o=>{s(!1),r?.(o)};return m.jsx(Tr,{className:je("shrink-0 bg-transparent hover:bg-background/10 hover:text-background",n),onClick:a,size:e,variant:t,...i,children:m.jsx(jo,{size:18})})},I5e=oT("group block transition-colors",{variants:{variant:{feature:"rounded-lg py-2 px-3 hover:bg-accent/50",link:"rounded-lg py-4 px-5 space-y-3 hover:bg-accent/30"}},defaultVariants:{variant:"feature"}});function ya({icon:t,title:e,description:r,variant:n,className:i,...s}){let a=s.href?"a":"div";return m.jsx(a,{...s,"data-card":!0,className:jee(I5e({variant:n}),"text-card-foreground",i),children:m.jsxs("div",{className:"flex items-start gap-3",children:[t?m.jsx("div",{className:"flex-shrink-0 mt-0.5 w-fit rounded-md bg-muted/50 p-1 text-muted-foreground group-hover:text-primary transition-colors [&_svg]:size-3.5",children:t}):null,m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h3",{className:"not-prose text-sm font-medium leading-tight mb-1 group-hover:text-primary transition-colors",children:e}),r?m.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:r}):null,m.jsx("div",{className:"text-xs text-muted-foreground leading-relaxed prose-no-margin empty:hidden",children:s.children})]})]})})}function Lre({onTryExample:t,onOpenNewNote:e,docBaseUrl:r}){let n=o=>new URL(`${r}${o}`).toString(),[i,s]=(0,$.useState)(!0);(0,$.useEffect)(()=>{localStorage.getItem("mx-v4-banner-dismissed")==="true"&&s(!1)},[]);let a=()=>{s(!1),localStorage.setItem("mx-v4-banner-dismissed","true")};return m.jsxs("div",{children:[i&&m.jsxs(C5e,{inset:!0,onClose:a,children:[m.jsx(E5e,{icon:rv}),m.jsx(T5e,{children:"Media Extended v4.0 is here! Major stability improvements and new features"}),m.jsx(A5e,{asChild:!0,children:m.jsxs("a",{href:n("/blog/v4-release"),target:"_blank",rel:"noopener noreferrer",children:["Learn more",m.jsx(tc,{})]})}),m.jsx(L5e,{})]}),m.jsxs("article",{className:"max-w-4xl mx-auto px-6 py-4 space-y-6",children:[m.jsxs("header",{className:"space-y-4",children:[m.jsx("h1",{className:"text-3xl font-semibold tracking-tight",children:"Welcome to Media Extended"}),m.jsx("p",{className:"text-base text-muted-foreground leading-relaxed max-w-2xl",children:"Media Extended is a Obsidian plugin that integrates, manages, and plays media files directly in your vault."})]}),m.jsxs("section",{className:"space-y-4",children:[m.jsx("h2",{className:"text-xs uppercase tracking-wider font-medium text-muted-foreground",children:"Quick Start"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Let's get you started with taking timestamped notes on selected video."}),m.jsxs("ol",{className:"space-y-4",children:[m.jsxs("li",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"flex items-center justify-center w-6 h-6 bg-primary text-primary-foreground rounded-full text-xs font-medium flex-shrink-0",children:"1"}),m.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[m.jsx("span",{className:"text-sm",children:"Open a media file to get started"}),m.jsxs(Tr,{size:"sm",variant:"outline",onClick:t,children:["Select media",m.jsx(Vy,{})]})]})]}),m.jsxs("li",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"flex items-center justify-center w-6 h-6 bg-primary text-primary-foreground rounded-full text-xs font-medium flex-shrink-0",children:"2"}),m.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[m.jsx("span",{className:"text-sm",children:"Open a new note side-by-side with the player"}),m.jsxs(Tr,{size:"sm",variant:"outline",onClick:e,children:["Open new note",m.jsx(_y,{})]})]})]}),m.jsxs("li",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"flex items-center justify-center w-6 h-6 bg-primary text-primary-foreground rounded-full text-xs font-medium flex-shrink-0",children:"3"}),m.jsxs("span",{className:"text-sm leading-relaxed",children:["Click the"," ",m.jsx("div",{className:"inline-block align-text-bottom px-1",children:m.jsx(av,{className:"size-4 "})})," ","button (timestamp button) in the top action bar of the player view while playing to add links to your notes"]})]}),m.jsxs("li",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"flex items-center justify-center w-6 h-6 bg-primary text-primary-foreground rounded-full text-xs font-medium flex-shrink-0",children:"4"}),m.jsxs("span",{className:"text-sm leading-relaxed",children:["Take screenshots on the player by clicking"," ",m.jsx("div",{className:"inline-block align-text-bottom px-1",children:m.jsx(Ap,{className:"size-4 "})})," ","button (screenshot button) in the top action bar of the player view"]})]})]})]}),m.jsxs("section",{className:"space-y-4 mb-4",children:[m.jsx("h2",{className:"text-xs uppercase tracking-wider font-medium text-muted-foreground",children:"Explore Features"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[m.jsx(ya,{icon:m.jsx(Hy,{}),href:n("/docs/v4/load-media"),title:"Load media",description:"Local files, remote URLs, and media-hosting services."}),m.jsx(ya,{icon:m.jsx(ud,{}),href:n("/docs/v4/playback"),title:"Playback",description:"Control playback while taking notes"}),m.jsx(ya,{icon:m.jsx(Ap,{}),href:n("/docs/v4/screenshot"),title:"Capture screenshots",description:"Capture screenshots with timestamp links"}),m.jsx(ya,{icon:m.jsx(cd,{}),href:n("/docs/v4/media-links"),title:"Links and embeds",description:"Include media links and embeds in your notes"}),m.jsx(ya,{icon:m.jsx(ld,{}),href:n("/docs/v4/transcript"),title:"Transcripts",description:"Quick navigation using transcript and subtitles"}),m.jsx(ya,{icon:m.jsx(Ny,{}),href:n("/docs/v4/template"),title:"Customize templates",description:"Customize timestamp and screenshot formats"}),m.jsx(ya,{icon:m.jsx(Yy,{}),href:n("/docs/v4/recording"),title:"Recording",description:"Take notes while recording media"})]})]}),m.jsx("hr",{className:"border-t border-border mb-6"}),m.jsxs("section",{className:"space-y-4",children:[m.jsx("h2",{className:"text-xs uppercase tracking-wider font-medium text-muted-foreground",children:"Learn More"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4",children:[m.jsx(ya,{variant:"link",icon:m.jsx(Fy,{}),href:n("/docs/v4"),title:"Explore all features",description:"Dive deep into tutorials, guides, and tips to master Media Extended"}),m.jsx(ya,{variant:"link",icon:m.jsx(nv,{}),href:n("/blog/v4-release"),title:"What's new in v4",description:"Discover new features, improvements, and important changes from v3"}),m.jsx(ya,{variant:"link",icon:m.jsx(tc,{}),href:n("/changelog"),title:"View all updates",description:"Track every update, bug fix, and enhancement across all versions"}),m.jsx(ya,{variant:"link",icon:m.jsx($y,{}),href:"https://github.com/aidenlx/media-extended/issues",title:"Get help & report bugs",description:"Found a problem? Need help? Let us know on GitHub"})]})]})]})]})}var Vi="subtitles",qi="captions",Ire="wid",Rre=ki({id:Ql(qe()),format:Ql(vH),kind:Ql(Xt(["subtitles","captions"])),language:Ql(qe()),label:Ql(qe()),isDefault:Kn(),wid:Ql(qe())});function gN(t){return t.type==="internal"?`link:${t.path}`:Rs(t)}function Rs(t){if(t.type==="url")return t.meta.id?`url:#${t.meta.id}`:`url:${t.src.toString()}`;if(t.type==="file")return`file:${t.src.path}`;if(t.type==="internal.resolved")return`internal:${LS(t.src)}`;Te(t)}function yT(t,e){return!t||!e?!1:Rs(t)===Rs(e)}var ai=Q(null),yN=Q(async t=>{let e=t(ai),{transcriptLoader:r}=t(Qt);if(!e)return null;let n=await r.loadAndParseTrack(e);return{id:Rs(e),node:{type:"doc",content:Tre(n.cues)}}}),vT=LH(Q(async t=>{let e=await t(yN);return e?O6({extension:Ere(),defaultContent:e.node}):null}),()=>null),K0=Q(!1);var bT=class{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(e,r){this.keyToValue.set(e,r),this.valueToKey.set(r,e)}getByKey(e){return this.keyToValue.get(e)}getByValue(e){return this.valueToKey.get(e)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}};var Fh=class{constructor(e){this.generateIdentifier=e,this.kv=new bT}register(e,r){this.kv.getByValue(e)||(r||(r=this.generateIdentifier(e)),this.kv.set(r,e))}clear(){this.kv.clear()}getIdentifier(e){return this.kv.getByValue(e)}getValue(e){return this.kv.getByKey(e)}};var wT=class extends Fh{constructor(){super(e=>e.name),this.classToAllowedProps=new Map}register(e,r){typeof r=="object"?(r.allowProps&&this.classToAllowedProps.set(e,r.allowProps),super.register(e,r.identifier)):super.register(e,r)}getAllowedProps(e){return this.classToAllowedProps.get(e)}};function R5e(t){if("values"in Object)return Object.values(t);let e=[];for(let r in t)t.hasOwnProperty(r)&&e.push(t[r]);return e}function Mre(t,e){let r=R5e(t);if("find"in r)return r.find(e);let n=r;for(let i=0;i<n.length;i++){let s=n[i];if(e(s))return s}}function ef(t,e){Object.entries(t).forEach(([r,n])=>e(n,r))}function $h(t,e){return t.indexOf(e)!==-1}function vN(t,e){for(let r=0;r<t.length;r++){let n=t[r];if(e(n))return n}}var xT=class{constructor(){this.transfomers={}}register(e){this.transfomers[e.name]=e}findApplicable(e){return Mre(this.transfomers,r=>r.isApplicable(e))}findByName(e){return this.transfomers[e]}};var M5e=t=>Object.prototype.toString.call(t).slice(8,-1),bN=t=>typeof t>"u",P5e=t=>t===null,tf=t=>typeof t!="object"||t===null||t===Object.prototype?!1:Object.getPrototypeOf(t)===null?!0:Object.getPrototypeOf(t)===Object.prototype,ST=t=>tf(t)&&Object.keys(t).length===0,ka=t=>Array.isArray(t),O5e=t=>typeof t=="string",_5e=t=>typeof t=="number"&&!isNaN(t),D5e=t=>typeof t=="boolean",Pre=t=>t instanceof RegExp,Dc=t=>t instanceof Map,Nc=t=>t instanceof Set,wN=t=>M5e(t)==="Symbol",Ore=t=>t instanceof Date&&!isNaN(t.valueOf()),_re=t=>t instanceof Error,xN=t=>typeof t=="number"&&isNaN(t),Dre=t=>D5e(t)||P5e(t)||bN(t)||_5e(t)||O5e(t)||wN(t),Nre=t=>typeof t=="bigint",Fre=t=>t===1/0||t===-1/0,$re=t=>ArrayBuffer.isView(t)&&!(t instanceof DataView),jre=t=>t instanceof URL;var SN=t=>t.replace(/\./g,"\\."),kT=t=>t.map(String).map(SN).join("."),jh=t=>{let e=[],r="";for(let i=0;i<t.length;i++){let s=t.charAt(i);if(s==="\\"&&t.charAt(i+1)==="."){r+=".",i++;continue}if(s==="."){e.push(r),r="";continue}r+=s}let n=r;return e.push(n),e};function lo(t,e,r,n){return{isApplicable:t,annotation:e,transform:r,untransform:n}}var Vre=[lo(bN,"undefined",()=>null,()=>{}),lo(Nre,"bigint",t=>t.toString(),t=>typeof BigInt<"u"?BigInt(t):(console.error("Please add a BigInt polyfill."),t)),lo(Ore,"Date",t=>t.toISOString(),t=>new Date(t)),lo(_re,"Error",(t,e)=>{let r={name:t.name,message:t.message};return e.allowedErrorProps.forEach(n=>{r[n]=t[n]}),r},(t,e)=>{let r=new Error(t.message);return r.name=t.name,r.stack=t.stack,e.allowedErrorProps.forEach(n=>{r[n]=t[n]}),r}),lo(Pre,"regexp",t=>""+t,t=>{let e=t.slice(1,t.lastIndexOf("/")),r=t.slice(t.lastIndexOf("/")+1);return new RegExp(e,r)}),lo(Nc,"set",t=>[...t.values()],t=>new Set(t)),lo(Dc,"map",t=>[...t.entries()],t=>new Map(t)),lo(t=>xN(t)||Fre(t),"number",t=>xN(t)?"NaN":t>0?"Infinity":"-Infinity",Number),lo(t=>t===0&&1/t===-1/0,"number",()=>"-0",Number),lo(jre,"URL",t=>t.toString(),t=>new URL(t))];function CT(t,e,r,n){return{isApplicable:t,annotation:e,transform:r,untransform:n}}var qre=CT((t,e)=>wN(t)?!!e.symbolRegistry.getIdentifier(t):!1,(t,e)=>["symbol",e.symbolRegistry.getIdentifier(t)],t=>t.description,(t,e,r)=>{let n=r.symbolRegistry.getValue(e[1]);if(!n)throw new Error("Trying to deserialize unknown symbol");return n}),N5e=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((t,e)=>(t[e.name]=e,t),{}),Bre=CT($re,t=>["typed-array",t.constructor.name],t=>[...t],(t,e)=>{let r=N5e[e[1]];if(!r)throw new Error("Trying to deserialize unknown typed array");return new r(t)});function kN(t,e){return t?.constructor?!!e.classRegistry.getIdentifier(t.constructor):!1}var Ure=CT(kN,(t,e)=>["class",e.classRegistry.getIdentifier(t.constructor)],(t,e)=>{let r=e.classRegistry.getAllowedProps(t.constructor);if(!r)return{...t};let n={};return r.forEach(i=>{n[i]=t[i]}),n},(t,e,r)=>{let n=r.classRegistry.getValue(e[1]);if(!n)throw new Error(`Trying to deserialize unknown class '${e[1]}' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);return Object.assign(Object.create(n.prototype),t)}),zre=CT((t,e)=>!!e.customTransformerRegistry.findApplicable(t),(t,e)=>["custom",e.customTransformerRegistry.findApplicable(t).name],(t,e)=>e.customTransformerRegistry.findApplicable(t).serialize(t),(t,e,r)=>{let n=r.customTransformerRegistry.findByName(e[1]);if(!n)throw new Error("Trying to deserialize unknown custom value");return n.deserialize(t)}),F5e=[Ure,qre,zre,Bre],CN=(t,e)=>{let r=vN(F5e,i=>i.isApplicable(t,e));if(r)return{value:r.transform(t,e),type:r.annotation(t,e)};let n=vN(Vre,i=>i.isApplicable(t,e));if(n)return{value:n.transform(t,e),type:n.annotation}},Hre={};Vre.forEach(t=>{Hre[t.annotation]=t});var Gre=(t,e,r)=>{if(ka(e))switch(e[0]){case"symbol":return qre.untransform(t,e,r);case"class":return Ure.untransform(t,e,r);case"custom":return zre.untransform(t,e,r);case"typed-array":return Bre.untransform(t,e,r);default:throw new Error("Unknown transformation: "+e)}else{let n=Hre[e];if(!n)throw new Error("Unknown transformation: "+e);return n.untransform(t,r)}};var Vh=(t,e)=>{if(e>t.size)throw new Error("index out of bounds");let r=t.keys();for(;e>0;)r.next(),e--;return r.next().value};function Wre(t){if($h(t,"__proto__"))throw new Error("__proto__ is not allowed as a property");if($h(t,"prototype"))throw new Error("prototype is not allowed as a property");if($h(t,"constructor"))throw new Error("constructor is not allowed as a property")}var Kre=(t,e)=>{Wre(e);for(let r=0;r<e.length;r++){let n=e[r];if(Nc(t))t=Vh(t,+n);else if(Dc(t)){let i=+n,s=+e[++r]==0?"key":"value",a=Vh(t,i);switch(s){case"key":t=a;break;case"value":t=t.get(a);break}}else t=t[n]}return t},ET=(t,e,r)=>{if(Wre(e),e.length===0)return r(t);let n=t;for(let s=0;s<e.length-1;s++){let a=e[s];if(ka(n)){let o=+a;n=n[o]}else if(tf(n))n=n[a];else if(Nc(n)){let o=+a;n=Vh(n,o)}else if(Dc(n)){if(s===e.length-2)break;let l=+a,c=+e[++s]==0?"key":"value",u=Vh(n,l);switch(c){case"key":n=u;break;case"value":n=n.get(u);break}}}let i=e[e.length-1];if(ka(n)?n[+i]=r(n[+i]):tf(n)&&(n[i]=r(n[i])),Nc(n)){let s=Vh(n,+i),a=r(s);s!==a&&(n.delete(s),n.add(a))}if(Dc(n)){let s=+e[e.length-2],a=Vh(n,s);switch(+i==0?"key":"value"){case"key":{let l=r(a);n.set(l,n.get(a)),l!==a&&n.delete(a);break}case"value":{n.set(a,r(n.get(a)));break}}}return t};function EN(t,e,r=[]){if(!t)return;if(!ka(t)){ef(t,(s,a)=>EN(s,e,[...r,...jh(a)]));return}let[n,i]=t;i&&ef(i,(s,a)=>{EN(s,e,[...r,...jh(a)])}),e(n,r)}function Yre(t,e,r){return EN(e,(n,i)=>{t=ET(t,i,s=>Gre(s,n,r))}),t}function Xre(t,e){function r(n,i){let s=Kre(t,jh(i));n.map(jh).forEach(a=>{t=ET(t,a,()=>s)})}if(ka(e)){let[n,i]=e;n.forEach(s=>{t=ET(t,jh(s),()=>t)}),i&&ef(i,r)}else ef(e,r);return t}var $5e=(t,e)=>tf(t)||ka(t)||Dc(t)||Nc(t)||kN(t,e);function j5e(t,e,r){let n=r.get(t);n?n.push(e):r.set(t,[e])}function Qre(t,e){let r={},n;return t.forEach(i=>{if(i.length<=1)return;e||(i=i.map(o=>o.map(String)).sort((o,l)=>o.length-l.length));let[s,...a]=i;s.length===0?n=a.map(kT):r[kT(s)]=a.map(kT)}),n?ST(r)?[n]:[n,r]:ST(r)?void 0:r}var TN=(t,e,r,n,i=[],s=[],a=new Map)=>{let o=Dre(t);if(!o){j5e(t,i,e);let p=a.get(t);if(p)return n?{transformedValue:null}:p}if(!$5e(t,r)){let p=CN(t,r),h=p?{transformedValue:p.value,annotations:[p.type]}:{transformedValue:t};return o||a.set(t,h),h}if($h(s,t))return{transformedValue:null};let l=CN(t,r),c=l?.value??t,u=ka(c)?[]:{},d={};ef(c,(p,h)=>{if(h==="__proto__"||h==="constructor"||h==="prototype")throw new Error(`Detected property ${h}. This is a prototype pollution risk, please remove it from your object.`);let g=TN(p,e,r,n,[...i,h],[...s,t],a);u[h]=g.transformedValue,ka(g.annotations)?d[h]=g.annotations:tf(g.annotations)&&ef(g.annotations,(v,y)=>{d[SN(h)+"."+y]=v})});let f=ST(d)?{transformedValue:u,annotations:l?[l.type]:void 0}:{transformedValue:u,annotations:l?[l.type,d]:d};return o||a.set(t,f),f};function TT(t){return Object.prototype.toString.call(t).slice(8,-1)}function AN(t){return TT(t)==="Array"}function Jre(t){if(TT(t)!=="Object")return!1;let e=Object.getPrototypeOf(t);return!!e&&e.constructor===Object&&e===Object.prototype}function V5e(t){return TT(t)==="Null"}function q5e(t,e,r,n,i){return s=>t(s)||e(s)||!!r&&r(s)||!!n&&n(s)||!!i&&i(s)}function B5e(t){return TT(t)==="Undefined"}var uft=q5e(V5e,B5e);function U5e(t,e,r,n,i){let s={}.propertyIsEnumerable.call(n,e)?"enumerable":"nonenumerable";s==="enumerable"&&(t[e]=r),i&&s==="nonenumerable"&&Object.defineProperty(t,e,{value:r,enumerable:!1,writable:!0,configurable:!0})}function AT(t,e={}){if(AN(t))return t.map(i=>AT(i,e));if(!Jre(t))return t;let r=Object.getOwnPropertyNames(t),n=Object.getOwnPropertySymbols(t);return[...r,...n].reduce((i,s)=>{if(AN(e.props)&&!e.props.includes(s))return i;let a=t[s],o=AT(a,e);return U5e(i,s,o,t,e.nonenumerable),i},{})}var xe=class{constructor({dedupe:e=!1}={}){this.classRegistry=new wT,this.symbolRegistry=new Fh(r=>r.description??""),this.customTransformerRegistry=new xT,this.allowedErrorProps=[],this.dedupe=e}serialize(e){let r=new Map,n=TN(e,r,this,this.dedupe),i={json:n.transformedValue};n.annotations&&(i.meta={...i.meta,values:n.annotations});let s=Qre(r,this.dedupe);return s&&(i.meta={...i.meta,referentialEqualities:s}),i}deserialize(e){let{json:r,meta:n}=e,i=AT(r);return n?.values&&(i=Yre(i,n.values,this)),n?.referentialEqualities&&(i=Xre(i,n.referentialEqualities)),i}stringify(e){return JSON.stringify(this.serialize(e))}parse(e){return this.deserialize(JSON.parse(e))}registerClass(e,r){this.classRegistry.register(e,r)}registerSymbol(e,r){this.symbolRegistry.register(e,r)}registerCustom(e,r){this.customTransformerRegistry.register({name:r,...e})}allowErrorProps(...e){this.allowedErrorProps.push(...e)}};xe.defaultInstance=new xe;xe.serialize=xe.defaultInstance.serialize.bind(xe.defaultInstance);xe.deserialize=xe.defaultInstance.deserialize.bind(xe.defaultInstance);xe.stringify=xe.defaultInstance.stringify.bind(xe.defaultInstance);xe.parse=xe.defaultInstance.parse.bind(xe.defaultInstance);xe.registerClass=xe.defaultInstance.registerClass.bind(xe.defaultInstance);xe.registerSymbol=xe.defaultInstance.registerSymbol.bind(xe.defaultInstance);xe.registerCustom=xe.defaultInstance.registerCustom.bind(xe.defaultInstance);xe.allowErrorProps=xe.defaultInstance.allowErrorProps.bind(xe.defaultInstance);var bft=xe.serialize,wft=xe.deserialize,xft=xe.stringify,Sft=xe.parse,kft=xe.registerClass,Cft=xe.registerCustom,Eft=xe.registerSymbol,Tft=xe.allowErrorProps;function qh(t){return{mx:xe.serialize(t)}}function LT(t){try{return xe.deserialize(t.mx)}catch(e){return console.error("Failed to deserialize media view state",e),null}}var hl=z(he(),1),Y0=Q(null),dt=Q(t=>t(Y0)?.player??null,(t,e,r)=>{if(!r){e(Y0,null);return}let n=t(Y0);if(n?.player===r)return;let i=n?.remote??new Cd;i.setPlayer(r),i.setTarget(r),e(Y0,{player:r,remote:i})});function Zre(){let t=gp(dt),e=H5e();return(0,hl.useCallback)(n=>{t(n),e.current=n},[t,e])}var _ft=Q(t=>({current:t(dt)})),z5e=Q({current:null});function H5e(){return ut(z5e)}function Bh(){return ut(dt)}function ene(){let[t,e]=(0,hl.useState)(null),r=Bh();return(0,hl.useEffect)(()=>{if(r)return e(r.provider),r.listen("provider-change",()=>{e(r.provider)})},[r]),t}var X0=Q(t=>t(Y0)?.remote);function G5e(t){let e=(0,hl.useRef)(null);e.current||(e.current=new Cd);let r=Bh(),n=t&&"current"in t?t.current:t;return(0,hl.useEffect)(()=>{let i=n instanceof Td?n:r,s=e.current;s.setPlayer(i??null),s.setTarget(n??null)},[r,n,e]),e}function tne(){return G5e().current}var rne=()=>({emit(t,...e){for(let r=this.events[t]||[],n=0,i=r.length;n<i;n++)r[n](...e)},events:{},on(t,e){return(this.events[t]||=[]).push(e),()=>{this.events[t]=this.events[t]?.filter(r=>e!==r)}}});function rf(){let t=rne();return t.once=function(r,n){let i=this.on(r,(...s)=>{i(),n(...s)});return i},t}var IT=z(he(),1);var ine=z(Be(),1);function nne(){let t=ut(yN),e=ut(vT),r=tne(),n=K5e(t?.id),i=W5e(),[s,a]=Ua(K0);return e&&(0,ine.jsx)(Cre,{editor:e,remote:r,emitter:n,showSearch:s,onClose:()=>{a(!1)},handleSearchKeyDown:(o,l)=>{o.key==="Enter"&&o.shiftKey?l.commands.findPrev():o.key==="Enter"&&l.commands.findNext()},...i})}function W5e(){let{trackInfoEncoder:t}=ut(Qt),e=ut(ai);return e?{transformCopied:(r,n)=>{let i=t.encode(e,{sourcePath:""}),s=r.content.addToEnd(n.state.schema.nodes.metaTag.create({name:"mx:track-src",content:i}));return new ee(s,r.openStart,r.openEnd)}}:{}}function K5e(t){let e=Bh(),r=(0,IT.useMemo)(()=>rf(),[]);return(0,IT.useEffect)(()=>{var s=[];try{if(!e||!t)return;let n=G(s,new DisposableStack);n.defer(e.subscribe(({textTrack:c})=>{c?.id!==t?r.emit("track-change",null):r.emit("track-change",c)}));n.defer(e.subscribe(({currentTime:c})=>{r.emit("time-update",c)}));n.defer(()=>r.emit("track-change",null));let i=n.move();return()=>i.dispose()}catch(a){var o=a,l=!0}finally{K(s,o,l)}},[e,r,t]),r}function co(t,{sep:e="/",urlEncoded:r=!1}={}){let n=r?decodeURI:i=>i;if("basename"in t&&"extension"in t){let i=n(t.basename),s=n(t.extension);return{extension:s,basename:i,name:`${i}.${s}`}}if("name"in t)return sne(n(t.name));if("path"in t)return Ca(t.path,{sep:e,urlEncoded:r});if("pathname"in t)return Ca(t.pathname,{sep:e,urlEncoded:r});Te(t)}function sne(t){let e=t.split(".").pop();return e===t?{extension:"",basename:t,name:t}:{extension:e,basename:t.slice(0,-e.length-1),name:t}}function Ca(t,{sep:e="/",urlEncoded:r=!1}={}){let n=r?decodeURI(t):t,i=n.split(e).pop();return{path:n,parent:n.slice(0,-i.length-1),...sne(i)}}function $n(t,e){t.defer(()=>e.e.offref(e))}function RT(t,e,r,n,i){e.addEventListener(r,n,i),t.defer(()=>e.removeEventListener(r,n,i))}function Uh(t,e,r,n,i){let s=e.register(r,n,i);t.defer(()=>e.unregister(s))}var uo=class extends AbortController{[Symbol.dispose](){this.abort()}};var PT=require("obsidian");var LN=require("obsidian");function ane(t){let e=lne();e&&e.showItemInFolder(t)}async function one(t){let e=lne();if(!e)return;let r=await e.openPath(t);if(r)throw new Error(r)}function lne(){if(!LN.Platform.isDesktopApp)return null;let t=window.electron;if(t)return LN.Platform.isMacOS?t.remote.shell:t.shell}var cne=require("obsidian");function MT(t,{onError:e,notice:r}){return async n=>{try{await t(n)}catch(i){let s=i instanceof Error?i.message:String(i);e?.(s,i),r?(console.error(r,i),new cne.Notice(`${r}: ${s}`)):console.error(i)}}}function OT(t,e){t.addItem(r=>r.setIcon("folder").setTitle(PT.Platform.isMacOS?"Reveal in Finder":"Show in system explorer").setSection("system").onClick(MT(()=>ane(e),{notice:"Failed to open file in file explorer"}))).addItem(r=>r.setIcon("arrow-up-right").setTitle("Open in system default player").setSection("system").onClick(MT(()=>one(e),{notice:"Failed to open file in system player"}))).addItem(r=>r.setIcon("copy").setTitle("Copy file path").setSection("info").onClick(MT(async()=>{await navigator.clipboard.writeText(e),new PT.Notice("File path copied to clipboard")},{notice:"Failed to copy file path"})))}var Toe=z(sA(),1);function n9({atomValues:t,children:e}){return PH(new Map(t)),e}var rx=z(Be(),1);function Dm({children:t,target:e,shadowRootClassName:r,ctx:{store:n,isEmbed:i}={}}){var o=[];try{let s=G(o,new DisposableStack);let a=Toe.default.createRoot(e);s.defer(()=>{a.unmount()});n||a.render((0,rx.jsx)(_u,{className:r,children:t}));a.render((0,rx.jsx)(_u,{className:r,children:(0,rx.jsx)(lH,{store:n,children:(0,rx.jsx)(n9,{atomValues:[[Tp,i]],children:t})})}));return s.move()}catch(l){var c=l,u=!0}finally{K(o,c,u)}}var Aoe=require("obsidian");var cu=Q(!0),Loe=Q(t=>t(cu)?t(dt)!==null:null);function Ioe(t,e){t.defer(fs((r,n)=>{var l=[];try{let i=r(ai);if(!i){n(dt,null);return}if(!r(cu)){n(dt,null);return}let s=G(l,new DisposableStack);let a=(0,Aoe.debounce)(async()=>{let f=await S7e(i,e);r(dt)!==f&&(f&&x7e(i,f),n(dt,f??null))},200,!0);a();$n(s,e.app.workspace.on("active-leaf-change",a));$n(s,e.app.workspace.on("layout-change",a));let o=s.move();return()=>{o.dispose()}}catch(c){var u=c,d=!0}finally{K(l,u,d)}},e.store))}function x7e(t,e){let r=Rs(t);e.textTracks.getById(r)?.setMode("showing")}async function S7e(t,e){let r=await e.workspaceFind.findLinkedMediaLeaf(t);return r?.view?r.view.service.player:null}var Roe=z(Be(),1),aA=class{service;constructor(e){this.service=e.service}addActions(e){e.addAction("square-play","Open linked media",()=>{this.service.openLinkedMedia()})}render(e,{isEmbed:r}={}){let n=this.service.store;return Dm({ctx:{store:n,isEmbed:r},target:e,shadowRootClassName:"shadow-root",children:(0,Roe.jsx)(nne,{})})}#e(e){if(!e)return"Transcript";if(e.type==="url"){let r=co(e.src,{urlEncoded:!0});return e.meta.label||r.name||e.meta.kind}if(e.type==="file"||e.type==="internal.resolved")return e.meta.label||e.src.name||e.meta.kind;Te(e)}registerHeaderUpdater(e){return fs(r=>{let n=r(ai);e.leaf.updateHeader(),e.titleEl.setText(this.#e(n))},this.service.store)}getDisplayText(){return this.#e(this.service.store.get(ai))}registerScopes(e){var i=[];try{let r=G(i,new DisposableStack);Uh(r,e,null,"Escape",()=>{this.service.toggleSearch(!1)});Uh(r,e,null,"F3",()=>{this.service.editor?.commands.findNext()});Uh(r,e,["Shift"],"F3",()=>{this.service.editor?.commands.findPrev()});let n=r.move();return()=>n.dispose()}catch(s){var a=s,o=!0}finally{K(i,a,o)}}onPaneMenu(e,r){this.service.playerSyncEnabled?e.addItem(i=>i.setTitle("Stop syncing with player").setSection("view").setIcon("lucide-refresh-cw-off").onClick(()=>{this.service.playerSyncEnabled=!1})):e.addItem(i=>i.setTitle("Sync with active player").setSection("action").setIcon("lucide-refresh-ccw").onClick(()=>{this.service.playerSyncEnabled=!0}));let n=this.service.store.get(ai);n?.type==="file"&&OT(e,n.src.path)}addDisconnectAction(e){let r=e.addAction("lucide-refresh-cw-off","Stop syncing with player",()=>{this.service.store.set(cu,!1)});return r.addClass("mx-connect-action"),fs(n=>{n(cu)?r.dataset.active="":delete r.dataset.active,n(Loe)?r.dataset.connected="":delete r.dataset.connected},this.service.store)}};var Nm=class{workspace;store;trackParser;trackStringifier;app;helper;#e;constructor(e){var s=[];try{let r=e.createScope();r.register({service:Qu(this),helper:Wn(aA).scoped()});let n=r.cradle;this.workspace=n.workspaceOpen;this.trackParser=n.trackInfoParser;this.trackStringifier=n.trackInfoEncoder;this.app=n.app;this.store=n.store;this.store.set(Qt,n);this.helper=n.helper;let i=G(s,new DisposableStack);Ioe(i,n);i.defer(()=>r.dispose());this.#e=i.move()}catch(a){var o=a,l=!0}finally{K(s,o,l)}}[Symbol.dispose](){this.#e.dispose()}async openLinkedMedia(){let e=this.store.get(ai);if(!e){new i9.Notice("No track opened");return}await this.workspace.openLinkedMediaForTrack(e,{newLeaf:"split"})||new i9.Notice("No linked media found")}get editor(){return this.store.get(vT)}toggleSearch(e){e===void 0?this.store.set(K0,r=>!r):this.store.set(K0,e)}loadFile(e){let r=this.trackParser.fileToTrack(e,{kind:"subtitles"});if(!r)throw new Error("File is not a track file");this.store.set(ai,r)}loadUrl(e){this.store.set(ai,r=>{let n=e?this.trackParser.urlToTrack(e,{kind:"subtitles"}):null;return yT(r,n)?r:n})}setUrlState(e){let r=LT(e);this.loadUrl(r?.src)}getUrlState(){let e=this.store.get(ai);if(!e||e.type==="internal.resolved")return{};let r=this.trackStringifier.encodeUrlTrack(e);return qh({src:r})}get playerSyncEnabled(){return this.store.get(cu)}set playerSyncEnabled(e){this.store.set(cu,e)}};var kf=class extends oA.EditableFileView{allowNoFile=!1;scope;service;constructor(e,r){super(e),this.contentEl.addClasses(["mx","custom","mx-track-view"]),this.scope=new oA.Scope(this.app.scope),this.service=new Nm(r),this.register(()=>this.service[Symbol.dispose]()),this.register(this.service.helper.registerScopes(this.scope)),this.service.helper.addActions(this),this.register(this.service.helper.addDisconnectAction(this))}#e=null;#t(){this.#e?.[Symbol.dispose](),this.#e=null}async onOpen(){await super.onOpen(),this.#t(),this.#e=this.service.helper.render(this.contentEl)}async onClose(){this.#t(),await super.onClose()}async onLoadFile(e){this.service.loadFile(e)}onPaneMenu(e,r){super.onPaneMenu(e,r),this.service.helper.onPaneMenu(e,r)}getIcon(){return"notepad-text"}getViewType(){return Ry}canAcceptExtension(e){return TS({extension:e})}};var lA=require("obsidian");var Cf=class extends lA.ItemView{scope;navigation=!0;service;constructor(e,r){super(e),this.contentEl.addClasses(["mx","custom","mx-track-view"]),this.scope=new lA.Scope(this.app.scope),this.service=new Nm(r),this.register(()=>this.service[Symbol.dispose]()),this.register(this.service.helper.registerScopes(this.scope)),this.service.helper.addActions(this),this.register(this.service.helper.addDisconnectAction(this)),this.register(this.service.helper.registerHeaderUpdater(this))}#e=null;#t(){this.#e?.[Symbol.dispose](),this.#e=null}async onOpen(){await super.onOpen(),this.#t(),this.#e=this.service.helper.render(this.contentEl)}async onClose(){this.#t(),await super.onClose()}async setState(e,r){await super.setState(e,r),this.service.setUrlState(e)}getState(){return{...super.getState(),...this.service.getUrlState()}}onPaneMenu(e,r){super.onPaneMenu(e,r),this.service.helper.onPaneMenu(e,r)}getViewType(){return Ep}getIcon(){return"notepad-text"}getDisplayText(){return this.service.helper.getDisplayText()}};function Moe(t){let e=t.commands.commands["editor:open-search"];if(!e||!e.checkCallback)throw new Error("editor:open-search command not found");return ir(e,{checkCallback:r=>function(n){let i=t.workspace.getActiveViewOfType(kf)||t.workspace.getActiveViewOfType(Cf);if(!i)return r(n);if(n)return!0;i.service.toggleSearch()}})}var nx=require("obsidian"),k7e=[{id:"flip-video-none",name:"Reset video flip",icon:"rotate-ccw-square",checkCallback(t,{mediaView:e}){if(!e?.player||Ss(e.player.provider))return!1;if(t)return!0;e.flip="none",new nx.Notice("Video flip reset to default")}},{id:"flip-video-horizontal",name:"Flip video horizontally (mirror)",icon:"flip-horizontal",checkCallback(t,{mediaView:e}){if(!e?.player||Ss(e.player.provider))return!1;if(t)return!0;e.flip="horizontal",new nx.Notice("Video flipped to horizontal (mirror)")}},{id:"flip-video-vertical",name:"Flip video vertically (upside down)",icon:"flip-vertical",checkCallback(t,{mediaView:e}){if(!e?.player||Ss(e.player.provider))return!1;if(t)return!0;e.flip="vertical",new nx.Notice("Video flipped to vertical (Upside down)")}},{id:"flip-video-both",name:"Flip video both ways (upside down and mirror)",icon:"rotate-cw-square",checkCallback(t,{mediaView:e}){if(!e?.player||Ss(e.player.provider))return!1;if(t)return!0;e.flip="both",new nx.Notice("Video flipped to both ways (upside down and mirror)")}}],Poe=k7e;var C7e="__MX_ONLINE__";function Qi(){return localStorage.getItem(C7e)==="true"}var E7e=[{id:"take-timestamp",name:"Take timestamp",icon:"star",checkCallback(t,{mediaView:e,insertTarget:r}){if(!e?.player||!r)return!1;if(t)return!0;e.timestampAction.insertTimestamp({note:r})}},...[{clip:!0,idSuffix:"-clip"},{clip:!1,idSuffix:""}].flatMap(({clip:t,idSuffix:e})=>[{id:`take-screenshot${e}`,name:t?"Insert clipped screenshot to note":"Insert screenshot to note",icon:"camera",checkCallback(r,{mediaView:n,insertTarget:i}){if(!n?.supportsScreenshot||!i)return!1;if(r)return!0;n.screenshotAction.insertScreenshotEmbed({note:i,clip:t})}},{id:`copy-screenshot${e}`,name:t?"Copy clipped screenshot":"Copy screenshot",icon:"copy",checkCallback(r,{mediaView:n}){if(!n?.supportsScreenshot)return!1;if(r)return!0;n.screenshotAction.copyScreenshot({clip:t})}},{id:`save-screenshot${e}`,name:t?"Save clipped screenshot":"Save screenshot",icon:"camera",checkCallback(r,{mediaView:n}){if(!n?.supportsScreenshot)return!1;if(r)return!0;n.screenshotAction.saveScreenshot({clip:t})}},{id:`set-cover${e}`,name:t?"Set clipped screenshot as media cover":"Set current screenshot as media cover",icon:"image",checkCallback(r,{mediaView:n}){if(!n?.supportsScreenshot)return!1;if(r)return!0;n.screenshotAction.setAsCover({clip:t})}}]),{id:"reset-clip",name:"Reset media clip",icon:"square-scissors",checkCallback(t,{mediaView:e}){if(!e?.canResetTimestamp)return!1;if(t)return!0;e.resetTimestamp()}}];function s9(){let t=[...E7e];return Qi()&&t.push({id:"extract-text",name:"Extract text from screenshot",icon:"text",checkCallback(e,{mediaView:r}){if(!r?.supportsScreenshot)return!1;if(e)return!0;r.screenshotAction.extractTextToClipboard()}}),t}var T7e=[{id:"toggle-play",name:"Play/pause",icon:"play",callback(t){t.remoter.togglePaused()}},{id:"play",name:"Play",icon:"play",callback(t){t.remoter.play()}},{id:"pause",name:"Pause",icon:"pause",callback(t){t.remoter.pause()}},...[.5,1,2,5,10,30,60].flatMap(t=>[{id:`forward-${t}s`,name:`Forward ${t}s`,icon:"forward",repeatable:!0,callback(e){e.remoter.seekForward(t)}},{id:`rewind-${t}s`,name:`Rewind ${t}s`,icon:"rewind",repeatable:!0,callback(e){e.remoter.seekBackward(t)}},{id:"toggle-mute",name:"Mute/unmute",icon:"volume-x",callback(e){e.remoter.toggleMuted()}},{id:"toggle-fullscreen",name:"Enter/exit fullscreen",icon:"expand",checkCallback(e,r){if(e)return!!r.player?.state.canFullscreen;r.remoter.toggleFullscreen()}}])];function a9(){return T7e.map(t=>({id:t.id,name:t.name,icon:t.icon,repeatable:t.repeatable,checkCallback:(e,{mediaView:r})=>{if(!r)return!1;if(t.checkCallback)return t.checkCallback(e,r);if(t.callback){if(e)return!0;t.callback(r)}}}))}var La=require("obsidian");var A7e=new Set(["https://www.youtube-nocookie.com","https://www.youtube.com"]);function Ooe(t,e){return(t.source===null||!e||t.source===e.contentWindow)&&A7e.has(t.origin)}var L7e=Ye(qe(),Ly(),ki({event:Xt(["initialDelivery"]),info:ki({availablePlaybackRates:td(Si()),videoData:ki({title:qe(),author:qe(),video_id:Ye(qe(),ea())})})})),Fm=Ci(Q(),(t,e)=>{let r=t(Vt),n=t(dt);if(!na(r)){e(Fm,null);return}let i=s=>{if(!(fc(n?.provider)&&Ooe(s)))return;let a=Wa(L7e,s.data);if(!a.success)return;let{videoData:{title:o,author:l,video_id:c},availablePlaybackRates:u}=a.output.info;e(Fm,{title:o,author:l,video_id:c,availablePlaybackRates:u})};return window.addEventListener("message",i),()=>{window.removeEventListener("message",i)}});var br=Ci(Q(null),(t,e)=>{var l=[];try{let r=t(Vt);let{mediaLib:n,app:{vault:i}}=t(Qt);if(!r)return;let s=f=>{e(br,f??null)};s(n.getMediaMeta(r)?.meta);let a=G(l,new DisposableStack);a.defer(n.on("media-meta-changed",f=>{ps(f.src,r)&&s(n.getMediaMeta(r)?.meta)}));a.defer(n.on("media-meta-removed",f=>{ps(f.src,r)&&s(null)}));r.type==="file"&&$n(a,i.on("rename",f=>{f===r.file&&s(n.getMediaMeta(r)?.meta)}));let o=a.move();return()=>o.dispose()}catch(c){var u=c,d=!0}finally{K(l,u,d)}});var cA=[.25,.5,.75,1,1.25,1.5,1.75,2,3,5],_oe=Q(t=>{let e=t(Vt);return na(e)?t(Fm)?.availablePlaybackRates??[.25,.5,.75,1,1.25,1.5,1.75,2]:cA}),Doe=Q(t=>{let e=t(Jt)?.playbackRate,r=t(br)?.playbackRate;return e??r??1});var Foe=require("obsidian");function o9(t){return new Promise(e=>setTimeout(e,t))}var Noe=Symbol("loading"),l9=class{#e=null;setMessage(e){this.#e?this.#e.setMessage(e):this.#e=new Foe.Notice(e,0)}[Symbol.dispose](){this.#e?.hide()}};async function I7e(t,e){var l=[];try{let{loading:r,loadingDelay:n=200,successDuration:i=2e3,errorDuration:s=4e3,throwAborted:a=!1}=e;let o=G(l,new l9);if(r)try{let f=n>0?o9(n):Promise.resolve();await Promise.race([t,f.then(()=>Noe)])===Noe&&o.setMessage(r)}catch{}try{let f=await t,p=typeof e.success=="function"?e.success(f):e.success;if(!p)return;o.setMessage(p),await o9(i)}catch(f){if(!a&&At.test(f)||e.error===void 0)return;let p=typeof e.error=="function"?e.error(f instanceof Error?f.message:typeof f=="string"?f:"Unknown error",f):e.error;if(console.error(p instanceof DocumentFragment?p.textContent:p,f),!p)return;o.setMessage(p),await o9(s)}}catch(c){var u=c,d=!0}finally{K(l,u,d)}}async function Je(t,{swallowError:e=!0,...r}){try{I7e(t,r).catch(()=>{});let n=await t;if(!e)return n}catch(n){if(e)return;throw n}}var c9=require("obsidian");var $oe=require("obsidian"),joe=z(sA(),1);var Voe=z(Be(),1),Pl=class extends $oe.Modal{#e;constructor(e){super(e),this.modalEl.addClass("mx","mx-dialog"),this.#e=Promise.withResolvers(),this.#e.promise.catch(()=>{}).finally(()=>{this.close()})}resolveWith(e){this.#e.resolve(e)}rejectWith(e){this.#e.reject(e)}onClose(){this.#e.reject(new At),super.onClose()}async requestInput(){return this.open(),await this.#e.promise}},Bs=class extends Pl{#e=null;onOpen(){var i=[];try{super.onOpen();let e=G(i,new DisposableStack);let r=joe.default.createRoot(this.contentEl);e.defer(()=>{r.unmount()});let n=this.getShadowRootClassName?.();r.render((0,Voe.jsx)(_u,{className:n,children:this.renderContent()}));this.#e=e.move()}catch(s){var a=s,o=!0}finally{K(i,a,o)}}onClose(){this.#e?.[Symbol.dispose](),super.onClose()}};var $m=class extends Pl{#e;constructor(e,r){super(e),this.#e=r,this.containerEl.addClass("mx-playback-prompt"),this.titleEl.setText("Playback Speed")}onOpen(){let{contentEl:e}=this,r=e.createEl("form",{},n=>{n.createEl("input",{type:"number",placeholder:"Enter a number between 0 and 10",attr:{min:.1,max:10,step:.1,width:100,required:!0,name:"playback-speed"}}),n.createEl("button",{attr:{type:"submit"},text:"Submit"})});r.oninvalid=n=>{n.preventDefault(),new c9.Notice("Invalid playback rate")},r.onsubmit=n=>{n.preventDefault();let i=new FormData(r),s=Number(i.get("playback-speed").toString());if(!this.#e(s)){new c9.Notice("Invalid playback rate");return}this.resolveWith(s)}}};var u9=class{#e=null;notify(e,{autoHide:r=!0}={}){!this.#e||this.#e.messageEl.isConnected===!1?this.#e=new La.Notice(e,0):this.#e.setMessage(e),r&&this.autoHide()}autoHide=(0,La.debounce)(()=>this.#e?.hide(),2e3,!0);dismiss(){this.#e?.hide()}};function d9(){let t=new u9,e=cA.map(n=>({id:`set-speed-${n}x`,name:n===1?"Reset playback speed":`Set playback speed to ${n}x`,icon:"gauge",checkCallback:(i,s)=>{if(!s.mediaView?.isValidSpeed(n))return!1;if(i)return!0;s.mediaView.remoter.setPlaybackRate(n),t.notify(`Speed set to ${n}x`)}}));return[...cA.filter(n=>n>1).map(r),...e,{id:"increase-speed",name:"Increase playback speed",icon:"arrow-up",checkCallback:(n,{mediaView:i})=>{if(!i?.player?.state)return!1;if(n)return!0;let s=i.player.state.playbackRate;if(!i.isValidSpeed(s)){new La.Notice("Cannot increase speed further");return}let a=i.speedOptions.find(o=>o>s);i.remoter.setPlaybackRate(a),t.notify(`Speed increased to ${a}x`)}},{id:"decrease-speed",name:"Decrease playback speed",icon:"arrow-down",checkCallback:(n,{mediaView:i})=>{if(!i?.player?.state)return!1;if(n)return!0;let s=i.player.state.playbackRate;if(!i.isValidSpeed(s)){new La.Notice("Cannot decrease speed further");return}let a=i.speedOptions.toReversed().find(o=>o<s);i.remoter.setPlaybackRate(a),t.notify(`Speed decreased to ${a}x`)}},{id:"set-speed",name:"Set playback speed to custom value",icon:"gauge",checkCallback:(n,{mediaView:i})=>{if(!i)return!1;if(n)return!0;let s=i.remoter;Je(new $m(i.app,a=>i.isValidSpeed(a)).requestInput().then(a=>(s.setPlaybackRate(a),a)),{success:a=>`Speed set to ${a}x`,error:a=>`Cannot set speed: ${a}`})}},{id:"increase-speed-granular",name:"Fine-tune increase playback speed",icon:"arrow-up",checkCallback:(n,{mediaView:i})=>{if(!i?.player?.state)return!1;if(n)return!0;let s=i.player.state.playbackRate;if(!i.isValidSpeed(s)){new La.Notice("Cannot increase speed further");return}i.settings.loaded.then(a=>{let o=a["playback.speed-step"],l=Math.round((s+o)*100)/100;if(!i.isValidSpeed(l)){new La.Notice("Cannot increase speed further");return}i.remoter.setPlaybackRate(l),t.notify(`Speed increased to ${l}x`)})}},{id:"decrease-speed-granular",name:"Fine-tune decrease playback speed",icon:"arrow-down",checkCallback:(n,{mediaView:i})=>{if(!i?.player?.state)return!1;if(n)return!0;let s=i.player.state.playbackRate;if(!i.isValidSpeed(s)){new La.Notice("Cannot decrease speed further");return}i.settings.loaded.then(a=>{let o=a["playback.speed-step"],l=Math.round((s-o)*100)/100;if(!i.isValidSpeed(l)){new La.Notice("Cannot decrease speed further");return}i.remoter.setPlaybackRate(l),t.notify(`Speed decreased to ${l}x`)})}}];function r(n){let i=!1,s=o=>{i&&(o.remoter.setPlaybackRate(1),t.dismiss(),i=!1)},a=(0,La.debounce)(s,1e3,!0);return{id:`fast-forward-${n}x`,name:`Fast forward at ${n}x by holding hotkey`,icon:"forward",repeatCallbacks:{check:o=>!!o.mediaView?.isValidSpeed(n),onKeyDown:(o,{mediaView:l})=>{o.repeat&&(i||(i=!0,l.remoter.setPlaybackRate(n),t.notify(`Fast forwarding at ${n}x`,{autoHide:!1})),a(l))},onKeyUp:(o,{mediaView:l})=>{s(l)}}}}}var qoe=require("obsidian");function Boe({onKeyDown:t,onTrigger:e,onKeyUp:r}){var o=[];try{let n=G(o,new DisposableStack);let i=null;let s=new Set;n.defer(()=>{for(let d of s)window.removeEventListener("keyup",d,{capture:!0})});RT(n,window,"keydown",d=>{if(!i)return;let f=d.target;if(f.instanceOf(HTMLElement)&&f.matches("input.prompt-input"))return;let p=d;if(t(d,...i),r){let h=i,g=v=>{let y=R7e(p);(v.code===p.code&&y.every(b=>qoe.Keymap.isModifier(v,b))||y.some(b=>v.key===b))&&(r(v,...h),window.removeEventListener("keyup",g,{capture:!0}),s.delete(g))};s.add(g),window.addEventListener("keyup",g,{passive:!0,capture:!0})}i=null},!0);let a=n.move();return{callback:(...d)=>{i=d,setTimeout(()=>{i===null||(e?.(...d),i=null)},0)},[Symbol.dispose]:()=>a.dispose()}}catch(l){var c=l,u=!0}finally{K(o,c,u)}}function R7e(t){let e=[];return t.ctrlKey&&e.push("Ctrl"),t.altKey&&e.push("Alt"),t.shiftKey&&e.push("Shift"),t.metaKey&&e.push("Meta"),e}var uA=class{plugin;app;mediaLib;templateInsertion;metadataUpdater;workspaceFind;constructor(e){this.plugin=e.plugin,this.app=e.app,this.mediaLib=e.mediaLib,this.templateInsertion=e.templateInsertion,this.metadataUpdater=e.metadataUpdater,this.workspaceFind=e.workspaceFind,this.addMediaCommands(a9()),this.addMediaCommands(d9()),this.addMediaCommands(Poe),this.addMediaCommands(s9()),this.addMediaCommand({id:"update-metadata",name:"Update media metadata",icon:"tag",checkCallback:(r,{media:n})=>{if(!this.metadataUpdater.supportUpdate(n))return!1;if(r)return!0;this.metadataUpdater.updateMetadata(n)}}),this.plugin.register(Moe(this.app)),this.addGlobalCommand({id:"mx:migrate-media-uid",name:"Migrate media notes from old format",callback:async()=>{await e.mediaUidMigrator.migrate()}}),this.addGlobalCommand({id:"mx:show-password-manager",name:"Show password manager",checkCallback:r=>{if(!dA.Platform.isDesktopApp)return!1;if(r)return!0;e.passwordManagerModal.open()}})}addGlobalCommand(e){this.plugin.addCommand(e)}addMediaCommands(e){for(let r of e)this.addMediaCommand(r)}addMediaCommand(e){let r=this.#e(e);r&&(this.plugin.register(()=>r[Symbol.dispose]()),this.plugin.addCommand({...Cy(e,["id","name","hotkeys","icon","mobileOnly"]),repeatable:!!e.repeatCallbacks||e.repeatable,checkCallback:r.checkCallback}))}#e({repeatCallbacks:e,checkCallback:r,callback:n}){if(e){let{onKeyDown:i,onKeyUp:s,onTrigger:a,check:o}=e,l=Boe({onKeyDown:i,onKeyUp:s,onTrigger:a});return{checkCallback:c=>{let u=this.#r();if(!u)return!1;if(c)return o?.(u)??!0;l.callback(u)},[Symbol.dispose]:()=>l[Symbol.dispose]()}}return r?{checkCallback:i=>{let s=this.#r();return s?r(i,s):!1},[Symbol.dispose]:()=>{}}:n?{checkCallback:i=>{let s=this.#r();if(!s)return!1;if(i)return!0;n(s)},[Symbol.dispose]:()=>{}}:null}#t(){let e=this.workspaceFind.getMostRecentEditorLeaf()?.view;return e?{file:e.file,editor:e.editor}:null}#r(){let e=this.app.workspace,r=this.workspaceFind.getActiveMediaView(),n=this.#t();if(r?.service.media)return{media:r.service.media,mediaView:r.service,note:null,insertTarget:n};let i=e.getActiveViewOfType(dA.MarkdownView);if(i?.file){let u=this.mediaLib.findMediaByNote(i.file);if(u){let d=this.workspaceFind.findMediaLeavesWithSameMedia(u.src).filter(Ey).sort(Po(Ha)).at(0);return d?.view?{media:u.src,mediaView:d.view.service,note:i.file,insertTarget:{file:i.file,editor:i.editor}}:null}}let s=this.workspaceFind.getAllMediaLeaves(),a=s.filter(u=>u.pinned).filter(Ey).sort(Po(Ha)).at(0);if(a?.view.service.media){let u=a.view.service.media;return{media:u,mediaView:a.view.service,note:this.mediaLib.findNoteByMedia(u),insertTarget:n}}let{activeTabGroup:o}=e,l=o?s.filter(u=>!o.children.includes(u.leaf)):s;l.sort(Po(Ty,Ha));let c=l.at(0)?.view?.service;return c?.media?{media:c.media,mediaView:c,note:this.mediaLib.findNoteByMedia(c.media),insertTarget:n}:null}};function st(t,{lifetime:e=an.SINGLETON,...r}={}){return Wn(t,{...r,lifetime:e}).disposer(M7e)}function M7e(t){typeof t!="object"||t===null||(Symbol.dispose in t&&typeof t[Symbol.dispose]=="function"?t[Symbol.dispose]():Symbol.asyncDispose in t&&typeof t[Symbol.asyncDispose]=="function"&&t[Symbol.asyncDispose]())}var Bm=require("obsidian");var ix={main:/^(?<start>[\w:.]*)(?:,(?<end>[\w:.]+))?$/,npt_sec:/^\d+(?:\.\d+)?$/,npt_mmss:/^(?<mm>[0-5]\d):(?<ss>[0-5]\d(?:\.\d+)?)$/,npt_hhmmss:/^(?<hh>\d+):(?<mm>[0-5]\d):(?<ss>[0-5]\d(?:\.\d+)?)$/,npt_time:/^(?:npt:)?([\d.:]+)$/};function Ia(t){return!!t&&t.start>=0&&t.end<0}function sx(t){return!!t&&!Ia(t)&&(t.start>=0||t.end>=0)}function Uoe(t){let e=t.match(ix.main);if(!e)return null;let{start:r,end:n}=e.groups;return P7e(r,n)}var P7e=(t,e)=>{let r=t||null,n=e??null,i,s;if(r&&n)i=fA(r),s=n==="e"?Number.POSITIVE_INFINITY:fA(n);else if(r)i=fA(r),s=-1;else if(n)i=-1,s=fA(n);else throw console.error("Missing startTime and endTime",t,e),new Error("Missing startTime and endTime");return i===null||s===null||i>=0&&s>=0&&i>=s?null:{start:i,end:s}};function fA(t){let e=t.match(ix.npt_time);if(!e)return null;let r=e[1],n=r.match(ix.npt_sec);if(n)return Number(n[0]);let i=r.match(ix.npt_mmss);if(i){let{mm:a,ss:o}=i.groups;return Number(a)*60+Number(o)}let s=r.match(ix.npt_hhmmss);if(s){let{hh:a,mm:o,ss:l}=s.groups;return Number(a)*60*60+Number(o)*60+Number(l)}return null}function f9(t){if(t===0)return"00:00";let e=IE({start:0,end:t*1e3}),r=e.hours??0,n=e.minutes??0,i=e.seconds??0,s=[n.toString().padStart(2,"0"),i.toString().padStart(2,"0")].join(":");return r>0?`${r}:${s}`:s}function Hoe(t){if(t===0)return"DT0S";let e=IE({start:0,end:t*1e3}),{years:r,months:n,days:i,hours:s,minutes:a,seconds:o}=e,l="P";if(r&&(l+=`${r}Y`),n&&(l+=`${n}M`),i&&(l+=`${i}D`),s||a||o){l+="T",s&&(l+=`${s}H`),a&&(l+=`${a}M`);let u=Goe(t,{seconds:o});u!=="0"&&(l+=`${u}S`)}return l}function fi(t){let{start:e,end:r}=t,n={get start(){return zoe(e)},get end(){return zoe(r)}};return Ia(t)?e<=0?null:`t=${n.start}`:e<0&&r>0?Number.isFinite(r)?`t=,${n.end}`:null:e>0&&r>0?`t=${n.start},${n.end}`:null}function zoe(t){if(Number.isNaN(t)||t<0)throw new Error("durationInSecond must be positive");if(t===Number.POSITIVE_INFINITY)return"e";let e=IE({start:0,end:t*1e3}),r=e.hours??0,n=e.minutes??0,i=e.seconds??0,s=[n.toString().padStart(2,"0"),Goe(t,{seconds:i},{padStart:2})].join(":");return r>0?`${r}:${s}`:s}function Goe(t,e,r={}){let{padStart:n}=r,i=t-Math.floor(t),a=(e.seconds??0).toString();if(n&&(a=a.padStart(n,"0")),i<=0)return a;let o=i.toFixed(2).replace(/^0+\./,"");return`${a}.${o}`}var Woe={host:"baidu-pan",variant:"video",chromeTabQuery:["*://pan.baidu.com/pfile/video?*"],pattern:{hostname:"pan.baidu.com",pathname:"/pfile/video",searchParams:{path:!0}},parse(t){let e=t.searchParams.get("path");return e?{host:this.host,type:"video",path:e}:null}};var Koe=[Woe];function Yoe(t,e){let r=new URLSearchParams({path:t.path}),n=new URL(`https://pan.baidu.com/pfile/video?${r.toString()}`);return e&&(n.hash=fi(e)??""),n}function Ef(t,e=0){if(!t)return null;let r=Number.parseInt(t.slice(e),10);return Number.isNaN(r)?null:r}function pA(t){if(!t)return null;let e=Number.parseFloat(t);return Number.isNaN(e)?null:e}function hA(t){let e=t.get("t");return{t:pA(e)}}var Xoe={pattern:{hostname:"{*.}?bilibili.com",pathname:"/bangumi/play/:id{/}?"},host:"bilibili",variant:"bangumi",chromeTabQuery:["*://www.bilibili.com/bangumi/play/*"],parse(t,e){let r=e("pathname","id"),n=hA(t.searchParams);return r.startsWith("ss")?{host:this.host,type:"ssid",ssid:r,...n}:r.startsWith("ep")?{host:this.host,type:"epid",epid:r,...n}:null}};var Qoe={pattern:{hostname:"b23.tv",pathname:"/:uid{/}?"},host:"bilibili",variant:"short-uri",chromeTabQuery:["*://b23.tv/*"],parse(t,e){return{host:this.host,type:"short-uri",uid:e("pathname","uid")}}};var Joe={host:"bilibili",variant:"vid",pattern:{hostname:"{*.}?bilibili.com",pathname:"/video/:id{/}?"},chromeTabQuery:["*://www.bilibili.com/video/*"],parse(t,e){let r=e("pathname","id"),n=Ef(t.searchParams.get("p")),i=hA(t.searchParams);if(r.startsWith("BV"))return{host:this.host,type:"bvid",bvid:r,page:n??1,...i};if(r.startsWith("av")){let s=Ef(r,2);return s===null?null:{host:this.host,type:"aid",aid:s,page:n??1,...i}}return null}};var Zoe=[Joe,Xoe,Qoe];function ele(t,e){let r;return t.type==="aid"?r=new URL(`https://www.bilibili.com/video/av${t.aid}`):t.type==="bvid"?r=new URL(`https://www.bilibili.com/video/${t.bvid}`):t.type==="epid"?r=new URL(`https://www.bilibili.com/bangumi/play/${t.epid}`):t.type==="ssid"?r=new URL(`https://www.bilibili.com/bangumi/play/${t.ssid}`):Te(t),e&&(Ia(e)&&r.searchParams.set("t",String(e.start)),r.hash=fi(e)??""),r}var tle=[{hostname:"www.coursera.org",pathname:"/learn/:course_id/lecture/:lecture_id/"},{hostname:"www.coursera.org",pathname:"/learn/:course_id/lecture/:lecture_id/:lecture_label?"}].map(t=>({host:"coursera",variant:"lecture",pattern:t,chromeTabQuery:["*://www.coursera.org/learn/*/lecture/*"],parse(e,r){return{host:this.host,type:"lecture",courseId:r("pathname","course_id"),lectureId:r("pathname","lecture_id"),lectureLabel:r("pathname","lecture_label")}}}));var rle=[...tle];function nle(t,e){let r=new URL(`https://www.coursera.org/learn/${t.courseId}/lecture/${t.lectureId}`);return e&&(r.hash=fi(e)??""),r}function Vn(t){if(!t)return null;if(t instanceof URL)return t;try{return new URL(t)}catch{return null}}var mA=class{#e;#t;constructor(e){this.#e=new Map,this.#t=new Map;for(let r of e){let{searchParams:n,...i}=r.pattern,s=new URLPattern(i);if(this.#e.set(s,r),i.hostname){let a=new URLPattern({hostname:i.hostname});this.#t.set(a,r)}}}matchHost(e){let r=Vn(e);if(!r)return!1;for(let[n]of this.#t)if(n.test(r))return!0;return!1}parse(e){let r=Vn(e);if(!r)return null;for(let[n,i]of this.#e){if(!n.test(r)||i.pattern.searchParams&&Object.entries(i.pattern.searchParams).some(([o,l])=>typeof l=="boolean"?r.searchParams.has(o)!==l:r.searchParams.get(o)!==l))continue;let s=n.exec(r),a=i.parse(r,(o,l)=>s[o].groups[l]);if(a)return{host:i.host,variant:i.variant,vid:a}}return null}};function jm(t){if(!t)return null;let e=pA(t);if(e===null)return e;let r=/^(?:(?<h>\d+)h)?(?:(?<m>\d+)m)?(?:(?<s>\d+)s)?$/,n=t.match(r);if(!n)return null;let{h:i,m:s,s:a}=n.groups,o=Ef(i)??0,l=Ef(s)??0,c=Ef(a)??0;return o*3600+l*60+c}function gA(t){let r=new URLSearchParams(t.hash.replace(/^#/,"")).get("t");return{t:jm(r)}}var ile={host:"vimeo",variant:"embed",pattern:{hostname:"player.vimeo.com",pathname:"/video/:id{/}?"},chromeTabQuery:["*://player.vimeo.com/video/*"],parse(t,e){let r=e("pathname","id");return r?{host:this.host,type:"video",vid:r,...gA(t)}:null}};var sle={host:"vimeo",variant:"video",pattern:{hostname:"{*.}?vimeo.com",pathname:"/:id{/}?"},chromeTabQuery:["*://vimeo.com/*"],parse(t,e){let r=e("pathname","id");return!r||t.pathname.startsWith("/channels/")||r==="video"?null:{host:this.host,type:"video",vid:r,...gA(t)}}};var ale=[sle,ile];function ole(t,e){let r=new URL(`https://vimeo.com/${t.vid}`);return e&&(r.hash=fi(e)??""),r}function Vm(t){let e=t.get("t"),r=t.get("start"),n=t.get("end");return{t:jm(e),start:jm(r),end:jm(n)}}function yA(t){return t.toFixed(0)}var lle={pattern:{hostname:"{*.}?youtube.com",pathname:"/(embed|shorts|v)/:id{/}?"},host:"youtube",chromeTabQuery:["*://youtube.com/embed/*","*://youtube.com/shorts/*","*://www.youtube.com/embed/*","*://www.youtube.com/shorts/*"],variant:"pathname",parse(t,e){return{host:this.host,vid:e("pathname","id"),...Vm(t.searchParams)}}};var cle={pattern:{hostname:"youtu.be",pathname:"/:id{/}?"},chromeTabQuery:["*://youtu.be/*"],host:"youtube",variant:"short-uri",parse(t,e){return{host:this.host,vid:e("pathname","id"),...Vm(t.searchParams)}}};var ule={host:"youtube",variant:"watch",pattern:{hostname:"{*.}?youtube.com",pathname:"/watch",searchParams:{v:!0}},chromeTabQuery:["*://www.youtube.com/watch?*","*://youtube.com/watch?*"],parse(t){return t.searchParams.has("v")?{host:this.host,vid:t.searchParams.get("v"),...Vm(t.searchParams)}:null}};var dle=[ule,lle,cle];function fle(t,e){let r=new URL(`https://www.youtube.com/watch?v=${t.vid}`);return e?(r.hash=fi(e)??"",Ia(e)||e.start>0&&e.start===e.end?(r.searchParams.set("t",yA(e.start)),r):(e.start>0&&r.searchParams.set("start",yA(e.start)),e.end>0&&r.searchParams.set("end",yA(e.end)),r)):r}function ple(t){if(!kt(t))return t;let e=t.pathname.match(/^\/(?<drive>[A-Z]+):(?<path>.+)/i);if(!e)return t;let{drive:r,path:n}=e.groups;if(!n.includes("%5C"))return t;let s=decodeURIComponent(n).replace(/\\+/g,"/");return new URL(`file:///${r}:${s}`)}var hle=new mA([...dle,...ale,...Koe,...Zoe,...rle]);function ax(t,e){let r=new URL(t);return kt(r)&&(r=ple(r)),r.searchParams.sort(),r.hash="",e&&(r.hash=fi(e)??""),r}function kt(t){return t.protocol==="file:"}function uu(t,e){if(t.host==="youtube")return fle(t,e);if(t.host==="bilibili")return ele(t,e);if(t.host==="coursera")return nle(t,e);if(t.host==="baidu-pan")return Yoe(t,e);if(t.host==="vimeo")return ole(t,e);Te(t)}var mle=require("obsidian");function gle(t,e,r){if(!e)return du(t)??!1;let n=du(t);return r.click===null?n??!1:n===void 0||n===!1?r.click:r.alt!==null&&n===r.click?r.alt:n}function fu(t){let e=mle.Keymap.isModEvent(t);return du(e)}function du(t){return t===!0?"tab":t}var vA=require("obsidian");function bA(t){if(vA.Platform.isDesktopApp&&!(0,vA.requireApiVersion)("1.9.0")){require("electron").shell.openExternal(t);return}window.open(t,"external")}var O7e=Q(1),yle=ds(t=>{let e=t(O7e);t(X0)?.changeAudioGain(e,new Event("audio-gain-change"))}),vle=ds(t=>{let e=t(X0);if(!e)return;let r=t(Jt),n=r?.audioGain,i=t.peek(br),s=i?.audioGain;e.changeAudioGain(n??s??1,new RS({hash:r,noteMeta:i}))}),ble=[{value:1,label:"Normal"},{value:1.1,label:"+10%"},{value:1.25,label:"+25%"},{value:1.5,label:"+50%"},{value:1.75,label:"+75%"},{value:2,label:"+100%"},{value:2.5,label:"+150%"},{value:3,label:"+200%"}];var wA=Ye(qe(),ea(),AM(({dataset:t,addIssue:e,NEVER:r})=>{let[n,i]=t.value.split("/").map(l=>l.trim());if(!n||!i)return e({message:"Aspect ratio must be in the format of <width>/<height>"}),r;let s=Number.parseFloat(n),a=Number.parseFloat(i);if(Number.isNaN(s)||Number.isNaN(a))return e({message:"Aspect ratio x or y must be a number"}),r;let o=xA(s,a);return o||(e({message:"Aspect ratio cannot be reduced to lowest terms"}),r)}));function xA(t,e){if(t<=0||e<=0)return null;let r=_7e(t,e),n=t/r,i=e/r;return{width:n,height:i,syntax:`${t} / ${e}`}}function _7e(t,e){let r=t,n=e;for(;n!==0;){let i=n;n=r%n,r=i}return r}var D7e=Ye(Sp([Ye(qe(),ea()),rd(!0)]),Ga(t=>t==="use-credentials"?"use-credentials":"anonymous")),SA=Sp([D7e,rd(!1)]);var kA=Xt(["horizontal","vertical","both","none"]);var Tf=Ye(Si(),Ay(0),Xl(4),Zu("audioGain"));var qm=Ye(Si(),Ay(0),Zu("playbackRate"));var p9=RM(Ye(qe(),ea(),Ga(t=>Uoe(t)))),wle=Ye(p9,bp(t=>!Ia(t)));var Af=Ye(Si(),TM(),xp(0),Xl(100),Zu("volume"));var Ji=t=>Lt(_r(t),void 0);function h9(t){let e=Ye(ki({title:Ji(Ye(qe(),ed(),ea())),loop:Ji(Kn()),muted:Ji(Kn()),auto_play:Ji(Kn()),autoplay:Ji(Kn()),volume:Ji(Af),aspect_ratio:Ji(wA),cross_origin:Ji(SA),flip:Ji(kA),audio_gain:Ji(Tf),playback_rate:Ji(qm),speed:Ji(qm),time_range:Ji(wle)}),Ga(n=>({title:n.title,loop:n.loop,muted:n.muted,autoPlay:n.auto_play??n.autoplay,volume:n.volume,aspectRatio:n.aspect_ratio,crossOrigin:n.cross_origin,flip:n.flip,audioGain:n.audio_gain,playbackRate:n.playback_rate??n.speed,tempFragment:n.time_range}))),r=Wa(e,t);return r.success?r.output:{}}var xle=Xt(["video","audio"]);var Ol=Ye(_r(qe()),Ga(t=>t==="true"||t==="1"||t===""?!0:void 0)),m9=t=>Ye(qe(),Ga(e=>Number.parseFloat(e)),t);function CA(t,e){return e?!1:t?!0:void 0}function g9(t){let e=t.replace(/^#+/,""),r=new URLSearchParams(e),n=(a,o)=>{let l=Wa(o,r.get(a)??void 0);return l.success?{[a]:l.output}:{}},i={...n("as",_r(xle)),...n("title",_r(qe())),...n("vol",_r(m9(Af))),...n("ratio",_r(wA)),...n("crossorigin",_r(SA)),...n("flip",_r(kA)),...n("gain",_r(m9(Tf))),...n("speed",_r(m9(qm))),...n("t",_r(p9)),...n("loop",Ol),...n("no_loop",Ol),...n("mute",Ol),...n("no_mute",Ol),...n("autoplay",Ol),...n("no_autoplay",Ol),...n("controls",Ol),...n("no_controls",Ol),...n("noctrl",Ol)};return{props:{type:i.as,title:i.title,volume:i.vol,aspectRatio:i.ratio,crossOrigin:i.crossorigin,flip:i.flip,audioGain:i.gain,playbackRate:i.speed,tempFragment:i.t,loop:CA(i.loop,i.no_loop),muted:CA(i.mute,i.no_mute),autoPlay:CA(i.autoplay,i.no_autoplay),showControls:CA(i.controls,i.no_controls??i.noctrl)},input:e}}var y9=require("obsidian");var EA=class extends Pl{constructor(e){super(e),this.containerEl.addClass("mx-gain-prompt"),this.titleEl.setText("Audio Gain")}onOpen(){let{contentEl:e}=this,r=e.createEl("div",{cls:"mx-gain-description"});r.createEl("p",{text:"Adjust the audio gain (volume amplification) for this media. The gain value is a multiplier applied to the audio output."});let n=r.createEl("div",{cls:"mx-gain-examples"});n.createEl("p",{text:"Examples:",cls:"mx-gain-examples-title"});let i=n.createEl("ul");i.createEl("li",{text:"1.0 = Normal volume (100%)"}),i.createEl("li",{text:"1.5 = 50% louder (+50%)"}),i.createEl("li",{text:"2.0 = Double volume (+100%)"}),i.createEl("li",{text:"0.5 = Half volume (50%)"}),r.createEl("p",{text:"Note: Values above 1.0 may cause audio distortion at high levels.",cls:"mx-gain-note"});let s=e.createEl("form",{},a=>{a.createEl("label",{text:"Audio Gain Value:",attr:{for:"audio-gain"}}),a.createEl("input",{type:"number",placeholder:"e.g., 1.5 for +50% volume",attr:{min:.1,max:10,step:.1,width:100,required:!0,name:"audio-gain",id:"audio-gain"}}),a.createEl("button",{attr:{type:"submit"},text:"Apply Audio Gain"})});s.oninvalid=a=>{a.preventDefault(),new y9.Notice("Invalid audio gain value. Please enter a number between 0.1 and 10.")},s.onsubmit=a=>{a.preventDefault();let o=new FormData(s),l=Wa(Tf,Number(o.get("audio-gain").toString()));if(!l.success){new y9.Notice("Invalid audio gain value. Please enter a number between 0.1 and 10.");return}this.resolveWith(l.output)}}};function Sle(t,e){let r=e.player?.state,n=e.remoter;t.addItem(i=>{let s=i.setSection("action").setIcon("volume-2").setTitle(r?.audioGain?`Audio ${r.audioGain}x`:"Audio Gain").setDisabled(!r?.canSetAudioGain).setSubmenu();for(let{label:a,value:o}of ble)s.addItem(l=>{l.setTitle(a).setChecked((r?.audioGain??1)===o).setDisabled(!r).onClick(c=>{n.setAudioGain(o,c)})});s.addItem(a=>{a.setTitle("Custom").setIcon("settings").onClick(()=>{Je(new EA(e.app).requestInput().then(o=>(n.setAudioGain(o),o)),{success:o=>`Audio gain set to ${o}`,error:o=>`Cannot set audio gain: ${o}`})})})})}function kle(t,e){!e.player||Ss(e.player.provider)||t.addItem(r=>r.setTitle("Flip video").setSection("action").setIcon("flip-horizontal-2").setSubmenu().addItem(n=>n.setTitle("Disable").setIcon("rotate-ccw-square").setChecked(e.flip==="none").onClick(()=>{e.flip="none"})).addItem(n=>n.setTitle("Horizontal (Mirror)").setIcon("flip-horizontal").setChecked(e.flip==="horizontal"||e.flip==="both").onClick(()=>{e.flip==="horizontal"?e.flip="none":e.flip==="vertical"?e.flip="both":e.flip==="both"?e.flip="vertical":e.flip="horizontal"})).addItem(n=>n.setTitle("Vertical (Upside down)").setIcon("flip-vertical").setChecked(e.flip==="vertical"||e.flip==="both").onClick(()=>{e.flip==="vertical"?e.flip="none":e.flip==="horizontal"?e.flip="both":e.flip==="both"?e.flip="horizontal":e.flip="vertical"})))}function Cle(t,e){if(!(!e.supportsScreenshot||!Qi())){t.addItem(r=>{r.setTitle("Extract text from screenshot").setSection("info").setIcon("scan-text").onClick(()=>{e.screenshotAction.extractTextToClipboard()})});for(let{clip:r}of[{clip:!0},{clip:!1}])t.addItem(n=>{n.setTitle(r?"Copy clipped screenshot":"Copy screenshot").setSection("info").setIcon("copy").onClick(()=>{e.screenshotAction.copyScreenshot({clip:r})})}).addItem(n=>{n.setTitle(r?"Save clipped screenshot":"Save screenshot").setSection("action").setIcon("image").onClick(()=>{e.screenshotAction.saveScreenshot({clip:r})})}).addItem(n=>{n.setTitle(r?"Set clipped screenshot as media cover":"Set current screenshot as media cover").setSection("action").setIcon("image").onClick(()=>{e.screenshotAction.setAsCover({clip:r})})})}}function Ele(t,e){let r=e.player?.state,n=e.remoter,i=e.player;t.addItem(s=>{let a=s.setSection("action").setIcon("gauge").setTitle(r?`Speed ${r.playbackRate}x`:"Speed").setDisabled(!r).setSubmenu();i&&N7e(a,i)&&a.addSeparator();for(let o of e.speedOptions)a.addItem(l=>{l.setTitle(`${o}x`).setChecked(r?.playbackRate===o).setDisabled(!r).onClick(c=>{n.setPlaybackRate(o,c)})});a.addItem(o=>{o.setTitle("Custom").setIcon("settings").onClick(()=>{Je(new $m(e.app,l=>e.isValidSpeed(l)).requestInput().then(l=>(n.setPlaybackRate(l),l)),{success:l=>`Speed set to ${l}x`,error:l=>`Cannot set speed: ${l}`})})})})}function N7e(t,e){if(!("preservesPitch"in HTMLMediaElement.prototype&&(ks(e.provider)||Ss(e.provider))))return!1;let r=e.provider.media;return t.addItem(n=>n.setTitle("Preserve pitch").setChecked(r.preservesPitch).onClick(()=>{r.preservesPitch=!r.preservesPitch})),!0}var Tle=require("obsidian");var TA=class extends Pl{#e;#t;#r;#n;constructor(e,r){super(r.app),this.#e=e,this.#t=r.actionIcon??"check",this.#r=r.actionTooltip??"Select transcript",this.#n=r.actionText,this.modalEl.addClass("mx-transcript-select"),this.titleEl.setText("Select Transcript")}onOpen(){let e=this.contentEl;e.empty();let r=this.#i(this.#e);r.vault.length>0&&this.#s(e,"In Vault",r.vault),r.local.length>0&&this.#s(e,"Local Files",r.local),r.remote.length>0&&this.#s(e,"Remote",r.remote)}#i(e){let r={vault:[],local:[],remote:[]};for(let n of e)switch(n.type){case"internal.resolved":r.vault.push(n);break;case"file":r.local.push(n);break;case"url":r.remote.push(n);break}return r}#s(e,r,n){let i=e.createDiv("mx-transcript-group");i.createEl("h3",{text:r,cls:"mx-transcript-group-title"});let s=i.createDiv("mx-transcript-list");for(let a of n)this.#a(s,a)}#a(e,r){let n=e.createDiv("mx-transcript-item"),i=n.createDiv("mx-transcript-info");i.createEl("div",{text:this.#o(r),cls:"mx-transcript-title"});let s=i.createDiv("mx-transcript-meta");r.meta.language&&s.createSpan({text:r.meta.language,cls:"mx-transcript-language"}),s.createSpan({text:r.meta.kind,cls:"mx-transcript-kind"}),r.meta.format&&s.createSpan({text:r.meta.format.toUpperCase(),cls:"mx-transcript-format"}),r.meta.isDefault&&s.createSpan({text:"Default",cls:"mx-transcript-default"}),r.meta.label&&r.meta.label!==this.#o(r)&&s.createSpan({text:r.meta.label,cls:"mx-transcript-label"}),i.createDiv("mx-transcript-path").setText(this.#l(r));let o=new Tle.ButtonComponent(n);this.#n?o.setButtonText(this.#n):o.setIcon(this.#t),o.setTooltip(this.#r).setClass("mx-transcript-select-btn").onClick(()=>{this.resolveWith(r)})}#o(e){if(e.meta.label)return e.meta.label;switch(e.type){case"internal.resolved":return e.src.basename;case"file":return e.src.basename||e.src.path.split("/").pop()||"Local File";case"url":return e.src.hostname||"Remote"}}#l(e){switch(e.type){case"internal.resolved":return e.src.path;case"file":return e.src.path;case"url":return e.src.toString()}}};function Ale(t,e){let r=e.player;t.addItem(n=>{if(n.setIcon("captions").setTitle("Subtitles").setSection("view"),!r?.textTracks||r.textTracks.length===0){n.setDisabled(!0);return}let i=n.setSubmenu();r.textTracks.selectedIndex!==-1&&i.addItem(a=>a.setTitle("Disable").setIcon("captions-off").onClick(()=>{r.textTracks.selected?.setMode("disabled")})).addSeparator();for(let a of r.textTracks.toArray())i.addItem(o=>{o.setTitle(a.label).setChecked(a.mode==="showing").onClick(()=>{a.setMode("showing")})})})}function Lle(t,e,r){t.addItem(n=>{n.setSection("view").setTitle("Open transcript").setIcon("book-text").onClick(async()=>{let i=await Je(r.transcriptLoader.getTracks(e),{swallowError:!1,loading:"Loading track list..."});await Je(new TA(i,{app:r.app,actionIcon:"square-arrow-out-up-right",actionTooltip:"Open transcript"}).requestInput().then(s=>r.workspaceOpen.openTranscript(s,{newLeaf:"split"})),{error:"Failed to open transcript, see console for details"})})})}var AA=class{plugin;app;fileService;mediaLib;mediaNote;workspaceOpen;metadataUpdate;transcriptLoader;mediaParser;constructor(e){this.plugin=e.plugin,this.app=e.app,this.fileService=e.fileService,this.mediaLib=e.mediaLib,this.mediaNote=e.mediaNote,this.workspaceOpen=e.workspaceOpen,this.metadataUpdate=e.metadataUpdater,this.transcriptLoader=e.transcriptLoader,this.mediaParser=e.mediaParser,this.plugin.registerEvent(this.app.workspace.on("file-menu",this.#r,this)),this.plugin.registerEvent(this.app.workspace.on("url-menu",this.#t,this)),this.plugin.registerEvent(this.app.workspace.on("mx:media-menu",this.#e,this))}#e(e,r,n){this.mediaViewActions(e,r,n),sd(r.media)&&n!=="player-menu-embed"&&n!=="player-menu-view"&&(F7e(e,r.media),this.mediaUrlActions(e,r.media,n))}#t(e,r){let n=this.mediaParser.parseUrl(r);if(n){if(kt(n.info.url)){let i=this.fileService.getMediaFullPath(n.info);i&&OT(e,i),this.mediaFileActions(e,n.info,"link-context-menu")}else this.mediaUrlActions(e,n.info,"link-context-menu");this.openInMediaExtended(e,n.info)}}#r(e,r,n){if(!(r instanceof Bm.TFile))return;let i=this.mediaParser.parseFile(r),s=this.mediaLib.findMediaByNote(r);i?this.mediaFileActions(e,i,n):s&&this.mediaNoteActions(e,{file:r,media:s.src},n)}mediaUrlActions(e,r,n){this.mediaLibActions(e,r),this.openTranscriptMenu(e,r),n!=="link-context-menu"&&this.updateMetadataActions(e,r)}mediaFileActions(e,r,n){this.mediaLibActions(e,r),this.openTranscriptMenu(e,r),n!=="link-context-menu"&&this.updateMetadataActions(e,r)}mediaNoteActions(e,r,n){e.addItem(i=>{i.setTitle("Open related media").setIcon("square-play").setSection("view").onClick(s=>{this.workspaceOpen.openMedia({info:r.media},{fromUser:!0,newLeaf:fu(s)})})}),this.openTranscriptMenu(e,r.media),n==="more-options"&&this.updateMetadataActions(e,r.media)}mediaViewActions(e,r,n){sd(r.media)&&n!=="player-menu-embed"&&n!=="player-menu-view"&&e.addItem(i=>i.setTitle("Copy URL with timestamp").setIcon("copy-check").setSection("info").onClick(()=>{r.timestampAction.copyTimestampedUrl()})),n==="player-menu-embed"&&this.mediaEmbedActions(e,r),(n==="player-menu-view"||n==="player-menu-embed")&&(Ele(e,r),Sle(e,r),kle(e,r),Ale(e,r)),n==="tab-header"&&e.addItem(i=>{let s=r.player?.state,a=r.remoter;i.setTitle("Mute").setSection("action").setIcon("volume-high").setDisabled(!s).setChecked(!!s?.muted).onClick(o=>{a.toggleMuted(o)})}),(n==="player-menu-embed"||n==="more-options")&&Cle(e,r)}updateMetadataActions(e,r){e.addItem(n=>{n.setTitle("Update metadata").setIcon("refresh-cw").setDisabled(!this.metadataUpdate.supportUpdate(r)).onClick(()=>{this.metadataUpdate.updateMetadata(r)})})}mediaEmbedActions(e,r){for(let{newLeaf:n,icon:i,title:s}of[{newLeaf:"split",icon:"separator-vertical",title:"Open to the right"},{newLeaf:"tab",icon:"file-plus",title:"Open in new tab"},{newLeaf:"window",icon:"maximize",title:"Open in new window"}])e.addItem(a=>a.setTitle(s).setIcon(i).setSection("open").setDisabled(!r.media).onClick(()=>{r.media&&this.workspaceOpen.openMedia({info:r.media},{newLeaf:n})}))}mediaLibActions(e,r){let n=this.mediaLib.findNoteByMedia(r);n?(e.addItem(i=>i.setTitle("Open media properties").setIcon("table-properties").setSection("view").onClick(()=>{this.app.workspace.openLinkText(n.path,"","tab")})),e.addItem(i=>{i.setTitle("Remove from media library").setIcon("trash").setSection("danger").onClick(async()=>{await this.app.vault.delete(n),new Bm.Notice(`Removed from media library: ${n.path}`)})})):e.addItem(i=>{i.setTitle("Add to media library").setIcon("badge-plus").setSection("action").onClick(async()=>{let s=await this.mediaNote.ensureMediaNote(r);new Bm.Notice(`Added to media library: ${s.note.path}`)})})}openInMediaExtended(e,r){e.addItem(n=>{n.setTitle("Open in Media Extended").setIcon("square-play").setSection("open").onClick(i=>{this.workspaceOpen.openMedia({info:r},{fromUser:!0,newLeaf:fu(i)})})})}openTranscriptMenu(e,r){Lle(e,r,{transcriptLoader:this.transcriptLoader,app:this.app,workspaceOpen:this.workspaceOpen})}};function F7e(t,e){t.addItem(r=>r.setTitle("Open in default browser").setIcon("globe").setSection("open").onClick(()=>{bA(e.url.toString())})).addItem(r=>r.setTitle("Copy URL").setIcon("link").setSection("info").onClick(async()=>{await navigator.clipboard.writeText(e.url.toString()),new Bm.Notice("URL copied to clipboard")}))}var qn=class t extends Error{#e;constructor(e,r){super(e,{cause:r?.cause}),this.name="BaseApiError",this.#e=r?.status??500}get status(){return this.#e}static fromResponse(e,r){let n=e.status,i=r??e.statusText;switch(n){case 400:case 422:throw new Lf(`Validation failed: ${i}`,{status:n});case 401:case 403:throw new Um(`Authentication failed: ${i}`,{status:n});case 404:throw new v9(`Resource not found: ${i}`,{status:n});case 429:throw new b9("Rate limit exceeded",{status:n});case 500:case 502:case 503:case 504:throw new w9(`Server error: ${i}`,{status:n});default:throw new t(`API error: ${i}`,{status:n})}}},Um=class extends qn{constructor(e,r){super(e,{...r,status:r?.status??401}),this.name="AuthError"}},Us=class extends Um{constructor(e,r){super(e,{...r,status:r?.status??401}),this.name="UnauthorizedError"}},ox=class extends qn{constructor(e,r){super(e,{...r,status:r?.status??202}),this.name="ProcessingError"}},v9=class extends qn{constructor(e,r){super(e,{...r,status:r?.status??404}),this.name="NotFoundError"}},b9=class extends qn{constructor(e="Rate limit exceeded. Please try again later.",r){super(e,{...r,status:r?.status??429}),this.name="RateLimitError"}},w9=class extends qn{constructor(e,r){super(e,{...r,status:r?.status??500}),this.name="ServerError"}},Lf=class extends qn{constructor(e,r){super(e,{...r,status:r?.status??400}),this.name="ValidationError"}},zm=class extends Error{constructor(e="No text found in the provided image"){super(e),this.name="NoTextFoundError"}};function $7e(t){let e=t.trim().toLowerCase();return e=e.replace(/\s+/g,"-").replace(/[^a-z0-9_-]/g,"").replace(/-+/g,"-").replace(/^-+|-+$/g,""),/^[a-z_]/.test(e)||(e=`_${e}`),e.length===0||e.length>50?null:e}function j7e(t){return kS(t.map($7e).filter(e=>e!==null),e=>e.toLocaleLowerCase()).slice(0,15)}function V7e(t,e=500){let r=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`).replace(/\n{3,}/g,`

`).trim();if(r.length<=e)return r;let n=r.substring(0,e),i=n.lastIndexOf(" ");return i>e*.8?`${n.substring(0,i)}...`:`${n}...`}function q7e(t){if(!t||typeof t!="object")return null;let e=["maxres","high","standard","medium","default"];for(let r of e){let n=t[r];if(n?.url)return n.url}return null}function lx(t){return{title:t.title||t.id,description:V7e(t.description),duration:t.duration,published_at:t.published_at,uploader:t.uploader_name,view_count:t.view_count,like_count:t.like_count,aspect_ratio:t.aspect_ratio,cover:q7e(t.thumbnails),language:t.language,tags:j7e(t.tags)}}var B7e=(t,e,r={})=>{let n=`${t}=${e}`;if(t.startsWith("__Secure-")&&!r.secure)throw new Error("__Secure- Cookie must have Secure attributes");if(t.startsWith("__Host-")){if(!r.secure)throw new Error("__Host- Cookie must have Secure attributes");if(r.path!=="/")throw new Error('__Host- Cookie must have Path attributes with "/"');if(r.domain)throw new Error("__Host- Cookie must not have Domain attributes")}if(r&&typeof r.maxAge=="number"&&r.maxAge>=0){if(r.maxAge>3456e4)throw new Error("Cookies Max-Age SHOULD NOT be greater than 400 days (34560000 seconds) in duration.");n+=`; Max-Age=${r.maxAge|0}`}if(r.domain&&r.prefix!=="host"&&(n+=`; Domain=${r.domain}`),r.path&&(n+=`; Path=${r.path}`),r.expires){if(r.expires.getTime()-Date.now()>3456e7)throw new Error("Cookies Expires SHOULD NOT be greater than 400 days (34560000 seconds) in the future.");n+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(n+="; HttpOnly"),r.secure&&(n+="; Secure"),r.sameSite&&(n+=`; SameSite=${r.sameSite.charAt(0).toUpperCase()+r.sameSite.slice(1)}`),r.priority&&(n+=`; Priority=${r.priority}`),r.partitioned){if(!r.secure)throw new Error("Partitioned Cookie must have Secure attributes");n+="; Partitioned"}return n},Ile=(t,e,r)=>(e=encodeURIComponent(e),B7e(t,e,r));var Rle=(t,e)=>(t=t.replace(/\/+$/,""),t=t+"/",e=e.replace(/^\/+/,""),t+e),IA=(t,e)=>{for(let[r,n]of Object.entries(e)){let i=new RegExp("/:"+r+"(?:{[^/]+})?\\??");t=t.replace(i,n?`/${n}`:"")}return t},x9=t=>{let e=new URLSearchParams;for(let[r,n]of Object.entries(t))if(n!==void 0)if(Array.isArray(n))for(let i of n)e.append(r,i);else e.set(r,n);return e},Mle=(t,e)=>{switch(e){case"ws":return t.replace(/^http/,"ws");case"http":return t.replace(/^ws/,"http")}},Ple=t=>/^https?:\/\/[^\/]+?\/index$/.test(t)?t.replace(/\/index$/,"/"):t.replace(/\/index$/,"");function LA(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function S9(t,e){if(!LA(t)&&!LA(e))return e;let r={...t};for(let n in e){let i=e[n];LA(r[n])&&LA(i)?r[n]=S9(r[n],i):r[n]=i}return r}var Ole=(t,e)=>new Proxy(()=>{},{get(n,i){if(!(typeof i!="string"||i==="then"))return Ole(t,[...e,i])},apply(n,i,s){return t({path:e,args:s})}}),U7e=class{url;method;queryParams=void 0;pathParams={};rBody;cType=void 0;constructor(t,e){this.url=t,this.method=e}fetch=async(t,e)=>{if(t){if(t.query&&(this.queryParams=x9(t.query)),t.form){let o=new FormData;for(let[l,c]of Object.entries(t.form))if(Array.isArray(c))for(let u of c)o.append(l,u);else o.append(l,c);this.rBody=o}t.json&&(this.rBody=JSON.stringify(t.json),this.cType="application/json"),t.param&&(this.pathParams=t.param)}let r=this.method.toUpperCase(),n={...t?.header,...typeof e?.headers=="function"?await e.headers():e?.headers};if(t?.cookie){let o=[];for(let[l,c]of Object.entries(t.cookie))o.push(Ile(l,c,{path:"/"}));n.Cookie=o.join(",")}this.cType&&(n["Content-Type"]=this.cType);let i=new Headers(n??void 0),s=this.url;s=Ple(s),s=IA(s,this.pathParams),this.queryParams&&(s=s+"?"+this.queryParams.toString()),r=this.method.toUpperCase();let a=!(r==="GET"||r==="HEAD");return(e?.fetch||fetch)(s,{body:a?this.rBody:void 0,method:r,headers:i,...e?.init})}},k9=(t,e)=>Ole(function r(n){let i=[...n.path],s=i.slice(-3).reverse();if(s[0]==="toString")return s[1]==="name"?s[2]||"":r.toString();if(s[0]==="valueOf")return s[1]==="name"?s[2]||"":r;let a="";if(/^\$/.test(s[0])){let u=i.pop();u&&(a=u.replace(/^\$/,""))}let o=i.join("/"),l=Rle(t,o);if(a==="url"){let u=l;return n.args[0]&&(n.args[0].param&&(u=IA(l,n.args[0].param)),n.args[0].query&&(u=u+"?"+x9(n.args[0].query).toString())),new URL(u)}if(a==="ws"){let u=Mle(n.args[0]&&n.args[0].param?IA(l,n.args[0].param):l,"ws"),d=new URL(u),f=n.args[0]?.query;return f&&Object.entries(f).forEach(([h,g])=>{Array.isArray(g)?g.forEach(v=>d.searchParams.append(h,v)):d.searchParams.set(h,g)}),((...h)=>e?.webSocket!==void 0&&typeof e.webSocket=="function"?e.webSocket(...h):new WebSocket(...h))(d.toString())}let c=new U7e(l,a);if(a){e??={};let u=S9(e,{...n.args[1]});return c.fetch(n.args[0],u)}return c},[]);var _le=(...t)=>k9(...t);function C9(t,e,r,n,i){let s=Math.min(t,e*n**r);return(1-i*Math.random())*s}var RA=class extends Error{constructor(e,r){super(`Retrying exceeded the maxAttempts (${r}).`),this.name="RetryError",this.cause=e}};async function Dle(t,e){let{multiplier:r=2,maxTimeout:n=6e4,maxAttempts:i=5,minTimeout:s=1e3,jitter:a=1,isRetriable:o=()=>!0}=e??{};if(n<=0)throw new TypeError(`Cannot retry as 'maxTimeout' must be positive: current value is ${n}`);if(s>n)throw new TypeError(`Cannot retry as 'minTimeout' must be <= 'maxTimeout': current values 'minTimeout=${s}', 'maxTimeout=${n}'`);if(a>1)throw new TypeError(`Cannot retry as 'jitter' must be <= 1: current value is ${a}`);let l=0;for(;;){try{return await t()}catch(c){if(!o(c))throw c;if(l+1>=i)throw new RA(c,i);let u=C9(n,s,l,r,a);await new Promise(d=>setTimeout(d,u))}l++}}async function z7e(t,{retry:e,...r}){return await Dle(async()=>{let i=await fetch(t,r);if(i.status===202)throw new ox("Request is still being processed");return i},e)}async function Nle(t,e){return await z7e(t,{retry:{maxAttempts:5,minTimeout:5e3,maxTimeout:3e4,multiplier:2,jitter:.1,isRetriable:i=>i instanceof ox},...e})}async function Fle(){let{data:t,error:e}=await Pr.auth.getSession();if(e)throw new Um("Failed to get access token",{cause:e,status:e.status});let r=t.session?.access_token;if(!r)throw new Us("No access token available. Please log in.");return r}var Hm=_le("https://api-production.aiden-lx.workers.dev",{headers:async()=>({Authorization:`Bearer ${await Fle()}`}),fetch:Nle});var E9=4*1024*1024,$le=Xt(["image/png","image/jpeg","image/webp","image/heic","image/heif"]);var H7e=Hm["text-extract"].$post,cx=class{#e(e){if(!xi($le,e.type))throw new Lf(`Unsupported image type: ${e.type}`);if(e.size>E9)throw new Lf(`Image file size exceeds the limit of ${E9} bytes`);if(e.size===0)throw new Lf("Image file is empty")}async extractText(e){this.#e(e);let r=await H7e({form:{image:e}});if(r.status===500)throw qn.fromResponse(r,(await r.json()).message);if(!r.ok)throw qn.fromResponse(r);let n=await r.json();if(n.status==="no_text_found")throw new zm;return n.content}};var G7e=Hm.youtube.video[":video_id"].metadata.$get,W7e=Hm.youtube.video[":video_id"].subtitles.$get,K7e=Hm.youtube.video[":video_id"].subtitles[":subtitle_id"].$get,ux=class{async getVideoMetadata(e){let r=await G7e({param:{video_id:e}});if(!r.ok)throw qn.fromResponse(r,await r.text());return await r.json()}async getSubtitlesList(e){let r=await W7e({param:{video_id:e}});if(!r.ok)throw qn.fromResponse(r,await r.text());return await r.json()}async getSubtitleContent(e,r){let n=await K7e({param:{video_id:e,subtitle_id:r}});if(!n.ok)throw qn.fromResponse(n,await n.text());return await n.text()}};var L9=require("obsidian");var T9=require("obsidian");async function A9(t,e){let r=t.getAbstractFileByPath(e);if(r){if(r instanceof T9.TFolder)return r;throw new Error(`Path ${e} occupied by file`)}let n=e.split("/").filter(Boolean);if(n.length===0)return t.getRoot();let i=n[0],s=t.getAbstractFileByPath(i),a;if(!s)a=await t.createFolder(i);else if(s instanceof T9.TFolder)a=s;else throw new Error(`Path ${i} exists but is not a folder`);let o=n.slice(1).join("/");return o?A9(t,`${i}/${o}`):a}var MA=class{app;constructor(e){this.app=e.app}async getAttachmentFolder(e){let{vault:r}=this.app;if(!e.folderPath){let s=await this.#e(e.sourcePath),a=r.getFolderByPath(s);if(!a)throw new Error(`Attachment folder not found: ${s}`);return a}let n=(0,L9.normalizePath)(e.folderPath);return await A9(this.app.vault,n)}async#e(e){let r=Math.random().toString(36).substring(2),i=(await this.app.fileManager.getAvailablePathForAttachment(r,e)).replace(r,"");return(0,L9.normalizePath)(i)||"/"}};function zr(t,e){return t instanceof Promise?Y7e(t,e):X7e(t,e)}function Y7e(t,e){let{promise:r,reject:n}=Promise.withResolvers(),i=()=>n(e.reason);return e.aborted&&i(),e.addEventListener("abort",i,{once:!0}),Promise.race([r,t]).finally(()=>{e.removeEventListener("abort",i)})}async function*X7e(t,e){e.throwIfAborted();let{promise:r,reject:n}=Promise.withResolvers(),i=()=>n(e.reason);e.addEventListener("abort",i,{once:!0});let s=t[Symbol.asyncIterator]();try{for(;;){let a=Promise.race([r,s.next()]);a.catch(()=>{e.removeEventListener("abort",i)});let{done:o,value:l}=await a;if(o)return e.removeEventListener("abort",i),(await s.return?.(l))?.value;yield l}}catch(a){throw await s.return?.(),a}}var Vle;Vle=Symbol.asyncIterator;var jle=class{#e=0;#t=[];#r=[];#n=Promise.withResolvers();add(e){++this.#e,this.#i(e[Symbol.asyncIterator]())}async#i(e){try{let{value:r,done:n}=await e.next();n?--this.#e:this.#t.push({iterator:e,value:r})}catch(r){this.#r.push(r)}this.#n.resolve()}async*iterate(){for(;this.#e>0;){await this.#n.promise;for(let{iterator:e,value:r}of this.#t)yield r,this.#i(e);if(this.#r.length)for(let e of this.#r)throw e;this.#t.length=0,this.#n=Promise.withResolvers()}}[Vle](){return this.iterate()}};var xo=require("obsidian");function PA(t,e){let r=e.getCursor("to");console.debug("insert to cursor [to]",r.ch,r.line),e.replaceRange(t,r,r),e.setCursor(e.offsetToPos(e.posToOffset(r)+t.length))}function OA(t,e){let r=e.getCursor("from");console.debug("insert before cursor [from]",r.ch,r.line),e.replaceRange(t,r,r)}var qle=require("obsidian");function Ble(t,{onOpenFile:e}){var n=[];try{let r=G(n,new DisposableStack);r.defer(ir(qle.WorkspaceLeaf.prototype,{openFile:o=>async function(l,c,...u){let d=()=>o.call(this,l,c,...u),f=this;if(f[I9]===!0)return delete f[I9],d();try{await e.call(t,l,c,d)}catch(p){console.error("onOpenFile error in openFile, fallback to default",p),d()}}}));return r.move()}catch(i){var s=i,a=!0}finally{K(n,s,a)}}var I9=Symbol("MX_INTERNAL_OPENFILE");async function _A(t,e){return this[I9]=!0,await this.openFile(t,e)}var DA=class{plugin;app;settings;template;mediaParser;#e=null;#t;#r=new DisposableStack;constructor(e){var n=[];try{this.plugin=e.plugin;this.settings=e.settings;this.app=e.app;this.template=e.template;this.mediaParser=e.mediaParser;let r=G(n,new DisposableStack);r.defer(this.patchRecordPlugin());this.#t=new Map;r.defer(()=>this.#t.clear());this.addCommand();this.#r=r.move()}catch(i){var s=i,a=!0}finally{K(n,s,a)}}[Symbol.dispose](){this.#r.dispose()}async onRecordingSaved(e){if(!this.#e)return;let{start:r}=this.#e;this.#e=null;let n=await this.settings.loaded,i=this.mediaParser.parseFile(e);if(!i){new xo.Notice(`Failed to get media info from the saved file: ${e.path}`);return}for(let s of this.#t){let a=s[0],o=()=>{},l=s[1];if(!a.containerEl.isConnected){if(!l){new xo.Notice("One of the note with timestamp is closed, the timestamp will not be updated");continue}if(a=Z7e(l,this.app),!a){let c=this.app.workspace.getLeaf("tab");if(await _A.call(c,l,{state:{mode:"source"}}),!(c.view instanceof xo.MarkdownView)){new xo.Notice(`Failed to open note for timestamp update: ${l.path}`);continue}a=c.view.editor,o=()=>c.detach()}}try{let c=a.getValue().replaceAll(Q7e(r),(u,d)=>{let f=Number.parseInt(d,10);return this.template.renderTimestampInsertion({currentTime:f/1e3,src:i},{sourcePath:l?.path??"",settings:n})});a.setValue(c)}catch(c){console.error("failed to insert timestamp",c)}finally{o()}}this.#t.clear()}patchRecordPlugin(){let e=this.app.internalPlugins.plugins["audio-recorder"];if(!e)return console.info("recorder not found, skip patching for recorder note"),()=>{};let r=e.instance,n=this,{vault:i,workspace:s}=this.app;return ir(r,{saveRecording(a){return function(...o){s.getLeaf("split").setViewState({type:"empty",active:!0});let l=a.apply(this,o);return(async()=>{var f=[];try{let c=G(f,new DisposableStack);let u=new Promise(v=>{$n(c,i.on("create",y=>{y instanceof xo.TFile?v(y):console.error("unexpected folder")}))});let d=await zr(u,AbortSignal.timeout(3e5));await n.onRecordingSaved(d)}catch(p){var h=p,g=!0}finally{K(f,h,g)}})(),l}},startRecording(a){return function(...o){let l=a.apply(this,o),c=this.recorder;if(n.#e={start:Date.now()},console.debug("recording start called",n.#e.start),c&&c instanceof MediaRecorder){c.addEventListener("start",()=>{n.#e={start:Date.now()},console.debug("recording started in MediaRecorder",n.#e.start)},{once:!0});let u=()=>{n.#e&&(n.#e.end=Date.now(),console.debug("recording stopped in MediaRecorder",n.#e.end)),c.removeEventListener("stop",u),c.removeEventListener("error",u)};c.addEventListener("stop",u,{once:!0}),c.addEventListener("error",u,{once:!0})}return l}}})}addCommand(){this.plugin.addCommand({id:"take-rec-timestamp",name:"Take timestamp on current recording",editorCheckCallback:(e,r,n)=>{if(!this.#e)return!1;if(e)return!0;let{start:i,notified:s}=this.#e;!s&&!n.file&&(new xo.Notice("You've taken a timestamp for the recording, probably in canvas node, keep editor in foreground and in live preview mode. Otherwise, the dummy timestamp cannot be updated when recording is saved."),this.#e.notified=!0);let a=Date.now()-i,o=J7e(i,a);this.settings.loaded.then(l=>{l["note.template.insert-at"]==="before-cursor"?OA(o,r):PA(o,r)}),this.#t.set(r,n.file)}})}};function Q7e(t){return new RegExp(`%%REC_${t}_(?<offset>\\d+)%%`,"g")}function J7e(t,e){return`%%REC_${t}_${e}%%`}function Z7e(t,e){let r=null;return e.workspace.iterateAllLeaves(n=>{n.view instanceof xo.MarkdownView&&t.path===n.view.file?.path&&n.view.getMode()==="source"&&(r=n.view)}),r?.editor}var NA=require("obsidian");var _l=require("obsidian");var pu=class t extends _l.Modal{constructor(e,r){super(e),this.onClose=r.bind(this)}static async open(e){var n=[];try{let r=G(n,new DisposableStack);try{let o=await new Promise((c,u)=>{let d=new t(e.app,()=>c(null));d.open(),r.defer(()=>{d.close()}),r.defer(e.on("oauth-login:success",f=>c(f))),r.defer(e.on("oauth-login:error",f=>u(f)))});if(!o)return;let l=o.user_metadata?.full_name||o.email?.split("@")[0];new _l.Notice(l?`Welcome ${l}!`:"Welcome to Media Extended!")}catch(o){new _l.Notice("Error logging in, see console for details")}}catch(i){var s=i,a=!0}finally{K(n,s,a)}}onOpen(){this.#e()}onClose(){this.contentEl.empty()}#e(){let{contentEl:e}=this;e.empty(),e.addClass("login-modal-content");let r=e.createDiv("login-header");r.createEl("h3",{text:"Connect to Media Extended"}),r.createEl("p",{text:"Sign in or create an account to access online features",cls:"login-subtitle"});let n=e.createDiv("login-options"),i=n.createDiv("login-button-container"),s=new _l.ButtonComponent(i).setButtonText("Continue with Google").setIcon("google").setDisabled(!0).onClick(()=>{this.#t()});s.buttonEl.appendText("Continue with Google"),s.buttonEl.addClass("login-button","google-login");let a=n.createDiv("login-button-container"),o=new _l.ButtonComponent(a).setIcon("github").onClick(()=>{this.#r()});o.buttonEl.appendText("Continue with GitHub"),o.buttonEl.addClass("login-button","github-login");let c=e.createDiv("login-footer").createEl("p",{cls:"login-terms"});c.appendText("By continuing, you agree to our "),c.createEl("a",{text:"Terms of Service",href:"#",cls:"login-link"}),c.appendText(" and "),c.createEl("a",{text:"Privacy Policy",href:"#",cls:"login-link"})}#t(){console.log("Google login clicked")}async#r(){let{data:e,error:r}=await Pr.auth.signInWithOAuth({provider:"github",options:{skipBrowserRedirect:!0,redirectTo:`obsidian://${R9}`}});r?(console.error("Error signing in with GitHub:",r),new _l.Notice("Error signing in with GitHub")):bA(e.url)}};var R9="mx-auth-callback",FA=class{plugin;app;#e;#t;showPasswordManager(){this.#e.passwordManagerModal.open()}constructor(e){var n=[];try{this.plugin=e.plugin;this.app=e.app;this.#e=e;let r=G(n,new DisposableStack);this.#s(r);this.#n();this.#i();this.#t=r.move()}catch(i){var s=i,a=!0}finally{K(n,s,a)}}[Symbol.dispose](){this.#t.dispose()}#r=rf();on(e,r){return this.#r.on(e,r)}#n(){this.plugin.registerObsidianProtocolHandler(R9,async({code:e})=>{if(!e){console.error("No code provided from PKCE callback");return}console.debug("Auth callback received",e);let{data:r,error:n}=await Pr.auth.exchangeCodeForSession(e);n?(console.error("Error exchanging code for session",n),this.#r.emit("oauth-login:error",n)):(console.info("Media Extended: User logged in via OAuth"),this.#r.emit("oauth-login:success",r.user))})}#i(){this.plugin.addCommand({id:"mx-auth-logout",name:"Logout",callback:async()=>{let{error:e}=await Pr.auth.signOut();e?(console.error("Error signing out",e),new NA.Notice(`Error signing out: ${e.message}`)):new NA.Notice("You have been signed out")}}),this.plugin.addCommand({id:"mx-auth-login",name:"Login",icon:"log-in",callback:async()=>{let e=(await Pr.auth.getSession()).data.session;if(e){new NA.Notice(`You are already logged in as ${e.user.email}`);return}await pu.open(this)}})}#s(e){Pr.auth.startAutoRefresh(),e.defer(()=>Pr.auth.stopAutoRefresh()),RT(e,document,"visibilitychange",()=>{document.visibilityState==="visible"?Pr.auth.startAutoRefresh():Pr.auth.stopAutoRefresh()})}};var Ra=require("obsidian");var $A=class{app;constructor(e){this.app=e.app}getFullPath(e){if(!(Ra.Platform.isDesktopApp&&this.app.vault.adapter instanceof Ra.FileSystemAdapter))return null;try{if(e instanceof Ra.TFile)return this.app.vault.adapter.getFullPath(e.path);if(kt(e)){let{fileURLToPath:r}=cs();return r(e.toString())}return null}catch(r){return console.error("Failed to get media file path",r),null}}getMediaFullPath(e){return e.type==="file"?this.getFullPath(e.file):e.type==="url:direct"?this.getFullPath(e.url):null}resolveFileUri(e){if(!kt(e))throw new hu("not-supported",e);if(!Ra.Platform.isDesktopApp||!(this.app.vault.adapter instanceof Ra.FileSystemAdapter))throw new hu("not-supported",e);let r=this.app.vault.adapter.getFullPath("/"),n=fp(r);if(n&&e$e(e,n))throw new hu("in-vault",e);if(e.hostname)throw new hu("network-path",e);try{return cs().fileURLToPath(e.toString())}catch(i){throw console.warn(`Invalid file URL: ${e.toString()}`,i),new hu("invalid-file-uri",e)}}safeResolveFileUri(e){try{return{success:!0,path:cs().fileURLToPath(e.toString())}}catch(r){return r instanceof hu?{success:!1,code:r.code,message:r.message}:(console.warn(`Invalid file URL: ${e.toString()}`,r),{success:!1,code:"invalid-file-uri",message:r instanceof Error?r.message:"Unknown error"})}}};function e$e(t,e){let r=(0,Ra.normalizePath)(t.pathname),n=(0,Ra.normalizePath)(e.pathname);return r.startsWith(n)}var hu=class extends Error{code;constructor(e,r){if(e==="not-supported")super(`File URI not supported: ${r.toString()}`);else if(e==="in-vault")super(`File URI is in vault: ${r.toString()}`);else if(e==="network-path")super(`File URI is a network path: ${r.toString()}`);else if(e==="invalid-file-uri")super(`File URI is invalid: ${r.toString()}`);else throw Te(e),new Error("Unreachable");this.code=e}};var Ule=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),zle=t=>{throw TypeError(t)},Hle=(t,e,r)=>{if(e!=null){typeof e!="object"&&typeof e!="function"&&zle("Object expected");var n,i;r&&(n=e[Ule("asyncDispose")]),n===void 0&&(n=e[Ule("dispose")],r&&(i=n)),typeof n!="function"&&zle("Object not disposable"),i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.push([r,n,e])}else r&&t.push([r]);return e},Gle=(t,e,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(a,o,l,c){return c=Error(l),c.name="SuppressedError",c.error=a,c.suppressed=o,c},i=a=>e=r?new n(a,e,"An error was suppressed during disposal"):(r=!0,a),s=a=>{for(;a=t.pop();)try{var o=a[1]&&a[1].call(a[2]);if(a[0])return Promise.resolve(o).then(s,l=>(i(l),s()))}catch(l){i(l)}if(r)throw e};return s()},t$e=1e4;function dx(t,{timeout:e=t$e,signal:r}={}){return{createRemoteFn(n){return Object.assign(async(...a)=>{var o=[];try{let u=xr(),d={type:"TASK",taskId:u,fnName:n,args:a},f=AbortSignal.any([AbortSignal.timeout(e),r].filter(v=>v!==void 0)),p=Hle(o,new DisposableStack),h=async()=>{console.log("handleAbort",u),await t.sendMessage({type:"ABORT",taskId:u})};f.addEventListener("abort",h,{once:!0}),p.defer(()=>{f.removeEventListener("abort",h)});let g=await t.invoke(d,{signal:f});if(g.type==="ERROR")throw g.error;return g.value}catch(u){var l=u,c=!0}finally{Gle(o,l,c)}},{with:async(a,o)=>{var l=[];try{let d=xr(),f={type:"TASK",taskId:d,fnName:n,args:a},p=Hle(l,new DisposableStack),h=async()=>{console.log("handleAbort",d),await t.sendMessage({type:"ABORT",taskId:d})},g=AbortSignal.any([AbortSignal.timeout(o.timeout??e),r,o.signal].filter(b=>b!==void 0));g.addEventListener("abort",h,{once:!0}),p.defer(()=>{g.removeEventListener("abort",h)});let v=dH(o,["timeout","signal"]),y=await t.invoke(f,{signal:g,...v});if(y.type==="ERROR")throw y.error;return y.value}catch(d){var c=d,u=!0}finally{Gle(l,c,u)}}})}}}var pi=class t extends Error{static name="CodeError";code;constructor(e,r){super(r),this.name=t.name,this.code=e}};function Wle(t){return t?.type==="TASK"}function Kle(t){return t?.type==="RESULT"}function Yle(t){return t?.type==="ERROR"}function Xle(t){return t?.type==="ABORT"}function M9(t){return t?.type==="EVENT"}function Qle(t){if(typeof t!="object"||t===null)return!1;let e=t;return Kle(e)||Yle(e)||Wle(e)||Xle(e)||M9(e)}function jA(t,e){let r=e;return!r||M9(r)?!1:r.taskId===t.taskId&&(Kle(r)||Yle(r))}var If=require("obsidian");var P9=require("obsidian");async function Jle(t,{app:e,signal:r}){var s=[];try{let n=G(s,new DisposableStack);let i=new Promise(c=>{function u(){for(let{view:d}of e.workspace.getLeavesOfType(t))if(d instanceof P9.MarkdownView)return c(d),!0;return!1}e.workspace.onLayoutReady(()=>{u()||$n(n,e.workspace.on("layout-change",u))})});return await zr(i,r)}catch(a){var o=a,l=!0}finally{K(s,o,l)}}function VA(t){return t.constructor.prototype}function O9(t){return Promise.all(t.getLeavesOfType("markdown").map(async e=>{let r=e.getViewState();await e.setViewState({type:"empty"}),await e.setViewState(r)}))}function _9(t,{onExternalLinkClick:e,onInternalLinkClick:r}){let n=new DisposableStack,i=n.use(new uo);return r$e(t,{onExternalLinkClick:e,onInternalLinkClick:r},{signal:i.signal}).then(s=>n.use(s)),n}async function r$e(t,{onExternalLinkClick:e,onInternalLinkClick:r},{signal:n}){let i=await Jle("markdown",{app:t.app,signal:n});return i.editMode?{[Symbol.dispose]:ir(VA(i.editMode),{triggerClickableToken:s=>async function(a,o,...l){let c=()=>s.call(this,a,o,...l);if(r&&a.type==="internal-link")try{await r.call(t,a.text,this.file.path,du(o),c)}catch(u){console.error("onInternalLinkClick error in editor, fallback to default",u),c()}else if(e&&a.type==="external-link")try{await e.call(t,a.text,du(o),c)}catch(u){console.error("onExternalLinkClick error in editor, fallback to default",u),c()}else c()}})}:(console.error("MarkdownView.editMode is not available, cannot patch editor click"),{[Symbol.dispose]:()=>{}})}var Zle=require("obsidian");function D9(t,{onExternalLinkClick:e}){let r=o=>{let l=o.target;if(!l.instanceOf(HTMLElement)||!l.matches(".metadata-property .metadata-property-value .external-link"))return;let c=l.closest(".metadata-property");if(!c)return;let u=c.dataset.propertyKey;if(!(u!=="video"&&u!=="audio"&&u!=="media")&&l.textContent&&Vn(l.textContent)){e.call(t,o,l.textContent,fu(o));return}},n=new WeakSet,i=o=>{n.has(o)||(n.add(o),o.registerDomEvent(o.containerEl,"click",r,{capture:!0}))},s=o=>{n.has(o)&&(n.delete(o),o.containerEl.removeEventListener("click",r))};for(let o of t.app.workspace.getLeavesOfType("markdown"))o.isDeferred||i(o.view);let a=ir(Zle.MarkdownView.prototype,{onload:o=>function(){return i(this),o.call(this)}});t.register(()=>{a();for(let o of t.app.workspace.getLeavesOfType("markdown"))s(o.view)})}var ece=require("obsidian");function N9(t,{onInternalLinkClick:e}){var n=[];try{let r=G(n,new DisposableStack);r.defer(ir(ece.Workspace.prototype,{openLinkText:o=>async function(l,c,u,d,...f){let p=()=>o.call(this,l,c,u,d,...f);try{await e.call(t,l,c,du(u),p)}catch(h){console.error("onInternalLinkClick error in openLinktext, fallback to default",h),p()}}}));return r.move()}catch(i){var s=i,a=!0}finally{K(n,s,a)}}function F9(t){t.registerMarkdownPostProcessor(e=>{for(let r of e.querySelectorAll("a")){let n=r.getAttr("aria-label");if(n)try{let i=decodeURI(n);n!==i&&r.setAttr("aria-label",i)}catch{}}})}var tce=require("obsidian");function $9(t,e){let r=new DisposableStack,n=r.use(new uo);return n$e({signal:n.signal}).then(i=>{r.use(i$e(i,e,t)),console.debug("preview click patched")}).catch(i=>{At.test(i)||console.error("Failed to patch preview click",i)}),r}async function n$e({signal:t}){var n=[];try{let e=G(n,new DisposableStack);let r=new Promise(o=>{e.defer(ir(tce.MarkdownPreviewRenderer,{registerDomEvents:l=>function(c,u,...d){return o(u),l.call(this,c,u,...d)}}))});return await zr(r,t)}catch(i){var s=i,a=!0}finally{K(n,s,a)}}function i$e(t,{onExternalLinkClick:e,onInternalLinkClick:r},n){var s=[];try{let i=G(s,new DisposableStack);i.defer(ir(VA(t),{...e?{onExternalLinkClick:c=>async function(u,d,f,...p){let h=()=>c.call(this,u,d,f,...p);u.preventDefault();try{await e.call(n,f,fu(u),h)}catch(g){console.error("onExternalLinkClick error in preview, fallback to default",g),h()}}}:{},...r?{onInternalLinkClick:c=>async function(u,d,f,...p){let h=()=>c.call(this,u,d,f,...p);u.preventDefault();try{await r.call(n,f,this.info?.file?.path??"",fu(u),h)}catch(g){console.error("onInternalLinkClick error in preview, fallback to default",g),h()}}}:{}}));return i.move()}catch(a){var o=a,l=!0}finally{K(s,o,l)}}var qA=class{plugin;app;workspace;settings;mediaLib;fileHelper;mediaParser;#e;constructor(e){var n=[];try{this.plugin=e.plugin;this.app=e.plugin.app;this.workspace=e.workspaceOpen;this.settings=e.settings;this.mediaLib=e.mediaLib;this.fileHelper=e.fileService;this.mediaParser=e.mediaParser;let r=G(n,new DisposableStack);r.use(_9(this,{onExternalLinkClick:this.#i,onInternalLinkClick:this.#r}));r.use($9(this,{onExternalLinkClick:this.#i,onInternalLinkClick:this.#r}));r.use(N9(this,{onInternalLinkClick:this.#n}));r.use(Ble(this,{onOpenFile:this.#t}));F9(this.plugin);D9(this.plugin,{onExternalLinkClick:(o,l,c)=>{o.stopImmediatePropagation(),this.#i(l,c,()=>{})}});this.#e=r.move()}catch(i){var s=i,a=!0}finally{K(n,s,a)}}[Symbol.dispose](){this.#e.dispose()}shouldHandleLinkLogic(e,r){let{info:n,hash:i}=e;if(n.type==="url:hosted")return r["link.handle-hosted"];if(n.type==="url:direct"){if(!r["link.handle-direct-url"])return!1;let s=!!this.mediaLib.findNoteByMedia(n),a=!!i?.tempFragment;return s||a||!!bH(n.url)}Te(n)}async shouldHandleLink(e){let r=await this.settings.loaded;return this.shouldHandleLinkLogic(e,r)}shouldHandleEmbedLogic(e,r){return this.shouldHandleLinkLogic(e,r)}#t=async(e,r,n)=>{let i=this.mediaParser.parseFile(e),s=this.mediaParser.parseHashFromEphemeralState(r?.eState)??void 0;if(!i)return n();await this.workspace.openMedia({info:i,hash:s})};#r=async(e,r,n,i)=>{let{path:s,subpath:a}=(0,If.parseLinktext)(e),o=this.mediaParser.parseFile(this.app.metadataCache.getFirstLinkpathDest(s,r));if(!o){i();return}await this.workspace.openMedia({info:o,hash:this.mediaParser.parseHash(a)},{newLeaf:n,fromUser:!0})};#n=async(e,r,n,i)=>{let{path:s,subpath:a}=(0,If.parseLinktext)(e),o=this.mediaParser.parseFile(this.app.metadataCache.getFirstLinkpathDest(s,r));if(!o){i();return}await this.workspace.openMedia({info:o,hash:this.mediaParser.parseHash(a)},{newLeaf:n,fromUser:!1})};#i=async(e,r,n)=>{let i=this.mediaParser.parseUrl(e);try{if(!i||!await this.shouldHandleLink(i))throw new pi("fallback");i.info.type==="url:direct"&&kt(i.info.url)&&this.fileHelper.resolveFileUri(i.info.url),await this.workspace.openMedia(i,{newLeaf:r,fromUser:!0})}catch(s){if(s instanceof Error){if(s instanceof pi){if(s.code==="no-browser-session"){new If.Notice("No browser session connected to obsidian, go to browser companion to connect");return}if(s.code==="fallback"){s.message&&(console.error("open external link fallback error",s),new If.Notice(`Failed to open media link: ${s.message}`)),n();return}if(s.code==="browser-na"){n();return}}console.error("open external link error",s,pi),new If.Notice(`Failed to open media link: ${s.message}`)}throw s}}};var mce=require("obsidian");var rce="4.0.1";var x0t=Symbol.for("mx:main-ps"),nce="mx:main-ps:ready",ice="mx:main-ps:connect",sce="mx:main-ps:disconnect",ace=rce;var BA="mx:ipc-emit:v1",oce="mx:ipc-invoke:v1";function UA(t){return Qle(t)?t:(console.warn("Received non-IPC message, ignoring",t),null)}xe.registerCustom({isApplicable:t=>t instanceof Error&&t.name===pi.name&&typeof t.code=="string",serialize:t=>JSON.stringify(Cy(t,["name","message","code"])),deserialize:t=>{let{message:e,...r}=JSON.parse(t);return Object.assign(new pi(e),r)}},"nodejs-error");xe.registerCustom({isApplicable:t=>t instanceof Error&&t.name===pi.name,serialize:t=>JSON.stringify(Cy(t,["message","code","stack"])),deserialize:t=>{let{message:e,code:r,...n}=JSON.parse(t);return Object.assign(new pi(r,e),n)}},"fallback-error");function lce(t){try{let e=xe.deserialize(t);return UA(e)}catch(e){return console.warn("Error deserializing SuperJSON payload",e,t),null}}function cce(t){return xe.serialize(t)}function zA(t,{taskId:e,stack:r}){return new Promise(n=>{let i=()=>{n({type:"ERROR",taskId:e,error:new Error("Aborted")})};t?.addEventListener("abort",i,{once:!0}),r.defer(()=>{t?.removeEventListener("abort",i)})})}var uce=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),dce=t=>{throw TypeError(t)},fce=(t,e,r)=>{if(e!=null){typeof e!="object"&&typeof e!="function"&&dce("Object expected");var n,i;r&&(n=e[uce("asyncDispose")]),n===void 0&&(n=e[uce("dispose")],r&&(i=n)),typeof n!="function"&&dce("Object not disposable"),i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.push([r,n,e])}else r&&t.push([r]);return e},pce=(t,e,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(a,o,l,c){return c=Error(l),c.name="SuppressedError",c.error=a,c.suppressed=o,c},i=a=>e=r?new n(a,e,"An error was suppressed during disposal"):(r=!0,a),s=a=>{for(;a=t.pop();)try{var o=a[1]&&a[1].call(a[2]);if(a[0])return Promise.resolve(o).then(s,l=>(i(l),s()))}catch(l){i(l)}if(r)throw e};return s()},HA={parse:lce,stringify:cce},GA=class{#e;constructor(e){this.#e=e}async sendMessage(e){this.#e.send(BA,HA.stringify(e))}addMessageHandler(e){var r=[];try{let s=fce(r,new DisposableStack),a=(o,l)=>{let c=HA.parse(l);c&&e(c)};return this.#e.on(BA,a),s.defer(()=>{this.#e.off(BA,a)}),s.move()}catch(s){var n=s,i=!0}finally{pce(r,n,i)}}async invoke(e,{signal:r}={}){var n=[];try{let a=fce(n,new DisposableStack);return await Promise.race([this.#e.invoke(oce,HA.stringify(e)).then(o=>{let l=HA.parse(o);return jA(e,l)?l:{type:"ERROR",taskId:e.taskId,error:new Error("Invalid invoke response")}}),zA(r,{taskId:e.taskId,stack:a})])}catch(a){var i=a,s=!0}finally{pce(n,i,s)}}};var Gm={getAll:"get-credentials",set:"set-credential",delete:"delete-credential",clear:"clear-credentials",import:"import-credentials"};function j9(t){let e=new GA(t),r=dx(e);return{getCredentials:r.createRemoteFn(Gm.getAll),setCredential:r.createRemoteFn(Gm.set),deleteCredential:r.createRemoteFn(Gm.delete),clearCredentials:r.createRemoteFn(Gm.clear),importCredentials:r.createRemoteFn(Gm.import),[Symbol.dispose]:()=>{}}}var V9='"use strict";var qm=Object.create;var mr=Object.defineProperty;var Nm=Object.getOwnPropertyDescriptor;var Lm=Object.getOwnPropertyNames;var Dm=Object.getPrototypeOf,Mm=Object.prototype.hasOwnProperty;var Ta=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Ca=e=>{throw TypeError(e)};var p=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),jm=(e,t)=>{for(var r in t)mr(e,r,{get:t[r],enumerable:!0})},Ia=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Lm(t))!Mm.call(e,i)&&i!==r&&mr(e,i,{get:()=>t[i],enumerable:!(n=Nm(t,i))||n.enumerable});return e};var at=(e,t,r)=>(r=e!=null?qm(Dm(e)):{},Ia(t||!e||!e.__esModule?mr(r,"default",{value:e,enumerable:!0}):r,e)),$m=e=>Ia(mr({},"__esModule",{value:!0}),e);var Ye=(e,t,r)=>{if(t!=null){typeof t!="object"&&typeof t!="function"&&Ca("Object expected");var n,i;r&&(n=t[Ta("asyncDispose")]),n===void 0&&(n=t[Ta("dispose")],r&&(i=n)),typeof n!="function"&&Ca("Object not disposable"),i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.push([r,n,t])}else r&&e.push([r]);return t},Xe=(e,t,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(o,a,u,c){return c=Error(u),c.name="SuppressedError",c.error=o,c.suppressed=a,c},i=o=>t=r?new n(o,t,"An error was suppressed during disposal"):(r=!0,o),s=o=>{for(;o=e.pop();)try{var a=o[1]&&o[1].call(o[2]);if(o[0])return Promise.resolve(a).then(s,u=>(i(u),s()))}catch(u){i(u)}if(r)throw t};return s()};var W=p((oi,ka)=>{"use strict";var qt=function(e){return e&&e.Math===Math&&e};ka.exports=qt(typeof globalThis=="object"&&globalThis)||qt(typeof window=="object"&&window)||qt(typeof self=="object"&&self)||qt(typeof global=="object"&&global)||qt(typeof oi=="object"&&oi)||function(){return this}()||Function("return this")()});var re=p((nO,qa)=>{"use strict";qa.exports=function(e){try{return!!e()}catch{return!0}}});var fe=p((iO,Na)=>{"use strict";var Fm=re();Na.exports=!Fm(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})});var gr=p((sO,La)=>{"use strict";var Hm=re();La.exports=!Hm(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")})});var Qe=p((oO,Da)=>{"use strict";var Bm=gr(),vr=Function.prototype.call;Da.exports=Bm?vr.bind(vr):function(){return vr.apply(vr,arguments)}});var Fa=p($a=>{"use strict";var Ma={}.propertyIsEnumerable,ja=Object.getOwnPropertyDescriptor,Um=ja&&!Ma.call({1:2},1);$a.f=Um?function(t){var r=ja(this,t);return!!r&&r.enumerable}:Ma});var Nt=p((uO,Ha)=>{"use strict";Ha.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}});var J=p((cO,Ga)=>{"use strict";var Ba=gr(),Ua=Function.prototype,ai=Ua.call,Gm=Ba&&Ua.bind.bind(ai,ai);Ga.exports=Ba?Gm:function(e){return function(){return ai.apply(e,arguments)}}});var _r=p((lO,Ka)=>{"use strict";var Va=J(),Vm=Va({}.toString),Km=Va("".slice);Ka.exports=function(e){return Km(Vm(e),8,-1)}});var za=p((fO,Wa)=>{"use strict";var Wm=J(),zm=re(),Ym=_r(),ui=Object,Xm=Wm("".split);Wa.exports=zm(function(){return!ui("z").propertyIsEnumerable(0)})?function(e){return Ym(e)==="String"?Xm(e,""):ui(e)}:ui});var br=p((pO,Ya)=>{"use strict";Ya.exports=function(e){return e==null}});var Sr=p((hO,Xa)=>{"use strict";var Qm=br(),Zm=TypeError;Xa.exports=function(e){if(Qm(e))throw new Zm("Can\'t call method on "+e);return e}});var Lt=p((dO,Qa)=>{"use strict";var Jm=za(),eg=Sr();Qa.exports=function(e){return Jm(eg(e))}});var Z=p((yO,Za)=>{"use strict";var ci=typeof document=="object"&&document.all;Za.exports=typeof ci>"u"&&ci!==void 0?function(e){return typeof e=="function"||e===ci}:function(e){return typeof e=="function"}});var Pe=p((mO,Ja)=>{"use strict";var tg=Z();Ja.exports=function(e){return typeof e=="object"?e!==null:tg(e)}});var qe=p((gO,eu)=>{"use strict";var li=W(),rg=Z(),ng=function(e){return rg(e)?e:void 0};eu.exports=function(e,t){return arguments.length<2?ng(li[e]):li[e]&&li[e][t]}});var Er=p((vO,tu)=>{"use strict";var ig=J();tu.exports=ig({}.isPrototypeOf)});var su=p((_O,iu)=>{"use strict";var sg=W(),ru=sg.navigator,nu=ru&&ru.userAgent;iu.exports=nu?String(nu):""});var pi=p((bO,fu)=>{"use strict";var lu=W(),fi=su(),ou=lu.process,au=lu.Deno,uu=ou&&ou.versions||au&&au.version,cu=uu&&uu.v8,pe,wr;cu&&(pe=cu.split("."),wr=pe[0]>0&&pe[0]<4?1:+(pe[0]+pe[1]));!wr&&fi&&(pe=fi.match(/Edge\\/(\\d+)/),(!pe||pe[1]>=74)&&(pe=fi.match(/Chrome\\/(\\d+)/),pe&&(wr=+pe[1])));fu.exports=wr});var hi=p((SO,hu)=>{"use strict";var pu=pi(),og=re(),ag=W(),ug=ag.String;hu.exports=!!Object.getOwnPropertySymbols&&!og(function(){var e=Symbol("symbol detection");return!ug(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&pu&&pu<41})});var di=p((EO,du)=>{"use strict";var cg=hi();du.exports=cg&&!Symbol.sham&&typeof Symbol.iterator=="symbol"});var yi=p((wO,yu)=>{"use strict";var lg=qe(),fg=Z(),pg=Er(),hg=di(),dg=Object;yu.exports=hg?function(e){return typeof e=="symbol"}:function(e){var t=lg("Symbol");return fg(t)&&pg(t.prototype,dg(e))}});var gu=p((RO,mu)=>{"use strict";var yg=String;mu.exports=function(e){try{return yg(e)}catch{return"Object"}}});var Ze=p((PO,vu)=>{"use strict";var mg=Z(),gg=gu(),vg=TypeError;vu.exports=function(e){if(mg(e))return e;throw new vg(gg(e)+" is not a function")}});var Dt=p((xO,_u)=>{"use strict";var _g=Ze(),bg=br();_u.exports=function(e,t){var r=e[t];return bg(r)?void 0:_g(r)}});var Su=p((AO,bu)=>{"use strict";var mi=Qe(),gi=Z(),vi=Pe(),Sg=TypeError;bu.exports=function(e,t){var r,n;if(t==="string"&&gi(r=e.toString)&&!vi(n=mi(r,e))||gi(r=e.valueOf)&&!vi(n=mi(r,e))||t!=="string"&&gi(r=e.toString)&&!vi(n=mi(r,e)))return n;throw new Sg("Can\'t convert object to primitive value")}});var Mt=p((OO,Eu)=>{"use strict";Eu.exports=!1});var Rr=p((TO,Ru)=>{"use strict";var wu=W(),Eg=Object.defineProperty;Ru.exports=function(e,t){try{Eg(wu,e,{value:t,configurable:!0,writable:!0})}catch{wu[e]=t}return t}});var jt=p((CO,Au)=>{"use strict";var wg=Mt(),Rg=W(),Pg=Rr(),Pu="__core-js_shared__",xu=Au.exports=Rg[Pu]||Pg(Pu,{});(xu.versions||(xu.versions=[])).push({version:"3.41.0",mode:wg?"pure":"global",copyright:"\\xA9 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.41.0/LICENSE",source:"https://github.com/zloirock/core-js"})});var _i=p((IO,Tu)=>{"use strict";var Ou=jt();Tu.exports=function(e,t){return Ou[e]||(Ou[e]=t||{})}});var bi=p((kO,Cu)=>{"use strict";var xg=Sr(),Ag=Object;Cu.exports=function(e){return Ag(xg(e))}});var oe=p((qO,Iu)=>{"use strict";var Og=J(),Tg=bi(),Cg=Og({}.hasOwnProperty);Iu.exports=Object.hasOwn||function(t,r){return Cg(Tg(t),r)}});var Si=p((NO,ku)=>{"use strict";var Ig=J(),kg=0,qg=Math.random(),Ng=Ig(1 .toString);ku.exports=function(e){return"Symbol("+(e===void 0?"":e)+")_"+Ng(++kg+qg,36)}});var ne=p((LO,Nu)=>{"use strict";var Lg=W(),Dg=_i(),qu=oe(),Mg=Si(),jg=hi(),$g=di(),ut=Lg.Symbol,Ei=Dg("wks"),Fg=$g?ut.for||ut:ut&&ut.withoutSetter||Mg;Nu.exports=function(e){return qu(Ei,e)||(Ei[e]=jg&&qu(ut,e)?ut[e]:Fg("Symbol."+e)),Ei[e]}});var ju=p((DO,Mu)=>{"use strict";var Hg=Qe(),Lu=Pe(),Du=yi(),Bg=Dt(),Ug=Su(),Gg=ne(),Vg=TypeError,Kg=Gg("toPrimitive");Mu.exports=function(e,t){if(!Lu(e)||Du(e))return e;var r=Bg(e,Kg),n;if(r){if(t===void 0&&(t="default"),n=Hg(r,e,t),!Lu(n)||Du(n))return n;throw new Vg("Can\'t convert object to primitive value")}return t===void 0&&(t="number"),Ug(e,t)}});var wi=p((MO,$u)=>{"use strict";var Wg=ju(),zg=yi();$u.exports=function(e){var t=Wg(e,"string");return zg(t)?t:t+""}});var Pi=p((jO,Hu)=>{"use strict";var Yg=W(),Fu=Pe(),Ri=Yg.document,Xg=Fu(Ri)&&Fu(Ri.createElement);Hu.exports=function(e){return Xg?Ri.createElement(e):{}}});var xi=p(($O,Bu)=>{"use strict";var Qg=fe(),Zg=re(),Jg=Pi();Bu.exports=!Qg&&!Zg(function(){return Object.defineProperty(Jg("div"),"a",{get:function(){return 7}}).a!==7})});var $t=p(Gu=>{"use strict";var ev=fe(),tv=Qe(),rv=Fa(),nv=Nt(),iv=Lt(),sv=wi(),ov=oe(),av=xi(),Uu=Object.getOwnPropertyDescriptor;Gu.f=ev?Uu:function(t,r){if(t=iv(t),r=sv(r),av)try{return Uu(t,r)}catch{}if(ov(t,r))return nv(!tv(rv.f,t,r),t[r])}});var Ai=p((HO,Vu)=>{"use strict";var uv=fe(),cv=re();Vu.exports=uv&&cv(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})});var ct=p((BO,Ku)=>{"use strict";var lv=Pe(),fv=String,pv=TypeError;Ku.exports=function(e){if(lv(e))return e;throw new pv(fv(e)+" is not an object")}});var xe=p(zu=>{"use strict";var hv=fe(),dv=xi(),yv=Ai(),Pr=ct(),Wu=wi(),mv=TypeError,Oi=Object.defineProperty,gv=Object.getOwnPropertyDescriptor,Ti="enumerable",Ci="configurable",Ii="writable";zu.f=hv?yv?function(t,r,n){if(Pr(t),r=Wu(r),Pr(n),typeof t=="function"&&r==="prototype"&&"value"in n&&Ii in n&&!n[Ii]){var i=gv(t,r);i&&i[Ii]&&(t[r]=n.value,n={configurable:Ci in n?n[Ci]:i[Ci],enumerable:Ti in n?n[Ti]:i[Ti],writable:!1})}return Oi(t,r,n)}:Oi:function(t,r,n){if(Pr(t),r=Wu(r),Pr(n),dv)try{return Oi(t,r,n)}catch{}if("get"in n||"set"in n)throw new mv("Accessors not supported");return"value"in n&&(t[r]=n.value),t}});var Ft=p((GO,Yu)=>{"use strict";var vv=fe(),_v=xe(),bv=Nt();Yu.exports=vv?function(e,t,r){return _v.f(e,t,bv(1,r))}:function(e,t,r){return e[t]=r,e}});var Zu=p((VO,Qu)=>{"use strict";var ki=fe(),Sv=oe(),Xu=Function.prototype,Ev=ki&&Object.getOwnPropertyDescriptor,qi=Sv(Xu,"name"),wv=qi&&function(){}.name==="something",Rv=qi&&(!ki||ki&&Ev(Xu,"name").configurable);Qu.exports={EXISTS:qi,PROPER:wv,CONFIGURABLE:Rv}});var ec=p((KO,Ju)=>{"use strict";var Pv=J(),xv=Z(),Ni=jt(),Av=Pv(Function.toString);xv(Ni.inspectSource)||(Ni.inspectSource=function(e){return Av(e)});Ju.exports=Ni.inspectSource});var nc=p((WO,rc)=>{"use strict";var Ov=W(),Tv=Z(),tc=Ov.WeakMap;rc.exports=Tv(tc)&&/native code/.test(String(tc))});var xr=p((zO,sc)=>{"use strict";var Cv=_i(),Iv=Si(),ic=Cv("keys");sc.exports=function(e){return ic[e]||(ic[e]=Iv(e))}});var Ar=p((YO,oc)=>{"use strict";oc.exports={}});var Cr=p((XO,cc)=>{"use strict";var kv=nc(),uc=W(),qv=Pe(),Nv=Ft(),Li=oe(),Di=jt(),Lv=xr(),Dv=Ar(),ac="Object already initialized",Mi=uc.TypeError,Mv=uc.WeakMap,Or,Ht,Tr,jv=function(e){return Tr(e)?Ht(e):Or(e,{})},$v=function(e){return function(t){var r;if(!qv(t)||(r=Ht(t)).type!==e)throw new Mi("Incompatible receiver, "+e+" required");return r}};kv||Di.state?(he=Di.state||(Di.state=new Mv),he.get=he.get,he.has=he.has,he.set=he.set,Or=function(e,t){if(he.has(e))throw new Mi(ac);return t.facade=e,he.set(e,t),t},Ht=function(e){return he.get(e)||{}},Tr=function(e){return he.has(e)}):(Je=Lv("state"),Dv[Je]=!0,Or=function(e,t){if(Li(e,Je))throw new Mi(ac);return t.facade=e,Nv(e,Je,t),t},Ht=function(e){return Li(e,Je)?e[Je]:{}},Tr=function(e){return Li(e,Je)});var he,Je;cc.exports={set:Or,get:Ht,has:Tr,enforce:jv,getterFor:$v}});var Fi=p((QO,pc)=>{"use strict";var $i=J(),Fv=re(),Hv=Z(),Ir=oe(),ji=fe(),Bv=Zu().CONFIGURABLE,Uv=ec(),fc=Cr(),Gv=fc.enforce,Vv=fc.get,lc=String,kr=Object.defineProperty,Kv=$i("".slice),Wv=$i("".replace),zv=$i([].join),Yv=ji&&!Fv(function(){return kr(function(){},"length",{value:8}).length!==8}),Xv=String(String).split("String"),Qv=pc.exports=function(e,t,r){Kv(lc(t),0,7)==="Symbol("&&(t="["+Wv(lc(t),/^Symbol\\(([^)]*)\\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!Ir(e,"name")||Bv&&e.name!==t)&&(ji?kr(e,"name",{value:t,configurable:!0}):e.name=t),Yv&&r&&Ir(r,"arity")&&e.length!==r.arity&&kr(e,"length",{value:r.arity});try{r&&Ir(r,"constructor")&&r.constructor?ji&&kr(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var n=Gv(e);return Ir(n,"source")||(n.source=zv(Xv,typeof t=="string"?t:"")),e};Function.prototype.toString=Qv(function(){return Hv(this)&&Vv(this).source||Uv(this)},"toString")});var Ae=p((ZO,hc)=>{"use strict";var Zv=Z(),Jv=xe(),e_=Fi(),t_=Rr();hc.exports=function(e,t,r,n){n||(n={});var i=n.enumerable,s=n.name!==void 0?n.name:t;if(Zv(r)&&e_(r,s,n),n.global)i?e[t]=r:t_(t,r);else{try{n.unsafe?e[t]&&(i=!0):delete e[t]}catch{}i?e[t]=r:Jv.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e}});var yc=p((JO,dc)=>{"use strict";var r_=Math.ceil,n_=Math.floor;dc.exports=Math.trunc||function(t){var r=+t;return(r>0?n_:r_)(r)}});var Hi=p((eT,mc)=>{"use strict";var i_=yc();mc.exports=function(e){var t=+e;return t!==t||t===0?0:i_(t)}});var vc=p((tT,gc)=>{"use strict";var s_=Hi(),o_=Math.max,a_=Math.min;gc.exports=function(e,t){var r=s_(e);return r<0?o_(r+t,0):a_(r,t)}});var bc=p((rT,_c)=>{"use strict";var u_=Hi(),c_=Math.min;_c.exports=function(e){var t=u_(e);return t>0?c_(t,9007199254740991):0}});var Ec=p((nT,Sc)=>{"use strict";var l_=bc();Sc.exports=function(e){return l_(e.length)}});var Pc=p((iT,Rc)=>{"use strict";var f_=Lt(),p_=vc(),h_=Ec(),wc=function(e){return function(t,r,n){var i=f_(t),s=h_(i);if(s===0)return!e&&-1;var o=p_(n,s),a;if(e&&r!==r){for(;s>o;)if(a=i[o++],a!==a)return!0}else for(;s>o;o++)if((e||o in i)&&i[o]===r)return e||o||0;return!e&&-1}};Rc.exports={includes:wc(!0),indexOf:wc(!1)}});var Ui=p((sT,Ac)=>{"use strict";var d_=J(),Bi=oe(),y_=Lt(),m_=Pc().indexOf,g_=Ar(),xc=d_([].push);Ac.exports=function(e,t){var r=y_(e),n=0,i=[],s;for(s in r)!Bi(g_,s)&&Bi(r,s)&&xc(i,s);for(;t.length>n;)Bi(r,s=t[n++])&&(~m_(i,s)||xc(i,s));return i}});var qr=p((oT,Oc)=>{"use strict";Oc.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var Cc=p(Tc=>{"use strict";var v_=Ui(),__=qr(),b_=__.concat("length","prototype");Tc.f=Object.getOwnPropertyNames||function(t){return v_(t,b_)}});var kc=p(Ic=>{"use strict";Ic.f=Object.getOwnPropertySymbols});var Nc=p((cT,qc)=>{"use strict";var S_=qe(),E_=J(),w_=Cc(),R_=kc(),P_=ct(),x_=E_([].concat);qc.exports=S_("Reflect","ownKeys")||function(t){var r=w_.f(P_(t)),n=R_.f;return n?x_(r,n(t)):r}});var Gi=p((lT,Dc)=>{"use strict";var Lc=oe(),A_=Nc(),O_=$t(),T_=xe();Dc.exports=function(e,t,r){for(var n=A_(t),i=T_.f,s=O_.f,o=0;o<n.length;o++){var a=n[o];!Lc(e,a)&&!(r&&Lc(r,a))&&i(e,a,s(t,a))}}});var jc=p((fT,Mc)=>{"use strict";var C_=re(),I_=Z(),k_=/#|\\.prototype\\./,Bt=function(e,t){var r=N_[q_(e)];return r===D_?!0:r===L_?!1:I_(t)?C_(t):!!t},q_=Bt.normalize=function(e){return String(e).replace(k_,".").toLowerCase()},N_=Bt.data={},L_=Bt.NATIVE="N",D_=Bt.POLYFILL="P";Mc.exports=Bt});var Lr=p((pT,$c)=>{"use strict";var Nr=W(),M_=$t().f,j_=Ft(),$_=Ae(),F_=Rr(),H_=Gi(),B_=jc();$c.exports=function(e,t){var r=e.target,n=e.global,i=e.stat,s,o,a,u,c,l;if(n?o=Nr:i?o=Nr[r]||F_(r,{}):o=Nr[r]&&Nr[r].prototype,o)for(a in t){if(c=t[a],e.dontCallGetSet?(l=M_(o,a),u=l&&l.value):u=o[a],s=B_(n?a:r+(i?".":"#")+a,e.forced),!s&&u!==void 0){if(typeof c==typeof u)continue;H_(c,u)}(e.sham||u&&u.sham)&&j_(c,"sham",!0),$_(o,a,c,e)}}});var Hc=p((hT,Fc)=>{"use strict";var U_=re();Fc.exports=!U_(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})});var Dr=p((dT,Uc)=>{"use strict";var G_=oe(),V_=Z(),K_=bi(),W_=xr(),z_=Hc(),Bc=W_("IE_PROTO"),Vi=Object,Y_=Vi.prototype;Uc.exports=z_?Vi.getPrototypeOf:function(e){var t=K_(e);if(G_(t,Bc))return t[Bc];var r=t.constructor;return V_(r)&&t instanceof r?r.prototype:t instanceof Vi?Y_:null}});var Vc=p((yT,Gc)=>{"use strict";var X_=J(),Q_=Ze();Gc.exports=function(e,t,r){try{return X_(Q_(Object.getOwnPropertyDescriptor(e,t)[r]))}catch{}}});var Wc=p((mT,Kc)=>{"use strict";var Z_=Pe();Kc.exports=function(e){return Z_(e)||e===null}});var Yc=p((gT,zc)=>{"use strict";var J_=Wc(),eb=String,tb=TypeError;zc.exports=function(e){if(J_(e))return e;throw new tb("Can\'t set "+eb(e)+" as a prototype")}});var Qc=p((vT,Xc)=>{"use strict";var rb=Vc(),nb=Pe(),ib=Sr(),sb=Yc();Xc.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={},r;try{r=rb(Object.prototype,"__proto__","set"),r(t,[]),e=t instanceof Array}catch{}return function(i,s){return ib(i),sb(s),nb(i)&&(e?r(i,s):i.__proto__=s),i}}():void 0)});var Jc=p((_T,Zc)=>{"use strict";var ob=Ui(),ab=qr();Zc.exports=Object.keys||function(t){return ob(t,ab)}});var tl=p(el=>{"use strict";var ub=fe(),cb=Ai(),lb=xe(),fb=ct(),pb=Lt(),hb=Jc();el.f=ub&&!cb?Object.defineProperties:function(t,r){fb(t);for(var n=pb(r),i=hb(r),s=i.length,o=0,a;s>o;)lb.f(t,a=i[o++],n[a]);return t}});var nl=p((ST,rl)=>{"use strict";var db=qe();rl.exports=db("document","documentElement")});var $r=p((ET,ll)=>{"use strict";var yb=ct(),mb=tl(),il=qr(),gb=Ar(),vb=nl(),_b=Pi(),bb=xr(),sl=">",ol="<",Wi="prototype",zi="script",ul=bb("IE_PROTO"),Ki=function(){},cl=function(e){return ol+zi+sl+e+ol+"/"+zi+sl},al=function(e){e.write(cl("")),e.close();var t=e.parentWindow.Object;return e=null,t},Sb=function(){var e=_b("iframe"),t="java"+zi+":",r;return e.style.display="none",vb.appendChild(e),e.src=String(t),r=e.contentWindow.document,r.open(),r.write(cl("document.F=Object")),r.close(),r.F},Mr,jr=function(){try{Mr=new ActiveXObject("htmlfile")}catch{}jr=typeof document<"u"?document.domain&&Mr?al(Mr):Sb():al(Mr);for(var e=il.length;e--;)delete jr[Wi][il[e]];return jr()};gb[ul]=!0;ll.exports=Object.create||function(t,r){var n;return t!==null?(Ki[Wi]=yb(t),n=new Ki,Ki[Wi]=null,n[ul]=t):n=jr(),r===void 0?n:mb.f(n,r)}});var dl=p((wT,hl)=>{"use strict";var Eb=J(),fl=Error,wb=Eb("".replace),Rb=function(e){return String(new fl(e).stack)}("zxcasd"),pl=/\\n\\s*at [^:]*:[^\\n]*/,Pb=pl.test(Rb);hl.exports=function(e,t){if(Pb&&typeof e=="string"&&!fl.prepareStackTrace)for(;t--;)e=wb(e,pl,"");return e}});var ml=p((RT,yl)=>{"use strict";var xb=re(),Ab=Nt();yl.exports=!xb(function(){var e=new Error("a");return"stack"in e?(Object.defineProperty(e,"stack",Ab(1,7)),e.stack!==7):!0})});var _l=p((PT,vl)=>{"use strict";var Ob=Ft(),Tb=dl(),Cb=ml(),gl=Error.captureStackTrace;vl.exports=function(e,t,r,n){Cb&&(gl?gl(e,t):Ob(e,"stack",Tb(r,n)))}});var El=p((xT,Sl)=>{"use strict";var Ib=ne(),kb=Ib("toStringTag"),bl={};bl[kb]="z";Sl.exports=String(bl)==="[object z]"});var Rl=p((AT,wl)=>{"use strict";var qb=El(),Nb=Z(),Fr=_r(),Lb=ne(),Db=Lb("toStringTag"),Mb=Object,jb=Fr(function(){return arguments}())==="Arguments",$b=function(e,t){try{return e[t]}catch{}};wl.exports=qb?Fr:function(e){var t,r,n;return e===void 0?"Undefined":e===null?"Null":typeof(r=$b(t=Mb(e),Db))=="string"?r:jb?Fr(t):(n=Fr(t))==="Object"&&Nb(t.callee)?"Arguments":n}});var xl=p((OT,Pl)=>{"use strict";var Fb=Rl(),Hb=String;Pl.exports=function(e){if(Fb(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return Hb(e)}});var Ol=p((TT,Al)=>{"use strict";var Bb=xl();Al.exports=function(e,t){return e===void 0?arguments.length<2?"":t:Bb(e)}});var Il=p(()=>{"use strict";var Ub=Lr(),Gb=W(),Vb=Er(),Tl=Dr(),Br=Qc(),Kb=Gi(),Cl=$r(),Hr=Ft(),Yi=Nt(),Wb=_l(),zb=Ol(),Yb=ne(),Xb=re(),Qb=Mt(),lt=Gb.SuppressedError,Zb=Yb("toStringTag"),Ur=Error,Jb=!!lt&&lt.length!==3,eS=!!lt&&Xb(function(){return new lt(1,2,3,{cause:4}).cause===4}),Gr=Jb||eS,et=function(t,r,n){var i=Vb(Ut,this),s;return Br?s=Gr&&(!i||Tl(this)===Ut)?new lt:Br(new Ur,i?Tl(this):Ut):(s=i?this:Cl(Ut),Hr(s,Zb,"Error")),n!==void 0&&Hr(s,"message",zb(n)),Wb(s,et,s.stack,1),Hr(s,"error",t),Hr(s,"suppressed",r),s};Br?Br(et,Ur):Kb(et,Ur,{name:!0});var Ut=et.prototype=Gr?lt.prototype:Cl(Ur.prototype,{constructor:Yi(1,et),message:Yi(1,""),name:Yi(1,"SuppressedError")});Gr&&!Qb&&(Ut.constructor=et);Ub({global:!0,constructor:!0,arity:3,forced:Gr},{SuppressedError:et})});var Xi=p((kT,kl)=>{"use strict";var tS=Er(),rS=TypeError;kl.exports=function(e,t){if(tS(t,e))return e;throw new rS("Incorrect invocation")}});var Qi=p((qT,ql)=>{"use strict";var nS=Ae();ql.exports=function(e,t,r){for(var n in t)nS(e,n,t[n],r);return e}});var Zi=p((NT,Ll)=>{"use strict";var Nl=Fi(),iS=xe();Ll.exports=function(e,t,r){return r.get&&Nl(r.get,t,{getter:!0}),r.set&&Nl(r.set,t,{setter:!0}),iS.f(e,t,r)}});var Ml=p((LT,Dl)=>{"use strict";var sS=_r(),oS=J();Dl.exports=function(e){if(sS(e)==="Function")return oS(e)}});var Fl=p((DT,$l)=>{"use strict";var jl=Ml(),aS=Ze(),uS=gr(),cS=jl(jl.bind);$l.exports=function(e,t){return aS(e),t===void 0?e:uS?cS(e,t):function(){return e.apply(t,arguments)}}});var es=p((MT,Vl)=>{"use strict";var lS=qe(),fS=Qe(),pS=J(),hS=Fl(),dS=ct(),yS=Ze(),Ul=br(),Ji=Dt(),Gl=ne(),mS=Gl("asyncDispose"),Hl=Gl("dispose"),gS=pS([].push),vS=function(e,t){if(t==="async-dispose"){var r=Ji(e,mS);return r!==void 0||(r=Ji(e,Hl),r===void 0)?r:function(){var n=this,i=lS("Promise");return new i(function(s){fS(r,n),s(void 0)})}}return Ji(e,Hl)},Bl=function(e,t,r){return arguments.length<3&&!Ul(e)&&(r=yS(vS(dS(e),t))),r===void 0?function(){}:hS(r,e)};Vl.exports=function(e,t,r,n){var i;if(arguments.length<4){if(Ul(t)&&r==="sync-dispose")return;i=Bl(t,r)}else i=Bl(void 0,r,n);gS(e.stack,i)}});var Jl=p(()=>{"use strict";var _S=Lr(),Kr=fe(),Yl=qe(),Kl=Ze(),bS=Xi(),Xl=Ae(),SS=Qi(),ES=Zi(),Ql=ne(),Zl=Cr(),ts=es(),Wl=pi(),zl=Yl("Promise"),wS=Yl("SuppressedError"),RS=ReferenceError,PS=Ql("asyncDispose"),xS=Ql("toStringTag"),zr="AsyncDisposableStack",AS=Zl.set,Wr=Zl.getterFor(zr),rs="async-dispose",Gt="disposed",OS="pending",Vr=function(e){var t=Wr(e);if(t.state===Gt)throw new RS(zr+" already disposed");return t},ns=function(){AS(bS(this,ft),{type:zr,state:OS,stack:[]}),Kr||(this.disposed=!1)},ft=ns.prototype;SS(ft,{disposeAsync:function(){var t=this;return new zl(function(r,n){var i=Wr(t);if(i.state===Gt)return r(void 0);i.state=Gt,Kr||(t.disposed=!0);var s=i.stack,o=s.length,a=!1,u,c=function(f){a?u=new wS(f,u):(a=!0,u=f),l()},l=function(){if(o){var f=s[--o];s[o]=null;try{zl.resolve(f()).then(l,c)}catch(h){c(h)}}else i.stack=null,a?n(u):r(void 0)};l()})},use:function(t){return ts(Vr(this),t,rs),t},adopt:function(t,r){var n=Vr(this);return Kl(r),ts(n,void 0,rs,function(){return r(t)}),t},defer:function(t){var r=Vr(this);Kl(t),ts(r,void 0,rs,t)},move:function(){var t=Vr(this),r=new ns;return Wr(r).stack=t.stack,t.stack=[],t.state=Gt,Kr||(this.disposed=!0),r}});Kr&&ES(ft,"disposed",{configurable:!0,get:function(){return Wr(this).state===Gt}});Xl(ft,PS,ft.disposeAsync,{name:"disposeAsync"});Xl(ft,xS,zr,{nonWritable:!0});var TS=Wl&&Wl<136;_S({global:!0,constructor:!0,forced:TS},{AsyncDisposableStack:ns})});var cf=p((FT,uf)=>{"use strict";var sf=W(),of=jt(),af=Z(),CS=$r(),Yr=Dr(),IS=Ae(),kS=ne(),qS=Mt(),ef="USE_FUNCTION_CONSTRUCTOR",tf=kS("asyncIterator"),rf=sf.AsyncIterator,nf=of.AsyncIteratorPrototype,_e,is;if(nf)_e=nf;else if(af(rf))_e=rf.prototype;else if(of[ef]||sf[ef])try{is=Yr(Yr(Yr(Function("return async function*(){}()")()))),Yr(is)===Object.prototype&&(_e=is)}catch{}_e?qS&&(_e=CS(_e)):_e={};af(_e[tf])||IS(_e,tf,function(){return this});uf.exports=_e});var hf=p(()=>{"use strict";var NS=Qe(),LS=Ae(),DS=qe(),MS=Dt(),jS=oe(),$S=ne(),lf=cf(),ff=$S("asyncDispose"),pf=DS("Promise");jS(lf,ff)||LS(lf,ff,function(){var e=this;return new pf(function(t,r){var n=MS(e,"return");n?pf.resolve(NS(n,e)).then(function(){t(void 0)},r):t(void 0)})})});var vf=p(()=>{"use strict";var FS=Lr(),Qr=fe(),HS=qe(),df=Ze(),BS=Xi(),yf=Ae(),US=Qi(),GS=Zi(),mf=ne(),gf=Cr(),ss=es(),VS=HS("SuppressedError"),KS=ReferenceError,WS=mf("dispose"),zS=mf("toStringTag"),Jr="DisposableStack",YS=gf.set,Zr=gf.getterFor(Jr),os="sync-dispose",Vt="disposed",XS="pending",Xr=function(e){var t=Zr(e);if(t.state===Vt)throw new KS(Jr+" already disposed");return t},as=function(){YS(BS(this,pt),{type:Jr,state:XS,stack:[]}),Qr||(this.disposed=!1)},pt=as.prototype;US(pt,{dispose:function(){var t=Zr(this);if(t.state!==Vt){t.state=Vt,Qr||(this.disposed=!0);for(var r=t.stack,n=r.length,i=!1,s;n;){var o=r[--n];r[n]=null;try{o()}catch(a){i?s=new VS(a,s):(i=!0,s=a)}}if(t.stack=null,i)throw s}},use:function(t){return ss(Xr(this),t,os),t},adopt:function(t,r){var n=Xr(this);return df(r),ss(n,void 0,os,function(){r(t)}),t},defer:function(t){var r=Xr(this);df(t),ss(r,void 0,os,t)},move:function(){var t=Xr(this),r=new as;return Zr(r).stack=t.stack,t.stack=[],t.state=Vt,Qr||(this.disposed=!0),r}});Qr&&GS(pt,"disposed",{configurable:!0,get:function(){return Zr(this).state===Vt}});yf(pt,WS,pt.dispose,{name:"dispose"});yf(pt,zS,Jr,{nonWritable:!0});FS({global:!0,constructor:!0},{DisposableStack:as})});var Ef=p((VT,Sf)=>{"use strict";var QS=re(),ZS=Z(),JS=Pe(),eE=$r(),_f=Dr(),tE=Ae(),rE=ne(),nE=Mt(),ls=rE("iterator"),bf=!1,Oe,us,cs;[].keys&&(cs=[].keys(),"next"in cs?(us=_f(_f(cs)),us!==Object.prototype&&(Oe=us)):bf=!0);var iE=!JS(Oe)||QS(function(){var e={};return Oe[ls].call(e)!==e});iE?Oe={}:nE&&(Oe=eE(Oe));ZS(Oe[ls])||tE(Oe,ls,function(){return this});Sf.exports={IteratorPrototype:Oe,BUGGY_SAFARI_ITERATORS:bf}});var Pf=p(()=>{"use strict";var sE=Qe(),oE=Ae(),aE=Dt(),uE=oe(),cE=ne(),wf=Ef().IteratorPrototype,Rf=cE("dispose");uE(wf,Rf)||oE(wf,Rf,function(){var e=aE(this,"return");e&&sE(e,this)})});var Af=p((zT,xf)=>{"use strict";var lE=W();xf.exports=lE});var Tf=p(Of=>{"use strict";var fE=ne();Of.f=fE});var fs=p((XT,If)=>{"use strict";var Cf=Af(),pE=oe(),hE=Tf(),dE=xe().f;If.exports=function(e){var t=Cf.Symbol||(Cf.Symbol={});pE(t,e)||dE(t,e,{value:hE.f(e)})}});var kf=p(()=>{"use strict";var yE=W(),mE=fs(),gE=xe().f,vE=$t().f,ps=yE.Symbol;mE("asyncDispose");ps&&(Kt=vE(ps,"asyncDispose"),Kt.enumerable&&Kt.configurable&&Kt.writable&&gE(ps,"asyncDispose",{value:Kt.value,enumerable:!1,configurable:!1,writable:!1}));var Kt});var qf=p(()=>{"use strict";var _E=W(),bE=fs(),SE=xe().f,EE=$t().f,hs=_E.Symbol;bE("dispose");hs&&(Wt=EE(hs,"dispose"),Wt.enumerable&&Wt.configurable&&Wt.writable&&SE(hs,"dispose",{value:Wt.value,enumerable:!1,configurable:!1,writable:!1}));var Wt});var Nf=p(()=>{"use strict";Il();Jl();hf();vf();Pf();kf();qf()});var xp=p(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.splitWhen=bt.flatten=void 0;function hw(e){return e.reduce((t,r)=>[].concat(t,r),[])}bt.flatten=hw;function dw(e,t){let r=[[]],n=0;for(let i of e)t(i)?(n++,r[n]=[]):r[n].push(i);return r}bt.splitWhen=dw});var Ap=p(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.isEnoentCodeError=void 0;function yw(e){return e.code==="ENOENT"}hn.isEnoentCodeError=yw});var Op=p(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.createDirentFromStats=void 0;var qs=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function mw(e,t){return new qs(e,t)}dn.createDirentFromStats=mw});var kp=p(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.convertPosixPathToPattern=G.convertWindowsPathToPattern=G.convertPathToPattern=G.escapePosixPath=G.escapeWindowsPath=G.escape=G.removeLeadingDotSegment=G.makeAbsolute=G.unixify=void 0;var gw=require("os"),vw=require("path"),Tp=gw.platform()==="win32",_w=2,bw=/(\\\\?)([()*?[\\]{|}]|^!|[!+@](?=\\()|\\\\(?![!()*+?@[\\]{|}]))/g,Sw=/(\\\\?)([()[\\]{}]|^!|[!+@](?=\\())/g,Ew=/^\\\\\\\\([.?])/,ww=/\\\\(?![!()+@[\\]{}])/g;function Rw(e){return e.replace(/\\\\/g,"/")}G.unixify=Rw;function Pw(e,t){return vw.resolve(e,t)}G.makeAbsolute=Pw;function xw(e){if(e.charAt(0)==="."){let t=e.charAt(1);if(t==="/"||t==="\\\\")return e.slice(_w)}return e}G.removeLeadingDotSegment=xw;G.escape=Tp?Ns:Ls;function Ns(e){return e.replace(Sw,"\\\\$2")}G.escapeWindowsPath=Ns;function Ls(e){return e.replace(bw,"\\\\$2")}G.escapePosixPath=Ls;G.convertPathToPattern=Tp?Cp:Ip;function Cp(e){return Ns(e).replace(Ew,"//$1").replace(ww,"/")}G.convertWindowsPathToPattern=Cp;function Ip(e){return Ls(e)}G.convertPosixPathToPattern=Ip});var Np=p((hk,qp)=>{qp.exports=function(t){if(typeof t!="string"||t==="")return!1;for(var r;r=/(\\\\).|([@?!+*]\\(.*\\))/g.exec(t);){if(r[2])return!0;t=t.slice(r.index+r[0].length)}return!1}});var Mp=p((dk,Dp)=>{var Aw=Np(),Lp={"{":"}","(":")","[":"]"},Ow=function(e){if(e[0]==="!")return!0;for(var t=0,r=-2,n=-2,i=-2,s=-2,o=-2;t<e.length;){if(e[t]==="*"||e[t+1]==="?"&&/[\\].+)]/.test(e[t])||n!==-1&&e[t]==="["&&e[t+1]!=="]"&&(n<t&&(n=e.indexOf("]",t)),n>t&&(o===-1||o>n||(o=e.indexOf("\\\\",t),o===-1||o>n)))||i!==-1&&e[t]==="{"&&e[t+1]!=="}"&&(i=e.indexOf("}",t),i>t&&(o=e.indexOf("\\\\",t),o===-1||o>i))||s!==-1&&e[t]==="("&&e[t+1]==="?"&&/[:!=]/.test(e[t+2])&&e[t+3]!==")"&&(s=e.indexOf(")",t),s>t&&(o=e.indexOf("\\\\",t),o===-1||o>s))||r!==-1&&e[t]==="("&&e[t+1]!=="|"&&(r<t&&(r=e.indexOf("|",t)),r!==-1&&e[r+1]!==")"&&(s=e.indexOf(")",r),s>r&&(o=e.indexOf("\\\\",r),o===-1||o>s))))return!0;if(e[t]==="\\\\"){var a=e[t+1];t+=2;var u=Lp[a];if(u){var c=e.indexOf(u,t);c!==-1&&(t=c+1)}if(e[t]==="!")return!0}else t++}return!1},Tw=function(e){if(e[0]==="!")return!0;for(var t=0;t<e.length;){if(/[*?{}()[\\]]/.test(e[t]))return!0;if(e[t]==="\\\\"){var r=e[t+1];t+=2;var n=Lp[r];if(n){var i=e.indexOf(n,t);i!==-1&&(t=i+1)}if(e[t]==="!")return!0}else t++}return!1};Dp.exports=function(t,r){if(typeof t!="string"||t==="")return!1;if(Aw(t))return!0;var n=Ow;return r&&r.strict===!1&&(n=Tw),n(t)}});var $p=p((yk,jp)=>{"use strict";var Cw=Mp(),Iw=require("path").posix.dirname,kw=require("os").platform()==="win32",Ds="/",qw=/\\\\/g,Nw=/[\\{\\[].*[\\}\\]]$/,Lw=/(^|[^\\\\])([\\{\\[]|\\([^\\)]+$)/,Dw=/\\\\([\\!\\*\\?\\|\\[\\]\\(\\)\\{\\}])/g;jp.exports=function(t,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&kw&&t.indexOf(Ds)<0&&(t=t.replace(qw,Ds)),Nw.test(t)&&(t+=Ds),t+="a";do t=Iw(t);while(Cw(t)||Lw.test(t));return t.replace(Dw,"$1")}});var yn=p(ue=>{"use strict";ue.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;ue.find=(e,t)=>e.nodes.find(r=>r.type===t);ue.exceedsLimit=(e,t,r=1,n)=>n===!1||!ue.isInteger(e)||!ue.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=n;ue.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];n&&(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\\\"+n.value,n.escaped=!0)};ue.encloseBrace=e=>e.type!=="brace"?!1:e.commas>>0+e.ranges>>0===0?(e.invalid=!0,!0):!1;ue.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0===0||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;ue.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;ue.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);ue.flatten=(...e)=>{let t=[],r=n=>{for(let i=0;i<n.length;i++){let s=n[i];if(Array.isArray(s)){r(s);continue}s!==void 0&&t.push(s)}return t};return r(e),t}});var mn=p((gk,Hp)=>{"use strict";var Fp=yn();Hp.exports=(e,t={})=>{let r=(n,i={})=>{let s=t.escapeInvalid&&Fp.isInvalidBrace(i),o=n.invalid===!0&&t.escapeInvalid===!0,a="";if(n.value)return(s||o)&&Fp.isOpenOrClose(n)?"\\\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let u of n.nodes)a+=r(u);return a};return r(e)}});var Up=p((vk,Bp)=>{"use strict";Bp.exports=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var Zp=p((_k,Qp)=>{"use strict";var Gp=Up(),nt=(e,t,r)=>{if(Gp(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(Gp(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),s=String(n.shorthand),o=String(n.capture),a=String(n.wrap),u=e+":"+t+"="+i+s+o+a;if(nt.cache.hasOwnProperty(u))return nt.cache[u].result;let c=Math.min(e,t),l=Math.max(e,t);if(Math.abs(c-l)===1){let v=e+"|"+t;return n.capture?`(${v})`:n.wrap===!1?v:`(?:${v})`}let f=Xp(e)||Xp(t),h={min:e,max:t,a:c,b:l},w=[],d=[];if(f&&(h.isPadded=f,h.maxLen=String(h.max).length),c<0){let v=l<0?Math.abs(l):1;d=Vp(v,Math.abs(c),h,n),c=h.a=0}return l>=0&&(w=Vp(c,l,h,n)),h.negatives=d,h.positives=w,h.result=Mw(d,w,n),n.capture===!0?h.result=`(${h.result})`:n.wrap!==!1&&w.length+d.length>1&&(h.result=`(?:${h.result})`),nt.cache[u]=h,h.result};function Mw(e,t,r){let n=Ms(e,t,"-",!1,r)||[],i=Ms(t,e,"",!1,r)||[],s=Ms(e,t,"-?",!0,r)||[];return n.concat(s).concat(i).join("|")}function jw(e,t){let r=1,n=1,i=Wp(e,r),s=new Set([t]);for(;e<=i&&i<=t;)s.add(i),r+=1,i=Wp(e,r);for(i=zp(t+1,n)-1;e<i&&i<=t;)s.add(i),n+=1,i=zp(t+1,n)-1;return s=[...s],s.sort(Hw),s}function $w(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=Fw(e,t),i=n.length,s="",o=0;for(let a=0;a<i;a++){let[u,c]=n[a];u===c?s+=u:u!=="0"||c!=="9"?s+=Bw(u,c,r):o++}return o&&(s+=r.shorthand===!0?"\\\\d":"[0-9]"),{pattern:s,count:[o],digits:i}}function Vp(e,t,r,n){let i=jw(e,t),s=[],o=e,a;for(let u=0;u<i.length;u++){let c=i[u],l=$w(String(o),String(c),n),f="";if(!r.isPadded&&a&&a.pattern===l.pattern){a.count.length>1&&a.count.pop(),a.count.push(l.count[0]),a.string=a.pattern+Yp(a.count),o=c+1;continue}r.isPadded&&(f=Uw(c,r,n)),l.string=f+l.pattern+Yp(l.count),s.push(l),o=c+1,a=l}return s}function Ms(e,t,r,n,i){let s=[];for(let o of e){let{string:a}=o;!n&&!Kp(t,"string",a)&&s.push(r+a),n&&Kp(t,"string",a)&&s.push(r+a)}return s}function Fw(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function Hw(e,t){return e>t?1:t>e?-1:0}function Kp(e,t,r){return e.some(n=>n[t]===r)}function Wp(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function zp(e,t){return e-e%Math.pow(10,t)}function Yp(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function Bw(e,t,r){return`[${e}${t-e===1?"":"-"}${t}]`}function Xp(e){return/^-?(0+)\\d/.test(e)}function Uw(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),i=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}nt.cache={};nt.clearCache=()=>nt.cache={};Qp.exports=nt});var Fs=p((bk,sh)=>{"use strict";var Gw=require("util"),eh=Zp(),Jp=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),Vw=e=>t=>e===!0?Number(t):String(t),js=e=>typeof e=="number"||typeof e=="string"&&e!=="",er=e=>Number.isInteger(+e),$s=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},Kw=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,Ww=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},vn=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},zw=(e,t,r)=>{e.negatives.sort((a,u)=>a<u?-1:a>u?1:0),e.positives.sort((a,u)=>a<u?-1:a>u?1:0);let n=t.capture?"":"?:",i="",s="",o;return e.positives.length&&(i=e.positives.map(a=>vn(String(a),r)).join("|")),e.negatives.length&&(s=`-(${n}${e.negatives.map(a=>vn(String(a),r)).join("|")})`),i&&s?o=`${i}|${s}`:o=i||s,t.wrap?`(${n}${o})`:o},th=(e,t,r,n)=>{if(r)return eh(e,t,{wrap:!1,...n});let i=String.fromCharCode(e);if(e===t)return i;let s=String.fromCharCode(t);return`[${i}-${s}]`},rh=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,i=r.capture?"":"?:";return n?`(${i}${e.join("|")})`:e.join("|")}return eh(e,t,r)},nh=(...e)=>new RangeError("Invalid range arguments: "+Gw.inspect(...e)),ih=(e,t,r)=>{if(r.strictRanges===!0)throw nh([e,t]);return[]},Yw=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},Xw=(e,t,r=1,n={})=>{let i=Number(e),s=Number(t);if(!Number.isInteger(i)||!Number.isInteger(s)){if(n.strictRanges===!0)throw nh([e,t]);return[]}i===0&&(i=0),s===0&&(s=0);let o=i>s,a=String(e),u=String(t),c=String(r);r=Math.max(Math.abs(r),1);let l=$s(a)||$s(u)||$s(c),f=l?Math.max(a.length,u.length,c.length):0,h=l===!1&&Kw(e,t,n)===!1,w=n.transform||Vw(h);if(n.toRegex&&r===1)return th(vn(e,f),vn(t,f),!0,n);let d={negatives:[],positives:[]},v=C=>d[C<0?"negatives":"positives"].push(Math.abs(C)),b=[],T=0;for(;o?i>=s:i<=s;)n.toRegex===!0&&r>1?v(i):b.push(Ww(w(i,T),f,h)),i=o?i-r:i+r,T++;return n.toRegex===!0?r>1?zw(d,n,f):rh(b,null,{wrap:!1,...n}):b},Qw=(e,t,r=1,n={})=>{if(!er(e)&&e.length>1||!er(t)&&t.length>1)return ih(e,t,n);let i=n.transform||(h=>String.fromCharCode(h)),s=`${e}`.charCodeAt(0),o=`${t}`.charCodeAt(0),a=s>o,u=Math.min(s,o),c=Math.max(s,o);if(n.toRegex&&r===1)return th(u,c,!1,n);let l=[],f=0;for(;a?s>=o:s<=o;)l.push(i(s,f)),s=a?s-r:s+r,f++;return n.toRegex===!0?rh(l,null,{wrap:!1,options:n}):l},gn=(e,t,r,n={})=>{if(t==null&&js(e))return[e];if(!js(e)||!js(t))return ih(e,t,n);if(typeof r=="function")return gn(e,t,1,{transform:r});if(Jp(r))return gn(e,t,0,r);let i={...n};return i.capture===!0&&(i.wrap=!0),r=r||i.step||1,er(r)?er(e)&&er(t)?Xw(e,t,r,i):Qw(e,t,Math.max(Math.abs(r),1),i):r!=null&&!Jp(r)?Yw(r,i):gn(e,t,1,r)};sh.exports=gn});var uh=p((Sk,ah)=>{"use strict";var Zw=Fs(),oh=yn(),Jw=(e,t={})=>{let r=(n,i={})=>{let s=oh.isInvalidBrace(i),o=n.invalid===!0&&t.escapeInvalid===!0,a=s===!0||o===!0,u=t.escapeInvalid===!0?"\\\\":"",c="";if(n.isOpen===!0)return u+n.value;if(n.isClose===!0)return console.log("node.isClose",u,n.value),u+n.value;if(n.type==="open")return a?u+n.value:"(";if(n.type==="close")return a?u+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let l=oh.reduce(n.nodes),f=Zw(...l,{...t,wrap:!1,toRegex:!0,strictZeros:!0});if(f.length!==0)return l.length>1&&f.length>1?`(${f})`:f}if(n.nodes)for(let l of n.nodes)c+=r(l,n);return c};return r(e)};ah.exports=Jw});var fh=p((Ek,lh)=>{"use strict";var eR=Fs(),ch=mn(),St=yn(),it=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?St.flatten(t).map(i=>`{${i}}`):t;for(let i of e)if(Array.isArray(i))for(let s of i)n.push(it(s,t,r));else for(let s of t)r===!0&&typeof s=="string"&&(s=`{${s}}`),n.push(Array.isArray(s)?it(i,s,r):i+s);return St.flatten(n)},tR=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(i,s={})=>{i.queue=[];let o=s,a=s.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,a=o.queue;if(i.invalid||i.dollar){a.push(it(a.pop(),ch(i,t)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(it(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let f=St.reduce(i.nodes);if(St.exceedsLimit(...f,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let h=eR(...f,t);h.length===0&&(h=ch(i,t)),a.push(it(a.pop(),h)),i.nodes=[];return}let u=St.encloseBrace(i),c=i.queue,l=i;for(;l.type!=="brace"&&l.type!=="root"&&l.parent;)l=l.parent,c=l.queue;for(let f=0;f<i.nodes.length;f++){let h=i.nodes[f];if(h.type==="comma"&&i.type==="brace"){f===1&&c.push(""),c.push("");continue}if(h.type==="close"){a.push(it(a.pop(),c,u));continue}if(h.value&&h.type!=="open"){c.push(it(c.pop(),h.value));continue}h.nodes&&n(h,i)}return c};return St.flatten(n(e))};lh.exports=tR});var hh=p((wk,ph)=>{"use strict";ph.exports={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:\'"\',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`\n`,CHAR_NO_BREAK_SPACE:"\\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"\'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\\uFEFF"}});var vh=p((Rk,gh)=>{"use strict";var rR=mn(),{MAX_LENGTH:dh,CHAR_BACKSLASH:Hs,CHAR_BACKTICK:nR,CHAR_COMMA:iR,CHAR_DOT:sR,CHAR_LEFT_PARENTHESES:oR,CHAR_RIGHT_PARENTHESES:aR,CHAR_LEFT_CURLY_BRACE:uR,CHAR_RIGHT_CURLY_BRACE:cR,CHAR_LEFT_SQUARE_BRACKET:yh,CHAR_RIGHT_SQUARE_BRACKET:mh,CHAR_DOUBLE_QUOTE:lR,CHAR_SINGLE_QUOTE:fR,CHAR_NO_BREAK_SPACE:pR,CHAR_ZERO_WIDTH_NOBREAK_SPACE:hR}=hh(),dR=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(dh,r.maxLength):dh;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let i={type:"root",input:e,nodes:[]},s=[i],o=i,a=i,u=0,c=e.length,l=0,f=0,h,w=()=>e[l++],d=v=>{if(v.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&v.type==="text"){a.value+=v.value;return}return o.nodes.push(v),v.parent=o,v.prev=a,a=v,v};for(d({type:"bos"});l<c;)if(o=s[s.length-1],h=w(),!(h===hR||h===pR)){if(h===Hs){d({type:"text",value:(t.keepEscaping?h:"")+w()});continue}if(h===mh){d({type:"text",value:"\\\\"+h});continue}if(h===yh){u++;let v;for(;l<c&&(v=w());){if(h+=v,v===yh){u++;continue}if(v===Hs){h+=w();continue}if(v===mh&&(u--,u===0))break}d({type:"text",value:h});continue}if(h===oR){o=d({type:"paren",nodes:[]}),s.push(o),d({type:"text",value:h});continue}if(h===aR){if(o.type!=="paren"){d({type:"text",value:h});continue}o=s.pop(),d({type:"text",value:h}),o=s[s.length-1];continue}if(h===lR||h===fR||h===nR){let v=h,b;for(t.keepQuotes!==!0&&(h="");l<c&&(b=w());){if(b===Hs){h+=b+w();continue}if(b===v){t.keepQuotes===!0&&(h+=b);break}h+=b}d({type:"text",value:h});continue}if(h===uR){f++;let b={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||o.dollar===!0,depth:f,commas:0,ranges:0,nodes:[]};o=d(b),s.push(o),d({type:"open",value:h});continue}if(h===cR){if(o.type!=="brace"){d({type:"text",value:h});continue}let v="close";o=s.pop(),o.close=!0,d({type:v,value:h}),f--,o=s[s.length-1];continue}if(h===iR&&f>0){if(o.ranges>0){o.ranges=0;let v=o.nodes.shift();o.nodes=[v,{type:"text",value:rR(o)}]}d({type:"comma",value:h}),o.commas++;continue}if(h===sR&&f>0&&o.commas===0){let v=o.nodes;if(f===0||v.length===0){d({type:"text",value:h});continue}if(a.type==="dot"){if(o.range=[],a.value+=h,a.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,a.type="text";continue}o.ranges++,o.args=[];continue}if(a.type==="range"){v.pop();let b=v[v.length-1];b.value+=a.value+h,a=b,o.ranges--;continue}d({type:"dot",value:h});continue}d({type:"text",value:h})}do if(o=s.pop(),o.type!=="root"){o.nodes.forEach(T=>{T.nodes||(T.type==="open"&&(T.isOpen=!0),T.type==="close"&&(T.isClose=!0),T.nodes||(T.type="text"),T.invalid=!0)});let v=s[s.length-1],b=v.nodes.indexOf(o);v.nodes.splice(b,1,...o.nodes)}while(s.length>0);return d({type:"eos"}),i};gh.exports=dR});var Sh=p((Pk,bh)=>{"use strict";var _h=mn(),yR=uh(),mR=fh(),gR=vh(),ie=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let i=ie.create(n,t);Array.isArray(i)?r.push(...i):r.push(i)}else r=[].concat(ie.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};ie.parse=(e,t={})=>gR(e,t);ie.stringify=(e,t={})=>_h(typeof e=="string"?ie.parse(e,t):e,t);ie.compile=(e,t={})=>(typeof e=="string"&&(e=ie.parse(e,t)),yR(e,t));ie.expand=(e,t={})=>{typeof e=="string"&&(e=ie.parse(e,t));let r=mR(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};ie.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?ie.compile(e,t):ie.expand(e,t);bh.exports=ie});var tr=p((xk,xh)=>{"use strict";var vR=require("path"),Se="\\\\\\\\/",Eh=`[^${Se}]`,Ce="\\\\.",_R="\\\\+",bR="\\\\?",_n="\\\\/",SR="(?=.)",wh="[^/]",Bs=`(?:${_n}|$)`,Rh=`(?:^|${_n})`,Us=`${Ce}{1,2}${Bs}`,ER=`(?!${Ce})`,wR=`(?!${Rh}${Us})`,RR=`(?!${Ce}{0,1}${Bs})`,PR=`(?!${Us})`,xR=`[^.${_n}]`,AR=`${wh}*?`,Ph={DOT_LITERAL:Ce,PLUS_LITERAL:_R,QMARK_LITERAL:bR,SLASH_LITERAL:_n,ONE_CHAR:SR,QMARK:wh,END_ANCHOR:Bs,DOTS_SLASH:Us,NO_DOT:ER,NO_DOTS:wR,NO_DOT_SLASH:RR,NO_DOTS_SLASH:PR,QMARK_NO_DOT:xR,STAR:AR,START_ANCHOR:Rh},OR={...Ph,SLASH_LITERAL:`[${Se}]`,QMARK:Eh,STAR:`${Eh}*?`,DOTS_SLASH:`${Ce}{1,2}(?:[${Se}]|$)`,NO_DOT:`(?!${Ce})`,NO_DOTS:`(?!(?:^|[${Se}])${Ce}{1,2}(?:[${Se}]|$))`,NO_DOT_SLASH:`(?!${Ce}{0,1}(?:[${Se}]|$))`,NO_DOTS_SLASH:`(?!${Ce}{1,2}(?:[${Se}]|$))`,QMARK_NO_DOT:`[^.${Se}]`,START_ANCHOR:`(?:^|[${Se}])`,END_ANCHOR:`(?:[${Se}]|$)`},TR={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\\\x00-\\\\x7F",blank:" \\\\t",cntrl:"\\\\x00-\\\\x1F\\\\x7F",digit:"0-9",graph:"\\\\x21-\\\\x7E",lower:"a-z",print:"\\\\x20-\\\\x7E ",punct:"\\\\-!\\"#$%&\'()\\\\*+,./:;<=>?@[\\\\]^_`{|}~",space:" \\\\t\\\\r\\\\n\\\\v\\\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};xh.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:TR,REGEX_BACKSLASH:/\\\\(?![*+?^${}(|)[\\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\\].,$*+?^{}()|\\\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\\\?)((\\W)(\\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\\[.*?[^\\\\]\\]|\\\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:vR.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?OR:Ph}}});var rr=p(ee=>{"use strict";var CR=require("path"),IR=process.platform==="win32",{REGEX_BACKSLASH:kR,REGEX_REMOVE_BACKSLASH:qR,REGEX_SPECIAL_CHARS:NR,REGEX_SPECIAL_CHARS_GLOBAL:LR}=tr();ee.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);ee.hasRegexChars=e=>NR.test(e);ee.isRegexChar=e=>e.length===1&&ee.hasRegexChars(e);ee.escapeRegex=e=>e.replace(LR,"\\\\$1");ee.toPosixSlashes=e=>e.replace(kR,"/");ee.removeBackslashes=e=>e.replace(qR,t=>t==="\\\\"?"":t);ee.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};ee.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:IR===!0||CR.sep==="\\\\";ee.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\\\"?ee.escapeLast(e,t,n-1):`${e.slice(0,n)}\\\\${e.slice(n)}`};ee.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};ee.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",i=r.contains?"":"$",s=`${n}(?:${e})${i}`;return t.negated===!0&&(s=`(?:^(?!${s}).*$)`),s}});var Nh=p((Ok,qh)=>{"use strict";var Ah=rr(),{CHAR_ASTERISK:Gs,CHAR_AT:DR,CHAR_BACKWARD_SLASH:nr,CHAR_COMMA:MR,CHAR_DOT:Vs,CHAR_EXCLAMATION_MARK:Ks,CHAR_FORWARD_SLASH:kh,CHAR_LEFT_CURLY_BRACE:Ws,CHAR_LEFT_PARENTHESES:zs,CHAR_LEFT_SQUARE_BRACKET:jR,CHAR_PLUS:$R,CHAR_QUESTION_MARK:Oh,CHAR_RIGHT_CURLY_BRACE:FR,CHAR_RIGHT_PARENTHESES:Th,CHAR_RIGHT_SQUARE_BRACKET:HR}=tr(),Ch=e=>e===kh||e===nr,Ih=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},BR=(e,t)=>{let r=t||{},n=e.length-1,i=r.parts===!0||r.scanToEnd===!0,s=[],o=[],a=[],u=e,c=-1,l=0,f=0,h=!1,w=!1,d=!1,v=!1,b=!1,T=!1,C=!1,A=!1,k=!1,_=!1,x=0,E,R,O={value:"",depth:0,isGlob:!1},D=()=>c>=n,y=()=>u.charCodeAt(c+1),j=()=>(E=R,u.charCodeAt(++c));for(;c<n;){R=j();let X;if(R===nr){C=O.backslashes=!0,R=j(),R===Ws&&(T=!0);continue}if(T===!0||R===Ws){for(x++;D()!==!0&&(R=j());){if(R===nr){C=O.backslashes=!0,j();continue}if(R===Ws){x++;continue}if(T!==!0&&R===Vs&&(R=j())===Vs){if(h=O.isBrace=!0,d=O.isGlob=!0,_=!0,i===!0)continue;break}if(T!==!0&&R===MR){if(h=O.isBrace=!0,d=O.isGlob=!0,_=!0,i===!0)continue;break}if(R===FR&&(x--,x===0)){T=!1,h=O.isBrace=!0,_=!0;break}}if(i===!0)continue;break}if(R===kh){if(s.push(c),o.push(O),O={value:"",depth:0,isGlob:!1},_===!0)continue;if(E===Vs&&c===l+1){l+=2;continue}f=c+1;continue}if(r.noext!==!0&&(R===$R||R===DR||R===Gs||R===Oh||R===Ks)===!0&&y()===zs){if(d=O.isGlob=!0,v=O.isExtglob=!0,_=!0,R===Ks&&c===l&&(k=!0),i===!0){for(;D()!==!0&&(R=j());){if(R===nr){C=O.backslashes=!0,R=j();continue}if(R===Th){d=O.isGlob=!0,_=!0;break}}continue}break}if(R===Gs){if(E===Gs&&(b=O.isGlobstar=!0),d=O.isGlob=!0,_=!0,i===!0)continue;break}if(R===Oh){if(d=O.isGlob=!0,_=!0,i===!0)continue;break}if(R===jR){for(;D()!==!0&&(X=j());){if(X===nr){C=O.backslashes=!0,j();continue}if(X===HR){w=O.isBracket=!0,d=O.isGlob=!0,_=!0;break}}if(i===!0)continue;break}if(r.nonegate!==!0&&R===Ks&&c===l){A=O.negated=!0,l++;continue}if(r.noparen!==!0&&R===zs){if(d=O.isGlob=!0,i===!0){for(;D()!==!0&&(R=j());){if(R===zs){C=O.backslashes=!0,R=j();continue}if(R===Th){_=!0;break}}continue}break}if(d===!0){if(_=!0,i===!0)continue;break}}r.noext===!0&&(v=!1,d=!1);let $=u,ke="",m="";l>0&&(ke=u.slice(0,l),u=u.slice(l),f-=l),$&&d===!0&&f>0?($=u.slice(0,f),m=u.slice(f)):d===!0?($="",m=u):$=u,$&&$!==""&&$!=="/"&&$!==u&&Ch($.charCodeAt($.length-1))&&($=$.slice(0,-1)),r.unescape===!0&&(m&&(m=Ah.removeBackslashes(m)),$&&C===!0&&($=Ah.removeBackslashes($)));let g={prefix:ke,input:e,start:l,base:$,glob:m,isBrace:h,isBracket:w,isGlob:d,isExtglob:v,isGlobstar:b,negated:A,negatedExtglob:k};if(r.tokens===!0&&(g.maxDepth=0,Ch(R)||o.push(O),g.tokens=o),r.parts===!0||r.tokens===!0){let X;for(let M=0;M<s.length;M++){let ge=X?X+1:l,ve=s[M],te=e.slice(ge,ve);r.tokens&&(M===0&&l!==0?(o[M].isPrefix=!0,o[M].value=ke):o[M].value=te,Ih(o[M]),g.maxDepth+=o[M].depth),(M!==0||te!=="")&&a.push(te),X=ve}if(X&&X+1<e.length){let M=e.slice(X+1);a.push(M),r.tokens&&(o[o.length-1].value=M,Ih(o[o.length-1]),g.maxDepth+=o[o.length-1].depth)}g.slashes=s,g.parts=a}return g};qh.exports=BR});var Mh=p((Tk,Dh)=>{"use strict";var bn=tr(),se=rr(),{MAX_LENGTH:Sn,POSIX_REGEX_SOURCE:UR,REGEX_NON_SPECIAL_CHARS:GR,REGEX_SPECIAL_CHARS_BACKREF:VR,REPLACEMENTS:Lh}=bn,KR=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch{return e.map(i=>se.escapeRegex(i)).join("..")}return r},Et=(e,t)=>`Missing ${e}: "${t}" - use "\\\\\\\\${t}" to match literal characters`,Ys=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=Lh[e]||e;let r={...t},n=typeof r.maxLength=="number"?Math.min(Sn,r.maxLength):Sn,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let s={type:"bos",value:"",output:r.prepend||""},o=[s],a=r.capture?"":"?:",u=se.isWindows(t),c=bn.globChars(u),l=bn.extglobChars(c),{DOT_LITERAL:f,PLUS_LITERAL:h,SLASH_LITERAL:w,ONE_CHAR:d,DOTS_SLASH:v,NO_DOT:b,NO_DOT_SLASH:T,NO_DOTS_SLASH:C,QMARK:A,QMARK_NO_DOT:k,STAR:_,START_ANCHOR:x}=c,E=P=>`(${a}(?:(?!${x}${P.dot?v:f}).)*?)`,R=r.dot?"":b,O=r.dot?A:k,D=r.bash===!0?E(r):_;r.capture&&(D=`(${D})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let y={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};e=se.removePrefix(e,y),i=e.length;let j=[],$=[],ke=[],m=s,g,X=()=>y.index===i-1,M=y.peek=(P=1)=>e[y.index+P],ge=y.advance=()=>e[++y.index]||"",ve=()=>e.slice(y.index+1),te=(P="",F=0)=>{y.consumed+=P,y.index+=F},pr=P=>{y.output+=P.output!=null?P.output:P.value,te(P.value)},Im=()=>{let P=1;for(;M()==="!"&&(M(2)!=="("||M(3)==="?");)ge(),y.start++,P++;return P%2===0?!1:(y.negated=!0,y.start++,!0)},hr=P=>{y[P]++,ke.push(P)},ze=P=>{y[P]--,ke.pop()},L=P=>{if(m.type==="globstar"){let F=y.braces>0&&(P.type==="comma"||P.type==="brace"),S=P.extglob===!0||j.length&&(P.type==="pipe"||P.type==="paren");P.type!=="slash"&&P.type!=="paren"&&!F&&!S&&(y.output=y.output.slice(0,-m.output.length),m.type="star",m.value="*",m.output=D,y.output+=m.output)}if(j.length&&P.type!=="paren"&&(j[j.length-1].inner+=P.value),(P.value||P.output)&&pr(P),m&&m.type==="text"&&P.type==="text"){m.value+=P.value,m.output=(m.output||"")+P.value;return}P.prev=m,o.push(P),m=P},dr=(P,F)=>{let S={...l[F],conditions:1,inner:""};S.prev=m,S.parens=y.parens,S.output=y.output;let N=(r.capture?"(":"")+S.open;hr("parens"),L({type:P,value:F,output:y.output?"":d}),L({type:"paren",extglob:!0,value:ge(),output:N}),j.push(S)},km=P=>{let F=P.close+(r.capture?")":""),S;if(P.type==="negate"){let N=D;if(P.inner&&P.inner.length>1&&P.inner.includes("/")&&(N=E(r)),(N!==D||X()||/^\\)+$/.test(ve()))&&(F=P.close=`)$))${N}`),P.inner.includes("*")&&(S=ve())&&/^\\.[^\\\\/.]+$/.test(S)){let B=Ys(S,{...t,fastpaths:!1}).output;F=P.close=`)${B})${N})`}P.prev.type==="bos"&&(y.negatedExtglob=!0)}L({type:"paren",extglob:!0,value:g,output:F}),ze("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\\]{}"])/.test(e)){let P=!1,F=e.replace(VR,(S,N,B,Q,V,si)=>Q==="\\\\"?(P=!0,S):Q==="?"?N?N+Q+(V?A.repeat(V.length):""):si===0?O+(V?A.repeat(V.length):""):A.repeat(B.length):Q==="."?f.repeat(B.length):Q==="*"?N?N+Q+(V?D:""):D:N?S:`\\\\${S}`);return P===!0&&(r.unescape===!0?F=F.replace(/\\\\/g,""):F=F.replace(/\\\\+/g,S=>S.length%2===0?"\\\\\\\\":S?"\\\\":"")),F===e&&r.contains===!0?(y.output=e,y):(y.output=se.wrapOutput(F,y,t),y)}for(;!X();){if(g=ge(),g==="\\0")continue;if(g==="\\\\"){let S=M();if(S==="/"&&r.bash!==!0||S==="."||S===";")continue;if(!S){g+="\\\\",L({type:"text",value:g});continue}let N=/^\\\\+/.exec(ve()),B=0;if(N&&N[0].length>2&&(B=N[0].length,y.index+=B,B%2!==0&&(g+="\\\\")),r.unescape===!0?g=ge():g+=ge(),y.brackets===0){L({type:"text",value:g});continue}}if(y.brackets>0&&(g!=="]"||m.value==="["||m.value==="[^")){if(r.posix!==!1&&g===":"){let S=m.value.slice(1);if(S.includes("[")&&(m.posix=!0,S.includes(":"))){let N=m.value.lastIndexOf("["),B=m.value.slice(0,N),Q=m.value.slice(N+2),V=UR[Q];if(V){m.value=B+V,y.backtrack=!0,ge(),!s.output&&o.indexOf(m)===1&&(s.output=d);continue}}}(g==="["&&M()!==":"||g==="-"&&M()==="]")&&(g=`\\\\${g}`),g==="]"&&(m.value==="["||m.value==="[^")&&(g=`\\\\${g}`),r.posix===!0&&g==="!"&&m.value==="["&&(g="^"),m.value+=g,pr({value:g});continue}if(y.quotes===1&&g!==\'"\'){g=se.escapeRegex(g),m.value+=g,pr({value:g});continue}if(g===\'"\'){y.quotes=y.quotes===1?0:1,r.keepQuotes===!0&&L({type:"text",value:g});continue}if(g==="("){hr("parens"),L({type:"paren",value:g});continue}if(g===")"){if(y.parens===0&&r.strictBrackets===!0)throw new SyntaxError(Et("opening","("));let S=j[j.length-1];if(S&&y.parens===S.parens+1){km(j.pop());continue}L({type:"paren",value:g,output:y.parens?")":"\\\\)"}),ze("parens");continue}if(g==="["){if(r.nobracket===!0||!ve().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(Et("closing","]"));g=`\\\\${g}`}else hr("brackets");L({type:"bracket",value:g});continue}if(g==="]"){if(r.nobracket===!0||m&&m.type==="bracket"&&m.value.length===1){L({type:"text",value:g,output:`\\\\${g}`});continue}if(y.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(Et("opening","["));L({type:"text",value:g,output:`\\\\${g}`});continue}ze("brackets");let S=m.value.slice(1);if(m.posix!==!0&&S[0]==="^"&&!S.includes("/")&&(g=`/${g}`),m.value+=g,pr({value:g}),r.literalBrackets===!1||se.hasRegexChars(S))continue;let N=se.escapeRegex(m.value);if(y.output=y.output.slice(0,-m.value.length),r.literalBrackets===!0){y.output+=N,m.value=N;continue}m.value=`(${a}${N}|${m.value})`,y.output+=m.value;continue}if(g==="{"&&r.nobrace!==!0){hr("braces");let S={type:"brace",value:g,output:"(",outputIndex:y.output.length,tokensIndex:y.tokens.length};$.push(S),L(S);continue}if(g==="}"){let S=$[$.length-1];if(r.nobrace===!0||!S){L({type:"text",value:g,output:g});continue}let N=")";if(S.dots===!0){let B=o.slice(),Q=[];for(let V=B.length-1;V>=0&&(o.pop(),B[V].type!=="brace");V--)B[V].type!=="dots"&&Q.unshift(B[V].value);N=KR(Q,r),y.backtrack=!0}if(S.comma!==!0&&S.dots!==!0){let B=y.output.slice(0,S.outputIndex),Q=y.tokens.slice(S.tokensIndex);S.value=S.output="\\\\{",g=N="\\\\}",y.output=B;for(let V of Q)y.output+=V.output||V.value}L({type:"brace",value:g,output:N}),ze("braces"),$.pop();continue}if(g==="|"){j.length>0&&j[j.length-1].conditions++,L({type:"text",value:g});continue}if(g===","){let S=g,N=$[$.length-1];N&&ke[ke.length-1]==="braces"&&(N.comma=!0,S="|"),L({type:"comma",value:g,output:S});continue}if(g==="/"){if(m.type==="dot"&&y.index===y.start+1){y.start=y.index+1,y.consumed="",y.output="",o.pop(),m=s;continue}L({type:"slash",value:g,output:w});continue}if(g==="."){if(y.braces>0&&m.type==="dot"){m.value==="."&&(m.output=f);let S=$[$.length-1];m.type="dots",m.output+=g,m.value+=g,S.dots=!0;continue}if(y.braces+y.parens===0&&m.type!=="bos"&&m.type!=="slash"){L({type:"text",value:g,output:f});continue}L({type:"dot",value:g,output:f});continue}if(g==="?"){if(!(m&&m.value==="(")&&r.noextglob!==!0&&M()==="("&&M(2)!=="?"){dr("qmark",g);continue}if(m&&m.type==="paren"){let N=M(),B=g;if(N==="<"&&!se.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(m.value==="("&&!/[!=<:]/.test(N)||N==="<"&&!/<([!=]|\\w+>)/.test(ve()))&&(B=`\\\\${g}`),L({type:"text",value:g,output:B});continue}if(r.dot!==!0&&(m.type==="slash"||m.type==="bos")){L({type:"qmark",value:g,output:k});continue}L({type:"qmark",value:g,output:A});continue}if(g==="!"){if(r.noextglob!==!0&&M()==="("&&(M(2)!=="?"||!/[!=<:]/.test(M(3)))){dr("negate",g);continue}if(r.nonegate!==!0&&y.index===0){Im();continue}}if(g==="+"){if(r.noextglob!==!0&&M()==="("&&M(2)!=="?"){dr("plus",g);continue}if(m&&m.value==="("||r.regex===!1){L({type:"plus",value:g,output:h});continue}if(m&&(m.type==="bracket"||m.type==="paren"||m.type==="brace")||y.parens>0){L({type:"plus",value:g});continue}L({type:"plus",value:h});continue}if(g==="@"){if(r.noextglob!==!0&&M()==="("&&M(2)!=="?"){L({type:"at",extglob:!0,value:g,output:""});continue}L({type:"text",value:g});continue}if(g!=="*"){(g==="$"||g==="^")&&(g=`\\\\${g}`);let S=GR.exec(ve());S&&(g+=S[0],y.index+=S[0].length),L({type:"text",value:g});continue}if(m&&(m.type==="globstar"||m.star===!0)){m.type="star",m.star=!0,m.value+=g,m.output=D,y.backtrack=!0,y.globstar=!0,te(g);continue}let P=ve();if(r.noextglob!==!0&&/^\\([^?]/.test(P)){dr("star",g);continue}if(m.type==="star"){if(r.noglobstar===!0){te(g);continue}let S=m.prev,N=S.prev,B=S.type==="slash"||S.type==="bos",Q=N&&(N.type==="star"||N.type==="globstar");if(r.bash===!0&&(!B||P[0]&&P[0]!=="/")){L({type:"star",value:g,output:""});continue}let V=y.braces>0&&(S.type==="comma"||S.type==="brace"),si=j.length&&(S.type==="pipe"||S.type==="paren");if(!B&&S.type!=="paren"&&!V&&!si){L({type:"star",value:g,output:""});continue}for(;P.slice(0,3)==="/**";){let yr=e[y.index+4];if(yr&&yr!=="/")break;P=P.slice(3),te("/**",3)}if(S.type==="bos"&&X()){m.type="globstar",m.value+=g,m.output=E(r),y.output=m.output,y.globstar=!0,te(g);continue}if(S.type==="slash"&&S.prev.type!=="bos"&&!Q&&X()){y.output=y.output.slice(0,-(S.output+m.output).length),S.output=`(?:${S.output}`,m.type="globstar",m.output=E(r)+(r.strictSlashes?")":"|$)"),m.value+=g,y.globstar=!0,y.output+=S.output+m.output,te(g);continue}if(S.type==="slash"&&S.prev.type!=="bos"&&P[0]==="/"){let yr=P[1]!==void 0?"|$":"";y.output=y.output.slice(0,-(S.output+m.output).length),S.output=`(?:${S.output}`,m.type="globstar",m.output=`${E(r)}${w}|${w}${yr})`,m.value+=g,y.output+=S.output+m.output,y.globstar=!0,te(g+ge()),L({type:"slash",value:"/",output:""});continue}if(S.type==="bos"&&P[0]==="/"){m.type="globstar",m.value+=g,m.output=`(?:^|${w}|${E(r)}${w})`,y.output=m.output,y.globstar=!0,te(g+ge()),L({type:"slash",value:"/",output:""});continue}y.output=y.output.slice(0,-m.output.length),m.type="globstar",m.output=E(r),m.value+=g,y.output+=m.output,y.globstar=!0,te(g);continue}let F={type:"star",value:g,output:D};if(r.bash===!0){F.output=".*?",(m.type==="bos"||m.type==="slash")&&(F.output=R+F.output),L(F);continue}if(m&&(m.type==="bracket"||m.type==="paren")&&r.regex===!0){F.output=g,L(F);continue}(y.index===y.start||m.type==="slash"||m.type==="dot")&&(m.type==="dot"?(y.output+=T,m.output+=T):r.dot===!0?(y.output+=C,m.output+=C):(y.output+=R,m.output+=R),M()!=="*"&&(y.output+=d,m.output+=d)),L(F)}for(;y.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(Et("closing","]"));y.output=se.escapeLast(y.output,"["),ze("brackets")}for(;y.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(Et("closing",")"));y.output=se.escapeLast(y.output,"("),ze("parens")}for(;y.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(Et("closing","}"));y.output=se.escapeLast(y.output,"{"),ze("braces")}if(r.strictSlashes!==!0&&(m.type==="star"||m.type==="bracket")&&L({type:"maybe_slash",value:"",output:`${w}?`}),y.backtrack===!0){y.output="";for(let P of y.tokens)y.output+=P.output!=null?P.output:P.value,P.suffix&&(y.output+=P.suffix)}return y};Ys.fastpaths=(e,t)=>{let r={...t},n=typeof r.maxLength=="number"?Math.min(Sn,r.maxLength):Sn,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);e=Lh[e]||e;let s=se.isWindows(t),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:u,DOTS_SLASH:c,NO_DOT:l,NO_DOTS:f,NO_DOTS_SLASH:h,STAR:w,START_ANCHOR:d}=bn.globChars(s),v=r.dot?f:l,b=r.dot?h:l,T=r.capture?"":"?:",C={negated:!1,prefix:""},A=r.bash===!0?".*?":w;r.capture&&(A=`(${A})`);let k=R=>R.noglobstar===!0?A:`(${T}(?:(?!${d}${R.dot?c:o}).)*?)`,_=R=>{switch(R){case"*":return`${v}${u}${A}`;case".*":return`${o}${u}${A}`;case"*.*":return`${v}${A}${o}${u}${A}`;case"*/*":return`${v}${A}${a}${u}${b}${A}`;case"**":return v+k(r);case"**/*":return`(?:${v}${k(r)}${a})?${b}${u}${A}`;case"**/*.*":return`(?:${v}${k(r)}${a})?${b}${A}${o}${u}${A}`;case"**/.*":return`(?:${v}${k(r)}${a})?${o}${u}${A}`;default:{let O=/^(.*?)\\.(\\w+)$/.exec(R);if(!O)return;let D=_(O[1]);return D?D+o+O[2]:void 0}}},x=se.removePrefix(e,C),E=_(x);return E&&r.strictSlashes!==!0&&(E+=`${a}?`),E};Dh.exports=Ys});var $h=p((Ck,jh)=>{"use strict";var WR=require("path"),zR=Nh(),Xs=Mh(),Qs=rr(),YR=tr(),XR=e=>e&&typeof e=="object"&&!Array.isArray(e),U=(e,t,r=!1)=>{if(Array.isArray(e)){let l=e.map(h=>U(h,t,r));return h=>{for(let w of l){let d=w(h);if(d)return d}return!1}}let n=XR(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=t||{},s=Qs.isWindows(t),o=n?U.compileRe(e,t):U.makeRe(e,t,!1,!0),a=o.state;delete o.state;let u=()=>!1;if(i.ignore){let l={...t,ignore:null,onMatch:null,onResult:null};u=U(i.ignore,l,r)}let c=(l,f=!1)=>{let{isMatch:h,match:w,output:d}=U.test(l,o,t,{glob:e,posix:s}),v={glob:e,state:a,regex:o,posix:s,input:l,output:d,match:w,isMatch:h};return typeof i.onResult=="function"&&i.onResult(v),h===!1?(v.isMatch=!1,f?v:!1):u(l)?(typeof i.onIgnore=="function"&&i.onIgnore(v),v.isMatch=!1,f?v:!1):(typeof i.onMatch=="function"&&i.onMatch(v),f?v:!0)};return r&&(c.state=a),c};U.test=(e,t,r,{glob:n,posix:i}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let s=r||{},o=s.format||(i?Qs.toPosixSlashes:null),a=e===n,u=a&&o?o(e):e;return a===!1&&(u=o?o(e):e,a=u===n),(a===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?a=U.matchBase(e,t,r,i):a=t.exec(u)),{isMatch:!!a,match:a,output:u}};U.matchBase=(e,t,r,n=Qs.isWindows(r))=>(t instanceof RegExp?t:U.makeRe(t,r)).test(WR.basename(e));U.isMatch=(e,t,r)=>U(t,r)(e);U.parse=(e,t)=>Array.isArray(e)?e.map(r=>U.parse(r,t)):Xs(e,{...t,fastpaths:!1});U.scan=(e,t)=>zR(e,t);U.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let i=t||{},s=i.contains?"":"^",o=i.contains?"":"$",a=`${s}(?:${e.output})${o}`;e&&e.negated===!0&&(a=`^(?!${a}).*$`);let u=U.toRegex(a,t);return n===!0&&(u.state=e),u};U.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(i.output=Xs.fastpaths(e,t)),i.output||(i=Xs(e,t)),U.compileRe(i,t,r,n)};U.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};U.constants=YR;jh.exports=U});var Hh=p((Ik,Fh)=>{"use strict";Fh.exports=$h()});var Wh=p((kk,Kh)=>{"use strict";var Uh=require("util"),Gh=Sh(),Ee=Hh(),Zs=rr(),Bh=e=>e===""||e==="./",Vh=e=>{let t=e.indexOf("{");return t>-1&&e.indexOf("}",t)>-1},H=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,i=new Set,s=new Set,o=0,a=l=>{s.add(l.output),r&&r.onResult&&r.onResult(l)};for(let l=0;l<t.length;l++){let f=Ee(String(t[l]),{...r,onResult:a},!0),h=f.state.negated||f.state.negatedExtglob;h&&o++;for(let w of e){let d=f(w,!0);(h?!d.isMatch:d.isMatch)&&(h?n.add(d.output):(n.delete(d.output),i.add(d.output)))}}let c=(o===t.length?[...s]:[...i]).filter(l=>!n.has(l));if(r&&c.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(l=>l.replace(/\\\\/g,"")):t}return c};H.match=H;H.matcher=(e,t)=>Ee(e,t);H.isMatch=(e,t,r)=>Ee(t,r)(e);H.any=H.isMatch;H.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,i=[],s=a=>{r.onResult&&r.onResult(a),i.push(a.output)},o=new Set(H(e,t,{...r,onResult:s}));for(let a of i)o.has(a)||n.add(a);return[...n]};H.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${Uh.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>H.contains(e,n,r));if(typeof t=="string"){if(Bh(e)||Bh(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return H.isMatch(e,t,{...r,contains:!0})};H.matchKeys=(e,t,r)=>{if(!Zs.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=H(Object.keys(e),t,r),i={};for(let s of n)i[s]=e[s];return i};H.some=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let s=Ee(String(i),r);if(n.some(o=>s(o)))return!0}return!1};H.every=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let s=Ee(String(i),r);if(!n.every(o=>s(o)))return!1}return!0};H.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${Uh.inspect(e)}"`);return[].concat(t).every(n=>Ee(n,r)(e))};H.capture=(e,t,r)=>{let n=Zs.isWindows(r),s=Ee.makeRe(String(e),{...r,capture:!0}).exec(n?Zs.toPosixSlashes(t):t);if(s)return s.slice(1).map(o=>o===void 0?"":o)};H.makeRe=(...e)=>Ee.makeRe(...e);H.scan=(...e)=>Ee.scan(...e);H.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let i of Gh(String(n),t))r.push(Ee.parse(i,t));return r};H.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!Vh(e)?[e]:Gh(e,t)};H.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return H.braces(e,{...t,expand:!0})};H.hasBraces=Vh;Kh.exports=H});var nd=p(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.isAbsolute=I.partitionAbsoluteAndRelative=I.removeDuplicateSlashes=I.matchAny=I.convertPatternsToRe=I.makeRe=I.getPatternParts=I.expandBraceExpansion=I.expandPatternsWithBraceExpansion=I.isAffectDepthOfReadingPattern=I.endsWithSlashGlobStar=I.hasGlobStar=I.getBaseDirectory=I.isPatternRelatedToParentDirectory=I.getPatternsOutsideCurrentDirectory=I.getPatternsInsideCurrentDirectory=I.getPositivePatterns=I.getNegativePatterns=I.isPositivePattern=I.isNegativePattern=I.convertToNegativePattern=I.convertToPositivePattern=I.isDynamicPattern=I.isStaticPattern=void 0;var zh=require("path"),QR=$p(),Js=Wh(),Yh="**",ZR="\\\\",JR=/[*?]|^!/,eP=/\\[[^[]*]/,tP=/(?:^|[^!*+?@])\\([^(]*\\|[^|]*\\)/,rP=/[!*+?@]\\([^(]*\\)/,nP=/,|\\.\\./,iP=/(?!^)\\/{2,}/g;function Xh(e,t={}){return!Qh(e,t)}I.isStaticPattern=Xh;function Qh(e,t={}){return e===""?!1:!!(t.caseSensitiveMatch===!1||e.includes(ZR)||JR.test(e)||eP.test(e)||tP.test(e)||t.extglob!==!1&&rP.test(e)||t.braceExpansion!==!1&&sP(e))}I.isDynamicPattern=Qh;function sP(e){let t=e.indexOf("{");if(t===-1)return!1;let r=e.indexOf("}",t+1);if(r===-1)return!1;let n=e.slice(t,r);return nP.test(n)}function oP(e){return En(e)?e.slice(1):e}I.convertToPositivePattern=oP;function aP(e){return"!"+e}I.convertToNegativePattern=aP;function En(e){return e.startsWith("!")&&e[1]!=="("}I.isNegativePattern=En;function Zh(e){return!En(e)}I.isPositivePattern=Zh;function uP(e){return e.filter(En)}I.getNegativePatterns=uP;function cP(e){return e.filter(Zh)}I.getPositivePatterns=cP;function lP(e){return e.filter(t=>!eo(t))}I.getPatternsInsideCurrentDirectory=lP;function fP(e){return e.filter(eo)}I.getPatternsOutsideCurrentDirectory=fP;function eo(e){return e.startsWith("..")||e.startsWith("./..")}I.isPatternRelatedToParentDirectory=eo;function pP(e){return QR(e,{flipBackslashes:!1})}I.getBaseDirectory=pP;function hP(e){return e.includes(Yh)}I.hasGlobStar=hP;function Jh(e){return e.endsWith("/"+Yh)}I.endsWithSlashGlobStar=Jh;function dP(e){let t=zh.basename(e);return Jh(e)||Xh(t)}I.isAffectDepthOfReadingPattern=dP;function yP(e){return e.reduce((t,r)=>t.concat(ed(r)),[])}I.expandPatternsWithBraceExpansion=yP;function ed(e){let t=Js.braces(e,{expand:!0,nodupes:!0,keepEscaping:!0});return t.sort((r,n)=>r.length-n.length),t.filter(r=>r!=="")}I.expandBraceExpansion=ed;function mP(e,t){let{parts:r}=Js.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return r.length===0&&(r=[e]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r}I.getPatternParts=mP;function td(e,t){return Js.makeRe(e,t)}I.makeRe=td;function gP(e,t){return e.map(r=>td(r,t))}I.convertPatternsToRe=gP;function vP(e,t){return t.some(r=>r.test(e))}I.matchAny=vP;function _P(e){return e.replace(iP,"/")}I.removeDuplicateSlashes=_P;function bP(e){let t=[],r=[];for(let n of e)rd(n)?t.push(n):r.push(n);return[t,r]}I.partitionAbsoluteAndRelative=bP;function rd(e){return zh.isAbsolute(e)}I.isAbsolute=rd});var ad=p((Nk,od)=>{"use strict";var SP=require("stream"),id=SP.PassThrough,EP=Array.prototype.slice;od.exports=wP;function wP(){let e=[],t=EP.call(arguments),r=!1,n=t[t.length-1];n&&!Array.isArray(n)&&n.pipe==null?t.pop():n={};let i=n.end!==!1,s=n.pipeError===!0;n.objectMode==null&&(n.objectMode=!0),n.highWaterMark==null&&(n.highWaterMark=64*1024);let o=id(n);function a(){for(let l=0,f=arguments.length;l<f;l++)e.push(sd(arguments[l],n));return u(),this}function u(){if(r)return;r=!0;let l=e.shift();if(!l){process.nextTick(c);return}Array.isArray(l)||(l=[l]);let f=l.length+1;function h(){--f>0||(r=!1,u())}function w(d){function v(){d.removeListener("merge2UnpipeEnd",v),d.removeListener("end",v),s&&d.removeListener("error",b),h()}function b(T){o.emit("error",T)}if(d._readableState.endEmitted)return h();d.on("merge2UnpipeEnd",v),d.on("end",v),s&&d.on("error",b),d.pipe(o,{end:!1}),d.resume()}for(let d=0;d<l.length;d++)w(l[d]);h()}function c(){r=!1,o.emit("queueDrain"),i&&o.end()}return o.setMaxListeners(0),o.add=a,o.on("unpipe",function(l){l.emit("merge2UnpipeEnd")}),t.length&&a.apply(null,t),o}function sd(e,t){if(Array.isArray(e))for(let r=0,n=e.length;r<n;r++)e[r]=sd(e[r],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(id(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}});var cd=p(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});wn.merge=void 0;var RP=ad();function PP(e){let t=RP(e);return e.forEach(r=>{r.once("error",n=>t.emit("error",n))}),t.once("close",()=>ud(e)),t.once("end",()=>ud(e)),t}wn.merge=PP;function ud(e){e.forEach(t=>t.emit("close"))}});var ld=p(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.isEmpty=wt.isString=void 0;function xP(e){return typeof e=="string"}wt.isString=xP;function AP(e){return e===""}wt.isEmpty=AP});var Ie=p(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.string=z.stream=z.pattern=z.path=z.fs=z.errno=z.array=void 0;var OP=xp();z.array=OP;var TP=Ap();z.errno=TP;var CP=Op();z.fs=CP;var IP=kp();z.path=IP;var kP=nd();z.pattern=kP;var qP=cd();z.stream=qP;var NP=ld();z.string=NP});var dd=p(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.convertPatternGroupToTask=Y.convertPatternGroupsToTasks=Y.groupPatternsByBaseDirectory=Y.getNegativePatternsAsPositive=Y.getPositivePatterns=Y.convertPatternsToTasks=Y.generate=void 0;var ye=Ie();function LP(e,t){let r=fd(e,t),n=fd(t.ignore,t),i=pd(r),s=hd(r,n),o=i.filter(l=>ye.pattern.isStaticPattern(l,t)),a=i.filter(l=>ye.pattern.isDynamicPattern(l,t)),u=to(o,s,!1),c=to(a,s,!0);return u.concat(c)}Y.generate=LP;function fd(e,t){let r=e;return t.braceExpansion&&(r=ye.pattern.expandPatternsWithBraceExpansion(r)),t.baseNameMatch&&(r=r.map(n=>n.includes("/")?n:`**/${n}`)),r.map(n=>ye.pattern.removeDuplicateSlashes(n))}function to(e,t,r){let n=[],i=ye.pattern.getPatternsOutsideCurrentDirectory(e),s=ye.pattern.getPatternsInsideCurrentDirectory(e),o=ro(i),a=ro(s);return n.push(...no(o,t,r)),"."in a?n.push(io(".",s,t,r)):n.push(...no(a,t,r)),n}Y.convertPatternsToTasks=to;function pd(e){return ye.pattern.getPositivePatterns(e)}Y.getPositivePatterns=pd;function hd(e,t){return ye.pattern.getNegativePatterns(e).concat(t).map(ye.pattern.convertToPositivePattern)}Y.getNegativePatternsAsPositive=hd;function ro(e){let t={};return e.reduce((r,n)=>{let i=ye.pattern.getBaseDirectory(n);return i in r?r[i].push(n):r[i]=[n],r},t)}Y.groupPatternsByBaseDirectory=ro;function no(e,t,r){return Object.keys(e).map(n=>io(n,e[n],t,r))}Y.convertPatternGroupsToTasks=no;function io(e,t,r,n){return{dynamic:n,positive:t,negative:r,base:e,patterns:[].concat(t,r.map(ye.pattern.convertToNegativePattern))}}Y.convertPatternGroupToTask=io});var md=p(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.read=void 0;function DP(e,t,r){t.fs.lstat(e,(n,i)=>{if(n!==null){yd(r,n);return}if(!i.isSymbolicLink()||!t.followSymbolicLink){so(r,i);return}t.fs.stat(e,(s,o)=>{if(s!==null){if(t.throwErrorOnBrokenSymbolicLink){yd(r,s);return}so(r,i);return}t.markSymbolicLink&&(o.isSymbolicLink=()=>!0),so(r,o)})})}Rn.read=DP;function yd(e,t){e(t)}function so(e,t){e(null,t)}});var gd=p(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.read=void 0;function MP(e,t){let r=t.fs.lstatSync(e);if(!r.isSymbolicLink()||!t.followSymbolicLink)return r;try{let n=t.fs.statSync(e);return t.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(n){if(!t.throwErrorOnBrokenSymbolicLink)return r;throw n}}Pn.read=MP});var vd=p($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.createFileSystemAdapter=$e.FILE_SYSTEM_ADAPTER=void 0;var xn=require("fs");$e.FILE_SYSTEM_ADAPTER={lstat:xn.lstat,stat:xn.stat,lstatSync:xn.lstatSync,statSync:xn.statSync};function jP(e){return e===void 0?$e.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},$e.FILE_SYSTEM_ADAPTER),e)}$e.createFileSystemAdapter=jP});var _d=p(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});var $P=vd(),oo=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=$P.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,r){return t??r}};ao.default=oo});var st=p(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.statSync=Fe.stat=Fe.Settings=void 0;var bd=md(),FP=gd(),uo=_d();Fe.Settings=uo.default;function HP(e,t,r){if(typeof t=="function"){bd.read(e,co(),t);return}bd.read(e,co(t),r)}Fe.stat=HP;function BP(e,t){let r=co(t);return FP.read(e,r)}Fe.statSync=BP;function co(e={}){return e instanceof uo.default?e:new uo.default(e)}});var wd=p((Gk,Ed)=>{var Sd;Ed.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):e=>(Sd||(Sd=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0))});var Pd=p((Vk,Rd)=>{Rd.exports=GP;var UP=wd();function GP(e,t){let r,n,i,s=!0;Array.isArray(e)?(r=[],n=e.length):(i=Object.keys(e),r={},n=i.length);function o(u){function c(){t&&t(u,r),t=null}s?UP(c):c()}function a(u,c,l){r[u]=l,(--n===0||c)&&o(c)}n?i?i.forEach(function(u){e[u](function(c,l){a(u,c,l)})}):e.forEach(function(u,c){u(function(l,f){a(c,l,f)})}):o(null),s=!1}});var lo=p(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});On.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var An=process.versions.node.split(".");if(An[0]===void 0||An[1]===void 0)throw new Error(`Unexpected behavior. The \'process.versions.node\' variable has invalid value: ${process.versions.node}`);var xd=Number.parseInt(An[0],10),VP=Number.parseInt(An[1],10),Ad=10,KP=10,WP=xd>Ad,zP=xd===Ad&&VP>=KP;On.IS_SUPPORT_READDIR_WITH_FILE_TYPES=WP||zP});var Od=p(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.createDirentFromStats=void 0;var fo=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function YP(e,t){return new fo(e,t)}Tn.createDirentFromStats=YP});var po=p(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.fs=void 0;var XP=Od();Cn.fs=XP});var ho=p(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.joinPathSegments=void 0;function QP(e,t,r){return e.endsWith(r)?e+t:e+r+t}In.joinPathSegments=QP});var Nd=p(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.readdir=He.readdirWithFileTypes=He.read=void 0;var ZP=st(),Td=Pd(),JP=lo(),Cd=po(),Id=ho();function ex(e,t,r){if(!t.stats&&JP.IS_SUPPORT_READDIR_WITH_FILE_TYPES){kd(e,t,r);return}qd(e,t,r)}He.read=ex;function kd(e,t,r){t.fs.readdir(e,{withFileTypes:!0},(n,i)=>{if(n!==null){kn(r,n);return}let s=i.map(a=>({dirent:a,name:a.name,path:Id.joinPathSegments(e,a.name,t.pathSegmentSeparator)}));if(!t.followSymbolicLinks){yo(r,s);return}let o=s.map(a=>tx(a,t));Td(o,(a,u)=>{if(a!==null){kn(r,a);return}yo(r,u)})})}He.readdirWithFileTypes=kd;function tx(e,t){return r=>{if(!e.dirent.isSymbolicLink()){r(null,e);return}t.fs.stat(e.path,(n,i)=>{if(n!==null){if(t.throwErrorOnBrokenSymbolicLink){r(n);return}r(null,e);return}e.dirent=Cd.fs.createDirentFromStats(e.name,i),r(null,e)})}}function qd(e,t,r){t.fs.readdir(e,(n,i)=>{if(n!==null){kn(r,n);return}let s=i.map(o=>{let a=Id.joinPathSegments(e,o,t.pathSegmentSeparator);return u=>{ZP.stat(a,t.fsStatSettings,(c,l)=>{if(c!==null){u(c);return}let f={name:o,path:a,dirent:Cd.fs.createDirentFromStats(o,l)};t.stats&&(f.stats=l),u(null,f)})}});Td(s,(o,a)=>{if(o!==null){kn(r,o);return}yo(r,a)})})}He.readdir=qd;function kn(e,t){e(t)}function yo(e,t){e(null,t)}});var $d=p(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.readdir=Be.readdirWithFileTypes=Be.read=void 0;var rx=st(),nx=lo(),Ld=po(),Dd=ho();function ix(e,t){return!t.stats&&nx.IS_SUPPORT_READDIR_WITH_FILE_TYPES?Md(e,t):jd(e,t)}Be.read=ix;function Md(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map(n=>{let i={dirent:n,name:n.name,path:Dd.joinPathSegments(e,n.name,t.pathSegmentSeparator)};if(i.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{let s=t.fs.statSync(i.path);i.dirent=Ld.fs.createDirentFromStats(i.name,s)}catch(s){if(t.throwErrorOnBrokenSymbolicLink)throw s}return i})}Be.readdirWithFileTypes=Md;function jd(e,t){return t.fs.readdirSync(e).map(n=>{let i=Dd.joinPathSegments(e,n,t.pathSegmentSeparator),s=rx.statSync(i,t.fsStatSettings),o={name:n,path:i,dirent:Ld.fs.createDirentFromStats(n,s)};return t.stats&&(o.stats=s),o})}Be.readdir=jd});var Fd=p(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.createFileSystemAdapter=Ue.FILE_SYSTEM_ADAPTER=void 0;var Rt=require("fs");Ue.FILE_SYSTEM_ADAPTER={lstat:Rt.lstat,stat:Rt.stat,lstatSync:Rt.lstatSync,statSync:Rt.statSync,readdir:Rt.readdir,readdirSync:Rt.readdirSync};function sx(e){return e===void 0?Ue.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Ue.FILE_SYSTEM_ADAPTER),e)}Ue.createFileSystemAdapter=sx});var Hd=p(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});var ox=require("path"),ax=st(),ux=Fd(),mo=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=ux.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,ox.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new ax.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};go.default=mo});var qn=p(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.Settings=Ge.scandirSync=Ge.scandir=void 0;var Bd=Nd(),cx=$d(),vo=Hd();Ge.Settings=vo.default;function lx(e,t,r){if(typeof t=="function"){Bd.read(e,_o(),t);return}Bd.read(e,_o(t),r)}Ge.scandir=lx;function fx(e,t){let r=_o(t);return cx.read(e,r)}Ge.scandirSync=fx;function _o(e={}){return e instanceof vo.default?e:new vo.default(e)}});var Gd=p((tq,Ud)=>{"use strict";function px(e){var t=new e,r=t;function n(){var s=t;return s.next?t=s.next:(t=new e,r=t),s.next=null,s}function i(s){r.next=s,r=s}return{get:n,release:i}}Ud.exports=px});var Kd=p((rq,bo)=>{"use strict";var hx=Gd();function Vd(e,t,r){if(typeof e=="function"&&(r=t,t=e,e=null),!(r>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");var n=hx(dx),i=null,s=null,o=0,a=null,u={push:v,drain:ce,saturated:ce,pause:l,paused:!1,get concurrency(){return r},set concurrency(_){if(!(_>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");if(r=_,!u.paused)for(;i&&o<r;)o++,T()},running:c,resume:w,idle:d,length:f,getQueue:h,unshift:b,empty:ce,kill:C,killAndDrain:A,error:k};return u;function c(){return o}function l(){u.paused=!0}function f(){for(var _=i,x=0;_;)_=_.next,x++;return x}function h(){for(var _=i,x=[];_;)x.push(_.value),_=_.next;return x}function w(){if(u.paused){if(u.paused=!1,i===null){o++,T();return}for(;i&&o<r;)o++,T()}}function d(){return o===0&&u.length()===0}function v(_,x){var E=n.get();E.context=e,E.release=T,E.value=_,E.callback=x||ce,E.errorHandler=a,o>=r||u.paused?s?(s.next=E,s=E):(i=E,s=E,u.saturated()):(o++,t.call(e,E.value,E.worked))}function b(_,x){var E=n.get();E.context=e,E.release=T,E.value=_,E.callback=x||ce,E.errorHandler=a,o>=r||u.paused?i?(E.next=i,i=E):(i=E,s=E,u.saturated()):(o++,t.call(e,E.value,E.worked))}function T(_){_&&n.release(_);var x=i;x&&o<=r?u.paused?o--:(s===i&&(s=null),i=x.next,x.next=null,t.call(e,x.value,x.worked),s===null&&u.empty()):--o===0&&u.drain()}function C(){i=null,s=null,u.drain=ce}function A(){i=null,s=null,u.drain(),u.drain=ce}function k(_){a=_}}function ce(){}function dx(){this.value=null,this.callback=ce,this.next=null,this.release=ce,this.context=null,this.errorHandler=null;var e=this;this.worked=function(r,n){var i=e.callback,s=e.errorHandler,o=e.value;e.value=null,e.callback=ce,e.errorHandler&&s(r,o),i.call(e.context,r,n),e.release(e)}}function yx(e,t,r){typeof e=="function"&&(r=t,t=e,e=null);function n(l,f){t.call(this,l).then(function(h){f(null,h)},f)}var i=Vd(e,n,r),s=i.push,o=i.unshift;return i.push=a,i.unshift=u,i.drained=c,i;function a(l){var f=new Promise(function(h,w){s(l,function(d,v){if(d){w(d);return}h(v)})});return f.catch(ce),f}function u(l){var f=new Promise(function(h,w){o(l,function(d,v){if(d){w(d);return}h(v)})});return f.catch(ce),f}function c(){var l=new Promise(function(f){process.nextTick(function(){if(i.idle())f();else{var h=i.drain;i.drain=function(){typeof h=="function"&&h(),f(),i.drain=h}}})});return l}}bo.exports=Vd;bo.exports.promise=yx});var Nn=p(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.joinPathSegments=we.replacePathSegmentSeparator=we.isAppliedFilter=we.isFatalError=void 0;function mx(e,t){return e.errorFilter===null?!0:!e.errorFilter(t)}we.isFatalError=mx;function gx(e,t){return e===null||e(t)}we.isAppliedFilter=gx;function vx(e,t){return e.split(/[/\\\\]/).join(t)}we.replacePathSegmentSeparator=vx;function _x(e,t,r){return e===""?t:e.endsWith(r)?e+t:e+r+t}we.joinPathSegments=_x});var wo=p(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});var bx=Nn(),So=class{constructor(t,r){this._root=t,this._settings=r,this._root=bx.replacePathSegmentSeparator(t,r.pathSegmentSeparator)}};Eo.default=So});var xo=p(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});var Sx=require("events"),Ex=qn(),wx=Kd(),Ln=Nn(),Rx=wo(),Ro=class extends Rx.default{constructor(t,r){super(t,r),this._settings=r,this._scandir=Ex.scandir,this._emitter=new Sx.EventEmitter,this._queue=wx(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,r){let n={directory:t,base:r};this._queue.push(n,i=>{i!==null&&this._handleError(i)})}_worker(t,r){this._scandir(t.directory,this._settings.fsScandirSettings,(n,i)=>{if(n!==null){r(n,void 0);return}for(let s of i)this._handleEntry(s,t.base);r(null,void 0)})}_handleError(t){this._isDestroyed||!Ln.isFatalError(this._settings,t)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,r){if(this._isDestroyed||this._isFatalError)return;let n=t.path;r!==void 0&&(t.path=Ln.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),Ln.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&Ln.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_emitEntry(t){this._emitter.emit("entry",t)}};Po.default=Ro});var Wd=p(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});var Px=xo(),Ao=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new Px.default(this._root,this._settings),this._storage=[]}read(t){this._reader.onError(r=>{xx(t,r)}),this._reader.onEntry(r=>{this._storage.push(r)}),this._reader.onEnd(()=>{Ax(t,this._storage)}),this._reader.read()}};Oo.default=Ao;function xx(e,t){e(t)}function Ax(e,t){e(null,t)}});var zd=p(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});var Ox=require("stream"),Tx=xo(),To=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new Tx.default(this._root,this._settings),this._stream=new Ox.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(t=>{this._stream.emit("error",t)}),this._reader.onEntry(t=>{this._stream.push(t)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};Co.default=To});var Yd=p(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});var Cx=qn(),Dn=Nn(),Ix=wo(),Io=class extends Ix.default{constructor(){super(...arguments),this._scandir=Cx.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(t,r){this._queue.add({directory:t,base:r})}_handleQueue(){for(let t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,r){try{let n=this._scandir(t,this._settings.fsScandirSettings);for(let i of n)this._handleEntry(i,r)}catch(n){this._handleError(n)}}_handleError(t){if(Dn.isFatalError(this._settings,t))throw t}_handleEntry(t,r){let n=t.path;r!==void 0&&(t.path=Dn.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),Dn.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&Dn.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_pushToStorage(t){this._storage.push(t)}};ko.default=Io});var Xd=p(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});var kx=Yd(),qo=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new kx.default(this._root,this._settings)}read(){return this._reader.read()}};No.default=qo});var Qd=p(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});var qx=require("path"),Nx=qn(),Lo=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,qx.sep),this.fsScandirSettings=new Nx.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};Do.default=Lo});var jn=p(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.Settings=Re.walkStream=Re.walkSync=Re.walk=void 0;var Zd=Wd(),Lx=zd(),Dx=Xd(),Mo=Qd();Re.Settings=Mo.default;function Mx(e,t,r){if(typeof t=="function"){new Zd.default(e,Mn()).read(t);return}new Zd.default(e,Mn(t)).read(r)}Re.walk=Mx;function jx(e,t){let r=Mn(t);return new Dx.default(e,r).read()}Re.walkSync=jx;function $x(e,t){let r=Mn(t);return new Lx.default(e,r).read()}Re.walkStream=$x;function Mn(e={}){return e instanceof Mo.default?e:new Mo.default(e)}});var $n=p($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});var Fx=require("path"),Hx=st(),Jd=Ie(),jo=class{constructor(t){this._settings=t,this._fsStatSettings=new Hx.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return Fx.resolve(this._settings.cwd,t)}_makeEntry(t,r){let n={name:r,path:r,dirent:Jd.fs.createDirentFromStats(r,t)};return this._settings.stats&&(n.stats=t),n}_isFatalError(t){return!Jd.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}};$o.default=jo});var Bo=p(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});var Bx=require("stream"),Ux=st(),Gx=jn(),Vx=$n(),Fo=class extends Vx.default{constructor(){super(...arguments),this._walkStream=Gx.walkStream,this._stat=Ux.stat}dynamic(t,r){return this._walkStream(t,r)}static(t,r){let n=t.map(this._getFullEntryPath,this),i=new Bx.PassThrough({objectMode:!0});i._write=(s,o,a)=>this._getEntry(n[s],t[s],r).then(u=>{u!==null&&r.entryFilter(u)&&i.push(u),s===n.length-1&&i.end(),a()}).catch(a);for(let s=0;s<n.length;s++)i.write(s);return i}_getEntry(t,r,n){return this._getStat(t).then(i=>this._makeEntry(i,r)).catch(i=>{if(n.errorFilter(i))return null;throw i})}_getStat(t){return new Promise((r,n)=>{this._stat(t,this._fsStatSettings,(i,s)=>i===null?r(s):n(i))})}};Ho.default=Fo});var ey=p(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});var Kx=jn(),Wx=$n(),zx=Bo(),Uo=class extends Wx.default{constructor(){super(...arguments),this._walkAsync=Kx.walk,this._readerStream=new zx.default(this._settings)}dynamic(t,r){return new Promise((n,i)=>{this._walkAsync(t,r,(s,o)=>{s===null?n(o):i(s)})})}async static(t,r){let n=[],i=this._readerStream.static(t,r);return new Promise((s,o)=>{i.once("error",o),i.on("data",a=>n.push(a)),i.once("end",()=>s(n))})}};Go.default=Uo});var ty=p(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});var ir=Ie(),Vo=class{constructor(t,r,n){this._patterns=t,this._settings=r,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){for(let t of this._patterns){let r=this._getPatternSegments(t),n=this._splitSegmentsIntoSections(r);this._storage.push({complete:n.length<=1,pattern:t,segments:r,sections:n})}}_getPatternSegments(t){return ir.pattern.getPatternParts(t,this._micromatchOptions).map(n=>ir.pattern.isDynamicPattern(n,this._settings)?{dynamic:!0,pattern:n,patternRe:ir.pattern.makeRe(n,this._micromatchOptions)}:{dynamic:!1,pattern:n})}_splitSegmentsIntoSections(t){return ir.array.splitWhen(t,r=>r.dynamic&&ir.pattern.hasGlobStar(r.pattern))}};Ko.default=Vo});var ry=p(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});var Yx=ty(),Wo=class extends Yx.default{match(t){let r=t.split("/"),n=r.length,i=this._storage.filter(s=>!s.complete||s.segments.length>n);for(let s of i){let o=s.sections[0];if(!s.complete&&n>o.length||r.every((u,c)=>{let l=s.segments[c];return!!(l.dynamic&&l.patternRe.test(u)||!l.dynamic&&l.pattern===u)}))return!0}return!1}};zo.default=Wo});var ny=p(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});var Fn=Ie(),Xx=ry(),Yo=class{constructor(t,r){this._settings=t,this._micromatchOptions=r}getFilter(t,r,n){let i=this._getMatcher(r),s=this._getNegativePatternsRe(n);return o=>this._filter(t,o,i,s)}_getMatcher(t){return new Xx.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){let r=t.filter(Fn.pattern.isAffectDepthOfReadingPattern);return Fn.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(t,r,n,i){if(this._isSkippedByDeep(t,r.path)||this._isSkippedSymbolicLink(r))return!1;let s=Fn.path.removeLeadingDotSegment(r.path);return this._isSkippedByPositivePatterns(s,n)?!1:this._isSkippedByNegativePatterns(s,i)}_isSkippedByDeep(t,r){return this._settings.deep===1/0?!1:this._getEntryLevel(t,r)>=this._settings.deep}_getEntryLevel(t,r){let n=r.split("/").length;if(t==="")return n;let i=t.split("/").length;return n-i}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(t,r){return!this._settings.baseNameMatch&&!r.match(t)}_isSkippedByNegativePatterns(t,r){return!Fn.pattern.matchAny(t,r)}};Xo.default=Yo});var iy=p(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});var Ve=Ie(),Qo=class{constructor(t,r){this._settings=t,this._micromatchOptions=r,this.index=new Map}getFilter(t,r){let[n,i]=Ve.pattern.partitionAbsoluteAndRelative(r),s={positive:{all:Ve.pattern.convertPatternsToRe(t,this._micromatchOptions)},negative:{absolute:Ve.pattern.convertPatternsToRe(n,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0})),relative:Ve.pattern.convertPatternsToRe(i,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0}))}};return o=>this._filter(o,s)}_filter(t,r){let n=Ve.path.removeLeadingDotSegment(t.path);if(this._settings.unique&&this._isDuplicateEntry(n)||this._onlyFileFilter(t)||this._onlyDirectoryFilter(t))return!1;let i=this._isMatchToPatternsSet(n,r,t.dirent.isDirectory());return this._settings.unique&&i&&this._createIndexRecord(n),i}_isDuplicateEntry(t){return this.index.has(t)}_createIndexRecord(t){this.index.set(t,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isMatchToPatternsSet(t,r,n){return!(!this._isMatchToPatterns(t,r.positive.all,n)||this._isMatchToPatterns(t,r.negative.relative,n)||this._isMatchToAbsoluteNegative(t,r.negative.absolute,n))}_isMatchToAbsoluteNegative(t,r,n){if(r.length===0)return!1;let i=Ve.path.makeAbsolute(this._settings.cwd,t);return this._isMatchToPatterns(i,r,n)}_isMatchToPatterns(t,r,n){if(r.length===0)return!1;let i=Ve.pattern.matchAny(t,r);return!i&&n?Ve.pattern.matchAny(t+"/",r):i}};Zo.default=Qo});var sy=p(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});var Qx=Ie(),Jo=class{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return Qx.errno.isEnoentCodeError(t)||this._settings.suppressErrors}};ea.default=Jo});var ay=p(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});var oy=Ie(),ta=class{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let r=t.path;return this._settings.absolute&&(r=oy.path.makeAbsolute(this._settings.cwd,r),r=oy.path.unixify(r)),this._settings.markDirectories&&t.dirent.isDirectory()&&(r+="/"),this._settings.objectMode?Object.assign(Object.assign({},t),{path:r}):r}};ra.default=ta});var Hn=p(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});var Zx=require("path"),Jx=ny(),eA=iy(),tA=sy(),rA=ay(),na=class{constructor(t){this._settings=t,this.errorFilter=new tA.default(this._settings),this.entryFilter=new eA.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new Jx.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new rA.default(this._settings)}_getRootDirectory(t){return Zx.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){let r=t.base==="."?"":t.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};ia.default=na});var uy=p(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});var nA=ey(),iA=Hn(),sa=class extends iA.default{constructor(){super(...arguments),this._reader=new nA.default(this._settings)}async read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t);return(await this.api(r,t,n)).map(s=>n.transform(s))}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};oa.default=sa});var cy=p(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});var sA=require("stream"),oA=Bo(),aA=Hn(),aa=class extends aA.default{constructor(){super(...arguments),this._reader=new oA.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),i=this.api(r,t,n),s=new sA.Readable({objectMode:!0,read:()=>{}});return i.once("error",o=>s.emit("error",o)).on("data",o=>s.emit("data",n.transform(o))).once("end",()=>s.emit("end")),s.once("close",()=>i.destroy()),s}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};ua.default=aa});var ly=p(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});var uA=st(),cA=jn(),lA=$n(),ca=class extends lA.default{constructor(){super(...arguments),this._walkSync=cA.walkSync,this._statSync=uA.statSync}dynamic(t,r){return this._walkSync(t,r)}static(t,r){let n=[];for(let i of t){let s=this._getFullEntryPath(i),o=this._getEntry(s,i,r);o===null||!r.entryFilter(o)||n.push(o)}return n}_getEntry(t,r,n){try{let i=this._getStat(t);return this._makeEntry(i,r)}catch(i){if(n.errorFilter(i))return null;throw i}}_getStat(t){return this._statSync(t,this._fsStatSettings)}};la.default=ca});var fy=p(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});var fA=ly(),pA=Hn(),fa=class extends pA.default{constructor(){super(...arguments),this._reader=new fA.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t);return this.api(r,t,n).map(n.transform)}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};pa.default=fa});var py=p(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var Pt=require("fs"),hA=require("os"),dA=Math.max(hA.cpus().length,1);xt.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:Pt.lstat,lstatSync:Pt.lstatSync,stat:Pt.stat,statSync:Pt.statSync,readdir:Pt.readdir,readdirSync:Pt.readdirSync};var ha=class{constructor(t={}){this._options=t,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,dA),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0),this.ignore=[].concat(this.ignore)}_getValue(t,r){return t===void 0?r:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},xt.DEFAULT_FILE_SYSTEM_ADAPTER),t)}};xt.default=ha});var yy=p((Aq,dy)=>{"use strict";var hy=dd(),yA=uy(),mA=cy(),gA=fy(),da=py(),le=Ie();async function ya(e,t){me(e);let r=ma(e,yA.default,t),n=await Promise.all(r);return le.array.flatten(n)}(function(e){e.glob=e,e.globSync=t,e.globStream=r,e.async=e;function t(c,l){me(c);let f=ma(c,gA.default,l);return le.array.flatten(f)}e.sync=t;function r(c,l){me(c);let f=ma(c,mA.default,l);return le.stream.merge(f)}e.stream=r;function n(c,l){me(c);let f=[].concat(c),h=new da.default(l);return hy.generate(f,h)}e.generateTasks=n;function i(c,l){me(c);let f=new da.default(l);return le.pattern.isDynamicPattern(c,f)}e.isDynamicPattern=i;function s(c){return me(c),le.path.escape(c)}e.escapePath=s;function o(c){return me(c),le.path.convertPathToPattern(c)}e.convertPathToPattern=o;let a;(function(c){function l(h){return me(h),le.path.escapePosixPath(h)}c.escapePath=l;function f(h){return me(h),le.path.convertPosixPathToPattern(h)}c.convertPathToPattern=f})(a=e.posix||(e.posix={}));let u;(function(c){function l(h){return me(h),le.path.escapeWindowsPath(h)}c.escapePath=l;function f(h){return me(h),le.path.convertWindowsPathToPattern(h)}c.convertPathToPattern=f})(u=e.win32||(e.win32={}))})(ya||(ya={}));function ma(e,t,r){let n=[].concat(e),i=new da.default(r),s=hy.generate(n,i),o=new t(i);return s.map(o.read,o)}function me(e){if(![].concat(e).every(n=>le.string.isString(n)&&!le.string.isEmpty(n)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}dy.exports=ya});var gy=p((Oq,my)=>{function vA(e){return import(e)}my.exports={importModule:vA}});var va=p((Tq,Gn)=>{var vy,_y,by,Sy,Ey,wy,Ry,Py,xy,Ay,Oy,Ty,Cy,Bn,ga,Iy,ky,qy,At,Ny,Ly,Dy,My,jy,$y,Fy,Hy,By,Un,Uy,Gy,Vy;(function(e){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):typeof Gn=="object"&&typeof Gn.exports=="object"?e(r(t,r(Gn.exports))):e(r(t));function r(n,i){return n!==t&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(s,o){return n[s]=i?i(s,o):o}}})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(s[a]=o[a])};vy=function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");t(s,o);function a(){this.constructor=s}s.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)},_y=Object.assign||function(s){for(var o,a=1,u=arguments.length;a<u;a++){o=arguments[a];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(s[c]=o[c])}return s},by=function(s,o){var a={};for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&o.indexOf(u)<0&&(a[u]=s[u]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,u=Object.getOwnPropertySymbols(s);c<u.length;c++)o.indexOf(u[c])<0&&Object.prototype.propertyIsEnumerable.call(s,u[c])&&(a[u[c]]=s[u[c]]);return a},Sy=function(s,o,a,u){var c=arguments.length,l=c<3?o:u===null?u=Object.getOwnPropertyDescriptor(o,a):u,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(s,o,a,u);else for(var h=s.length-1;h>=0;h--)(f=s[h])&&(l=(c<3?f(l):c>3?f(o,a,l):f(o,a))||l);return c>3&&l&&Object.defineProperty(o,a,l),l},Ey=function(s,o){return function(a,u){o(a,u,s)}},wy=function(s,o,a,u,c,l){function f(x){if(x!==void 0&&typeof x!="function")throw new TypeError("Function expected");return x}for(var h=u.kind,w=h==="getter"?"get":h==="setter"?"set":"value",d=!o&&s?u.static?s:s.prototype:null,v=o||(d?Object.getOwnPropertyDescriptor(d,u.name):{}),b,T=!1,C=a.length-1;C>=0;C--){var A={};for(var k in u)A[k]=k==="access"?{}:u[k];for(var k in u.access)A.access[k]=u.access[k];A.addInitializer=function(x){if(T)throw new TypeError("Cannot add initializers after decoration has completed");l.push(f(x||null))};var _=(0,a[C])(h==="accessor"?{get:v.get,set:v.set}:v[w],A);if(h==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(b=f(_.get))&&(v.get=b),(b=f(_.set))&&(v.set=b),(b=f(_.init))&&c.unshift(b)}else(b=f(_))&&(h==="field"?c.unshift(b):v[w]=b)}d&&Object.defineProperty(d,u.name,v),T=!0},Ry=function(s,o,a){for(var u=arguments.length>2,c=0;c<o.length;c++)a=u?o[c].call(s,a):o[c].call(s);return u?a:void 0},Py=function(s){return typeof s=="symbol"?s:"".concat(s)},xy=function(s,o,a){return typeof o=="symbol"&&(o=o.description?"[".concat(o.description,"]"):""),Object.defineProperty(s,"name",{configurable:!0,value:a?"".concat(a," ",o):o})},Ay=function(s,o){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(s,o)},Oy=function(s,o,a,u){function c(l){return l instanceof a?l:new a(function(f){f(l)})}return new(a||(a=Promise))(function(l,f){function h(v){try{d(u.next(v))}catch(b){f(b)}}function w(v){try{d(u.throw(v))}catch(b){f(b)}}function d(v){v.done?l(v.value):c(v.value).then(h,w)}d((u=u.apply(s,o||[])).next())})},Ty=function(s,o){var a={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},u,c,l,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=h(0),f.throw=h(1),f.return=h(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function h(d){return function(v){return w([d,v])}}function w(d){if(u)throw new TypeError("Generator is already executing.");for(;f&&(f=0,d[0]&&(a=0)),a;)try{if(u=1,c&&(l=d[0]&2?c.return:d[0]?c.throw||((l=c.return)&&l.call(c),0):c.next)&&!(l=l.call(c,d[1])).done)return l;switch(c=0,l&&(d=[d[0]&2,l.value]),d[0]){case 0:case 1:l=d;break;case 4:return a.label++,{value:d[1],done:!1};case 5:a.label++,c=d[1],d=[0];continue;case 7:d=a.ops.pop(),a.trys.pop();continue;default:if(l=a.trys,!(l=l.length>0&&l[l.length-1])&&(d[0]===6||d[0]===2)){a=0;continue}if(d[0]===3&&(!l||d[1]>l[0]&&d[1]<l[3])){a.label=d[1];break}if(d[0]===6&&a.label<l[1]){a.label=l[1],l=d;break}if(l&&a.label<l[2]){a.label=l[2],a.ops.push(d);break}l[2]&&a.ops.pop(),a.trys.pop();continue}d=o.call(s,a)}catch(v){d=[6,v],c=0}finally{u=l=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},Cy=function(s,o){for(var a in s)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&Un(o,s,a)},Un=Object.create?function(s,o,a,u){u===void 0&&(u=a);var c=Object.getOwnPropertyDescriptor(o,a);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(s,u,c)}:function(s,o,a,u){u===void 0&&(u=a),s[u]=o[a]},Bn=function(s){var o=typeof Symbol=="function"&&Symbol.iterator,a=o&&s[o],u=0;if(a)return a.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&u>=s.length&&(s=void 0),{value:s&&s[u++],done:!s}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")},ga=function(s,o){var a=typeof Symbol=="function"&&s[Symbol.iterator];if(!a)return s;var u=a.call(s),c,l=[],f;try{for(;(o===void 0||o-- >0)&&!(c=u.next()).done;)l.push(c.value)}catch(h){f={error:h}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(f)throw f.error}}return l},Iy=function(){for(var s=[],o=0;o<arguments.length;o++)s=s.concat(ga(arguments[o]));return s},ky=function(){for(var s=0,o=0,a=arguments.length;o<a;o++)s+=arguments[o].length;for(var u=Array(s),c=0,o=0;o<a;o++)for(var l=arguments[o],f=0,h=l.length;f<h;f++,c++)u[c]=l[f];return u},qy=function(s,o,a){if(a||arguments.length===2)for(var u=0,c=o.length,l;u<c;u++)(l||!(u in o))&&(l||(l=Array.prototype.slice.call(o,0,u)),l[u]=o[u]);return s.concat(l||Array.prototype.slice.call(o))},At=function(s){return this instanceof At?(this.v=s,this):new At(s)},Ny=function(s,o,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=a.apply(s,o||[]),c,l=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",f),c[Symbol.asyncIterator]=function(){return this},c;function f(C){return function(A){return Promise.resolve(A).then(C,b)}}function h(C,A){u[C]&&(c[C]=function(k){return new Promise(function(_,x){l.push([C,k,_,x])>1||w(C,k)})},A&&(c[C]=A(c[C])))}function w(C,A){try{d(u[C](A))}catch(k){T(l[0][3],k)}}function d(C){C.value instanceof At?Promise.resolve(C.value.v).then(v,b):T(l[0][2],C)}function v(C){w("next",C)}function b(C){w("throw",C)}function T(C,A){C(A),l.shift(),l.length&&w(l[0][0],l[0][1])}},Ly=function(s){var o,a;return o={},u("next"),u("throw",function(c){throw c}),u("return"),o[Symbol.iterator]=function(){return this},o;function u(c,l){o[c]=s[c]?function(f){return(a=!a)?{value:At(s[c](f)),done:!1}:l?l(f):f}:l}},Dy=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=s[Symbol.asyncIterator],a;return o?o.call(s):(s=typeof Bn=="function"?Bn(s):s[Symbol.iterator](),a={},u("next"),u("throw"),u("return"),a[Symbol.asyncIterator]=function(){return this},a);function u(l){a[l]=s[l]&&function(f){return new Promise(function(h,w){f=s[l](f),c(h,w,f.done,f.value)})}}function c(l,f,h,w){Promise.resolve(w).then(function(d){l({value:d,done:h})},f)}},My=function(s,o){return Object.defineProperty?Object.defineProperty(s,"raw",{value:o}):s.raw=o,s};var r=Object.create?function(s,o){Object.defineProperty(s,"default",{enumerable:!0,value:o})}:function(s,o){s.default=o},n=function(s){return n=Object.getOwnPropertyNames||function(o){var a=[];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(a[a.length]=u);return a},n(s)};jy=function(s){if(s&&s.__esModule)return s;var o={};if(s!=null)for(var a=n(s),u=0;u<a.length;u++)a[u]!=="default"&&Un(o,s,a[u]);return r(o,s),o},$y=function(s){return s&&s.__esModule?s:{default:s}},Fy=function(s,o,a,u){if(a==="a"&&!u)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?s!==o||!u:!o.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?u:a==="a"?u.call(s):u?u.value:o.get(s)},Hy=function(s,o,a,u,c){if(u==="m")throw new TypeError("Private method is not writable");if(u==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof o=="function"?s!==o||!c:!o.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return u==="a"?c.call(s,a):c?c.value=a:o.set(s,a),a},By=function(s,o){if(o===null||typeof o!="object"&&typeof o!="function")throw new TypeError("Cannot use \'in\' operator on non-object");return typeof s=="function"?o===s:s.has(o)},Uy=function(s,o,a){if(o!=null){if(typeof o!="object"&&typeof o!="function")throw new TypeError("Object expected.");var u,c;if(a){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");u=o[Symbol.asyncDispose]}if(u===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");u=o[Symbol.dispose],a&&(c=u)}if(typeof u!="function")throw new TypeError("Object not disposable.");c&&(u=function(){try{c.call(this)}catch(l){return Promise.reject(l)}}),s.stack.push({value:o,dispose:u,async:a})}else a&&s.stack.push({async:!0});return o};var i=typeof SuppressedError=="function"?SuppressedError:function(s,o,a){var u=new Error(a);return u.name="SuppressedError",u.error=s,u.suppressed=o,u};Gy=function(s){function o(l){s.error=s.hasError?new i(l,s.error,"An error was suppressed during disposal."):l,s.hasError=!0}var a,u=0;function c(){for(;a=s.stack.pop();)try{if(!a.async&&u===1)return u=0,s.stack.push(a),Promise.resolve().then(c);if(a.dispose){var l=a.dispose.call(a.value);if(a.async)return u|=2,Promise.resolve(l).then(c,function(f){return o(f),c()})}else u|=1}catch(f){o(f)}if(u===1)return s.hasError?Promise.reject(s.error):Promise.resolve();if(s.hasError)throw s.error}return c()},Vy=function(s,o){return typeof s=="string"&&/^\\.\\.?\\//.test(s)?s.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i,function(a,u,c,l,f){return u?o?".jsx":".js":c&&(!l||!f)?a:c+l+"."+f.toLowerCase()+"js"}):s},e("__extends",vy),e("__assign",_y),e("__rest",by),e("__decorate",Sy),e("__param",Ey),e("__esDecorate",wy),e("__runInitializers",Ry),e("__propKey",Py),e("__setFunctionName",xy),e("__metadata",Ay),e("__awaiter",Oy),e("__generator",Ty),e("__exportStar",Cy),e("__createBinding",Un),e("__values",Bn),e("__read",ga),e("__spread",Iy),e("__spreadArrays",ky),e("__spreadArray",qy),e("__await",At),e("__asyncGenerator",Ny),e("__asyncDelegator",Ly),e("__asyncValues",Dy),e("__makeTemplateObject",My),e("__importStar",jy),e("__importDefault",$y),e("__classPrivateFieldGet",Fy),e("__classPrivateFieldSet",Hy),e("__classPrivateFieldIn",By),e("__addDisposableResource",Uy),e("__disposeResources",Gy),e("__rewriteRelativeImportExtension",Vy)})});var Ky=p(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.lowerCase=Ot.localeLowerCase=void 0;var _A={tr:{regexp:/\\u0130|\\u0049|\\u0049\\u0307/g,map:{\\u0130:"i",I:"\\u0131",I\\u0307:"i"}},az:{regexp:/\\u0130/g,map:{\\u0130:"i",I:"\\u0131",I\\u0307:"i"}},lt:{regexp:/\\u0049|\\u004A|\\u012E|\\u00CC|\\u00CD|\\u0128/g,map:{I:"i\\u0307",J:"j\\u0307",\\u012E:"\\u012F\\u0307",\\u00CC:"i\\u0307\\u0300",\\u00CD:"i\\u0307\\u0301",\\u0128:"i\\u0307\\u0303"}}};function bA(e,t){var r=_A[t.toLowerCase()];return _a(r?e.replace(r.regexp,function(n){return r.map[n]}):e)}Ot.localeLowerCase=bA;function _a(e){return e.toLowerCase()}Ot.lowerCase=_a});var zy=p(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.noCase=void 0;var SA=Ky(),EA=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],wA=/[^A-Z0-9]+/gi;function RA(e,t){t===void 0&&(t={});for(var r=t.splitRegexp,n=r===void 0?EA:r,i=t.stripRegexp,s=i===void 0?wA:i,o=t.transform,a=o===void 0?SA.lowerCase:o,u=t.delimiter,c=u===void 0?" ":u,l=Wy(Wy(e,n,"$1\\0$2"),s,"\\0"),f=0,h=l.length;l.charAt(f)==="\\0";)f++;for(;l.charAt(h-1)==="\\0";)h--;return l.slice(f,h).split("\\0").map(a).join(c)}Vn.noCase=RA;function Wy(e,t,r){return t instanceof RegExp?e.replace(t,r):t.reduce(function(n,i){return n.replace(i,r)},e)}});var Xy=p(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.pascalCase=Ke.pascalCaseTransformMerge=Ke.pascalCaseTransform=void 0;var PA=va(),xA=zy();function Yy(e,t){var r=e.charAt(0),n=e.substr(1).toLowerCase();return t>0&&r>="0"&&r<="9"?"_"+r+n:""+r.toUpperCase()+n}Ke.pascalCaseTransform=Yy;function AA(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}Ke.pascalCaseTransformMerge=AA;function OA(e,t){return t===void 0&&(t={}),xA.noCase(e,PA.__assign({delimiter:"",transform:Yy},t))}Ke.pascalCase=OA});var Zy=p(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.camelCase=We.camelCaseTransformMerge=We.camelCaseTransform=void 0;var TA=va(),ba=Xy();function Qy(e,t){return t===0?e.toLowerCase():ba.pascalCaseTransform(e,t)}We.camelCaseTransform=Qy;function CA(e,t){return t===0?e.toLowerCase():ba.pascalCaseTransformMerge(e)}We.camelCaseTransformMerge=CA;function IA(e,t){return t===void 0&&(t={}),ba.pascalCase(e,TA.__assign({transform:Qy},t))}We.camelCase=IA});var tO={};jm(tO,{init:()=>JA});module.exports=$m(tO);var nC=at(Nf(),1);var Xt=class{type=3;name="";prefix="";value="";suffix="";modifier=3;constructor(e,t,r,n,i,s){this.type=e,this.name=t,this.prefix=r,this.value=n,this.suffix=i,this.modifier=s}hasCustomName(){return this.name!==""&&typeof this.name!="number"}},wE=/[$_\\p{ID_Start}]/u,RE=/[$_\\u200C\\u200D\\p{ID_Continue}]/u,ys=".*";function PE(e,t){return(t?/^[\\x00-\\xFF]*$/:/^[\\x00-\\x7F]*$/).test(e)}function Mf(e,t=!1){let r=[],n=0;for(;n<e.length;){let i=e[n],s=function(o){if(!t)throw new TypeError(o);r.push({type:"INVALID_CHAR",index:n,value:e[n++]})};if(i==="*"){r.push({type:"ASTERISK",index:n,value:e[n++]});continue}if(i==="+"||i==="?"){r.push({type:"OTHER_MODIFIER",index:n,value:e[n++]});continue}if(i==="\\\\"){r.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});continue}if(i==="{"){r.push({type:"OPEN",index:n,value:e[n++]});continue}if(i==="}"){r.push({type:"CLOSE",index:n,value:e[n++]});continue}if(i===":"){let o="",a=n+1;for(;a<e.length;){let u=e.substr(a,1);if(a===n+1&&wE.test(u)||a!==n+1&&RE.test(u)){o+=e[a++];continue}break}if(!o){s(`Missing parameter name at ${n}`);continue}r.push({type:"NAME",index:n,value:o}),n=a;continue}if(i==="("){let o=1,a="",u=n+1,c=!1;if(e[u]==="?"){s(`Pattern cannot start with "?" at ${u}`);continue}for(;u<e.length;){if(!PE(e[u],!1)){s(`Invalid character \'${e[u]}\' at ${u}.`),c=!0;break}if(e[u]==="\\\\"){a+=e[u++]+e[u++];continue}if(e[u]===")"){if(o--,o===0){u++;break}}else if(e[u]==="("&&(o++,e[u+1]!=="?")){s(`Capturing groups are not allowed at ${u}`),c=!0;break}a+=e[u++]}if(c)continue;if(o){s(`Unbalanced pattern at ${n}`);continue}if(!a){s(`Missing pattern at ${n}`);continue}r.push({type:"REGEX",index:n,value:a}),n=u;continue}r.push({type:"CHAR",index:n,value:e[n++]})}return r.push({type:"END",index:n,value:""}),r}function jf(e,t={}){let r=Mf(e);t.delimiter??="/#?",t.prefixes??="./";let n=`[^${ae(t.delimiter)}]+?`,i=[],s=0,o=0,a="",u=new Set,c=A=>{if(o<r.length&&r[o].type===A)return r[o++].value},l=()=>c("OTHER_MODIFIER")??c("ASTERISK"),f=A=>{let k=c(A);if(k!==void 0)return k;let{type:_,index:x}=r[o];throw new TypeError(`Unexpected ${_} at ${x}, expected ${A}`)},h=()=>{let A="",k;for(;k=c("CHAR")??c("ESCAPED_CHAR");)A+=k;return A},w=A=>A,d=t.encodePart||w,v="",b=A=>{v+=A},T=()=>{v.length&&(i.push(new Xt(3,"","",d(v),"",3)),v="")},C=(A,k,_,x,E)=>{let R=3;switch(E){case"?":R=1;break;case"*":R=0;break;case"+":R=2;break}if(!k&&!_&&R===3){b(A);return}if(T(),!k&&!_){if(!A)return;i.push(new Xt(3,"","",d(A),"",R));return}let O;_?_==="*"?O=ys:O=_:O=n;let D=2;O===n?(D=1,O=""):O===ys&&(D=0,O="");let y;if(k?y=k:_&&(y=s++),u.has(y))throw new TypeError(`Duplicate name \'${y}\'.`);u.add(y),i.push(new Xt(D,y,d(A),O,d(x),R))};for(;o<r.length;){let A=c("CHAR"),k=c("NAME"),_=c("REGEX");if(!k&&!_&&(_=c("ASTERISK")),k||_){let E=A??"";t.prefixes.indexOf(E)===-1&&(b(E),E=""),T();let R=l();C(E,k,_,"",R);continue}let x=A??c("ESCAPED_CHAR");if(x){b(x);continue}if(c("OPEN")){let E=h(),R=c("NAME"),O=c("REGEX");!R&&!O&&(O=c("ASTERISK"));let D=h();f("CLOSE");let y=l();C(E,R,O,D,y);continue}T(),f("END")}return i}function ae(e){return e.replace(/([.+*?^${}()[\\]|/\\\\])/g,"\\\\$1")}function Lf(e){return e&&e.ignoreCase?"ui":"u"}function xE(e,t,r){return $f(jf(e,r),t,r)}function ht(e){switch(e){case 0:return"*";case 1:return"?";case 2:return"+";case 3:return""}}function $f(e,t,r={}){r.delimiter??="/#?",r.prefixes??="./",r.sensitive??=!1,r.strict??=!1,r.end??=!0,r.start??=!0,r.endsWith="";let n=r.start?"^":"";for(let a of e){if(a.type===3){a.modifier===3?n+=ae(a.value):n+=`(?:${ae(a.value)})${ht(a.modifier)}`;continue}t&&t.push(a.name);let u=`[^${ae(r.delimiter)}]+?`,c=a.value;if(a.type===1?c=u:a.type===0&&(c=ys),!a.prefix.length&&!a.suffix.length){a.modifier===3||a.modifier===1?n+=`(${c})${ht(a.modifier)}`:n+=`((?:${c})${ht(a.modifier)})`;continue}if(a.modifier===3||a.modifier===1){n+=`(?:${ae(a.prefix)}(${c})${ae(a.suffix)})`,n+=ht(a.modifier);continue}n+=`(?:${ae(a.prefix)}`,n+=`((?:${c})(?:`,n+=ae(a.suffix),n+=ae(a.prefix),n+=`(?:${c}))*)${ae(a.suffix)})`,a.modifier===0&&(n+="?")}let i=`[${ae(r.endsWith)}]|$`,s=`[${ae(r.delimiter)}]`;if(r.end)return r.strict||(n+=`${s}?`),r.endsWith.length?n+=`(?=${i})`:n+="$",new RegExp(n,Lf(r));r.strict||(n+=`(?:${s}(?=${i}))?`);let o=!1;if(e.length){let a=e[e.length-1];a.type===3&&a.modifier===3&&(o=r.delimiter.indexOf(a)>-1)}return o||(n+=`(?=${s}|${i})`),new RegExp(n,Lf(r))}var Le={delimiter:"",prefixes:"",sensitive:!0,strict:!0},AE={delimiter:".",prefixes:"",sensitive:!0,strict:!0},OE={delimiter:"/",prefixes:"/",sensitive:!0,strict:!0};function TE(e,t){return e.length?e[0]==="/"?!0:!t||e.length<2?!1:(e[0]=="\\\\"||e[0]=="{")&&e[1]=="/":!1}function Ff(e,t){return e.startsWith(t)?e.substring(t.length,e.length):e}function CE(e,t){return e.endsWith(t)?e.substr(0,e.length-t.length):e}function Hf(e){return!e||e.length<2?!1:e[0]==="["||(e[0]==="\\\\"||e[0]==="{")&&e[1]==="["}var Bf=["ftp","file","http","https","ws","wss"];function Uf(e){if(!e)return!0;for(let t of Bf)if(e.test(t))return!0;return!1}function IE(e,t){if(e=Ff(e,"#"),t||e==="")return e;let r=new URL("https://example.com");return r.hash=e,r.hash?r.hash.substring(1,r.hash.length):""}function kE(e,t){if(e=Ff(e,"?"),t||e==="")return e;let r=new URL("https://example.com");return r.search=e,r.search?r.search.substring(1,r.search.length):""}function qE(e,t){return t||e===""?e:Hf(e)?Kf(e):Vf(e)}function NE(e,t){if(t||e==="")return e;let r=new URL("https://example.com");return r.password=e,r.password}function LE(e,t){if(t||e==="")return e;let r=new URL("https://example.com");return r.username=e,r.username}function DE(e,t,r){if(r||e==="")return e;if(t&&!Bf.includes(t))return new URL(`${t}:${e}`).pathname;let n=e[0]=="/";return e=new URL(n?e:"/-"+e,"https://example.com").pathname,n||(e=e.substring(2,e.length)),e}function ME(e,t,r){return Gf(t)===e&&(e=""),r||e===""?e:Wf(e)}function jE(e,t){return e=CE(e,":"),t||e===""?e:ms(e)}function Gf(e){switch(e){case"ws":case"http":return"80";case"wws":case"https":return"443";case"ftp":return"21";default:return""}}function ms(e){if(e==="")return e;if(/^[-+.A-Za-z0-9]*$/.test(e))return e.toLowerCase();throw new TypeError(`Invalid protocol \'${e}\'.`)}function $E(e){if(e==="")return e;let t=new URL("https://example.com");return t.username=e,t.username}function FE(e){if(e==="")return e;let t=new URL("https://example.com");return t.password=e,t.password}function Vf(e){if(e==="")return e;if(/[\\t\\n\\r #%/:<>?@[\\]^\\\\|]/g.test(e))throw new TypeError(`Invalid hostname \'${e}\'`);let t=new URL("https://example.com");return t.hostname=e,t.hostname}function Kf(e){if(e==="")return e;if(/[^0-9a-fA-F[\\]:]/g.test(e))throw new TypeError(`Invalid IPv6 hostname \'${e}\'`);return e.toLowerCase()}function Wf(e){if(e===""||/^[0-9]*$/.test(e)&&parseInt(e)<=65535)return e;throw new TypeError(`Invalid port \'${e}\'.`)}function HE(e){if(e==="")return e;let t=new URL("https://example.com");return t.pathname=e[0]!=="/"?"/-"+e:e,e[0]!=="/"?t.pathname.substring(2,t.pathname.length):t.pathname}function BE(e){return e===""?e:new URL(`data:${e}`).pathname}function UE(e){if(e==="")return e;let t=new URL("https://example.com");return t.search=e,t.search.substring(1,t.search.length)}function GE(e){if(e==="")return e;let t=new URL("https://example.com");return t.hash=e,t.hash.substring(1,t.hash.length)}var VE=class{#t;#r=[];#n={};#e=0;#i=1;#a=0;#o=0;#c=0;#d=0;#y=!1;constructor(e){this.#t=e}get result(){return this.#n}parse(){for(this.#r=Mf(this.#t,!0);this.#e<this.#r.length;this.#e+=this.#i){if(this.#i=1,this.#r[this.#e].type==="END"){if(this.#o===0){this.#_(),this.#f()?this.#s(9,1):this.#p()?this.#s(8,1):this.#s(7,0);continue}else if(this.#o===2){this.#h(5);continue}this.#s(10,0);break}if(this.#c>0)if(this.#x())this.#c-=1;else continue;if(this.#P()){this.#c+=1;continue}switch(this.#o){case 0:this.#b()&&this.#h(1);break;case 1:if(this.#b()){this.#T();let e=7,t=1;this.#E()?(e=2,t=3):this.#y&&(e=2),this.#s(e,t)}break;case 2:this.#g()?this.#h(3):(this.#v()||this.#p()||this.#f())&&this.#h(5);break;case 3:this.#w()?this.#s(4,1):this.#g()&&this.#s(5,1);break;case 4:this.#g()&&this.#s(5,1);break;case 5:this.#A()?this.#d+=1:this.#O()&&(this.#d-=1),this.#R()&&!this.#d?this.#s(6,1):this.#v()?this.#s(7,0):this.#p()?this.#s(8,1):this.#f()&&this.#s(9,1);break;case 6:this.#v()?this.#s(7,0):this.#p()?this.#s(8,1):this.#f()&&this.#s(9,1);break;case 7:this.#p()?this.#s(8,1):this.#f()&&this.#s(9,1);break;case 8:this.#f()&&this.#s(9,1);break;case 9:break;case 10:break}}this.#n.hostname!==void 0&&this.#n.port===void 0&&(this.#n.port="")}#s(e,t){switch(this.#o){case 0:break;case 1:this.#n.protocol=this.#l();break;case 2:break;case 3:this.#n.username=this.#l();break;case 4:this.#n.password=this.#l();break;case 5:this.#n.hostname=this.#l();break;case 6:this.#n.port=this.#l();break;case 7:this.#n.pathname=this.#l();break;case 8:this.#n.search=this.#l();break;case 9:this.#n.hash=this.#l();break;case 10:break}this.#o!==0&&e!==10&&([1,2,3,4].includes(this.#o)&&[6,7,8,9].includes(e)&&(this.#n.hostname??=""),[1,2,3,4,5,6].includes(this.#o)&&[8,9].includes(e)&&(this.#n.pathname??=this.#y?"/":""),[1,2,3,4,5,6,7].includes(this.#o)&&e===9&&(this.#n.search??="")),this.#S(e,t)}#S(e,t){this.#o=e,this.#a=this.#e+t,this.#e+=t,this.#i=0}#_(){this.#e=this.#a,this.#i=0}#h(e){this.#_(),this.#o=e}#m(e){return e<0&&(e=this.#r.length-e),e<this.#r.length?this.#r[e]:this.#r[this.#r.length-1]}#u(e,t){let r=this.#m(e);return r.value===t&&(r.type==="CHAR"||r.type==="ESCAPED_CHAR"||r.type==="INVALID_CHAR")}#b(){return this.#u(this.#e,":")}#E(){return this.#u(this.#e+1,"/")&&this.#u(this.#e+2,"/")}#g(){return this.#u(this.#e,"@")}#w(){return this.#u(this.#e,":")}#R(){return this.#u(this.#e,":")}#v(){return this.#u(this.#e,"/")}#p(){if(this.#u(this.#e,"?"))return!0;if(this.#r[this.#e].value!=="?")return!1;let e=this.#m(this.#e-1);return e.type!=="NAME"&&e.type!=="REGEX"&&e.type!=="CLOSE"&&e.type!=="ASTERISK"}#f(){return this.#u(this.#e,"#")}#P(){return this.#r[this.#e].type=="OPEN"}#x(){return this.#r[this.#e].type=="CLOSE"}#A(){return this.#u(this.#e,"[")}#O(){return this.#u(this.#e,"]")}#l(){let e=this.#r[this.#e],t=this.#m(this.#a).index;return this.#t.substring(t,e.index)}#T(){let e={};Object.assign(e,Le),e.encodePart=ms;let t=xE(this.#l(),void 0,e);this.#y=Uf(t)}},ds=["protocol","username","password","hostname","port","pathname","search","hash"],Ne="*";function Df(e,t){if(typeof e!="string")throw new TypeError("parameter 1 is not of type \'string\'.");let r=new URL(e,t);return{protocol:r.protocol.substring(0,r.protocol.length-1),username:r.username,password:r.password,hostname:r.hostname,port:r.port,pathname:r.pathname,search:r.search!==""?r.search.substring(1,r.search.length):void 0,hash:r.hash!==""?r.hash.substring(1,r.hash.length):void 0}}function Te(e,t){return t?Yt(e):e}function zt(e,t,r){let n;if(typeof t.baseURL=="string")try{n=new URL(t.baseURL),t.protocol===void 0&&(e.protocol=Te(n.protocol.substring(0,n.protocol.length-1),r)),!r&&t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&t.username===void 0&&(e.username=Te(n.username,r)),!r&&t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&t.username===void 0&&t.password===void 0&&(e.password=Te(n.password,r)),t.protocol===void 0&&t.hostname===void 0&&(e.hostname=Te(n.hostname,r)),t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&(e.port=Te(n.port,r)),t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&t.pathname===void 0&&(e.pathname=Te(n.pathname,r)),t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&t.pathname===void 0&&t.search===void 0&&(e.search=Te(n.search.substring(1,n.search.length),r)),t.protocol===void 0&&t.hostname===void 0&&t.port===void 0&&t.pathname===void 0&&t.search===void 0&&t.hash===void 0&&(e.hash=Te(n.hash.substring(1,n.hash.length),r))}catch{throw new TypeError(`invalid baseURL \'${t.baseURL}\'.`)}if(typeof t.protocol=="string"&&(e.protocol=jE(t.protocol,r)),typeof t.username=="string"&&(e.username=LE(t.username,r)),typeof t.password=="string"&&(e.password=NE(t.password,r)),typeof t.hostname=="string"&&(e.hostname=qE(t.hostname,r)),typeof t.port=="string"&&(e.port=ME(t.port,e.protocol,r)),typeof t.pathname=="string"){if(e.pathname=t.pathname,n&&!TE(e.pathname,r)){let i=n.pathname.lastIndexOf("/");i>=0&&(e.pathname=Te(n.pathname.substring(0,i+1),r)+e.pathname)}e.pathname=DE(e.pathname,e.protocol,r)}return typeof t.search=="string"&&(e.search=kE(t.search,r)),typeof t.hash=="string"&&(e.hash=IE(t.hash,r)),e}function Yt(e){return e.replace(/([+*?:{}()\\\\])/g,"\\\\$1")}function KE(e){return e.replace(/([.+*?^${}()[\\]|/\\\\])/g,"\\\\$1")}function WE(e,t){t.delimiter??="/#?",t.prefixes??="./",t.sensitive??=!1,t.strict??=!1,t.end??=!0,t.start??=!0,t.endsWith="";let r=".*",n=`[^${KE(t.delimiter)}]+?`,i=/[$_\\u200C\\u200D\\p{ID_Continue}]/u,s="";for(let o=0;o<e.length;++o){let a=e[o];if(a.type===3){if(a.modifier===3){s+=Yt(a.value);continue}s+=`{${Yt(a.value)}}${ht(a.modifier)}`;continue}let u=a.hasCustomName(),c=!!a.suffix.length||!!a.prefix.length&&(a.prefix.length!==1||!t.prefixes.includes(a.prefix)),l=o>0?e[o-1]:null,f=o<e.length-1?e[o+1]:null;if(!c&&u&&a.type===1&&a.modifier===3&&f&&!f.prefix.length&&!f.suffix.length)if(f.type===3){let h=f.value.length>0?f.value[0]:"";c=i.test(h)}else c=!f.hasCustomName();if(!c&&!a.prefix.length&&l&&l.type===3){let h=l.value[l.value.length-1];c=t.prefixes.includes(h)}c&&(s+="{"),s+=Yt(a.prefix),u&&(s+=`:${a.name}`),a.type===2?s+=`(${a.value})`:a.type===1?u||(s+=`(${n})`):a.type===0&&(!u&&(!l||l.type===3||l.modifier!==3||c||a.prefix!=="")?s+="*":s+=`(${r})`),a.type===1&&u&&a.suffix.length&&i.test(a.suffix[0])&&(s+="\\\\"),s+=Yt(a.suffix),c&&(s+="}"),a.modifier!==3&&(s+=ht(a.modifier))}return s}var zf=class{#t;#r={};#n={};#e={};#i={};#a=!1;constructor(e={},t,r){try{let n;if(typeof t=="string"?n=t:r=t,typeof e=="string"){let a=new VE(e);if(a.parse(),e=a.result,n===void 0&&typeof e.protocol!="string")throw new TypeError("A base URL must be provided for a relative constructor string.");e.baseURL=n}else{if(!e||typeof e!="object")throw new TypeError("parameter 1 is not of type \'string\' and cannot convert to dictionary.");if(n)throw new TypeError("parameter 1 is not of type \'string\'.")}typeof r>"u"&&(r={ignoreCase:!1});let i={ignoreCase:r.ignoreCase===!0},s={pathname:Ne,protocol:Ne,username:Ne,password:Ne,hostname:Ne,port:Ne,search:Ne,hash:Ne};this.#t=zt(s,e,!0),Gf(this.#t.protocol)===this.#t.port&&(this.#t.port="");let o;for(o of ds){if(!(o in this.#t))continue;let a={},u=this.#t[o];switch(this.#n[o]=[],o){case"protocol":Object.assign(a,Le),a.encodePart=ms;break;case"username":Object.assign(a,Le),a.encodePart=$E;break;case"password":Object.assign(a,Le),a.encodePart=FE;break;case"hostname":Object.assign(a,AE),Hf(u)?a.encodePart=Kf:a.encodePart=Vf;break;case"port":Object.assign(a,Le),a.encodePart=Wf;break;case"pathname":Uf(this.#r.protocol)?(Object.assign(a,OE,i),a.encodePart=HE):(Object.assign(a,Le,i),a.encodePart=BE);break;case"search":Object.assign(a,Le,i),a.encodePart=UE;break;case"hash":Object.assign(a,Le,i),a.encodePart=GE;break}try{this.#i[o]=jf(u,a),this.#r[o]=$f(this.#i[o],this.#n[o],a),this.#e[o]=WE(this.#i[o],a),this.#a=this.#a||this.#i[o].some(c=>c.type===2)}catch{throw new TypeError(`invalid ${o} pattern \'${this.#t[o]}\'.`)}}}catch(n){throw new TypeError(`Failed to construct \'URLPattern\': ${n.message}`)}}test(e={},t){let r={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof e!="string"&&t)throw new TypeError("parameter 1 is not of type \'string\'.");if(typeof e>"u")return!1;try{typeof e=="object"?r=zt(r,e,!1):r=zt(r,Df(e,t),!1)}catch{return!1}let n;for(n of ds)if(!this.#r[n].exec(r[n]))return!1;return!0}exec(e={},t){let r={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof e!="string"&&t)throw new TypeError("parameter 1 is not of type \'string\'.");if(typeof e>"u")return;try{typeof e=="object"?r=zt(r,e,!1):r=zt(r,Df(e,t),!1)}catch{return null}let n={};t?n.inputs=[e,t]:n.inputs=[e];let i;for(i of ds){let s=this.#r[i].exec(r[i]);if(!s)return null;let o={};for(let[a,u]of this.#n[i].entries())if(typeof u=="string"||typeof u=="number"){let c=s[a+1];o[u]=c}n[i]={input:r[i]??"",groups:o}}return n}static compareComponent(e,t,r){let n=(a,u)=>{for(let c of["type","modifier","prefix","value","suffix"]){if(a[c]<u[c])return-1;if(a[c]!==u[c])return 1}return 0},i=new Xt(3,"","","","",3),s=new Xt(0,"","","","",3),o=(a,u)=>{let c=0;for(;c<Math.min(a.length,u.length);++c){let l=n(a[c],u[c]);if(l)return l}return a.length===u.length?0:n(a[c]??i,u[c]??i)};return!t.#e[e]&&!r.#e[e]?0:t.#e[e]&&!r.#e[e]?o(t.#i[e],[s]):!t.#e[e]&&r.#e[e]?o([s],r.#i[e]):o(t.#i[e],r.#i[e])}get protocol(){return this.#e.protocol}get username(){return this.#e.username}get password(){return this.#e.password}get hostname(){return this.#e.hostname}get port(){return this.#e.port}get pathname(){return this.#e.pathname}get search(){return this.#e.search}get hash(){return this.#e.hash}get hasRegExpGroups(){return this.#a}};globalThis.URLPattern||(globalThis.URLPattern=zf);var Cm=require("electron");var Yf="4.0.1";var gs=Symbol.for("mx:main-ps"),Xf="mx:main-ps:ready",vs="mx:main-ps:connect",_s="mx:main-ps:disconnect",bs=Yf;var Qt="mx:ipc-emit:v1",Ss="mx:ipc-invoke:v1";function dt(e){return e?.type==="TASK"}function Qf(e){return e?.type==="RESULT"}function Zf(e){return e?.type==="ERROR"}function Es(e){return e?.type==="ABORT"}function Zt(e){return e?.type==="EVENT"}function Jf(e){if(typeof e!="object"||e===null)return!1;let t=e;return Qf(t)||Zf(t)||dt(t)||Es(t)||Zt(t)}function ep(e,t){let r=t;return!r||Zt(r)?!1:r.taskId===e.taskId&&(Qf(r)||Zf(r))}function Jt(e,t){let r={};for(let n of t)n in e&&(r[n]=e[n]);return r}var en=class{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(t,r){this.keyToValue.set(t,r),this.valueToKey.set(r,t)}getByKey(t){return this.keyToValue.get(t)}getByValue(t){return this.valueToKey.get(t)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}};var yt=class{constructor(t){this.generateIdentifier=t,this.kv=new en}register(t,r){this.kv.getByValue(t)||(r||(r=this.generateIdentifier(t)),this.kv.set(r,t))}clear(){this.kv.clear()}getIdentifier(t){return this.kv.getByValue(t)}getValue(t){return this.kv.getByKey(t)}};var tn=class extends yt{constructor(){super(t=>t.name),this.classToAllowedProps=new Map}register(t,r){typeof r=="object"?(r.allowProps&&this.classToAllowedProps.set(t,r.allowProps),super.register(t,r.identifier)):super.register(t,r)}getAllowedProps(t){return this.classToAllowedProps.get(t)}};function YE(e){if("values"in Object)return Object.values(e);let t=[];for(let r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t}function tp(e,t){let r=YE(e);if("find"in r)return r.find(t);let n=r;for(let i=0;i<n.length;i++){let s=n[i];if(t(s))return s}}function tt(e,t){Object.entries(e).forEach(([r,n])=>t(n,r))}function mt(e,t){return e.indexOf(t)!==-1}function ws(e,t){for(let r=0;r<e.length;r++){let n=e[r];if(t(n))return n}}var rn=class{constructor(){this.transfomers={}}register(t){this.transfomers[t.name]=t}findApplicable(t){return tp(this.transfomers,r=>r.isApplicable(t))}findByName(t){return this.transfomers[t]}};var XE=e=>Object.prototype.toString.call(e).slice(8,-1),Rs=e=>typeof e>"u",QE=e=>e===null,rt=e=>typeof e!="object"||e===null||e===Object.prototype?!1:Object.getPrototypeOf(e)===null?!0:Object.getPrototypeOf(e)===Object.prototype,nn=e=>rt(e)&&Object.keys(e).length===0,de=e=>Array.isArray(e),ZE=e=>typeof e=="string",JE=e=>typeof e=="number"&&!isNaN(e),ew=e=>typeof e=="boolean",rp=e=>e instanceof RegExp,De=e=>e instanceof Map,Me=e=>e instanceof Set,Ps=e=>XE(e)==="Symbol",np=e=>e instanceof Date&&!isNaN(e.valueOf()),ip=e=>e instanceof Error,xs=e=>typeof e=="number"&&isNaN(e),sp=e=>ew(e)||QE(e)||Rs(e)||JE(e)||ZE(e)||Ps(e),op=e=>typeof e=="bigint",ap=e=>e===1/0||e===-1/0,up=e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),cp=e=>e instanceof URL;var As=e=>e.replace(/\\./g,"\\\\."),sn=e=>e.map(String).map(As).join("."),gt=e=>{let t=[],r="";for(let i=0;i<e.length;i++){let s=e.charAt(i);if(s==="\\\\"&&e.charAt(i+1)==="."){r+=".",i++;continue}if(s==="."){t.push(r),r="";continue}r+=s}let n=r;return t.push(n),t};function be(e,t,r,n){return{isApplicable:e,annotation:t,transform:r,untransform:n}}var lp=[be(Rs,"undefined",()=>null,()=>{}),be(op,"bigint",e=>e.toString(),e=>typeof BigInt<"u"?BigInt(e):(console.error("Please add a BigInt polyfill."),e)),be(np,"Date",e=>e.toISOString(),e=>new Date(e)),be(ip,"Error",(e,t)=>{let r={name:e.name,message:e.message};return t.allowedErrorProps.forEach(n=>{r[n]=e[n]}),r},(e,t)=>{let r=new Error(e.message);return r.name=e.name,r.stack=e.stack,t.allowedErrorProps.forEach(n=>{r[n]=e[n]}),r}),be(rp,"regexp",e=>""+e,e=>{let t=e.slice(1,e.lastIndexOf("/")),r=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,r)}),be(Me,"set",e=>[...e.values()],e=>new Set(e)),be(De,"map",e=>[...e.entries()],e=>new Map(e)),be(e=>xs(e)||ap(e),"number",e=>xs(e)?"NaN":e>0?"Infinity":"-Infinity",Number),be(e=>e===0&&1/e===-1/0,"number",()=>"-0",Number),be(cp,"URL",e=>e.toString(),e=>new URL(e))];function on(e,t,r,n){return{isApplicable:e,annotation:t,transform:r,untransform:n}}var fp=on((e,t)=>Ps(e)?!!t.symbolRegistry.getIdentifier(e):!1,(e,t)=>["symbol",t.symbolRegistry.getIdentifier(e)],e=>e.description,(e,t,r)=>{let n=r.symbolRegistry.getValue(t[1]);if(!n)throw new Error("Trying to deserialize unknown symbol");return n}),tw=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((e,t)=>(e[t.name]=t,e),{}),pp=on(up,e=>["typed-array",e.constructor.name],e=>[...e],(e,t)=>{let r=tw[t[1]];if(!r)throw new Error("Trying to deserialize unknown typed array");return new r(e)});function Os(e,t){return e?.constructor?!!t.classRegistry.getIdentifier(e.constructor):!1}var hp=on(Os,(e,t)=>["class",t.classRegistry.getIdentifier(e.constructor)],(e,t)=>{let r=t.classRegistry.getAllowedProps(e.constructor);if(!r)return{...e};let n={};return r.forEach(i=>{n[i]=e[i]}),n},(e,t,r)=>{let n=r.classRegistry.getValue(t[1]);if(!n)throw new Error(`Trying to deserialize unknown class \'${t[1]}\' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);return Object.assign(Object.create(n.prototype),e)}),dp=on((e,t)=>!!t.customTransformerRegistry.findApplicable(e),(e,t)=>["custom",t.customTransformerRegistry.findApplicable(e).name],(e,t)=>t.customTransformerRegistry.findApplicable(e).serialize(e),(e,t,r)=>{let n=r.customTransformerRegistry.findByName(t[1]);if(!n)throw new Error("Trying to deserialize unknown custom value");return n.deserialize(e)}),rw=[hp,fp,dp,pp],Ts=(e,t)=>{let r=ws(rw,i=>i.isApplicable(e,t));if(r)return{value:r.transform(e,t),type:r.annotation(e,t)};let n=ws(lp,i=>i.isApplicable(e,t));if(n)return{value:n.transform(e,t),type:n.annotation}},yp={};lp.forEach(e=>{yp[e.annotation]=e});var mp=(e,t,r)=>{if(de(t))switch(t[0]){case"symbol":return fp.untransform(e,t,r);case"class":return hp.untransform(e,t,r);case"custom":return dp.untransform(e,t,r);case"typed-array":return pp.untransform(e,t,r);default:throw new Error("Unknown transformation: "+t)}else{let n=yp[t];if(!n)throw new Error("Unknown transformation: "+t);return n.untransform(e,r)}};var vt=(e,t)=>{if(t>e.size)throw new Error("index out of bounds");let r=e.keys();for(;t>0;)r.next(),t--;return r.next().value};function gp(e){if(mt(e,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(mt(e,"prototype"))throw new Error("prototype is not allowed as a property");if(mt(e,"constructor"))throw new Error("constructor is not allowed as a property")}var vp=(e,t)=>{gp(t);for(let r=0;r<t.length;r++){let n=t[r];if(Me(e))e=vt(e,+n);else if(De(e)){let i=+n,s=+t[++r]==0?"key":"value",o=vt(e,i);switch(s){case"key":e=o;break;case"value":e=e.get(o);break}}else e=e[n]}return e},an=(e,t,r)=>{if(gp(t),t.length===0)return r(e);let n=e;for(let s=0;s<t.length-1;s++){let o=t[s];if(de(n)){let a=+o;n=n[a]}else if(rt(n))n=n[o];else if(Me(n)){let a=+o;n=vt(n,a)}else if(De(n)){if(s===t.length-2)break;let u=+o,c=+t[++s]==0?"key":"value",l=vt(n,u);switch(c){case"key":n=l;break;case"value":n=n.get(l);break}}}let i=t[t.length-1];if(de(n)?n[+i]=r(n[+i]):rt(n)&&(n[i]=r(n[i])),Me(n)){let s=vt(n,+i),o=r(s);s!==o&&(n.delete(s),n.add(o))}if(De(n)){let s=+t[t.length-2],o=vt(n,s);switch(+i==0?"key":"value"){case"key":{let u=r(o);n.set(u,n.get(o)),u!==o&&n.delete(o);break}case"value":{n.set(o,r(n.get(o)));break}}}return e};function Cs(e,t,r=[]){if(!e)return;if(!de(e)){tt(e,(s,o)=>Cs(s,t,[...r,...gt(o)]));return}let[n,i]=e;i&&tt(i,(s,o)=>{Cs(s,t,[...r,...gt(o)])}),t(n,r)}function _p(e,t,r){return Cs(t,(n,i)=>{e=an(e,i,s=>mp(s,n,r))}),e}function bp(e,t){function r(n,i){let s=vp(e,gt(i));n.map(gt).forEach(o=>{e=an(e,o,()=>s)})}if(de(t)){let[n,i]=t;n.forEach(s=>{e=an(e,gt(s),()=>e)}),i&&tt(i,r)}else tt(t,r);return e}var nw=(e,t)=>rt(e)||de(e)||De(e)||Me(e)||Os(e,t);function iw(e,t,r){let n=r.get(e);n?n.push(t):r.set(e,[t])}function Sp(e,t){let r={},n;return e.forEach(i=>{if(i.length<=1)return;t||(i=i.map(a=>a.map(String)).sort((a,u)=>a.length-u.length));let[s,...o]=i;s.length===0?n=o.map(sn):r[sn(s)]=o.map(sn)}),n?nn(r)?[n]:[n,r]:nn(r)?void 0:r}var Is=(e,t,r,n,i=[],s=[],o=new Map)=>{let a=sp(e);if(!a){iw(e,i,t);let w=o.get(e);if(w)return n?{transformedValue:null}:w}if(!nw(e,r)){let w=Ts(e,r),d=w?{transformedValue:w.value,annotations:[w.type]}:{transformedValue:e};return a||o.set(e,d),d}if(mt(s,e))return{transformedValue:null};let u=Ts(e,r),c=u?.value??e,l=de(c)?[]:{},f={};tt(c,(w,d)=>{if(d==="__proto__"||d==="constructor"||d==="prototype")throw new Error(`Detected property ${d}. This is a prototype pollution risk, please remove it from your object.`);let v=Is(w,t,r,n,[...i,d],[...s,e],o);l[d]=v.transformedValue,de(v.annotations)?f[d]=v.annotations:rt(v.annotations)&&tt(v.annotations,(b,T)=>{f[As(d)+"."+T]=b})});let h=nn(f)?{transformedValue:l,annotations:u?[u.type]:void 0}:{transformedValue:l,annotations:u?[u.type,f]:f};return a||o.set(e,h),h};function un(e){return Object.prototype.toString.call(e).slice(8,-1)}function ks(e){return un(e)==="Array"}function Ep(e){if(un(e)!=="Object")return!1;let t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}function sw(e){return un(e)==="Null"}function ow(e,t,r,n,i){return s=>e(s)||t(s)||!!r&&r(s)||!!n&&n(s)||!!i&&i(s)}function aw(e){return un(e)==="Undefined"}var qI=ow(sw,aw);function uw(e,t,r,n,i){let s={}.propertyIsEnumerable.call(n,t)?"enumerable":"nonenumerable";s==="enumerable"&&(e[t]=r),i&&s==="nonenumerable"&&Object.defineProperty(e,t,{value:r,enumerable:!1,writable:!0,configurable:!0})}function cn(e,t={}){if(ks(e))return e.map(i=>cn(i,t));if(!Ep(e))return e;let r=Object.getOwnPropertyNames(e),n=Object.getOwnPropertySymbols(e);return[...r,...n].reduce((i,s)=>{if(ks(t.props)&&!t.props.includes(s))return i;let o=e[s],a=cn(o,t);return uw(i,s,a,e,t.nonenumerable),i},{})}var q=class{constructor({dedupe:t=!1}={}){this.classRegistry=new tn,this.symbolRegistry=new yt(r=>r.description??""),this.customTransformerRegistry=new rn,this.allowedErrorProps=[],this.dedupe=t}serialize(t){let r=new Map,n=Is(t,r,this,this.dedupe),i={json:n.transformedValue};n.annotations&&(i.meta={...i.meta,values:n.annotations});let s=Sp(r,this.dedupe);return s&&(i.meta={...i.meta,referentialEqualities:s}),i}deserialize(t){let{json:r,meta:n}=t,i=cn(r);return n?.values&&(i=_p(i,n.values,this)),n?.referentialEqualities&&(i=bp(i,n.referentialEqualities)),i}stringify(t){return JSON.stringify(this.serialize(t))}parse(t){return this.deserialize(JSON.parse(t))}registerClass(t,r){this.classRegistry.register(t,r)}registerSymbol(t,r){this.symbolRegistry.register(t,r)}registerCustom(t,r){this.customTransformerRegistry.register({name:r,...t})}allowErrorProps(...t){this.allowedErrorProps.push(...t)}};q.defaultInstance=new q;q.serialize=q.defaultInstance.serialize.bind(q.defaultInstance);q.deserialize=q.defaultInstance.deserialize.bind(q.defaultInstance);q.stringify=q.defaultInstance.stringify.bind(q.defaultInstance);q.parse=q.defaultInstance.parse.bind(q.defaultInstance);q.registerClass=q.defaultInstance.registerClass.bind(q.defaultInstance);q.registerSymbol=q.defaultInstance.registerSymbol.bind(q.defaultInstance);q.registerCustom=q.defaultInstance.registerCustom.bind(q.defaultInstance);q.allowErrorProps=q.defaultInstance.allowErrorProps.bind(q.defaultInstance);var BI=q.serialize,UI=q.deserialize,GI=q.stringify,VI=q.parse,KI=q.registerClass,WI=q.registerCustom,zI=q.registerSymbol,YI=q.allowErrorProps;var je=class e extends Error{static name="CodeError";code;constructor(t,r){super(r),this.name=e.name,this.code=t}};function wp(e){return Jf(e)?e:(console.warn("Received non-IPC message, ignoring",e),null)}q.registerCustom({isApplicable:e=>e instanceof Error&&e.name===je.name&&typeof e.code=="string",serialize:e=>JSON.stringify(Jt(e,["name","message","code"])),deserialize:e=>{let{message:t,...r}=JSON.parse(e);return Object.assign(new je(t),r)}},"nodejs-error");q.registerCustom({isApplicable:e=>e instanceof Error&&e.name===je.name,serialize:e=>JSON.stringify(Jt(e,["message","code","stack"])),deserialize:e=>{let{message:t,code:r,...n}=JSON.parse(e);return Object.assign(new je(r,t),n)}},"fallback-error");function ln(e){try{let t=q.deserialize(e);return wp(t)}catch(t){return console.warn("Error deserializing SuperJSON payload",t,e),null}}function fn(e){return q.serialize(e)}var Rp=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Pp=e=>{throw TypeError(e)},cw=(e,t,r)=>{if(t!=null){typeof t!="object"&&typeof t!="function"&&Pp("Object expected");var n,i;r&&(n=t[Rp("asyncDispose")]),n===void 0&&(n=t[Rp("dispose")],r&&(i=n)),typeof n!="function"&&Pp("Object not disposable"),i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.push([r,n,t])}else r&&e.push([r]);return t},lw=(e,t,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(o,a,u,c){return c=Error(u),c.name="SuppressedError",c.error=o,c.suppressed=a,c},i=o=>t=r?new n(o,t,"An error was suppressed during disposal"):(r=!0,o),s=o=>{for(;o=e.pop();)try{var a=o[1]&&o[1].call(o[2]);if(o[0])return Promise.resolve(a).then(s,u=>(i(u),s()))}catch(u){i(u)}if(r)throw t};return s()};function fw(e){return e.startsWith("emit:")}function pw(e){return e.startsWith("invoke:")}var _t={parse:ln,stringify:fn},pn=class{#t=new Map;#r=new Map;#n;#e;constructor(t){var r=[];try{this.#n=t;let s=cw(r,new DisposableStack);this.#n.on(Qt,this.#i),s.defer(()=>{this.#n.removeListener(Qt,this.#i),this.#t.clear()}),this.#n.handle(Ss,this.#a),s.defer(()=>{this.#n.removeHandler(Ss),this.#r.clear()}),this.#e=s.move()}catch(s){var n=s,i=!0}finally{lw(r,n,i)}}[Symbol.dispose](){return this.#e.dispose()}on(t,r){if(fw(t)){let n=r;return this.#t.set(t,n),()=>{this.#t.delete(t)}}if(pw(t)){let n=r;return this.#r.set(t,n),()=>{this.#r.delete(t)}}throw new Error(`Unknown event type: ${t}`)}#i=(t,r)=>{let n=_t.parse(r);!n||!dt(n)||this.#t.get(`emit:${t.sender.id}`)?.(n)};#a=async(t,r)=>{let n=_t.parse(r);if(!n)return _t.stringify({type:"ERROR",taskId:"",error:new Error("Invalid request")});if(!dt(n))return _t.stringify({type:"ERROR",taskId:Zt(n)?"-":n.taskId,error:new Error("Invalid request")});let i=this.#r.get(`invoke:${t.sender.id}`);if(!i)return _t.stringify({type:"ERROR",taskId:n.taskId,error:new Error("No Invoke handler returned a result")});let s=await i(n);return _t.stringify(s)}};var Kn=at(require("util"),1),sm=at(yy(),1),Wn=at(require("path"),1),om=at(gy(),1),am=at(Zy(),1),um=require("url"),Jy=`\n`,Sa=class extends Error{constructor(t){super(t),Object.defineProperty(this,"message",{enumerable:!1,value:t}),Object.defineProperty(this,"name",{enumerable:!1,value:this.constructor.name}),"captureStackTrace"in Error?Error.captureStackTrace(this,this.constructor):Object.defineProperty(this,"stack",{enumerable:!1,value:Error(t).stack,writable:!0,configurable:!0})}},ur=class extends Sa{},Ct=class e extends ur{constructor(t,r,n,i){super(`${t}: expected ${r} to be ${n}, but got ${i}.`)}static assert(t,r,n,i,s){if(!t)throw new e(r,n,i,s);return t}},Tt=class extends ur{constructor(t,r,n){let i=t.toString(),s=r.map(({name:u})=>u.toString());s.push(i);let o=s.join(" -> "),a=`Could not resolve \'${i}\'.`;n&&(a+=` ${n}`),a+=Jy+Jy,a+=`Resolution path: ${o}`,super(a)}},Ea=class extends ur{constructor(t,r){let i=`Could not register \'${t.toString()}\'.`;r&&(i+=` ${r}`),super(i)}},cr={PROXY:"PROXY",CLASSIC:"CLASSIC"},K={SINGLETON:"SINGLETON",TRANSIENT:"TRANSIENT",SCOPED:"SCOPED"};function kA(e,t){return e===K.SINGLETON&&t!==K.SINGLETON||e===K.SCOPED&&t===K.TRANSIENT}function cm(e){let t=e.length,r=0,n="EOF",i="",s=0,o=0,a=0;return{next:u,done:v};function u(b=0){return s=b,c(),d()}function c(){for(i="",n="EOF";;){if(r>=t)return n="EOF";let b=e.charAt(r);if(em(b)){r++;continue}switch(b){case"(":return r++,o++,n=b;case")":return r++,a++,n=b;case"*":return r++,n=b;case",":return r++,n=b;case"=":return r++,(s&1)===0&&f(),n=b;case"/":{r++;let T=e.charAt(r);T==="/"&&(h(C=>C===`\n`,!0),r++),T==="*"&&(h(C=>{let A=e.charAt(r+1);return C==="*"&&A==="/"},!0),r++);break}default:if(DA(b))return l(),n;r++}}}function l(){let b=e.charAt(r),T=++r;for(;MA(e.charAt(r));)r++;return i=""+b+e.substring(T,r),n=i==="function"||i==="class"?i:"ident",n!=="ident"&&(i=""),i}function f(){h(b=>{let T=o===a+1;return b===","&&T?!0:b==="("?(o++,!1):!!(b===")"&&(a++,T))})}function h(b,T=!1){for(;r<e.length;){let C=e.charAt(r);if(b(C))return;if(!T){if(em(C)){r++;continue}if(qA(C)){w();continue}}r++}}function w(){let b=e.charAt(r);for(r++;r<e.length;){let T=e.charAt(r),C=e.charAt(r-1);if(T===b&&C!=="\\\\"){r++;return}b==="`"&&e.charAt(r+1)==="$"&&e.charAt(r+2)==="{"&&(r=r+2,h(_=>_==="}")),r++}}function d(){return i?{value:i,type:n}:{type:n}}function v(){return n==="EOF"}}function em(e){switch(e){case"\\r":case`\n`:case" ":return!0}return!1}function qA(e){switch(e){case"\'":case\'"\':case"`":return!0}return!1}var NA=/^[_$a-zA-Z\\xA0-\\uFFFF]$/,LA=/^[?._$a-zA-Z0-9\\xA0-\\uFFFF]$/;function DA(e){return NA.test(e)}function MA(e){return LA.test(e)}function jA(e){let t=[];return e.forEach(r=>{r.forEach(n=>{t.push(n)})}),t}function $A(e,t){let r=e;return typeof r=="string"||typeof r=="symbol"?{[e]:t}:r}function FA(e){return e[e.length-1]}function lm(e){if(typeof e!="function")return!1;let t=cm(e.toString()),r=t.next();if(r.type==="class")return!0;let n=t.next();return!!(r.type==="function"&&n.value&&n.value[0]===n.value[0].toUpperCase())}function or(e){return typeof e=="function"}function HA(e){return Array.from(new Set(e))}var BA=/(.*)\\..*/i;function tm(e,t){t={cwd:process.cwd(),glob:sm.default.sync,...t};let r=null;return Array.isArray(e)&&(r=e[1],e=e[0]),e=e.replace(/\\\\/g,"/"),t.glob(e,{cwd:t.cwd}).map(s=>({name:BA.exec(Wn.basename(s))[1],path:Wn.resolve(t.cwd,s),opts:r}))}function UA(e,t){return Array.isArray(e)?jA(e.map(r=>tm(r,t))):tm(e,t)}function GA(e){let{next:t,done:r}=cm(e),n=[],i=null;for(u();!r();)switch(i.type){case"class":{if(!o())return null;break}case"function":{let l=u();(l.type==="ident"||l.type==="*")&&u();break}case"(":s();break;case")":return n;case"ident":{let l={name:i.value,optional:!1};if(i.value==="async"){let f=u();if(f&&f.type!=="=")break}return n.push(l),n}default:throw c()}return n;function s(){let l={name:"",optional:!1};for(;!r();)switch(u(),i.type){case"ident":l.name=i.value;break;case"=":l.optional=!0;break;case",":n.push(l),l={name:"",optional:!1};break;case")":l.name&&n.push(l);return;default:throw c()}}function o(){for(;!r();){if(a()){if(u(1),i.type!=="(")continue;return!0}u(1)}return!1}function a(){return i.type==="ident"&&i.value==="constructor"}function u(l=0){return i=t(l),i}function c(){return new SyntaxError(`Parsing parameter list, did not expect ${i.type} token${i.value?` (${i.value})`:""}`)}}var zn=Symbol("Awilix Resolver Config");function Yn(e,t){if(!or(e))throw new Ct("asFunction","fn","function",e);let r={lifetime:K.TRANSIENT};t=fm(r,t,e[zn]);let i={resolve:hm(e),...t};return wa(ar(i))}function Xn(e,t){if(!or(e))throw new Ct("asClass","Type","class",e);let r={lifetime:K.TRANSIENT};t=fm(r,t,e[zn]);let i=hm(function(...o){return Reflect.construct(e,o)},e);return wa(ar({...t,resolve:i}))}function ar(e){function t(i){return ar({...this,lifetime:i})}function r(i){return ar({...this,injectionMode:i})}function n(i){return ar({...this,injector:i})}return pm(e,{setLifetime:t,inject:n,transient:sr(t,K.TRANSIENT),scoped:sr(t,K.SCOPED),singleton:sr(t,K.SINGLETON),setInjectionMode:r,proxy:sr(r,cr.PROXY),classic:sr(r,cr.CLASSIC)})}function wa(e){function t(r){return wa({...this,dispose:r})}return pm(e,{disposer:t})}function sr(e,t){return function(){return e.call(this,t)}}function fm(e,...t){return Object.assign({},e,...t)}function pm(e,t){return{...e,...t}}function VA(e,t){return function(n,i){return n in t?t[n]:e.resolve(n,i)}}function KA(e,t){let r=t(e),n=HA([...Reflect.ownKeys(e.cradle),...Reflect.ownKeys(r)]);return new Proxy({},{get(s,o){return o===Symbol.iterator?function*(){for(let u in e.cradle)yield u;for(let u in r)yield u}:o in r?r[o]:e.resolve(o)},ownKeys(){return n},getOwnPropertyDescriptor(s,o){if(n.indexOf(o)>-1)return{enumerable:!0,configurable:!0}}})}function hm(e,t){t||(t=e);let r=dm(t);return function(i){if((this.injectionMode||i.options.injectionMode||cr.PROXY)!==cr.CLASSIC){let o=this.injector?KA(i,this.injector):i.cradle;return e(o)}if(r.length>0){let o=this.injector?VA(i,this.injector(i)):i.resolve,a=r.map(u=>o(u.name,{allowUnregistered:u.optional}));return e(...a)}return e()}}function dm(e){let t=GA(e.toString());if(!t){let r=Object.getPrototypeOf(e);return typeof r=="function"&&r!==Function.prototype?dm(r):[]}return t}var WA={camelCase:e=>(0,am.camelCase)(e)};function rm(e,t,r){r??={};let n=e.container;r=YA(r);let i=e.listModules(t,r);if(r.esModules)return zA(e,n,i,r);{let s=i.map(o=>{let a=e.require(o.path);return ym(a,o)});return mm(s,n,i,r)}}async function zA(e,t,r,n){let i=[];for(let a of r){let u=(0,um.pathToFileURL)(a.path).toString();i.push(e.require(u))}let s=await Promise.all(i),o=[];for(let a=0;a<r.length;a++)o.push(ym(s[a],r[a]));return mm(o,t,r,n)}function ym(e,t){let r=[];if(!e)return r;if(or(e))return r.push({name:t.name,path:t.path,value:e,opts:t.opts}),r;e.default&&or(e.default)&&r.push({name:t.name,path:t.path,value:e.default,opts:t.opts});for(let n of Object.keys(e))n!=="default"&&or(e[n])&&zn in e[n]&&r.push({name:n,path:t.path,value:e[n],opts:t.opts});return r}function mm(e,t,r,n){return e.reduce((i,s)=>i.concat(s),[]).filter(i=>i).forEach(XA.bind(null,t,n)),{loadedModules:r}}function YA(e){return{resolverOptions:{lifetime:K.TRANSIENT,...e&&e.resolverOptions},...e}}function XA(e,t,r){let n=r.value[zn],i=n&&n.name;if(!i){i=r.name;let u=t.formatName;u&&(typeof u=="string"&&(u=WA[u]),u&&(i=u(i,r)))}let s=r.opts;typeof s=="string"&&(s={lifetime:s});let o={...t.resolverOptions,...s,...n},a=o.register?o.register:lm(r.value)?Xn:Yn;e.register(i,a(r.value,o))}var nm=Symbol("familyTree"),im=Symbol("rollUpRegistrations"),QA="AwilixContainerCradle";function Ra(e={}){return gm(e)}function gm(e,t,r){e={injectionMode:cr.PROXY,strict:!1,...e};let n=r??[],i={},s=new Proxy({[Kn.inspect.custom]:d},{get:(_,x)=>b(x),set:(_,x)=>{throw new Error(`Attempted setting property "${x}" on container cradle - this is not allowed.`)},ownKeys(){return Array.from(s)},getOwnPropertyDescriptor(_,x){let E=l();if(Object.getOwnPropertyDescriptor(E,x))return{enumerable:!0,configurable:!0}}}),o={options:e,cradle:s,inspect:c,cache:new Map,loadModules:A,createScope:h,register:w,build:C,resolve:b,hasRegistration:T,dispose:k,getRegistration:v,[Kn.inspect.custom]:c,[im]:l,get registrations(){return l()}},a=t?[o].concat(t[nm]):[o];o[nm]=a;let u=FA(a);return o;function c(){return`[AwilixContainer (${t?"scoped, ":""}registrations: ${Object.keys(o.registrations).length})]`}function l(){return{...t&&t[im](),...i}}function*f(){let _=l();for(let x in _)yield x}function h(){return gm(e,o,n)}function w(_,x){let E=$A(_,x),R=[...Object.keys(E),...Object.getOwnPropertySymbols(E)];for(let O of R){let D=E[O];if(e.strict&&D.lifetime===K.SINGLETON&&t)throw new Ea(O,"Cannot register a singleton on a scoped container.");i[O]=D}return o}function d(){return Object.prototype.toString.call(s)}function v(_){let x=i[_];return x||(t?t.getRegistration(_):null)}function b(_,x){x=x||{};try{let E=v(_);if(n.some(({name:y})=>y===_))throw new Tt(_,n,"Cyclic dependencies detected.");if(_==="toJSON")return d;if(_==="constructor")return Ra;if(!E){switch(_){case Kn.inspect.custom:case"inspect":case"toString":return d;case Symbol.toStringTag:return QA;case"then":return;case Symbol.iterator:return f}if(x.allowUnregistered)return;throw new Tt(_,n)}let R=E.lifetime||K.TRANSIENT;if(e.strict&&!E.isLeakSafe){let y=n.findIndex(({lifetime:j})=>kA(j,R));if(y>-1)throw new Tt(_,n,`Dependency \'${_.toString()}\' has a shorter lifetime than its ancestor: \'${n[y].name.toString()}\'`)}n.push({name:_,lifetime:R});let O,D;switch(R){case K.TRANSIENT:D=E.resolve(o);break;case K.SINGLETON:O=u.cache.get(_),O?D=O.value:(D=E.resolve(e.strict?u:o),u.cache.set(_,{resolver:E,value:D}));break;case K.SCOPED:if(O=o.cache.get(_),O!==void 0){D=O.value;break}D=E.resolve(o),o.cache.set(_,{resolver:E,value:D});break;default:throw new Tt(_,n,`Unknown lifetime "${E.lifetime}"`)}return n.pop(),D}catch(E){throw n.length=0,E}}function T(_){return!!v(_)}function C(_,x){if(_&&_.resolve)return _.resolve(o);let E="build",R="targetOrResolver";return Ct.assert(_,E,R,"a registration, function or class",_),Ct.assert(typeof _=="function",E,R,"a function or class",_),(lm(_)?Xn(_,x):Yn(_,x)).resolve(o)}function A(_,x){let E={require:e.require||function(R){return require(R)},listModules:UA,container:o};return x?.esModules?(E.require=om.importModule,rm(E,_,x).then(()=>o)):(rm(E,_,x),o)}function k(){let _=Array.from(o.cache.entries());return o.cache.clear(),Promise.all(_.map(([,x])=>{let{resolver:E,value:R}=x,O=E;return O.dispose?Promise.resolve().then(()=>O.dispose(R)):Promise.resolve()})).then(()=>{})}}var Om=require("electron");function Qn(e,{lifetime:t=K.SINGLETON,...r}={}){return Xn(e,{...r,lifetime:t}).disposer(_m)}function vm(e,{lifetime:t=K.SINGLETON,...r}={}){return Yn(e,{...r,lifetime:t}).disposer(_m)}function _m(e){typeof e!="object"||e===null||(Symbol.dispose in e&&typeof e[Symbol.dispose]=="function"?e[Symbol.dispose]():Symbol.asyncDispose in e&&typeof e[Symbol.asyncDispose]=="function"&&e[Symbol.asyncDispose]())}var ot=require("node:fs/promises"),bm=require("node:path"),It=require("electron"),Pa=class{#t;data;#r=!1;#n;#e=!1;#i=!1;constructor(t){let r=t.filename,n=It.app.getPath("userData");this.#t=(0,bm.join)(n,r),this.#n=t.defaults,this.data={...this.#n}}async load(){try{return this.data={...this.#n,...await(0,ot.readFile)(this.#t).then(this.deserilaize)},this.#r=!0,this.data}catch(t){return t.code==="ENOENT"?this.#r||(await this.save(),this.#r=!0):console.error("Error loading preferences:",t),this.data}finally{await this.onLoad(this.data)}}async onSave(t){}async onLoad(t){}async save(){if(this.#e){this.#i=!0;return}try{this.#e=!0;try{await(0,ot.writeFile)(this.#t,await this.serilaize(this.data)),await this.onSave(this.data)}catch(t){if(t.code==="ENOENT")await(0,ot.mkdir)(It.app.getPath("userData"),{recursive:!0}),await(0,ot.writeFile)(this.#t,await this.serilaize(this.data)),await this.onSave(this.data);else throw t}this.#i?(this.#i=!1,this.#e=!1,await this.save()):this.#e=!1}catch(t){throw this.#e=!1,this.#i=!1,console.error("Error saving preferences:",t),t}}async reset(){this.data={...this.#n},await this.save()}},Zn=class extends Pa{async serilaize(t){return It.safeStorage.encryptString(JSON.stringify(t))}async deserilaize(t){return JSON.parse(It.safeStorage.decryptString(t))}};var Jn=class extends Zn{#t=new Map;#r=new Map;constructor(){super({filename:"login.json.bin",defaults:{credentials:[]}})}#n(){this.#t.clear(),this.#r.clear()}#e(t){try{return new URLPattern(t.pattern)}catch(r){return this.#r.set(t.id,r),null}}#i(){this.#n();for(let t of this.data.credentials){let r=this.#e(t);r&&this.#t.set(t.id,r)}}findCredential(t){let r=typeof t=="string"?new URL(t):t;for(let n of this.data.credentials)if(this.#t.get(n.id)?.test(r))return n;return null}async onLoad(){this.#i()}async onSave(){this.#i()}getCredentials(){return this.data.credentials}async setCredential(t){let r=Jt(t,["id","pattern","username","password"]),n=this.data.credentials,i=n.findIndex(o=>o.id===t.id),s=n;i===-1?s=[...n,r]:s=n.map((o,a)=>a===i?r:o),this.data.credentials=s,await this.save()}async deleteCredential(t){let r=this.data.credentials,n=r.findIndex(i=>i.id===t);return n===-1?!1:(this.data.credentials=r.filter((i,s)=>s!==n),await this.save(),!0)}async clearCredentials(){this.data.credentials=[],await this.save()}async importCredentials(t){this.data.credentials=t,await this.save()}};var xa=require("electron");var ei=class{pref;constructor(t){var n=[];try{let r=Ye(n,new DisposableStack);this.pref=t.loginPref;xa.app.on("login",this.#r);r.defer(()=>{xa.app.removeListener("login",this.#r)});this.#t=r.move()}catch(i){var s=i,o=!0}finally{Xe(n,s,o)}}#t;[Symbol.dispose](){this.#t.dispose()}#r=(t,r,n,i,s)=>{let o=this.pref.findCredential(n.url);o&&(t.preventDefault(),s(o.username,o.password))}};function Sm(e,{taskId:t,stack:r}){return new Promise(n=>{let i=()=>{n({type:"ERROR",taskId:t,error:new Error("Aborted")})};e?.addEventListener("abort",i,{once:!0}),r.defer(()=>{e?.removeEventListener("abort",i)})})}var Em=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),wm=e=>{throw TypeError(e)},Rm=(e,t,r)=>{if(t!=null){typeof t!="object"&&typeof t!="function"&&wm("Object expected");var n,i;r&&(n=t[Em("asyncDispose")]),n===void 0&&(n=t[Em("dispose")],r&&(i=n)),typeof n!="function"&&wm("Object not disposable"),i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.push([r,n,t])}else r&&e.push([r]);return t},Pm=(e,t,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(o,a,u,c){return c=Error(u),c.name="SuppressedError",c.error=o,c.suppressed=a,c},i=o=>t=r?new n(o,t,"An error was suppressed during disposal"):(r=!0,o),s=o=>{for(;o=e.pop();)try{var a=o[1]&&o[1].call(o[2]);if(o[0])return Promise.resolve(a).then(s,u=>(i(u),s()))}catch(u){i(u)}if(r)throw t};return s()},ZA={parse:ln,stringify:fn},ti=class{#t;#r;constructor(t){this.#t=t.webContents,this.#r=t.ipc}async sendMessage(t){if(this.#t.isDestroyed()){console.warn("WebContents is destroyed, message not sent");return}this.#t.send(Qt,ZA.stringify(t))}get#n(){return this.#t.id}addMessageHandler(t){var r=[];try{let s=Rm(r,new DisposableStack);return s.defer(this.#r.on(`emit:${this.#n}`,t)),s.defer(this.#r.on(`invoke:${this.#n}`,o=>new Promise(a=>t(o,a)))),s.move()}catch(s){var n=s,i=!0}finally{Pm(r,n,i)}}async invoke(t,{signal:r}={}){var n=[];try{let o=Rm(n,new DisposableStack);return await this.sendMessage(t),await Promise.race([new Promise(a=>{new Promise(u=>{let c=l=>{ep(t,l)&&u(l)};o.defer(this.#r.on(`emit:${this.#n}`,c))})}),Sm(r,{taskId:t.taskId,stack:o})])}catch(o){var i=o,s=!0}finally{Pm(n,i,s)}}};var fr=require("electron");var ri=class{#t=new Map;add(t,r){this.#t.set(t,r)}get(t){return this.#t.get(t)}has(t){return this.#t.has(t)}pickFirst(){return this.#t.values().next().value}delete(t){let r=this.#t.get(t);return r?(this.#t.delete(t),Symbol.dispose in r?r[Symbol.dispose]():r.dispose(),!0):!1}async[Symbol.asyncDispose](){for(let t of this.#t.values())Symbol.dispose in t?t[Symbol.dispose]():t.dispose();this.#t.clear()}};var xm=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Am=e=>{throw TypeError(e)},Aa=(e,t,r)=>{if(t!=null){typeof t!="object"&&typeof t!="function"&&Am("Object expected");var n,i;r&&(n=t[xm("asyncDispose")]),n===void 0&&(n=t[xm("dispose")],r&&(i=n)),typeof n!="function"&&Am("Object not disposable"),i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),e.push([r,n,t])}else r&&e.push([r]);return t},Oa=(e,t,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(o,a,u,c){return c=Error(u),c.name="SuppressedError",c.error=o,c.suppressed=a,c},i=o=>t=r?new n(o,t,"An error was suppressed during disposal"):(r=!0,o),s=o=>{for(;o=e.pop();)try{var a=o[1]&&o[1].call(o[2]);if(o[0])return Promise.resolve(a).then(s,u=>(i(u),s()))}catch(u){i(u)}if(r)throw t};return s()},lr=class e{#t;#r=new Map;static init(t){return new e(t)}#n=new AbortController;#e;constructor(t){var r=[];try{this.#t=t;let s=Aa(r,new DisposableStack);s.use(this.#t.addMessageHandler(this.#i)),s.defer(()=>{this.#n.abort(new Error("Provider unloaded"));for(let o of this.#r.values())o.abort(new Error("Provider unloaded"));this.#r.clear()}),this.#e=s.move()}catch(s){var n=s,i=!0}finally{Oa(r,n,i)}}[Symbol.dispose](){this.#e.dispose()}#i=async(t,r)=>{var n=[];try{if(Es(t))return this.#a(t);if(!dt(t))return;Aa(n,new DisposableStack).defer(()=>{this.#r.delete(t.taskId)});let{resp:a,options:u}=await this.#o(t);r?r(a,u):await this.#t.sendMessage(a,u)}catch(o){var i=o,s=!0}finally{Oa(n,i,s)}};#a(t){let r=this.#r.get(t.taskId);r&&(r.abort(new Error("Task aborted by client")),this.#r.delete(t.taskId))}async#o(t){var r=[];try{let s=new AbortController,o=Aa(r,new DisposableStack);this.#r.set(t.taskId,s),o.defer(()=>{this.#r.delete(t.taskId)});let a={signal:AbortSignal.any([s.signal,this.#n.signal])};try{let u=this.#c.respondWithOptions.get(t.fnName);if(u){let l=await(u.type==="fn"?u.fn:u.fnCreator(a)).apply(null,t.args),{options:f,payload:h}=l;return{resp:{type:"RESULT",taskId:t.taskId,value:h},options:f}}let c=this.#c.regular.get(t.fnName);if(c){let l=await(c.type==="fn"?c.fn:c.fnCreator(a)).apply(null,t.args);return{resp:{type:"RESULT",taskId:t.taskId,value:l}}}return{resp:{type:"ERROR",taskId:t.taskId,error:new ReferenceError(`Handler not defined: ${t.fnName}`)}}}catch(u){return console.error("Error in handler",u),{resp:{type:"ERROR",taskId:t.taskId,error:u instanceof Error?u:new Error(String(u))}}}}catch(s){var n=s,i=!0}finally{Oa(r,n,i)}}addFnHandler(t){let{fn:r,fnCreator:n,name:i,respWithOpts:s=!1}=t;if(!r&&!n)throw new Error("No handler implemented");if(!i)throw new Error("Function must have a name");if(this.#c.regular.has(i)||this.#c.respondWithOptions.has(i))throw new Error(`Function ${i} already registered`);if(s){let o=r?{type:"fn",fn:r}:{type:"fnCreator",fnCreator:n};this.#c.respondWithOptions.set(i,o)}else{let o=r?{type:"fn",fn:r}:{type:"fnCreator",fnCreator:n};this.#c.regular.set(i,o)}}#c={regular:new Map,respondWithOptions:new Map}};var kt={getAll:"get-credentials",set:"set-credential",delete:"delete-credential",clear:"clear-credentials",import:"import-credentials"};var ni=class{#t;constructor(t,r){var s=[];try{let n=Ye(s,new DisposableStack);let i=n.use(lr.init(t));i.addFnHandler({fn:()=>r.loginPref.getCredentials(),name:kt.getAll});i.addFnHandler({fn:c=>r.loginPref.setCredential(c),name:kt.set});i.addFnHandler({fn:c=>r.loginPref.deleteCredential(c),name:kt.delete});i.addFnHandler({fn:()=>r.loginPref.clearCredentials(),name:kt.clear});i.addFnHandler({fn:c=>r.loginPref.importCredentials(c),name:kt.import});this.#t=n.move()}catch(o){var a=o,u=!0}finally{Xe(s,a,u)}}[Symbol.dispose](){this.#t.dispose()}};var ii=class extends ri{#t;#r;constructor(t){var n=[];try{super();this.#t=t;let r=Ye(n,new DisposableStack);fr.ipcMain.handle(vs,this.#n);r.defer(()=>{fr.ipcMain.removeHandler(vs)});fr.ipcMain.on(_s,this.#e);r.defer(()=>{fr.ipcMain.off(_s,this.#e)});this.#r=r.move()}catch(i){var s=i,o=!0}finally{Xe(n,s,o)}}[Symbol.dispose](){console.log("dispose vault connection service"),this.#r.dispose()}#n=(t,r)=>{var c=[];try{console.log("renderer connection",t.sender.id,r);let n=t.sender;let i=Ye(c,new DisposableStack);let s=new ti({webContents:n,ipc:this.#t.ipcEventRegistry});let o=()=>this.delete(n.id);n.on("destroyed",o);i.defer(()=>{n.off("destroyed",o)});let a=i.use(new ni(s,this.#t));let u=i.move();this.add(t.sender.id,{instance:a,[Symbol.dispose](){u.dispose()}});return!0}catch(l){var f=l,h=!0}finally{Xe(c,f,h)}};#e=t=>{console.log("vault disconnected",t.sender.id),this.delete(t.sender.id)}};async function Tm(){let e=Ra();e.register({vaults:Qn(ii),ipcEventRegistry:vm(()=>new pn(Om.ipcMain)),loginPref:Qn(Jn),login:Qn(ei)});let{vaults:t,login:r,loginPref:n}=e.cradle;return await n.load(),e}var JA=async e=>{await eO(e),console.log("connector server ready");for(let t of Cm.webContents.getAllWebContents())t.send(Xf,{version:bs})};async function eO(e){console.log("!!!","production",e);let t=globalThis;t[gs]??=new Map;let r=t[gs];if(!(r instanceof Map))throw new Error("Unexpected global type, please restart Obsidian");let n=`${bs}-${e}`,i=r.get(n);if(i)return await i;let s=new Map(r),o=(async()=>{if(s.size>0)throw new Error("Conflict BrowserConnector, make sure media-extended across multiple vaults are all up to date and restart Obsidian");return await Tm()})().catch(a=>{throw console.error("Error creating main process service",a),r.get(n)===o&&r.delete(n),a});return r.set(n,o),await o}0&&(module.exports={init});\n/*! Bundled license information:\n\nis-extglob/index.js:\n  (*!\n   * is-extglob <https://github.com/jonschlinkert/is-extglob>\n   *\n   * Copyright (c) 2014-2016, Jon Schlinkert.\n   * Licensed under the MIT License.\n   *)\n\nis-glob/index.js:\n  (*!\n   * is-glob <https://github.com/jonschlinkert/is-glob>\n   *\n   * Copyright (c) 2014-2017, Jon Schlinkert.\n   * Released under the MIT License.\n   *)\n\nis-number/index.js:\n  (*!\n   * is-number <https://github.com/jonschlinkert/is-number>\n   *\n   * Copyright (c) 2014-present, Jon Schlinkert.\n   * Released under the MIT License.\n   *)\n\nto-regex-range/index.js:\n  (*!\n   * to-regex-range <https://github.com/micromatch/to-regex-range>\n   *\n   * Copyright (c) 2015-present, Jon Schlinkert.\n   * Released under the MIT License.\n   *)\n\nfill-range/index.js:\n  (*!\n   * fill-range <https://github.com/jonschlinkert/fill-range>\n   *\n   * Copyright (c) 2014-present, Jon Schlinkert.\n   * Licensed under the MIT License.\n   *)\n\nqueue-microtask/index.js:\n  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)\n\nrun-parallel/index.js:\n  (*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)\n*/\n';var hce=require("obsidian");async function q9(){if(!hce.Platform.isDesktopApp)throw new Error("node env required for main process hack module");let t=qa().app.getPath("temp"),{createHash:e}=yS(),r=e("md5").update(V9).digest("hex"),{join:n}=bi(),{writeFile:i,unlink:s}=Va(),a=n(t,`mx-hack-${r}.js`);return await i(a,V9),{require:()=>qa().require(a),md5:r,async[Symbol.asyncDispose](){await s(a).catch(console.error)}}}var fx=class{app;#e=null;get connected(){return this.#e}instance;#t;constructor(e){var s=[];try{this.app=e.app;this.#e=!1;if(!mce.Platform.isDesktopApp)throw new Error("BrowserConnect is only available on desktop");let r=G(s,new DisposableStack);let{ipcRenderer:n}=Fz();let{createHash:i}=yS();r.defer(()=>{this.#e=null});this.instance=r.use(j9(n));console.log("waiting for connector ready");n.once(nce,async(c,u)=>{if(console.log("connector ready",u),u.version!==ace)throw new Error(`Unsupported API version: ${u.version}`);let d=i("sha256").update(this.app.appId).digest("hex");console.log("connecting",d),await n.invoke(ice,{name:this.app.vault.getName()})&&(this.#e=!0,console.log("connected to main process"))});r.defer(()=>{n.send(sce)});this.#t=r.move()}catch(a){var o=a,l=!0}finally{K(s,o,l)}}[Symbol.dispose](){this.#t.dispose()}async initialize(){var n=[];try{let e=G(n,await q9(),!0);let{init:r}=e.require();await r(e.md5)}catch(i){var s=i,a=!0}finally{var o=K(n,s,a);o&&await o}}};var B9=require("obsidian");function WA(t){if(!kt(t))throw new Error(`not a file uri: ${t.href}`);if(!B9.Platform.isDesktopApp)throw new Error(`not a desktop app: ${t.href}`);let e=new URL(B9.Platform.resourcePathPrefix+t.href.substring(8));return e.search=Date.now().toString(),e}var KA=class{app;constructor(e){this.app=e.app}inferMediaType(e){if(e){if(e.type==="file")return Iy(e.file)?"audio":nd(e.file)?"video":void 0;if(e.type==="url:direct"){let r=Ca(e.url.pathname,{urlEncoded:!0});return Iy(r)?"audio":nd(r)?"video":void 0}e.type!=="url:hosted"&&Te(e)}}getMediaSrc(e,r){if(e.type==="file")return{src:this.app.vault.getResourcePath(e.file),type:(r??this.inferMediaType(e))==="audio"?"audio/mpeg":"video/mp4"};if(e.type==="url:direct")return{src:(kt(e.url)?WA(e.url):e.url).toString(),type:(r??this.inferMediaType(e))==="audio"?"audio/mpeg":"video/mp4"};if(e.type==="url:hosted")return e.vid.host==="youtube"?`https://www.youtube.com/watch?v=${e.vid.vid}`:e.vid.host==="vimeo"?`https://vimeo.com/${e.vid.vid}`:null;Te(e)}getFallbackTitle(e){if(e){if(e.type==="file")return e.file.name;if(e.type==="url:direct")return co(e.url,{urlEncoded:!0}).name;if(e.type==="url:hosted")return o$e(e.vid)}}};function o$e(t){if(t.host==="youtube")return`YouTube - ${t.vid}`;if(t.host==="vimeo")return`Vimeo - ${t.vid}`;if(t.host==="bilibili")switch(t.type){case"aid":return`Bilibili - ${t.aid}`;case"bvid":return`Bilibili - ${t.bvid}`;case"epid":return`Bilibili - ${t.epid}`;case"ssid":return`Bilibili - ${t.ssid}`;default:Te(t)}if(t.host==="coursera")return`${t.lectureId} - ${t.courseId} - Coursera`;if(t.host==="baidu-pan")return`${Ca(t.path,{urlEncoded:!0}).name} - Baidu Pan`;Te(t)}var gce=require("obsidian");var YA=require("obsidian");function*Wm(t){for(let e of t.children)e instanceof YA.TFolder?yield*Wm(e):e instanceof YA.TFile&&(yield e)}async function U9(t,{signal:e}){var i=[];try{if(t.initialized)return;let r=G(i,new DisposableStack);let n=new Promise(l=>{$n(r,t.on("finished",()=>l()))});return await zr(n,e)}catch(s){var a=s,o=!0}finally{K(i,a,o)}}var XA=class{app;trackInfoParser;plugin;metadataParser;noteTo;noteFrom;#e;#t;#r;constructor(e){var i=[];try{this.app=e.plugin.app;this.plugin=e.plugin;this.trackInfoParser=e.trackInfoParser;this.metadataParser=e.metadataParser;let r=G(i,new DisposableStack);this.noteTo=r.use(new QA({trackInfoParser:e.trackInfoParser,app:e.plugin.app}));this.noteFrom=r.use(new JA);this.#e=r.move();let n=G(i,new DisposableStack);this.#r=n.use(new uo);U9(this.app.metadataCache,{signal:this.#r.signal}).then(()=>this.#a());this.#t=n.move()}catch(s){var a=s,o=!0}finally{K(i,a,o)}}resetIndex(){var r=[];try{let e=G(r,new DisposableStack);this.noteTo=e.use(new QA({trackInfoParser:this.trackInfoParser,app:this.plugin.app}));this.noteFrom=e.use(new JA);this.#e.dispose();this.#e=e.move()}catch(n){var i=n,s=!0}finally{K(r,i,s)}}[Symbol.dispose](){this.#e.dispose(),this.#t.dispose()}onunload(){this[Symbol.dispose]()}findTracksByMedia(e){let r=this.findNoteByMedia(e);return r?this.noteTo.getTracks(r.path):[]}findMediaByTrack(e){return this.noteTo.getNotesFromTrack(e).map(n=>this.findMediaByNote(n)).filter(n=>n!==null)}findNoteByMedia(e){return this.noteFrom.media.get(Do(e))??null}getMediaMeta(e){let r=this.findNoteByMedia(e);if(!r)return null;let n=this.metadataParser.getMediaMeta(r);return n?{note:r,uid:n.uid,get meta(){return n.meta}}:null}findMediaByNote(e){return this.noteTo.getMedia(e.path)??null}findNoteByUid(e){return this.noteFrom.uid.get(e)??null}findMediaByUid(e){let r=this.findNoteByUid(e);return r?this.findMediaByNote(r):null}#n(e){let r=this.noteTo.remove(e);r&&(r.media&&this.noteFrom.remove([r.media]),this.#s.emit("media-meta-removed",r.media,e))}#i(e,r){let n=Do(r.src.info),i=this.noteFrom.media.get(n);i&&i!==e&&i.stat.ctime<=e.stat.ctime||(this.noteTo.add(e,r),this.noteFrom.addNote(e,r),this.#s.emit("media-meta-changed",{src:r.src.info,uid:r.uid},e))}#s=rf();on(e,r){return this.#s.on(e,r)}#a(){this.resetIndex();for(let{file:e,meta:r}of this.iterateMediaNote())this.#i(e,r);$n(this.#t,this.app.metadataCache.on("changed",e=>{let r=this.metadataParser.getMediaMeta(e);r?this.#i(e,r):this.#n(e)})),$n(this.#t,this.app.metadataCache.on("deleted",e=>{this.#n(e)})),$n(this.#t,this.app.vault.on("rename",(e,r)=>{e instanceof gce.TFile&&this.noteTo.rename(r,e)}))}*iterateMediaNote(){for(let e of Wm(this.app.vault.getRoot())){if(e.extension!=="md")continue;let r=this.metadataParser.getMediaMeta(e);r&&(yield{meta:r,file:e})}}},QA=class{trackInfoParser;app;constructor(e){this.trackInfoParser=e.trackInfoParser,this.app=e.app}#e=new Map;#t=rf();#r=new DisposableStack;on(e,r){return this.#r.use({[Symbol.dispose]:this.#t.on(e,r)})}add(e,r){let n=new Map(this.#e.get(e.path)?.tracks.map(l=>[gN(l),l])??[]),i=new Map(r.textTracks.map(l=>[gN(l),l])),s=this.#e.get(e.path)?.media,a=r.src;this.#e.set(e.path,{media:{src:r.src.info,uid:r.uid},tracks:r.textTracks});let o=new Set(n.keys()).symmetricDifference(new Set(i.keys()));o.size>0&&this.#t.emit("tracks-changed",[...o].map(l=>n.get(l)||i.get(l)),e),s&&(Do(s.src)!==Do(a.info)||s.uid!==r.uid)&&this.#t.emit("media-changed",s,{src:a.info,uid:r.uid},e)}rename(e,r){let n=this.#e.get(e);n&&(this.#e.delete(e),this.#e.set(r.path,n))}remove(e){let r=this.#e.get(e.path);if(r)return this.#e.delete(e.path),r.tracks.length>0&&this.#t.emit("tracks-changed",r.tracks,e),this.#t.emit("media-changed",r.media,null,e),r}getMedia(e){return this.#e.get(e)?.media}#n(e,r){return e.type==="internal"?this.trackInfoParser.resolveTrackLink(e,r):e}getTracks(e){let r=this.#e.get(e)?.tracks;return r?r.map(n=>this.#n(n,{sourcePath:e})).filter(n=>n!==null):[]}getNotesFromTrack(e){let r=Rs(e);return[...this.#e.entries()].map(([i,{tracks:s}])=>s.map(o=>this.#n(o,{sourcePath:i})).filter(o=>o!==null).some(o=>Rs(o)===r)?this.app.vault.getFileByPath(i):null).filter(i=>i!==null)}[Symbol.dispose](){this.#e.clear()}},JA=class{media=new Map;uid=new Map;addNote(e,r){this.media.set(Do(r.src.info),e),this.uid.set(r.uid,e)}remove(e){for(let{uid:r,src:n}of e)this.uid.delete(r),this.media.delete(Do(n))}removeNote(e){for(let[r,n]of this.media)n.path===e&&this.media.delete(r);for(let[r,n]of this.uid)n.path===e&&this.uid.delete(r)}[Symbol.dispose](){this.media.clear(),this.uid.clear()}};var lue=require("obsidian");var aue=z(J9(),1),zs="mx-uid";function oue(){return{[zs]:(0,aue.createId)()}}function vx(t){if(t!=="media")return t}var rL=require("obsidian");var So=class extends rL.Notice{constructor(e,{content:r="Sign in to access online features",duration:n=5e3}){super(createFragment(i=>{let s=i.createEl("div",{cls:"mx-login-notice"}),a=s.createEl("div",{cls:"mx-login-notice-header",text:r}),o=s.createEl("div",{cls:"mx-login-notice-action"});new rL.ButtonComponent(o).setButtonText("Continue").onClick(()=>{pu.open(e)})}),n)}};var W$e="cover",nL=class{app;indexer;settings;youTubeApi;auth;constructor(e){this.app=e.app,this.indexer=e.mediaLib,this.settings=e.settings,this.youTubeApi=e.youTubeApi,this.auth=e.auth}async setAsCover(e,r){let{note:n}=await this.ensureMediaNote(e),i=this.#e(r,{sourcePath:n.path});await this.app.fileManager.processFrontMatter(n,s=>{s[W$e]=i})}#e(e,{sourcePath:r}){return e instanceof URL?e.toString():`[[${this.app.metadataCache.fileToLinktext(e,r)}]]`}async ensureMediaNote(e){let{metadataCache:r}=this.app,n=this.indexer.getMediaMeta(e);if(n)return{note:n.note,uid:n.uid,get meta(){return n.meta}};let i=oue(),s=await this.#t(e),a=vx(s),o=K$e(e,i[zs]);if(e.type==="file"){let l=e.file;return{note:await this.#r({noteName:o,fm:u=>({...i,[s]:`[[${r.fileToLinktext(l,u)}]]`})}),uid:i[zs],meta:{type:a}}}if(e.type==="url:direct")return{note:await this.#r({noteName:o,fm:()=>({...i,[s]:e.url.toString()})}),uid:i[zs],meta:{type:a}};if(e.type==="url:hosted"){let l={};if(e.type==="url:hosted"&&e.vid.host==="youtube"&&Qi())try{let u=await Je(this.youTubeApi.getVideoMetadata(e.vid.vid),{loading:"Fetching YouTube metadata...",success:"YouTube metadata fetched successfully",error:(d,f)=>{if(f instanceof Us){new So(this.auth,{content:"You need to login to fetch YouTube metadata"});return}return`Failed to fetch YouTube metadata: ${d}`},loadingDelay:500,swallowError:!1});u&&(l={...l,...lx(u)})}catch(u){console.warn("Failed to fetch YouTube metadata:",u)}return{note:await this.#r({noteName:o,fm:()=>({...i,media:e.url.toString(),...l})}),uid:i[zs],meta:{type:a}}}Te(e)}async#t(e){if(e.type==="url:direct"){let r=co(e.url);return kt(e.url)&&r.extension!=="webm"?Z9(r):await Je(this.#n(e.url),{loading:"Fetching video metadata to detect media type...",loadingDelay:200,swallowError:!1}).catch(n=>(console.warn("Failed to detect media type, fallback to file extension",n),r.extension==="webm"?"media":Z9(r)))}if(e.type==="file")return e.file.extension!=="webm"?Z9(e.file):await Je(this.#n(e.file),{loading:"Detecting media type...",loadingDelay:500,swallowError:!1}).catch(r=>(console.warn("Failed to detect media type, fallback to file extension",r),"media"));if(e.type==="url:hosted")return"media";Te(e)}async#r(e){let{noteName:r,fm:n}=e,{fileManager:i,vault:s}=this.app,a=(await this.settings.loaded)["media-lib.folder-path"],o=s.getFolderByPath(a);o||(o=await s.createFolder(a));let l=await i.createNewFile(o,r,"md",`---
---
`);return await i.processFrontMatter(l,c=>{Object.assign(c,n(l.path))}),l}async#n(e){var a=[];try{let r=G(a,new DisposableStack);let n=document.createElement("video");r.defer(()=>n.remove());let i=AbortSignal.timeout(5e3);let s=e instanceof lue.TFile?this.app.vault.getResourcePath(e):(kt(e)?WA(e):e).toString();return await new Promise((u,d)=>{n.crossOrigin="anonymous",n.muted=!0,n.src=s,n.addEventListener("loadedmetadata",()=>{n.videoHeight<=0||n.videoWidth<=0?u("audio"):u("video")},{once:!0}),n.addEventListener("error",()=>{d(new Error("Failed to detect media type"))}),i.addEventListener("abort",()=>d(i.reason??new At("Timeout")))})}catch(o){var l=o,c=!0}finally{K(a,l,c)}}};function K$e(t,e){if(t.type==="file")return`file-${e.slice(0,8)}`;if(t.type==="url:direct"||t.type==="url:hosted")return`url-${e.slice(0,8)}`;Te(t)}function Z9(t){return Iy(t)?"audio":nd(t)?"video":"media"}function tF(t){return{[eF]:t}}var eF=Symbol("mx_hash"),iL=class{parseUrl(e){let r=Vn(e);if(!r)return null;let n=this.parseHash(r.hash);if(kt(r))return{info:{type:"url:direct",url:ax(r)},hash:n};let i=hle.parse(r);return i?Y$e(i,n):{info:{type:"url:direct",url:ax(r)},hash:n}}parseFile(e){return!e||!_o(e)?null:{type:"file",file:e}}parseHash(e){return g9(e).props}parseHashFromEphemeralState(e){if(typeof e!="object"||e===null)return null;let r=e;return r[eF]?r[eF]:"subpath"in r&&typeof r.subpath=="string"?this.parseHash(r.subpath):null}};function Y$e(t,e){let r=null;if(t.host==="youtube")return t.vid.t?r={start:t.vid.t,end:-1}:(t.vid.start||t.vid.end)&&(r={start:t.vid.start??-1,end:t.vid.end??-1}),r&&!e.tempFragment&&(e.tempFragment=r),{info:{type:"url:hosted",vid:t.vid,url:uu(t.vid)},hash:e};if(t.host==="vimeo")return t.vid.t&&(r={start:t.vid.t,end:-1}),r&&!e.tempFragment&&(e.tempFragment=r),{info:{type:"url:hosted",vid:t.vid,url:uu(t.vid)},hash:e};if(t.host==="baidu-pan")return{info:{type:"url:hosted",vid:t.vid,url:uu(t.vid)},hash:e};if(t.host==="bilibili")return t.vid.type==="short-uri"?null:(t.vid.t&&(r={start:t.vid.t,end:-1}),r&&!e.tempFragment&&(e.tempFragment=r),{info:{type:"url:hosted",vid:t.vid,url:uu(t.vid)},hash:e});if(t.host==="coursera")return{info:{type:"url:hosted",vid:t.vid,url:uu(t.vid)},hash:e};Te(t)}var cue=require("obsidian");var sL=class{app;trackInfoParser;mediaParser;constructor(e){this.app=e.app,this.trackInfoParser=e.trackInfoParser,this.mediaParser=e.mediaParser}getMediaMeta(e){let r=this.app.metadataCache.getFileCache(e);if(!r)return null;let n={sourcePath:e.path},i=r.frontmatter?.[zs];if(!i||typeof i!="string")return null;let s=this.getMediaInfoFromMeta(r,n);if(!s)return null;let a=this;return{src:s.src,uid:i.trim(),get meta(){return a.#e(r,s.type)},get textTracks(){return a.trackInfoParser.parseTextTrackFields(r)}}}getMediaInfoFromMeta(e,r){return this.#t("video",e,r)??this.#t("audio",e,r)??this.#t("media",e,r)}#e(e,r){let n=h9(e.frontmatter);return{...n,title:n.title||X$e(e),type:r}}#t(e,r,n){let{frontmatter:i,frontmatterLinks:s}=r;if(!i||!(e in i))return null;let a=s?.find(c=>c.key===e);if(a){let{path:c,subpath:u}=(0,cue.parseLinktext)(a.link),d=this.app.metadataCache.getFirstLinkpathDest(c,n.sourcePath),f=this.mediaParser.parseFile(d);if(f)return{src:{info:f,hash:this.mediaParser.parseHash(u)},type:vx(e)}}let o=i[e];if(typeof o!="string")return null;let l=this.mediaParser.parseUrl(o);return l?{src:l,type:vx(e)}:null}};function X$e(t){let e=t.headings?.find(r=>r.level===1)?.heading?.trim();if(e)return e}var uue=require("obsidian");var aL=class{app;youTubeApi;auth;mediaNote;constructor(e){this.app=e.app,this.youTubeApi=e.youTubeApi,this.auth=e.auth,this.mediaNote=e.mediaNote}supportUpdate(e){return na(e)&&Qi()}async#e(e,r){let n=await this.youTubeApi.getVideoMetadata(e),{tags:i,...s}=lx(n);await this.app.fileManager.processFrontMatter(r,a=>{Object.assign(a,s);let o=uH([...a.tags??[],...i]);a.tags=o.slice(0,15)})}async updateYouTubeMetadata(e,r){return await Je(this.#e(e,r),{loading:"Fetching YouTube metadata...",success:`YouTube metadata updated successfully: ${r.path}`,error:(n,i)=>{if(i instanceof Us){new So(this.auth,{content:"You need to login to get latest YouTube metadata"});return}return`Failed to fetch YouTube metadata: ${n}`}})}async updateMetadata(e){if(na(e)){let{note:r}=await this.mediaNote.ensureMediaNote(e);await this.updateYouTubeMetadata(e.vid.vid,r);return}new uue.Notice("Metadata update is only supported for YouTube videos.")}};var due=z(J9(),1);var oL=class{app;metaParser;constructor(e){this.app=e.app,this.metaParser=e.metadataParser}async migrate(){return await Je(this.#e(),{loading:"Migrating media notes from old format...",success:e=>`Migrated ${e.length} media notes`,error:e=>`Error migrating media notes from old format: ${e}`})}async#e(){let e=[];for(let r of Wm(this.app.vault.getRoot())){let n=this.app.metadataCache.getFileCache(r);!n||n.frontmatter?.[zs]||!this.metaParser.getMediaInfoFromMeta(n,{sourcePath:r.path})||e.push(this.#t(r))}return await Promise.all(e)}async#t(e){return await this.app.fileManager.processFrontMatter(e,r=>{zs in r||(r[zs]=(0,due.createId)())}),e}};var lL=require("obsidian");var fue="mx-open",cL=class{plugin;workspace;mediaParser;#e;constructor(e){var n=[];try{this.plugin=e.plugin;this.workspace=e.workspaceOpen;this.mediaParser=e.mediaParser;let r=G(n,new DisposableStack);this.patchGlobalProtocolHandler(r);this.plugin.registerObsidianProtocolHandler("mx-open",async o=>{let l=this.mediaParser.parseUrl(o.url||"");if(!l){new lL.Notice(`Invalid URL to open in Media Extended: ${o.url}`);return}await this.#n(l)});this.#e=r.move()}catch(i){var s=i,a=!0}finally{K(n,s,a)}}[Symbol.dispose](){this.#e.dispose()}patchGlobalProtocolHandler(e){if(!window.OBS_ACT)return;let r=this;e.defer(ir(window,{OBS_ACT:n=>function(s,...a){if(s.action.startsWith(`${fue}/`)){r.#t(s);return}return n.call(this,s,...a)}}))}async#t(e){let r=this.#r(e,fue);if(!r){new lL.Notice(`Invalid URL to open in Media Extended: ${e.action}`);return}await this.#n(r)}#r(e,r){let n=e.action.substring(r.length+1),i=Vn(n);if(!i)return null;let s=new URLSearchParams(e);return s.delete("action"),i.search=s.toString(),this.mediaParser.parseUrl(i)}async#n(e){new rF(e),await this.workspace.openMedia(e,{newLeaf:"tab"})}},rF=class extends lL.Notice{constructor(e){super(createFragment(r=>{r.appendText("Opening URL from browser: "),r.createEl("br");let n=e.info.url.href;r.createEl("a",{text:n.length>50?`${n.slice(0,25)}...${n.slice(-25)}`:n,href:n})}))}};var yxt=new TextEncoder;var Q$e="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".split(""),J$e=[];Q$e.forEach((t,e)=>J$e[t.charCodeAt(0)]=e);var Lxt="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz".split("");var _xt=new TextEncoder().encode("0123456789abcdef"),Dxt=new TextEncoder,Nxt=new TextDecoder;var pue=new ArrayBuffer(8),$xt=new Uint32Array(pue),jxt=new BigUint64Array(pue);async function hue(t,{format:e="image/jpeg",quality:r=.92}={}){if(t.readyState<2)throw new Error("Video not ready");let n=document.createElement("canvas");if(!t.videoWidth||!t.videoHeight)throw new Error("Video has no width or height");let i={width:t.videoWidth,height:t.videoHeight};Object.assign(n,i);let s=n.getContext("2d",{alpha:!1});if(!s)throw new Error("Canvas context creation failed");let a=t.currentTime;s.drawImage(t,0,0);let o=await new Promise((c,u)=>{try{n.toBlob(d=>d?c(d):u(new Error("Blob conversion failed")),e,r)}catch(d){u(d)}});return{blob:{arrayBuffer:await o.arrayBuffer(),type:o.type},timestamp:a,size:i}}function mue(t){switch(t.type){case"image/png":return"png";case"image/jpeg":return"jpg";case"image/webp":return"webp";case"image/vnd.microsoft.icon":return"ico";case"image/avif":return"avif";case"image/heic":return"heic";case"image/heif":return"heif";default:throw new Error(`Unknown mime type for screenshot: ${t.type}`)}}var Qm=require("obsidian");async function gue(t){await navigator.clipboard.write([new ClipboardItem({[t.type]:t})])}var Xm=class extends Error{constructor(e){super(`Failed to save file to ${e}: file already exists`)}},yu=class extends Error{constructor(){super("No markdown editor is ready for insertion")}};var yue=z(Be(),1),dL=class extends Bs{#e;#t;constructor(e,r,n){super(e),this.#e=r,this.#t=n,this.modalEl.addClass("image-clip"),this.titleEl.setText("Clip Image")}renderContent(){return(0,yue.jsx)(Vee,{imageBlob:this.#e,outputSpec:this.#t,onSave:(e,r)=>{this.resolveWith({action:"save",result:r})}})}};function vue(t){let e=5381;for(let r=0;r<t.length;r++)e=(e<<5)+e^t.charCodeAt(r);return e>>>0}var fL=class{settings;app;mediaNote;saveFolder;textExtractionApi;constructor(e){this.settings=e.settings,this.app=e.app,this.mediaNote=e.mediaNote,this.saveFolder=e.attachement,this.textExtractionApi=e.textExtractionApi}async extractText(e){let r=await this.#e(e,{clip:!0,...Qm.Platform.isIosApp?{format:"image/jpeg",quality:.92}:{format:"image/webp",quality:.8}}),n=new File([r.blob],"screenshot.png",{type:r.blob.type}),i=await this.textExtractionApi.extractText(n);return console.debug("text extraction result",i),{content:i,...r}}async copyScreenshot(e,r={}){var i=[];try{let n=G(i,await this.#e(e,{format:"image/png",clip:r.clip}),!0);await gue(n.blob)}catch(s){var a=s,o=!0}finally{var l=K(i,a,o);l&&await l}}async saveScreenshot(e,{clip:r}={}){let n=await this.#e(e,{clip:r}),i=await this.#t(n,{comp:e});return{...n,file:i.file}}async#e(e,r){var u=[];try{let n=await this.settings.loaded;if(!e.supportsScreenshot)throw new Error("Capture screenshot not supported");let i={format:r?.format??n["playback.screenshot.format"],quality:r?.quality??n["playback.screenshot.quality"]};let s=await e.captureScreenshot(i);if(!r?.clip)return{...s,[Symbol.asyncDispose]:async()=>{}};let a=G(u,new AsyncDisposableStack,!0);a.use(e.pausePlayback());let o=await new dL(this.app,s.blob,i).requestInput();let l=await o.result.blob;if(!l)throw new Error("Failed to clip screenshot");let c=a.move();return{...s,blob:l,rect:{type:"clip",x:o.result.rect.x,y:o.result.rect.y,width:o.result.rect.width,height:o.result.rect.height,originalWidth:s.rect.width,originalHeight:s.rect.height},[Symbol.asyncDispose]:async()=>await c.disposeAsync()}}catch(d){var f=d,p=!0}finally{var h=K(u,f,p);h&&await h}}async#t(e,r){let{comp:n}=r;if(!n.player)throw new Error("Player not initialized");let s=n.media;if(!s)throw new Error("No media is opened");let[{uid:a,meta:o},l]=await Promise.all([this.mediaNote.ensureMediaNote(s),this.settings.loaded]),c=await this.saveFolder.getAttachmentFolder({folderPath:l["playback.screenshot.folder-path"],sourcePath:s.type==="file"?s.file.path:""}),u=e.rect.type==="clip"?`-${t8e(e.rect)}`:"",d=Hoe(e.timestamp).toLowerCase().replaceAll(".","_"),f=`mx-img-${a}-${d}${u}.${mue(e.blob)}`;return{file:await this.#r((0,Qm.normalizePath)(`${c.path}/${f}`),e.blob),media:{uid:a,meta:o}}}async#r(e,r){let n=this.app.vault.getAbstractFileByPath(e),i=await r.arrayBuffer();if(n instanceof Qm.TFile)return await this.app.vault.modifyBinary(n,i),n;if(n!==null)throw new Xm(e);return await this.app.vault.createBinary(e,i)}};function t8e(t){let e=[t.x,t.y,t.width,t.height,t.originalWidth,t.originalHeight].join("-");return vue(e).toString(36)}var Jm=/^(?<lang>[a-z]{2})(?:-([A-Za-z]+))*$/;function wue(t){return Jm.test(t)}function pL(t){if(!t)return null;let e=t.trim().match(Jm);if(!e)return null;let[,r,...n]=e;return{lang:r,extlang:n}}var bue={"zh-Hans":["CN","SG","MY"],"zh-Hant":["TW","HK","MO"]};function nF(t){return t.toLowerCase()==="hans"||bue["zh-Hans"]?.includes(t.toUpperCase())?"zh-Hans":t.toLowerCase()==="hant"||bue["zh-Hant"]?.includes(t.toUpperCase())?"zh-Hant":"zh"}var hL=Sp([MM(),rd(!1),Xt(["split-horizontal","tab","split","window"])]),xue=Xt(["image/png","image/jpeg","image/webp"]),r8e=Xt(["before-cursor","after-cursor"]),Sue=Xt(["play","eager"]),n8e=Xt(["browser","iframe"]),iF={__VERSION__:1},mL=ki({__VERSION__:rd(1),"release.previous-version":Lt(_r(qe()),void 0),"release.show-release-notes":Lt(Kn(),!0),"playback.default-volume":Lt(Af,100),"playback.speed-step":Lt(Ye(Si(),xp(0),Xl(1)),.1),"playback.preserve-pitch":Lt(Kn(),!0),"playback.track.default-enabled":Lt(Kn(),!1),"playback.track.folder-path":Lt(_r(qe()),void 0),"playback.track.default-languages":Lt(td(Ye(qe(),LM(Jm,"Invalid language code"))),[]),"playback.screenshot.format":Lt(xue,"image/jpeg"),"playback.screenshot.quality":Lt(Ye(Si(),xp(0),Xl(1)),.8),"playback.screenshot.folder-path":Lt(_r(qe()),void 0),"note.embed-load-strategy":Lt(Sue,"eager"),"link.click-behavior":Lt(hL,"split"),"link.altclick-behavior":Lt(hL,"window"),"link.handle-hosted":Lt(Kn(),!0),"link.handle-direct-url":Lt(Kn(),!0),"link.hosted-prefer":Lt(n8e,"browser"),"note.template.timestamp":Lt(qe(),`
- {{TIMESTAMP}} `),"note.template.timestamp-offset":Lt(Si(),0),"note.template.screenshot":Lt(qe(),`
- !{{SCREENSHOT}} {{TIMESTAMP}} `),"note.template.screenshot-embed":Lt(qe(),"{{TITLE}}{{DURATION}}|50"),"note.template.insert-at":Lt(r8e,"after-cursor"),"media-lib.folder-path":Lt(qe(),"media-lib")});function kue(t){let e=t,r=Jl(mL,iF);if(e.defaultVolume!==void 0&&(r["playback.default-volume"]=e.defaultVolume),e.speedStep!==void 0&&(r["playback.speed-step"]=e.speedStep),e.enableSubtitle!==void 0&&(r["playback.track.default-enabled"]=e.enableSubtitle),e.subtitleFolderPath!==void 0&&(r["playback.track.folder-path"]=e.subtitleFolderPath),e.defaultLanguage!==void 0&&(r["playback.track.default-languages"]=e.defaultLanguage?[e.defaultLanguage]:[]),e.screenshotFormat!==void 0){let n=e.screenshotFormat;xi(xue,n)&&(r["playback.screenshot.format"]=n)}if(e.screenshotQuality!==void 0&&(r["playback.screenshot.quality"]=e.screenshotQuality),e.screenshotFolderPath!==void 0&&(r["playback.screenshot.folder-path"]=e.screenshotFolderPath),e.loadStrategy!==void 0){let n=e.loadStrategy;xi(Sue,n)&&(r["note.embed-load-strategy"]=n)}if(e.defaultMxLinkClick?.click!==void 0){let n=e.defaultMxLinkClick.click;xi(hL,n)&&(r["link.click-behavior"]=n)}if(e.defaultMxLinkClick?.alt!==void 0){let n=e.defaultMxLinkClick.alt;xi(hL,n)&&(r["link.altclick-behavior"]=n)}return e.timestampTemplate!==void 0&&(r["note.template.timestamp"]=e.timestampTemplate),e.timestampOffset!==void 0&&(r["note.template.timestamp-offset"]=e.timestampOffset),e.screenshotTemplate!==void 0&&(r["note.template.screenshot"]=e.screenshotTemplate),e.screenshotEmbedTemplate!==void 0&&(r["note.template.screenshot-embed"]=e.screenshotEmbedTemplate),e.insertBefore!==void 0&&(r["note.template.insert-at"]=e.insertBefore?"before-cursor":"after-cursor"),Jl(mL,r)}function Cue(t){let e=Wa(mL,t||iF);if(e.success)return e.output;let r=Jl(mL,iF);return console.error("Invalid settings in plugin settings v1, fallback to default",e.issues),r}var i8e={1:kue},Eue=Cue,Tue=t=>{let e=Q(null),r=s8e(t),n=Q(null,async(s,a)=>{let{value:o,migrated:l}=await a8e(t);l&&await r(o),a(e,o)});return{atom:Q(s=>s(e),(s,a,o)=>{if(o===AH){a(n);return}let l=s(e);if(l===null)return;let c=typeof o=="function"?o(l):o,u={...l,...c};a(e,u),r(u)}),reload:n}};function s8e(t){let e=!1,r=null;return async function n(i){if(e){r=i;return}e=!0;try{if(await t.saveData(i),r!==null){let s=r;r=null,await n(s)}}finally{e=!1}}}async function a8e(t){let e=Eue();try{let r=await t.loadData();if(!r)return{value:e,migrated:!1};let n=r,i=n.__VERSION__??0,s=e.__VERSION__;if(i===s)return{value:Eue(n),migrated:!1};let a={...n};for(let o=i+1;o<=s;o++){let l=i8e[o];if(l)a=l(a);else throw new Error(`No migration function found for version ${o}`)}return{value:a,migrated:!0}}catch(r){return console.error("Failed to load plugin data:",r),{value:e,migrated:!1}}}var bx=class{plugin;settingsAtoms;store=Ju();#e;#t;constructor(e){this.plugin=e.plugin,this.settingsAtoms=Tue(this.plugin),this.loadSettings(),this.#e=new DisposableStack,this.#t=this.#e.use(new uo)}[Symbol.dispose](){this.#e.dispose()}async loadSettings(){await this.store.set(this.settingsAtoms.reload)}get value(){return this.store.get(this.settingsAtoms.atom)}get loaded(){return this.#r()}async#r(){var i=[];try{let e=G(i,new DisposableStack);let r=this.store.get(this.settingsAtoms.atom);if(r)return r;let n=new Promise(l=>{e.defer(this.store.sub(this.settingsAtoms.atom,()=>{let c=this.store.get(this.settingsAtoms.atom);c&&l(c)}))});return await zr(n,this.#t.signal)}catch(s){var a=s,o=!0}finally{K(i,a,o)}}set(e,r){this.store.set(this.settingsAtoms.atom,{...this.store.get(this.settingsAtoms.atom),[e]:r})}subscribe(e,r){var a=[];try{let n=this.store.get(this.settingsAtoms.atom);let i=n?n[e]:Fl;let s=G(a,new DisposableStack);s.defer(this.store.sub(this.settingsAtoms.atom,()=>{let u=this.store.get(this.settingsAtoms.atom);if(!u||!(e in u))return;let d=u[e];r(d,i,u),i=d}));return s.move()}catch(o){var l=o,c=!0}finally{K(a,l,c)}}},Fl=Symbol("na");var gL=class{app;settings;template;constructor(e){this.app=e.app,this.settings=e.settings,this.template=e.template}async insertTimestamp(e,r,{file:n,editor:i}){if(!i)return;let s=await this.settings.loaded,a=this.template.renderTimestampInsertion({currentTime:e,src:r},{sourcePath:n?.path??"",settings:s});this.#e(a,i,s)}async insertScreenshotEmbed(e,r,{file:n,editor:i}){if(!i)return;let s=await this.settings.loaded,a=this.template.renderScreenshotInsertion({currentTime:e.timestamp,screenshotFile:e.file,src:r.src,meta:{uid:r.uid,title:r.title}},{sourcePath:n?.path||"",settings:s});this.#e(a,i,s)}#e(e,r,n){n["note.template.insert-at"]==="before-cursor"?OA(e,r):PA(e,r)}};var yL=class{app;get fileManager(){return this.app.fileManager}constructor(e){this.app=e.app}renderTimestampInsertion(e,r){let n=r.settings["note.template.timestamp"],i=r.settings["note.template.timestamp-offset"],s={timestamp:this.renderTimestampLink(e,{sourcePath:r.sourcePath,timestampOffset:i})};return this.#t(n,s)}renderScreenshotInsertion(e,r){let n=r.settings["note.template.screenshot-embed"],i=r.settings["note.template.screenshot"],s=r.settings["note.template.timestamp-offset"],a={timestamp:this.renderTimestampLink(e,{sourcePath:r.sourcePath,timestampOffset:s}),screenshot:this.#e(e,{sourcePath:r.sourcePath,template:n,timestampOffset:s})};return this.#t(i,a)}#e({screenshotFile:e,currentTime:r,meta:n},i){let s=Aue(r,i.timestampOffset),a=this.#r(i.template,{timestamp:s,title:n.title||n.uid});return this.fileManager.generateMarkdownLink(e,i.sourcePath,"",a).replace(/^!/,"")}renderTimestampLink({currentTime:e,src:r},n){let i=Aue(e,n.timestampOffset),s=f9(i),a=fi({start:i,end:-1}),o=a?`#${a}`:"";if(r.type==="file"){let{file:c}=r;return this.fileManager.generateMarkdownLink(c,n.sourcePath,o,s).replace(/^!/,"")}let l=r.url;return`[${s}](${l}${o})`}#t(e,r){let n=e.replace("{{TIMESTAMP}}",r.timestamp);return r.screenshot&&(n=n.replace("{{SCREENSHOT}}",r.screenshot)),n}#r(e,r){let n=r.timestamp>0?` - ${f9(r.timestamp)}`:"";return e.replaceAll("{{TITLE}}",r.title).replaceAll("{{DURATION}}",n)}};function Aue(t,e){return Math.max(0,t+(e??0))}var bL=require("obsidian");var o8e=new Set(["file:","http:","https:"]);function Lue(t,e){return e.has(t)?e.get(t):[]}function Iue(t,e){return((0,bL.parseFrontMatterStringArray)(e,t,!0)??[]).map(r=>Vn(r)).filter(r=>r!==null&&o8e.has(r.protocol))}var vL=class{fileHelper;app;constructor(e){this.fileHelper=e.fileService,this.app=e.app}parseTextTrackFields(e){let r=e.frontmatter??{},n=Iue(Vi,r),i=Iue(qi,r),s=Map.groupBy(e.frontmatterLinks??[],l=>l.key.split(".").at(0)),a=Lue(Vi,s);return[...Lue(qi,s).map(l=>this.internalLinkToTrackLink(l,"captions")),...i.map(l=>this.urlToTrack(l,{kind:"captions"})),...a.map(l=>this.internalLinkToTrackLink(l,"subtitles")),...n.map(l=>this.urlToTrack(l,{kind:"subtitles"}))].filter(l=>l!==null)}parseTrackMeta(e,r){let n=new URLSearchParams(e.replace(/^#/,"")),i=Jl(Rre,{id:n.get("id"),format:n.get("format"),kind:n.get("kind"),language:n.get("lang")||n.get("language"),label:n.get("label"),wid:n.get(Ire),isDefault:n.get("default")==="true"||n.get("default")===""});return{...i,kind:i.kind||r.kind,format:i.format||r.format||"vtt",language:i.language||r.language||null}}parseTextTrackInfo(e,{sourcePath:r,kind:n="captions"}){let i=Vn(e);if(i)return this.urlToTrack(i,{kind:n});if(e.startsWith("[[")&&e.endsWith("]]")){let s=e.slice(2,-2),{link:a,displayText:o}=l8e(s),l=this.internalLinkToTrackLink({link:a,displayText:o},n);return l?this.resolveTrackLink(l,{sourcePath:r}):null}return null}resolveTrackLink(e,r){let n=this.app.metadataCache.getFirstLinkpathDest(e.path,r.sourcePath);if(!n)return null;let i=this.inferFromPath(n);return i?{type:"internal.resolved",src:n,basename:i.basename,meta:{...e.meta,format:e.meta.format||i.format,language:e.meta.language||i.language}}:null}urlToTrack(e,{kind:r,...n}){try{let i=this.inferFromPath(e,{urlEncoded:!0}),s=this.parseTrackMeta(e.hash,{kind:r,format:i?.format,language:i?.language});if(!kt(e))return{type:"url",src:e,meta:{...s,...n}};if(!i)return null;let a=this.fileHelper.safeResolveFileUri(e);if(!a.success)return null;let{sep:o}=bi(),l=Ca(a.path,{sep:o});return{type:"file",basename:l.basename,src:l,meta:{...s,...n}}}catch(i){return i instanceof vp?console.warn(`Invalid track link: ${e}`,i.issues):console.warn(`Invalid track link: ${e}`,i),null}}fileToTrack(e,{kind:r,...n}){let i=this.inferFromPath(e);if(!i)return null;let s=this.parseTrackMeta("",{kind:r,format:i.format,language:i.language});return{type:"internal.resolved",basename:i.basename,src:e,meta:{...s,...n}}}internalLinkToTrackLink(e,r){try{let{path:n,subpath:i}=(0,bL.parseLinktext)(e.link),s=this.inferFromPath({path:n});if(!s)return null;let a=this.parseTrackMeta(i,{kind:r,format:s.format,language:s.language});return{type:"internal",path:n,basename:s.basename,meta:a,displayText:e.displayText}}catch(n){return n instanceof vp?console.warn(`Invalid track link: ${e.link}`,n.issues):console.warn(`Invalid track link: ${e.link}`,n),null}}inferFromPath(e,{sep:r="/",urlEncoded:n=!1}={}){let i=co(e,{sep:r,urlEncoded:n});if(!TS(i))return null;let s=c8e(i);return{basename:s?.basename??i.basename,language:s?.language??null,format:i.extension}}};function l8e(t){let e=t.match(/\\?\|/);return e?.index?{link:t.slice(0,e.index),displayText:t.slice(e.index+e[0].length)}:{link:t}}function c8e(t){let e=t.basename.split(".");if(e.length<=1)return null;let r=e.pop();return wue(r)?{basename:e.join("."),language:r}:null}var Zm=require("obsidian");var u8e=["vtt","srt","ssa","ass"];function sF(t){return[...Map.groupBy(t,r=>r.meta.language).values()].map(r=>{for(let n of u8e){let i=r.find(s=>s.meta.format===n);if(i)return i}return r[0]}).filter(r=>r!==void 0)}async function*aF(t,e=[]){let{opendir:r}=Va(),n=bi(),i=new Set(e),s=await r(t,{encoding:"utf-8"});for await(let a of s)!(a.isFile()||a.isSymbolicLink())||i.has(a.name)||(yield Ca(n.join(t,a.name),{sep:n.sep}))}var wL=class{parser;constructor(e){this.parser=e.trackInfoParser}async resolveLocalMediaForTrack(e){if(!Zm.Platform.isDesktopApp)return null;let r=bi(),n=[];for await(let s of aF(r.dirname(e.src.path),[e.src.basename]))s.basename!==e.basename||!_o(s)||n.push(s);let{pathToFileURL:i}=cs();for(let s of ta){let a=n.find(o=>o.extension===s);if(a)return{type:"url:direct",url:i(a.path)}}return null}resolveVaultMediaForTrack(e){let r=e.src.parent;if(!r)return null;let n=r.children.map(i=>i instanceof Zm.TFile&&i.name!==e.src.name&&i.basename===e.basename&&_o(i)?i:null).filter(i=>!!i);for(let i of ta){let s=n.find(a=>a.extension===i);if(s)return{type:"file",file:s}}return null}async resolveLocalFileTracks(e){if(!Zm.Platform.isDesktopApp||!kt(e.url))return[];let r=bi(),{fileURLToPath:n}=cs(),i=n(e.url),s=Ca(i,{sep:r.sep}),a=[];for await(let o of aF(s.parent,[s.name])){let l=this.parser.inferFromPath(o,{sep:r.sep});!l||l.basename!==s.basename||a.push({type:"file",src:o,basename:o.basename,meta:{format:l.format,kind:"subtitles",language:l.language,label:null,id:null,isDefault:!1,wid:null}})}return sF(a)}resolveVaultTracks({file:e}){if(!e.parent)return[];let r=e.parent.children.map(n=>{if(!(n instanceof Zm.TFile))return null;let i=this.parser.fileToTrack(n,{kind:"subtitles"});return!i||i.basename!==e.basename?null:i}).filter(n=>!!n);return sF(r)}};var Rue=require("obsidian");var xL=class{app;constructor(e){this.app=e.app}encodeUrlTrack(e){switch(e.type){case"url":return new URL(e.src.toString()+this.#e(e.meta));case"file":{if(!Rue.Platform.isDesktopApp)throw new Error("File tracks are only supported on desktop");let{pathToFileURL:r}=cs(),n=r(e.src.path);return new URL(n.toString()+this.#e(e.meta,{includeFormat:!1}))}default:Te(e)}}encodeVaultTrack(e,r){let n=this.app.metadataCache.fileToLinktext(e.src,r.sourcePath),i=this.#e(e.meta,{includeFormat:!1});return`[[${n}${i}]]`}encode(e,r){switch(e.type){case"url":case"file":return this.encodeUrlTrack(e).toString();case"internal.resolved":return this.encodeVaultTrack(e,r);default:Te(e)}}#e(e,{includeKind:r=!1,includeFormat:n=!0}={}){let i=new URLSearchParams;e.id&&i.set("id",e.id),n&&e.format&&i.set("format",e.format),e.language&&i.set("lang",e.language),e.label&&i.set("label",e.label),e.wid&&i.set("wid",e.wid),e.isDefault&&i.set("default","true"),r&&e.kind&&i.set("kind",e.kind);let s=i.toString();return s?`#${s}`:""}async addTracksToFrontmatter(e,r){await this.app.fileManager.processFrontMatter(r.note,n=>{let i=e.filter(a=>a.meta.kind==="captions").map(a=>this.encode(a,{sourcePath:r.note.path}));i.length>0&&(typeof n[qi]=="string"?n[qi]=[n[qi],...i]:Array.isArray(n[qi])?n[qi]=[...n[qi],...i]:(console.warn(`Invalid caption field: ${qi}, overwrite with new value`,n[qi]),n[qi]=i));let s=e.filter(a=>a.meta.kind==="subtitles").map(a=>this.encode(a,{sourcePath:r.note.path}));s.length>0&&(typeof n[Vi]=="string"?n[Vi]=[n[Vi],...s]:Array.isArray(n[Vi])?n[Vi]=[...n[Vi],...s]:(console.warn(`Invalid subtitle field: ${Vi}, overwrite with new value`,n[Vi]),n[Vi]=s))})}};var eg=require("obsidian");var Mue=d8e().compareBy(t=>t.language,{nullsFirst:!1}).compareBy(t=>t.label).build();function d8e(){let t=[],e={compareBy:(r,n={})=>(t.push((i,s)=>{if(i===null&&s===null)return 0;if(i===null)return 1;if(s===null)return-1;let a=r(i),o=r(s);return!a&&!o?0:a&&!o?n.nullsFirst?1:-1:!a&&o?n.nullsFirst?-1:1:a.localeCompare(o,void 0,n.ignoreCase?{sensitivity:"base"}:void 0)}),e),build:()=>(r,n)=>{for(let i of t){let s=i(r,n);if(s!==0)return s}return 0}};return e}function Pue(t,e){if(t.label)return t.label;if(t.language){if(t.kind==="subtitles")return t.language;if(t.kind==="captions")return`${t.language} (CC)`;Te(t.kind)}return`${t.kind} ${e+1}`}var Oue=[["vtt","text/vtt"],["srt","application/x-subrip"],["ssa","application/x-ssa"],["ass","application/x-ass"]],f8e=new Map(Oue),p8e=new Map(Oue.map(([t,e])=>[e,t]));function _ue(t){return p8e.get(t??"")}function Due(t){return f8e.get(t)}function Nue(t,e){return new Response(new ReadableStream({async start(r){try{let n=await e();r.enqueue(n),r.close()}catch(n){r.error(n)}}}).pipeThrough(new TextEncoderStream),{headers:{"Content-Type":Due(t)}})}var h8e=require("obsidian");var Fue={"&":"&amp;","<":"&lt;",">":"&gt;","=":"&#61;",":":"&#58;"},cSt=new RegExp(`[${RegExp.escape(Object.keys(Fue).join(""))}]`,"g"),$ue=Object.fromEntries(Object.entries(Fue).map(([t,e])=>[e,t])),m8e=new RegExp(`(${Object.keys($ue).map(t=>RegExp.escape(t)).join("|")})`,"g");function g8e(t){return t.replaceAll(m8e,e=>$ue[e])}async function jue(t,e){let r=await bD(t,e);return r.metadata=yp(r.metadata,n=>g8e(n)),r}var SL=class{mediaLib;app;settings;resolver;constructor(e){this.app=e.app,this.mediaLib=e.mediaLib,this.settings=e.settings,this.resolver=e.trackInfoResolver}async#e(e){if(e instanceof eg.TFile)return await this.app.vault.cachedRead(e);if(!eg.Platform.isDesktopApp)throw new Error("Cannot read file system on mobile");let{readFile:r}=Va();return await r(e.path,"utf-8")}async#t(e){return(await(0,eg.requestUrl)({url:e.toString(),method:"GET"})).text}async loadAndParseTrack(e){let r=await this.loadTrack(e);return await jue(r,{type:e.meta.format})}async loadTrack(e){return e.src instanceof URL?await this.#t(e.src):await this.#e(e.src)}async getLocalTracks(e){return e.type==="url:direct"?await this.resolver.resolveLocalFileTracks(e).catch(r=>(console.error("Failed to get tracks from file system for",e,r),[])):e.type==="file"?this.resolver.resolveVaultTracks(e):[]}async getTracks(e){let r=this.mediaLib.findTracksByMedia(e);return[...(await this.getLocalTracks(e)).filter(i=>!r.some(s=>yT(i,s))),...r]}async getLinkedMedia(e){let r=this.mediaLib.findMediaByTrack(e).map(n=>n.src);if(e.type==="internal.resolved"){let n=this.resolver.resolveVaultMediaForTrack(e);n&&r.push(n)}else if(e.type==="file"){let n=await this.resolver.resolveLocalMediaForTrack(e).catch(i=>(console.error("Failed to find related media from fs for",e,i),null));n&&r.push(n)}return r}async loadTracks(e){let[r,n]=await Promise.all([this.settings.loaded,this.getTracks(e)]);n.sort((s,a)=>Mue(s.meta,a.meta));let i=(()=>{if(!r["playback.track.default-enabled"])return-1;let s=n.findIndex(l=>l.meta.isDefault);if(s!==-1)return s;let a=r["playback.track.default-languages"],o=Map.groupBy(n.map((l,c)=>({data:l,idx:c})),l=>pL(l.data.meta.language)?.lang);for(let l of a){let c=n.findIndex(d=>d.meta.language?.trim()===l);if(c!==-1)return c;let u=pL(l);if(u?.lang==="zh"&&u.extlang[0]){let d=nF(u.extlang[0]),f=n.findIndex(p=>{let h=pL(p.meta.language);return h&&h.lang==="zh"&&h.extlang[0]&&nF(h.extlang[0])===d});if(f!==-1)return f}if(u&&o.has(u.lang))return o.get(u.lang).at(0).idx}return 0})();return{tracks:n.map((s,a)=>{let{meta:o,src:l,type:c}=s;return new cn({kind:o.kind,type:o.format,src:c==="internal.resolved"?`<VAULT_FILE:${l.path}>`:c==="file"?`<LOCAL_FILE:${l.path}>`:`<REMOTE:${l}>`,default:i===a,label:Pue(o,a),language:o.language?.trim(),id:Rs(s),fetch:async()=>Nue(o.format,()=>this.loadTrack(s))})}),trackInfo:n}}};var IL=require("obsidian");var CL=require("obsidian");var Vue=require("obsidian");var Bue=z(Be(),1),que=({onChange:t,onCancel:e,...r})=>{if(!Vue.Platform.isDesktopApp)throw new Error("Not supported on this platform");return(0,Bue.jsx)("button",{...r,type:"button",onClick:async()=>{let{dialog:n}=qa(),{basename:i}=bi();try{let s=await n.showOpenDialog({properties:["openFile","noResolveAliases"],message:"Select a subtitle file to import",filters:[{name:"Subtitle files",extensions:ES}]}),a=s.filePaths[0];s.canceled||!a?e?.():t({path:a,name:i(a)})}catch(s){console.error("Failed to open electron file picker",s),e?.()}},...r})};var tg=z(Be(),1),kL=class extends Bs{app;trackInfoParser;constructor(e){super(e.app),this.app=e.app,this.trackInfoParser=e.trackInfoParser,this.modalEl.addClass("track-import","track-file-import"),this.titleEl.setText("Import Text Track File")}renderContent(){return(0,tg.jsx)(pre,{onSubmit:e=>{this.resolveWith(e)},inferDefaults:e=>{let r=this.trackInfoParser.inferFromPath(e);return r?{label:r.basename,language:r.language||void 0,"track-kind":r.language&&!r.language.startsWith(CL.moment.locale())?"subtitles":"captions"}:{}},renderFilePicker:({onChange:e,value:r,disabled:n})=>CL.Platform.isDesktopApp?(0,tg.jsx)(que,{className:"contents",disabled:n,onChange:e,onCancel:()=>e(null),children:(0,tg.jsx)(pN,{value:r})}):(0,tg.jsx)(hre,{className:"contents",disabled:n,onChange:e,onCancel:()=>e(null),children:(0,tg.jsx)(pN,{value:r})})})}};var Uue=z(Be(),1),EL=class extends Bs{constructor(e){super(e.app),this.modalEl.addClass("track-import","track-url-import"),this.titleEl.setText("Import Text Track from URL")}renderContent(){return(0,Uue.jsx)(bre,{onSubmit:e=>{this.resolveWith(e)}})}};async function zue(t){return await new kL(t).requestInput()}async function Hue(t){return await new EL(t).requestInput()}var Gue=require("obsidian"),AL=z(he(),1);var oF=z(Be(),1),TL=class extends Bs{#e;#t;#r;constructor(e,{onImport:r,onOpen:n,app:i}){super(i),this.#e=e,this.#t=r,this.#r=n,this.modalEl.addClass("youtube-subtitle-import"),this.titleEl.setText("Import YouTube Subtitle")}renderContent(){return(0,oF.jsx)(y8e,{subtitles:this.#e,onImport:this.#t,onOpen:this.#r})}};function y8e({subtitles:t,onImport:e,onOpen:r}){let[n,i]=(0,AL.useState)(t.map(a=>({data:a,state:{status:"idle"}}))),s=(0,AL.useMemo)(()=>{if(e)return a=>{e(a,o=>{i(l=>l.map(c=>c.data.id===a?{...c,state:o}:c))})}},[e]);return(0,oF.jsx)(wre,{subtitles:n,userLanguage:(Gue.moment.locale()||navigator.language).split("-")[0],onImport:s,onOpen:r,onRetry:s})}var LL=class{app;mediaNote;settings;parser;stringifier;auth;youTubeApi;saveFolder;constructor(e){this.app=e.app,this.mediaNote=e.mediaNote,this.settings=e.settings,this.parser=e.trackInfoParser,this.stringifier=e.trackInfoEncoder,this.auth=e.auth,this.youTubeApi=e.youTubeApi,this.saveFolder=e.attachement}async importYouTubeSubtitles(e,{errorText:r="Failed to import YouTube subtitles",loadingText:n,onNotFound:i}){let s=e.vid.vid,a=await Je(this.youTubeApi.getSubtitlesList(s),{loading:n,error:(c,u)=>{if(u instanceof Us){new So(this.auth,{content:"You need to login to import YouTube subtitles"});return}return`${r}: ${c}`},swallowError:!1}),o=new Map,l=new TL(a.subtitles,{app:this.app,onImport:async(c,u)=>{let d=a.subtitles.find(h=>h.id===c);if(!d){u({status:"error",error:"Subtitle not found"}),i?.();return}u({status:"importing",progress:0});let f=await this.youTubeApi.getSubtitleContent(s,c);u({status:"importing",progress:50});let{track:p}=await this.saveSubtitleContent({media:e,content:f,meta:{kind:"subtitles",format:"vtt",language:iT(d.lang),label:mN(d.name||""),isDefault:!1}});o.set(c,p.src),u({status:"success"})},onOpen:async c=>{if(!o.has(c)){i?.();return}let u=o.get(c);await this.app.workspace.openLinkText(u.path,"","split"),l.close()}});l.open()}async#e(e){if(e instanceof File)return await e.text();if(IL.Platform.isDesktopApp)return await Va().readFile(e.path,"utf-8");throw new Error("Reading file path is not supported on mobile")}async importTranscriptUrl(e){let r=await Hue({app:this.app});if(r["should-download"]){let s=await(0,IL.requestUrl)(r.url),a=new URL(r.url),o=this.parser.inferFromPath(a,{urlEncoded:!0}),l=r.format||_ue(s.headers["content-type"])||o?.format;if(!l)throw new Error("Could not determine subtitle format from URL");let{track:c}=await this.saveSubtitleContent({media:e,content:s.text,meta:{kind:r["track-kind"],format:l,language:r.language||o?.language||null,label:r.label||"",isDefault:r["default-enable"]}});return c}let n=await this.mediaNote.ensureMediaNote(e),i=this.parser.urlToTrack(new URL(r.url),{kind:r["track-kind"],language:r.language,label:r.label,isDefault:r["default-enable"],id:Wue()});if(!i)throw new Error("Failed to parse track info from URL");return await this.stringifier.addTracksToFrontmatter([i],{note:n.note}),i}async importTranscriptFile(e){let r=await zue({app:this.app,trackInfoParser:this.parser}),n=this.parser.inferFromPath(r.file);if(!n)throw new Error("Failed to infer track info from file");let{track:i}=await this.saveSubtitleContent({media:e,content:await this.#e(r.file),meta:{kind:r["track-kind"],format:n.format,language:r.language||n.language,label:r.label||"",isDefault:r["default-enable"]}});return i}async saveSubtitleContent({media:e,content:r,meta:n}){let i=await this.mediaNote.ensureMediaNote(e),s=[i.uid,Wue(),n.language].filter(u=>!!u).join("."),a=await this.settings.loaded,o=await this.saveFolder.getAttachmentFolder({sourcePath:i.note.path,folderPath:a["playback.track.folder-path"]}),l=await this.#t(`${o.path}/${s}.${n.format}`,r),c=this.parser.fileToTrack(l,n);if(!c)throw new cF(l.path);return await this.stringifier.addTracksToFrontmatter([c],{note:i.note}),{track:c}}async#t(e,r){if(this.app.vault.getAbstractFileByPath(e))throw new Xm(e);try{return await this.app.vault.create(e,r)}catch(i){throw new lF(e,{cause:i})}}};function Wue(){return xr(4)}var lF=class extends Error{constructor(e,r){super(`Failed to save text track in ${e}: ${r instanceof Error?r.message:r}`,{cause:r})}},cF=class extends Error{constructor(e,r){super(`Invalid track in ${e}: ${r instanceof Error?r.message:r}`,{cause:r})}};var VL=require("obsidian");var rg=Q(t=>{let e=t(Jt)?.title,r=t(br)?.title,n=t(Fm)?.title,i=t(Qt).mediaAttr.getFallbackTitle(t(Vt));return e??r??n??i??"Media"}),Kue=Q(t=>{if(!t(Qt).plugin.loaded)return!1;let e=!t(Tp),r=t(Jt)?.autoPlay,n=t(br)?.autoPlay;return r??n??e}),Yue=Q(t=>t(Tp)?t(Jt)?.showControls??!0:!0),Xue=Q(t=>{let e=t(Qt).settings.value?.["playback.default-volume"],r=t(Jt)?.volume,n=t(br)?.volume,s=(r??n??e??100)/100;return Math.round(Math.max(0,Math.min(1,s))*100)/100}),Que=Q(t=>{let e=t(Jt)?.muted,r=t(br)?.muted;return e??r??!1}),Jue=Q(t=>{let e=t(Jt)?.loop,r=t(br)?.loop;return e??r??!1}),Zue=Q(t=>{let e=t(Jt)?.crossOrigin,r=t(br)?.crossOrigin;return e??r??!1});var uF=Q(),RL=Q(t=>{let e=t(uF),r=t(Jt)?.flip,n=t(br)?.flip;return e??r??n??"none"});var ede='"use strict";(()=>{var _a=Object.create;var ot=Object.defineProperty;var ja=Object.getOwnPropertyDescriptor;var ka=Object.getOwnPropertyNames;var Ma=Object.getPrototypeOf,Na=Object.prototype.hasOwnProperty;var tt=(e,r)=>(r=Symbol[e])?r:Symbol.for("Symbol."+e),nt=e=>{throw TypeError(e)};var i=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var Ba=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of ka(r))!Na.call(e,o)&&o!==t&&ot(e,o,{get:()=>r[o],enumerable:!(n=ja(r,o))||n.enumerable});return e};var Da=(e,r,t)=>(t=e!=null?_a(Ma(e)):{},Ba(r||!e||!e.__esModule?ot(t,"default",{value:e,enumerable:!0}):t,e));var Le=(e,r,t)=>{if(r!=null){typeof r!="object"&&typeof r!="function"&&nt("Object expected");var n,o;t&&(n=r[tt("asyncDispose")]),n===void 0&&(n=r[tt("dispose")],t&&(o=n)),typeof n!="function"&&nt("Object not disposable"),o&&(n=function(){try{o.call(this)}catch(a){return Promise.reject(a)}}),e.push([t,n,r])}else t&&e.push([t]);return r},Fe=(e,r,t)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(s,u,c,f){return f=Error(c),f.name="SuppressedError",f.error=s,f.suppressed=u,f},o=s=>r=t?new n(s,r,"An error was suppressed during disposal"):(t=!0,s),a=s=>{for(;s=e.pop();)try{var u=s[1]&&s[1].call(s[2]);if(s[0])return Promise.resolve(u).then(a,c=>(o(c),a()))}catch(c){o(c)}if(t)throw r};return a()};var p=i((Ue,it)=>{"use strict";var B=function(e){return e&&e.Math===Math&&e};it.exports=B(typeof globalThis=="object"&&globalThis)||B(typeof window=="object"&&window)||B(typeof self=="object"&&self)||B(typeof global=="object"&&global)||B(typeof Ue=="object"&&Ue)||function(){return this}()||Function("return this")()});var y=i((jp,at)=>{"use strict";at.exports=function(e){try{return!!e()}catch{return!0}}});var b=i((kp,st)=>{"use strict";var La=y();st.exports=!La(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})});var Q=i((Mp,ut)=>{"use strict";var Fa=y();ut.exports=!Fa(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")})});var I=i((Np,ct)=>{"use strict";var Ua=Q(),ee=Function.prototype.call;ct.exports=Ua?ee.bind(ee):function(){return ee.apply(ee,arguments)}});var vt=i(pt=>{"use strict";var ft={}.propertyIsEnumerable,lt=Object.getOwnPropertyDescriptor,$a=lt&&!ft.call({1:2},1);pt.f=$a?function(r){var t=lt(this,r);return!!t&&t.enumerable}:ft});var D=i((Dp,dt)=>{"use strict";dt.exports=function(e,r){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:r}}});var h=i((Lp,mt)=>{"use strict";var ht=Q(),yt=Function.prototype,$e=yt.call,Ka=ht&&yt.bind.bind($e,$e);mt.exports=ht?Ka:function(e){return function(){return $e.apply(e,arguments)}}});var re=i((Fp,bt)=>{"use strict";var gt=h(),Va=gt({}.toString),Ga=gt("".slice);bt.exports=function(e){return Ga(Va(e),8,-1)}});var wt=i((Up,xt)=>{"use strict";var Wa=h(),Ha=y(),Ya=re(),Ke=Object,za=Wa("".split);xt.exports=Ha(function(){return!Ke("z").propertyIsEnumerable(0)})?function(e){return Ya(e)==="String"?za(e,""):Ke(e)}:Ke});var te=i(($p,St)=>{"use strict";St.exports=function(e){return e==null}});var ne=i((Kp,Et)=>{"use strict";var Za=te(),Xa=TypeError;Et.exports=function(e){if(Za(e))throw new Xa("Can\'t call method on "+e);return e}});var L=i((Vp,qt)=>{"use strict";var Ja=wt(),Qa=ne();qt.exports=function(e){return Ja(Qa(e))}});var d=i((Gp,Ot)=>{"use strict";var Ve=typeof document=="object"&&document.all;Ot.exports=typeof Ve>"u"&&Ve!==void 0?function(e){return typeof e=="function"||e===Ve}:function(e){return typeof e=="function"}});var E=i((Wp,Tt)=>{"use strict";var es=d();Tt.exports=function(e){return typeof e=="object"?e!==null:es(e)}});var P=i((Hp,Pt)=>{"use strict";var Ge=p(),rs=d(),ts=function(e){return rs(e)?e:void 0};Pt.exports=function(e,r){return arguments.length<2?ts(Ge[e]):Ge[e]&&Ge[e][r]}});var oe=i((Yp,It)=>{"use strict";var ns=h();It.exports=ns({}.isPrototypeOf)});var _t=i((zp,Ct)=>{"use strict";var os=p(),At=os.navigator,Rt=At&&At.userAgent;Ct.exports=Rt?String(Rt):""});var He=i((Zp,Dt)=>{"use strict";var Bt=p(),We=_t(),jt=Bt.process,kt=Bt.Deno,Mt=jt&&jt.versions||kt&&kt.version,Nt=Mt&&Mt.v8,x,ie;Nt&&(x=Nt.split("."),ie=x[0]>0&&x[0]<4?1:+(x[0]+x[1]));!ie&&We&&(x=We.match(/Edge\\/(\\d+)/),(!x||x[1]>=74)&&(x=We.match(/Chrome\\/(\\d+)/),x&&(ie=+x[1])));Dt.exports=ie});var Ye=i((Xp,Ft)=>{"use strict";var Lt=He(),is=y(),as=p(),ss=as.String;Ft.exports=!!Object.getOwnPropertySymbols&&!is(function(){var e=Symbol("symbol detection");return!ss(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Lt&&Lt<41})});var ze=i((Jp,Ut)=>{"use strict";var us=Ye();Ut.exports=us&&!Symbol.sham&&typeof Symbol.iterator=="symbol"});var Ze=i((Qp,$t)=>{"use strict";var cs=P(),fs=d(),ls=oe(),ps=ze(),vs=Object;$t.exports=ps?function(e){return typeof e=="symbol"}:function(e){var r=cs("Symbol");return fs(r)&&ls(r.prototype,vs(e))}});var Vt=i((ev,Kt)=>{"use strict";var ds=String;Kt.exports=function(e){try{return ds(e)}catch{return"Object"}}});var A=i((rv,Gt)=>{"use strict";var hs=d(),ys=Vt(),ms=TypeError;Gt.exports=function(e){if(hs(e))return e;throw new ms(ys(e)+" is not a function")}});var F=i((tv,Wt)=>{"use strict";var gs=A(),bs=te();Wt.exports=function(e,r){var t=e[r];return bs(t)?void 0:gs(t)}});var Yt=i((nv,Ht)=>{"use strict";var Xe=I(),Je=d(),Qe=E(),xs=TypeError;Ht.exports=function(e,r){var t,n;if(r==="string"&&Je(t=e.toString)&&!Qe(n=Xe(t,e))||Je(t=e.valueOf)&&!Qe(n=Xe(t,e))||r!=="string"&&Je(t=e.toString)&&!Qe(n=Xe(t,e)))return n;throw new xs("Can\'t convert object to primitive value")}});var U=i((ov,zt)=>{"use strict";zt.exports=!1});var ae=i((iv,Xt)=>{"use strict";var Zt=p(),ws=Object.defineProperty;Xt.exports=function(e,r){try{ws(Zt,e,{value:r,configurable:!0,writable:!0})}catch{Zt[e]=r}return r}});var $=i((av,en)=>{"use strict";var Ss=U(),Es=p(),qs=ae(),Jt="__core-js_shared__",Qt=en.exports=Es[Jt]||qs(Jt,{});(Qt.versions||(Qt.versions=[])).push({version:"3.41.0",mode:Ss?"pure":"global",copyright:"\\xA9 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.41.0/LICENSE",source:"https://github.com/zloirock/core-js"})});var er=i((sv,tn)=>{"use strict";var rn=$();tn.exports=function(e,r){return rn[e]||(rn[e]=r||{})}});var rr=i((uv,nn)=>{"use strict";var Os=ne(),Ts=Object;nn.exports=function(e){return Ts(Os(e))}});var g=i((cv,on)=>{"use strict";var Ps=h(),Is=rr(),As=Ps({}.hasOwnProperty);on.exports=Object.hasOwn||function(r,t){return As(Is(r),t)}});var tr=i((fv,an)=>{"use strict";var Rs=h(),Cs=0,_s=Math.random(),js=Rs(1 .toString);an.exports=function(e){return"Symbol("+(e===void 0?"":e)+")_"+js(++Cs+_s,36)}});var m=i((lv,un)=>{"use strict";var ks=p(),Ms=er(),sn=g(),Ns=tr(),Bs=Ye(),Ds=ze(),_=ks.Symbol,nr=Ms("wks"),Ls=Ds?_.for||_:_&&_.withoutSetter||Ns;un.exports=function(e){return sn(nr,e)||(nr[e]=Bs&&sn(_,e)?_[e]:Ls("Symbol."+e)),nr[e]}});var pn=i((pv,ln)=>{"use strict";var Fs=I(),cn=E(),fn=Ze(),Us=F(),$s=Yt(),Ks=m(),Vs=TypeError,Gs=Ks("toPrimitive");ln.exports=function(e,r){if(!cn(e)||fn(e))return e;var t=Us(e,Gs),n;if(t){if(r===void 0&&(r="default"),n=Fs(t,e,r),!cn(n)||fn(n))return n;throw new Vs("Can\'t convert object to primitive value")}return r===void 0&&(r="number"),$s(e,r)}});var or=i((vv,vn)=>{"use strict";var Ws=pn(),Hs=Ze();vn.exports=function(e){var r=Ws(e,"string");return Hs(r)?r:r+""}});var ar=i((dv,hn)=>{"use strict";var Ys=p(),dn=E(),ir=Ys.document,zs=dn(ir)&&dn(ir.createElement);hn.exports=function(e){return zs?ir.createElement(e):{}}});var sr=i((hv,yn)=>{"use strict";var Zs=b(),Xs=y(),Js=ar();yn.exports=!Zs&&!Xs(function(){return Object.defineProperty(Js("div"),"a",{get:function(){return 7}}).a!==7})});var K=i(gn=>{"use strict";var Qs=b(),eu=I(),ru=vt(),tu=D(),nu=L(),ou=or(),iu=g(),au=sr(),mn=Object.getOwnPropertyDescriptor;gn.f=Qs?mn:function(r,t){if(r=nu(r),t=ou(t),au)try{return mn(r,t)}catch{}if(iu(r,t))return tu(!eu(ru.f,r,t),r[t])}});var ur=i((mv,bn)=>{"use strict";var su=b(),uu=y();bn.exports=su&&uu(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})});var j=i((gv,xn)=>{"use strict";var cu=E(),fu=String,lu=TypeError;xn.exports=function(e){if(cu(e))return e;throw new lu(fu(e)+" is not an object")}});var q=i(Sn=>{"use strict";var pu=b(),vu=sr(),du=ur(),se=j(),wn=or(),hu=TypeError,cr=Object.defineProperty,yu=Object.getOwnPropertyDescriptor,fr="enumerable",lr="configurable",pr="writable";Sn.f=pu?du?function(r,t,n){if(se(r),t=wn(t),se(n),typeof r=="function"&&t==="prototype"&&"value"in n&&pr in n&&!n[pr]){var o=yu(r,t);o&&o[pr]&&(r[t]=n.value,n={configurable:lr in n?n[lr]:o[lr],enumerable:fr in n?n[fr]:o[fr],writable:!1})}return cr(r,t,n)}:cr:function(r,t,n){if(se(r),t=wn(t),se(n),vu)try{return cr(r,t,n)}catch{}if("get"in n||"set"in n)throw new hu("Accessors not supported");return"value"in n&&(r[t]=n.value),r}});var V=i((xv,En)=>{"use strict";var mu=b(),gu=q(),bu=D();En.exports=mu?function(e,r,t){return gu.f(e,r,bu(1,t))}:function(e,r,t){return e[r]=t,e}});var Tn=i((wv,On)=>{"use strict";var vr=b(),xu=g(),qn=Function.prototype,wu=vr&&Object.getOwnPropertyDescriptor,dr=xu(qn,"name"),Su=dr&&function(){}.name==="something",Eu=dr&&(!vr||vr&&wu(qn,"name").configurable);On.exports={EXISTS:dr,PROPER:Su,CONFIGURABLE:Eu}});var In=i((Sv,Pn)=>{"use strict";var qu=h(),Ou=d(),hr=$(),Tu=qu(Function.toString);Ou(hr.inspectSource)||(hr.inspectSource=function(e){return Tu(e)});Pn.exports=hr.inspectSource});var Cn=i((Ev,Rn)=>{"use strict";var Pu=p(),Iu=d(),An=Pu.WeakMap;Rn.exports=Iu(An)&&/native code/.test(String(An))});var ue=i((qv,jn)=>{"use strict";var Au=er(),Ru=tr(),_n=Au("keys");jn.exports=function(e){return _n[e]||(_n[e]=Ru(e))}});var ce=i((Ov,kn)=>{"use strict";kn.exports={}});var pe=i((Tv,Bn)=>{"use strict";var Cu=Cn(),Nn=p(),_u=E(),ju=V(),yr=g(),mr=$(),ku=ue(),Mu=ce(),Mn="Object already initialized",gr=Nn.TypeError,Nu=Nn.WeakMap,fe,G,le,Bu=function(e){return le(e)?G(e):fe(e,{})},Du=function(e){return function(r){var t;if(!_u(r)||(t=G(r)).type!==e)throw new gr("Incompatible receiver, "+e+" required");return t}};Cu||mr.state?(w=mr.state||(mr.state=new Nu),w.get=w.get,w.has=w.has,w.set=w.set,fe=function(e,r){if(w.has(e))throw new gr(Mn);return r.facade=e,w.set(e,r),r},G=function(e){return w.get(e)||{}},le=function(e){return w.has(e)}):(R=ku("state"),Mu[R]=!0,fe=function(e,r){if(yr(e,R))throw new gr(Mn);return r.facade=e,ju(e,R,r),r},G=function(e){return yr(e,R)?e[R]:{}},le=function(e){return yr(e,R)});var w,R;Bn.exports={set:fe,get:G,has:le,enforce:Bu,getterFor:Du}});var wr=i((Pv,Fn)=>{"use strict";var xr=h(),Lu=y(),Fu=d(),ve=g(),br=b(),Uu=Tn().CONFIGURABLE,$u=In(),Ln=pe(),Ku=Ln.enforce,Vu=Ln.get,Dn=String,de=Object.defineProperty,Gu=xr("".slice),Wu=xr("".replace),Hu=xr([].join),Yu=br&&!Lu(function(){return de(function(){},"length",{value:8}).length!==8}),zu=String(String).split("String"),Zu=Fn.exports=function(e,r,t){Gu(Dn(r),0,7)==="Symbol("&&(r="["+Wu(Dn(r),/^Symbol\\(([^)]*)\\).*$/,"$1")+"]"),t&&t.getter&&(r="get "+r),t&&t.setter&&(r="set "+r),(!ve(e,"name")||Uu&&e.name!==r)&&(br?de(e,"name",{value:r,configurable:!0}):e.name=r),Yu&&t&&ve(t,"arity")&&e.length!==t.arity&&de(e,"length",{value:t.arity});try{t&&ve(t,"constructor")&&t.constructor?br&&de(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var n=Ku(e);return ve(n,"source")||(n.source=Hu(zu,typeof r=="string"?r:"")),e};Function.prototype.toString=Zu(function(){return Fu(this)&&Vu(this).source||$u(this)},"toString")});var O=i((Iv,Un)=>{"use strict";var Xu=d(),Ju=q(),Qu=wr(),ec=ae();Un.exports=function(e,r,t,n){n||(n={});var o=n.enumerable,a=n.name!==void 0?n.name:r;if(Xu(t)&&Qu(t,a,n),n.global)o?e[r]=t:ec(r,t);else{try{n.unsafe?e[r]&&(o=!0):delete e[r]}catch{}o?e[r]=t:Ju.f(e,r,{value:t,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e}});var Kn=i((Av,$n)=>{"use strict";var rc=Math.ceil,tc=Math.floor;$n.exports=Math.trunc||function(r){var t=+r;return(t>0?tc:rc)(t)}});var Sr=i((Rv,Vn)=>{"use strict";var nc=Kn();Vn.exports=function(e){var r=+e;return r!==r||r===0?0:nc(r)}});var Wn=i((Cv,Gn)=>{"use strict";var oc=Sr(),ic=Math.max,ac=Math.min;Gn.exports=function(e,r){var t=oc(e);return t<0?ic(t+r,0):ac(t,r)}});var Yn=i((_v,Hn)=>{"use strict";var sc=Sr(),uc=Math.min;Hn.exports=function(e){var r=sc(e);return r>0?uc(r,9007199254740991):0}});var Zn=i((jv,zn)=>{"use strict";var cc=Yn();zn.exports=function(e){return cc(e.length)}});var Qn=i((kv,Jn)=>{"use strict";var fc=L(),lc=Wn(),pc=Zn(),Xn=function(e){return function(r,t,n){var o=fc(r),a=pc(o);if(a===0)return!e&&-1;var s=lc(n,a),u;if(e&&t!==t){for(;a>s;)if(u=o[s++],u!==u)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===t)return e||s||0;return!e&&-1}};Jn.exports={includes:Xn(!0),indexOf:Xn(!1)}});var qr=i((Mv,ro)=>{"use strict";var vc=h(),Er=g(),dc=L(),hc=Qn().indexOf,yc=ce(),eo=vc([].push);ro.exports=function(e,r){var t=dc(e),n=0,o=[],a;for(a in t)!Er(yc,a)&&Er(t,a)&&eo(o,a);for(;r.length>n;)Er(t,a=r[n++])&&(~hc(o,a)||eo(o,a));return o}});var he=i((Nv,to)=>{"use strict";to.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var oo=i(no=>{"use strict";var mc=qr(),gc=he(),bc=gc.concat("length","prototype");no.f=Object.getOwnPropertyNames||function(r){return mc(r,bc)}});var ao=i(io=>{"use strict";io.f=Object.getOwnPropertySymbols});var uo=i((Lv,so)=>{"use strict";var xc=P(),wc=h(),Sc=oo(),Ec=ao(),qc=j(),Oc=wc([].concat);so.exports=xc("Reflect","ownKeys")||function(r){var t=Sc.f(qc(r)),n=Ec.f;return n?Oc(t,n(r)):t}});var Or=i((Fv,fo)=>{"use strict";var co=g(),Tc=uo(),Pc=K(),Ic=q();fo.exports=function(e,r,t){for(var n=Tc(r),o=Ic.f,a=Pc.f,s=0;s<n.length;s++){var u=n[s];!co(e,u)&&!(t&&co(t,u))&&o(e,u,a(r,u))}}});var po=i((Uv,lo)=>{"use strict";var Ac=y(),Rc=d(),Cc=/#|\\.prototype\\./,W=function(e,r){var t=jc[_c(e)];return t===Mc?!0:t===kc?!1:Rc(r)?Ac(r):!!r},_c=W.normalize=function(e){return String(e).replace(Cc,".").toLowerCase()},jc=W.data={},kc=W.NATIVE="N",Mc=W.POLYFILL="P";lo.exports=W});var me=i(($v,vo)=>{"use strict";var ye=p(),Nc=K().f,Bc=V(),Dc=O(),Lc=ae(),Fc=Or(),Uc=po();vo.exports=function(e,r){var t=e.target,n=e.global,o=e.stat,a,s,u,c,f,l;if(n?s=ye:o?s=ye[t]||Lc(t,{}):s=ye[t]&&ye[t].prototype,s)for(u in r){if(f=r[u],e.dontCallGetSet?(l=Nc(s,u),c=l&&l.value):c=s[u],a=Uc(n?u:t+(o?".":"#")+u,e.forced),!a&&c!==void 0){if(typeof f==typeof c)continue;Fc(f,c)}(e.sham||c&&c.sham)&&Bc(f,"sham",!0),Dc(s,u,f,e)}}});var yo=i((Kv,ho)=>{"use strict";var $c=y();ho.exports=!$c(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})});var ge=i((Vv,go)=>{"use strict";var Kc=g(),Vc=d(),Gc=rr(),Wc=ue(),Hc=yo(),mo=Wc("IE_PROTO"),Tr=Object,Yc=Tr.prototype;go.exports=Hc?Tr.getPrototypeOf:function(e){var r=Gc(e);if(Kc(r,mo))return r[mo];var t=r.constructor;return Vc(t)&&r instanceof t?t.prototype:r instanceof Tr?Yc:null}});var xo=i((Gv,bo)=>{"use strict";var zc=h(),Zc=A();bo.exports=function(e,r,t){try{return zc(Zc(Object.getOwnPropertyDescriptor(e,r)[t]))}catch{}}});var So=i((Wv,wo)=>{"use strict";var Xc=E();wo.exports=function(e){return Xc(e)||e===null}});var qo=i((Hv,Eo)=>{"use strict";var Jc=So(),Qc=String,ef=TypeError;Eo.exports=function(e){if(Jc(e))return e;throw new ef("Can\'t set "+Qc(e)+" as a prototype")}});var To=i((Yv,Oo)=>{"use strict";var rf=xo(),tf=E(),nf=ne(),of=qo();Oo.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,r={},t;try{t=rf(Object.prototype,"__proto__","set"),t(r,[]),e=r instanceof Array}catch{}return function(o,a){return nf(o),of(a),tf(o)&&(e?t(o,a):o.__proto__=a),o}}():void 0)});var Io=i((zv,Po)=>{"use strict";var af=qr(),sf=he();Po.exports=Object.keys||function(r){return af(r,sf)}});var Ro=i(Ao=>{"use strict";var uf=b(),cf=ur(),ff=q(),lf=j(),pf=L(),vf=Io();Ao.f=uf&&!cf?Object.defineProperties:function(r,t){lf(r);for(var n=pf(t),o=vf(t),a=o.length,s=0,u;a>s;)ff.f(r,u=o[s++],n[u]);return r}});var _o=i((Xv,Co)=>{"use strict";var df=P();Co.exports=df("document","documentElement")});var we=i((Jv,Lo)=>{"use strict";var hf=j(),yf=Ro(),jo=he(),mf=ce(),gf=_o(),bf=ar(),xf=ue(),ko=">",Mo="<",Ir="prototype",Ar="script",Bo=xf("IE_PROTO"),Pr=function(){},Do=function(e){return Mo+Ar+ko+e+Mo+"/"+Ar+ko},No=function(e){e.write(Do("")),e.close();var r=e.parentWindow.Object;return e=null,r},wf=function(){var e=bf("iframe"),r="java"+Ar+":",t;return e.style.display="none",gf.appendChild(e),e.src=String(r),t=e.contentWindow.document,t.open(),t.write(Do("document.F=Object")),t.close(),t.F},be,xe=function(){try{be=new ActiveXObject("htmlfile")}catch{}xe=typeof document<"u"?document.domain&&be?No(be):wf():No(be);for(var e=jo.length;e--;)delete xe[Ir][jo[e]];return xe()};mf[Bo]=!0;Lo.exports=Object.create||function(r,t){var n;return r!==null?(Pr[Ir]=hf(r),n=new Pr,Pr[Ir]=null,n[Bo]=r):n=xe(),t===void 0?n:yf.f(n,t)}});var Ko=i((Qv,$o)=>{"use strict";var Sf=h(),Fo=Error,Ef=Sf("".replace),qf=function(e){return String(new Fo(e).stack)}("zxcasd"),Uo=/\\n\\s*at [^:]*:[^\\n]*/,Of=Uo.test(qf);$o.exports=function(e,r){if(Of&&typeof e=="string"&&!Fo.prepareStackTrace)for(;r--;)e=Ef(e,Uo,"");return e}});var Go=i((ed,Vo)=>{"use strict";var Tf=y(),Pf=D();Vo.exports=!Tf(function(){var e=new Error("a");return"stack"in e?(Object.defineProperty(e,"stack",Pf(1,7)),e.stack!==7):!0})});var Yo=i((rd,Ho)=>{"use strict";var If=V(),Af=Ko(),Rf=Go(),Wo=Error.captureStackTrace;Ho.exports=function(e,r,t,n){Rf&&(Wo?Wo(e,r):If(e,"stack",Af(t,n)))}});var Xo=i((td,Zo)=>{"use strict";var Cf=m(),_f=Cf("toStringTag"),zo={};zo[_f]="z";Zo.exports=String(zo)==="[object z]"});var Qo=i((nd,Jo)=>{"use strict";var jf=Xo(),kf=d(),Se=re(),Mf=m(),Nf=Mf("toStringTag"),Bf=Object,Df=Se(function(){return arguments}())==="Arguments",Lf=function(e,r){try{return e[r]}catch{}};Jo.exports=jf?Se:function(e){var r,t,n;return e===void 0?"Undefined":e===null?"Null":typeof(t=Lf(r=Bf(e),Nf))=="string"?t:Df?Se(r):(n=Se(r))==="Object"&&kf(r.callee)?"Arguments":n}});var ri=i((od,ei)=>{"use strict";var Ff=Qo(),Uf=String;ei.exports=function(e){if(Ff(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return Uf(e)}});var ni=i((id,ti)=>{"use strict";var $f=ri();ti.exports=function(e,r){return e===void 0?arguments.length<2?"":r:$f(e)}});var ai=i(()=>{"use strict";var Kf=me(),Vf=p(),Gf=oe(),oi=ge(),qe=To(),Wf=Or(),ii=we(),Ee=V(),Rr=D(),Hf=Yo(),Yf=ni(),zf=m(),Zf=y(),Xf=U(),k=Vf.SuppressedError,Jf=zf("toStringTag"),Oe=Error,Qf=!!k&&k.length!==3,el=!!k&&Zf(function(){return new k(1,2,3,{cause:4}).cause===4}),Te=Qf||el,C=function(r,t,n){var o=Gf(H,this),a;return qe?a=Te&&(!o||oi(this)===H)?new k:qe(new Oe,o?oi(this):H):(a=o?this:ii(H),Ee(a,Jf,"Error")),n!==void 0&&Ee(a,"message",Yf(n)),Hf(a,C,a.stack,1),Ee(a,"error",r),Ee(a,"suppressed",t),a};qe?qe(C,Oe):Wf(C,Oe,{name:!0});var H=C.prototype=Te?k.prototype:ii(Oe.prototype,{constructor:Rr(1,C),message:Rr(1,""),name:Rr(1,"SuppressedError")});Te&&!Xf&&(H.constructor=C);Kf({global:!0,constructor:!0,arity:3,forced:Te},{SuppressedError:C})});var Cr=i((ud,si)=>{"use strict";var rl=oe(),tl=TypeError;si.exports=function(e,r){if(rl(r,e))return e;throw new tl("Incorrect invocation")}});var _r=i((cd,ui)=>{"use strict";var nl=O();ui.exports=function(e,r,t){for(var n in r)nl(e,n,r[n],t);return e}});var jr=i((fd,fi)=>{"use strict";var ci=wr(),ol=q();fi.exports=function(e,r,t){return t.get&&ci(t.get,r,{getter:!0}),t.set&&ci(t.set,r,{setter:!0}),ol.f(e,r,t)}});var pi=i((ld,li)=>{"use strict";var il=re(),al=h();li.exports=function(e){if(il(e)==="Function")return al(e)}});var hi=i((pd,di)=>{"use strict";var vi=pi(),sl=A(),ul=Q(),cl=vi(vi.bind);di.exports=function(e,r){return sl(e),r===void 0?e:ul?cl(e,r):function(){return e.apply(r,arguments)}}});var Mr=i((vd,xi)=>{"use strict";var fl=P(),ll=I(),pl=h(),vl=hi(),dl=j(),hl=A(),gi=te(),kr=F(),bi=m(),yl=bi("asyncDispose"),yi=bi("dispose"),ml=pl([].push),gl=function(e,r){if(r==="async-dispose"){var t=kr(e,yl);return t!==void 0||(t=kr(e,yi),t===void 0)?t:function(){var n=this,o=fl("Promise");return new o(function(a){ll(t,n),a(void 0)})}}return kr(e,yi)},mi=function(e,r,t){return arguments.length<3&&!gi(e)&&(t=hl(gl(dl(e),r))),t===void 0?function(){}:vl(t,e)};xi.exports=function(e,r,t,n){var o;if(arguments.length<4){if(gi(r)&&t==="sync-dispose")return;o=mi(r,t)}else o=mi(void 0,t,n);ml(e.stack,o)}});var Ii=i(()=>{"use strict";var bl=me(),Ie=b(),qi=P(),wi=A(),xl=Cr(),Oi=O(),wl=_r(),Sl=jr(),Ti=m(),Pi=pe(),Nr=Mr(),Si=He(),Ei=qi("Promise"),El=qi("SuppressedError"),ql=ReferenceError,Ol=Ti("asyncDispose"),Tl=Ti("toStringTag"),Re="AsyncDisposableStack",Pl=Pi.set,Ae=Pi.getterFor(Re),Br="async-dispose",Y="disposed",Il="pending",Pe=function(e){var r=Ae(e);if(r.state===Y)throw new ql(Re+" already disposed");return r},Dr=function(){Pl(xl(this,M),{type:Re,state:Il,stack:[]}),Ie||(this.disposed=!1)},M=Dr.prototype;wl(M,{disposeAsync:function(){var r=this;return new Ei(function(t,n){var o=Ae(r);if(o.state===Y)return t(void 0);o.state=Y,Ie||(r.disposed=!0);var a=o.stack,s=a.length,u=!1,c,f=function(v){u?c=new El(v,c):(u=!0,c=v),l()},l=function(){if(s){var v=a[--s];a[s]=null;try{Ei.resolve(v()).then(l,f)}catch(De){f(De)}}else o.stack=null,u?n(c):t(void 0)};l()})},use:function(r){return Nr(Pe(this),r,Br),r},adopt:function(r,t){var n=Pe(this);return wi(t),Nr(n,void 0,Br,function(){return t(r)}),r},defer:function(r){var t=Pe(this);wi(r),Nr(t,void 0,Br,r)},move:function(){var r=Pe(this),t=new Dr;return Ae(t).stack=r.stack,r.stack=[],r.state=Y,Ie||(this.disposed=!0),t}});Ie&&Sl(M,"disposed",{configurable:!0,get:function(){return Ae(this).state===Y}});Oi(M,Ol,M.disposeAsync,{name:"disposeAsync"});Oi(M,Tl,Re,{nonWritable:!0});var Al=Si&&Si<136;bl({global:!0,constructor:!0,forced:Al},{AsyncDisposableStack:Dr})});var Bi=i((yd,Ni)=>{"use strict";var ji=p(),ki=$(),Mi=d(),Rl=we(),Ce=ge(),Cl=O(),_l=m(),jl=U(),Ai="USE_FUNCTION_CONSTRUCTOR",Ri=_l("asyncIterator"),Ci=ji.AsyncIterator,_i=ki.AsyncIteratorPrototype,S,Lr;if(_i)S=_i;else if(Mi(Ci))S=Ci.prototype;else if(ki[Ai]||ji[Ai])try{Lr=Ce(Ce(Ce(Function("return async function*(){}()")()))),Ce(Lr)===Object.prototype&&(S=Lr)}catch{}S?jl&&(S=Rl(S)):S={};Mi(S[Ri])||Cl(S,Ri,function(){return this});Ni.exports=S});var Ui=i(()=>{"use strict";var kl=I(),Ml=O(),Nl=P(),Bl=F(),Dl=g(),Ll=m(),Di=Bi(),Li=Ll("asyncDispose"),Fi=Nl("Promise");Dl(Di,Li)||Ml(Di,Li,function(){var e=this;return new Fi(function(r,t){var n=Bl(e,"return");n?Fi.resolve(kl(n,e)).then(function(){r(void 0)},t):r(void 0)})})});var Wi=i(()=>{"use strict";var Fl=me(),je=b(),Ul=P(),$i=A(),$l=Cr(),Ki=O(),Kl=_r(),Vl=jr(),Vi=m(),Gi=pe(),Fr=Mr(),Gl=Ul("SuppressedError"),Wl=ReferenceError,Hl=Vi("dispose"),Yl=Vi("toStringTag"),Me="DisposableStack",zl=Gi.set,ke=Gi.getterFor(Me),Ur="sync-dispose",z="disposed",Zl="pending",_e=function(e){var r=ke(e);if(r.state===z)throw new Wl(Me+" already disposed");return r},$r=function(){zl($l(this,N),{type:Me,state:Zl,stack:[]}),je||(this.disposed=!1)},N=$r.prototype;Kl(N,{dispose:function(){var r=ke(this);if(r.state!==z){r.state=z,je||(this.disposed=!0);for(var t=r.stack,n=t.length,o=!1,a;n;){var s=t[--n];t[n]=null;try{s()}catch(u){o?a=new Gl(u,a):(o=!0,a=u)}}if(r.stack=null,o)throw a}},use:function(r){return Fr(_e(this),r,Ur),r},adopt:function(r,t){var n=_e(this);return $i(t),Fr(n,void 0,Ur,function(){t(r)}),r},defer:function(r){var t=_e(this);$i(r),Fr(t,void 0,Ur,r)},move:function(){var r=_e(this),t=new $r;return ke(t).stack=r.stack,r.stack=[],r.state=z,je||(this.disposed=!0),t}});je&&Vl(N,"disposed",{configurable:!0,get:function(){return ke(this).state===z}});Ki(N,Hl,N.dispose,{name:"dispose"});Ki(N,Yl,Me,{nonWritable:!0});Fl({global:!0,constructor:!0},{DisposableStack:$r})});var Zi=i((wd,zi)=>{"use strict";var Xl=y(),Jl=d(),Ql=E(),ep=we(),Hi=ge(),rp=O(),tp=m(),np=U(),Gr=tp("iterator"),Yi=!1,T,Kr,Vr;[].keys&&(Vr=[].keys(),"next"in Vr?(Kr=Hi(Hi(Vr)),Kr!==Object.prototype&&(T=Kr)):Yi=!0);var op=!Ql(T)||Xl(function(){var e={};return T[Gr].call(e)!==e});op?T={}:np&&(T=ep(T));Jl(T[Gr])||rp(T,Gr,function(){return this});zi.exports={IteratorPrototype:T,BUGGY_SAFARI_ITERATORS:Yi}});var Qi=i(()=>{"use strict";var ip=I(),ap=O(),sp=F(),up=g(),cp=m(),Xi=Zi().IteratorPrototype,Ji=cp("dispose");up(Xi,Ji)||ap(Xi,Ji,function(){var e=sp(this,"return");e&&ip(e,this)})});var ra=i((qd,ea)=>{"use strict";var fp=p();ea.exports=fp});var na=i(ta=>{"use strict";var lp=m();ta.f=lp});var Wr=i((Td,ia)=>{"use strict";var oa=ra(),pp=g(),vp=na(),dp=q().f;ia.exports=function(e){var r=oa.Symbol||(oa.Symbol={});pp(r,e)||dp(r,e,{value:vp.f(e)})}});var aa=i(()=>{"use strict";var hp=p(),yp=Wr(),mp=q().f,gp=K().f,Hr=hp.Symbol;yp("asyncDispose");Hr&&(Z=gp(Hr,"asyncDispose"),Z.enumerable&&Z.configurable&&Z.writable&&mp(Hr,"asyncDispose",{value:Z.value,enumerable:!1,configurable:!1,writable:!1}));var Z});var sa=i(()=>{"use strict";var bp=p(),xp=Wr(),wp=q().f,Sp=K().f,Yr=bp.Symbol;xp("dispose");Yr&&(X=Sp(Yr,"dispose"),X.enumerable&&X.configurable&&X.writable&&wp(Yr,"dispose",{value:X.value,enumerable:!1,configurable:!1,writable:!1}));var X});var ua=i(()=>{"use strict";ai();Ii();Ui();Wi();Qi();aa();sa()});var jd=Da(ua(),1);function zr(e){return e?.type==="TASK"}function ca(e){return e?.type==="RESULT"}function fa(e){return e?.type==="ERROR"}function Zr(e){return e?.type==="ABORT"}function Xr(e){return e?.type==="EVENT"}function la(e){if(typeof e!="object"||e===null)return!1;let r=e;return ca(r)||fa(r)||zr(r)||Zr(r)||Xr(r)}function pa(e,r){let t=r;return!t||Xr(t)?!1:t.taskId===e.taskId&&(ca(t)||fa(t))}var va=(e,r)=>(r=Symbol[e])?r:Symbol.for("Symbol."+e),da=e=>{throw TypeError(e)},Jr=(e,r,t)=>{if(r!=null){typeof r!="object"&&typeof r!="function"&&da("Object expected");var n,o;t&&(n=r[va("asyncDispose")]),n===void 0&&(n=r[va("dispose")],t&&(o=n)),typeof n!="function"&&da("Object not disposable"),o&&(n=function(){try{o.call(this)}catch(a){return Promise.reject(a)}}),e.push([t,n,r])}else t&&e.push([t]);return r},Qr=(e,r,t)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(s,u,c,f){return f=Error(c),f.name="SuppressedError",f.error=s,f.suppressed=u,f},o=s=>r=t?new n(s,r,"An error was suppressed during disposal"):(t=!0,s),a=s=>{for(;s=e.pop();)try{var u=s[1]&&s[1].call(s[2]);if(s[0])return Promise.resolve(u).then(a,c=>(o(c),a()))}catch(c){o(c)}if(t)throw r};return a()},J=class e{#e;#r=new Map;static init(r){return new e(r)}#t=new AbortController;#n;constructor(r){var t=[];try{this.#e=r;let a=Jr(t,new DisposableStack);a.use(this.#e.addMessageHandler(this.#i)),a.defer(()=>{this.#t.abort(new Error("Provider unloaded"));for(let s of this.#r.values())s.abort(new Error("Provider unloaded"));this.#r.clear()}),this.#n=a.move()}catch(a){var n=a,o=!0}finally{Qr(t,n,o)}}[Symbol.dispose](){this.#n.dispose()}#i=async(r,t)=>{var n=[];try{if(Zr(r))return this.#a(r);if(!zr(r))return;Jr(n,new DisposableStack).defer(()=>{this.#r.delete(r.taskId)});let{resp:u,options:c}=await this.#s(r);t?t(u,c):await this.#e.sendMessage(u,c)}catch(s){var o=s,a=!0}finally{Qr(n,o,a)}};#a(r){let t=this.#r.get(r.taskId);t&&(t.abort(new Error("Task aborted by client")),this.#r.delete(r.taskId))}async#s(r){var t=[];try{let a=new AbortController,s=Jr(t,new DisposableStack);this.#r.set(r.taskId,a),s.defer(()=>{this.#r.delete(r.taskId)});let u={signal:AbortSignal.any([a.signal,this.#t.signal])};try{let c=this.#o.respondWithOptions.get(r.fnName);if(c){let l=await(c.type==="fn"?c.fn:c.fnCreator(u)).apply(null,r.args),{options:v,payload:De}=l;return{resp:{type:"RESULT",taskId:r.taskId,value:De},options:v}}let f=this.#o.regular.get(r.fnName);if(f){let l=await(f.type==="fn"?f.fn:f.fnCreator(u)).apply(null,r.args);return{resp:{type:"RESULT",taskId:r.taskId,value:l}}}return{resp:{type:"ERROR",taskId:r.taskId,error:new ReferenceError(`Handler not defined: ${r.fnName}`)}}}catch(c){return console.error("Error in handler",c),{resp:{type:"ERROR",taskId:r.taskId,error:c instanceof Error?c:new Error(String(c))}}}}catch(a){var n=a,o=!0}finally{Qr(t,n,o)}}addFnHandler(r){let{fn:t,fnCreator:n,name:o,respWithOpts:a=!1}=r;if(!t&&!n)throw new Error("No handler implemented");if(!o)throw new Error("Function must have a name");if(this.#o.regular.has(o)||this.#o.respondWithOptions.has(o))throw new Error(`Function ${o} already registered`);if(a){let s=t?{type:"fn",fn:t}:{type:"fnCreator",fnCreator:n};this.#o.respondWithOptions.set(o,s)}else{let s=t?{type:"fn",fn:t}:{type:"fnCreator",fnCreator:n};this.#o.regular.set(o,s)}}#o={regular:new Map,respondWithOptions:new Map}};function ha(e){return la(e)?e:(console.warn("Received non-IPC message, ignoring",e),null)}function ya(e,{taskId:r,stack:t}){return new Promise(n=>{let o=()=>{n({type:"ERROR",taskId:r,error:new Error("Aborted")})};e?.addEventListener("abort",o,{once:!0}),t.defer(()=>{e?.removeEventListener("abort",o)})})}var ma=(e,r)=>(r=Symbol[e])?r:Symbol.for("Symbol."+e),ga=e=>{throw TypeError(e)},ba=(e,r,t)=>{if(r!=null){typeof r!="object"&&typeof r!="function"&&ga("Object expected");var n,o;t&&(n=r[ma("asyncDispose")]),n===void 0&&(n=r[ma("dispose")],t&&(o=n)),typeof n!="function"&&ga("Object not disposable"),o&&(n=function(){try{o.call(this)}catch(a){return Promise.reject(a)}}),e.push([t,n,r])}else t&&e.push([t]);return r},xa=(e,r,t)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(s,u,c,f){return f=Error(c),f.name="SuppressedError",f.error=s,f.suppressed=u,f},o=s=>r=t?new n(s,r,"An error was suppressed during disposal"):(t=!0,s),a=s=>{for(;s=e.pop();)try{var u=s[1]&&s[1].call(s[2]);if(s[0])return Promise.resolve(u).then(a,c=>(o(c),a()))}catch(c){o(c)}if(t)throw r};return a()},wa={parse:ha,stringify:e=>e},Ne=class{#e;constructor(r){this.#e=r}sendMessage(r,t){this.#e.postMessage(wa.stringify(r),t)}#r=!1;addMessageHandler(r){var t=[];try{let a=ba(t,new DisposableStack),s=u=>{let c=wa.parse(u.data);c&&r(c)};return this.#e.addEventListener("message",s),a.defer(()=>{this.#e.removeEventListener("message",s)}),this.#r||(this.#e.start(),this.#r=!0),a.move()}catch(a){var n=a,o=!0}finally{xa(t,n,o)}}async invoke(r,{signal:t,...n}={}){var o=[];try{this.sendMessage(r,n);let u=ba(o,new DisposableStack);return await Promise.race([new Promise(c=>{u.use(this.addMessageHandler(f=>{pa(r,f)&&c(f)}))}),ya(t,{taskId:r.taskId,stack:u})])}catch(u){var a=u,s=!0}finally{xa(o,a,s)}}[Symbol.dispose]=()=>{this.#e.close()}};function et(e,r){return e instanceof Promise?Ep(e,r):qp(e,r)}function Ep(e,r){let{promise:t,reject:n}=Promise.withResolvers(),o=()=>n(r.reason);return r.aborted&&o(),r.addEventListener("abort",o,{once:!0}),Promise.race([t,e]).finally(()=>{r.removeEventListener("abort",o)})}async function*qp(e,r){r.throwIfAborted();let{promise:t,reject:n}=Promise.withResolvers(),o=()=>n(r.reason);r.addEventListener("abort",o,{once:!0});let a=e[Symbol.asyncIterator]();try{for(;;){let s=Promise.race([t,a.next()]);s.catch(()=>{r.removeEventListener("abort",o)});let{done:u,value:c}=await s;if(u)return r.removeEventListener("abort",o),(await a.return?.(c))?.value;yield c}}catch(s){throw await a.return?.(),s}}var Ea;Ea=Symbol.asyncIterator;var Sa=class{#e=0;#r=[];#t=[];#n=Promise.withResolvers();add(r){++this.#e,this.#i(r[Symbol.asyncIterator]())}async#i(r){try{let{value:t,done:n}=await r.next();n?--this.#e:this.#r.push({iterator:r,value:t})}catch(t){this.#t.push(t)}this.#n.resolve()}async*iterate(){for(;this.#e>0;){await this.#n.promise;for(let{iterator:r,value:t}of this.#r)yield t,this.#i(r);if(this.#t.length)for(let r of this.#t)throw r;this.#r.length=0,this.#n=Promise.withResolvers()}}[Ea](){return this.iterate()}};var qa="toggle-pip:youtube-embed";var Op={name:qa,async fn(){let e=document.querySelector("#movie_player video");if(!e)throw new Error("Video element not found");if(document.pictureInPictureElement===e)await document.exitPictureInPicture();else{if(e.readyState<HTMLMediaElement.HAVE_METADATA)throw new Error("Video is not ready, start playing before toggling picture in picture");await e.requestPictureInPicture()}}},Oa=Op;var Ta="screenshot:youtube-embed";var Em=new TextEncoder;var Tp="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".split(""),Pp=[];Tp.forEach((e,r)=>Pp[e.charCodeAt(0)]=r);var km="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz".split("");var Fm=new TextEncoder().encode("0123456789abcdef"),Um=new TextEncoder,$m=new TextDecoder;var Pa=new ArrayBuffer(8),Vm=new Uint32Array(Pa),Gm=new BigUint64Array(Pa);async function Ia(e,{format:r="image/jpeg",quality:t=.92}={}){if(e.readyState<2)throw new Error("Video not ready");let n=document.createElement("canvas");if(!e.videoWidth||!e.videoHeight)throw new Error("Video has no width or height");let o={width:e.videoWidth,height:e.videoHeight};Object.assign(n,o);let a=n.getContext("2d",{alpha:!1});if(!a)throw new Error("Canvas context creation failed");let s=e.currentTime;a.drawImage(e,0,0);let u=await new Promise((f,l)=>{try{n.toBlob(v=>v?f(v):l(new Error("Blob conversion failed")),r,t)}catch(v){l(v)}});return{blob:{arrayBuffer:await u.arrayBuffer(),type:u.type},timestamp:s,size:o}}var Rp={name:Ta,respWithOpts:!0,async fn(e){let r=document.querySelector("#movie_player video");if(!r)throw new Error("Video element not found");let t=await Ia(r,e);return{payload:t,options:{transfer:[t.blob.arrayBuffer]}}}},Aa=Rp;var rt=process.env.MX_PORT_MESSAGE_NAME,Ra="app://obsidian.md";if(!rt)throw new Error("MX_PORT_MESSAGE_NAME is not set");var Ca=!1;async function Cp({signal:e}){var n=[];try{let r=Le(n,new DisposableStack);let t=new Promise((u,c)=>{let f=l=>{if(!(l.data!==rt||l.origin!==Ra)){Ca=!0;try{let v=new MessageChannel;window.parent.postMessage(rt,{targetOrigin:Ra,transfer:[v.port1]}),u(v.port2)}catch(v){c(v)}finally{Ca=!1}}};window.addEventListener("message",f),r.defer(()=>window.removeEventListener("message",f))});return await et(t,e)}catch(o){var a=o,s=!0}finally{Fe(n,a,s)}}Cp({signal:AbortSignal.timeout(1e4)}).then(e=>{var o=[];try{let r=Le(o,new DisposableStack);let t=new Ne(e);let n=r.use(J.init(t));n.addFnHandler(Aa);n.addFnHandler(Oa);return r.move()}catch(a){var s=a,u=!0}finally{Fe(o,s,u)}});})();\n';var tde="toggle-pip:youtube-embed";var rde="screenshot:youtube-embed";var nde=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),ide=t=>{throw TypeError(t)},sde=(t,e,r)=>{if(e!=null){typeof e!="object"&&typeof e!="function"&&ide("Object expected");var n,i;r&&(n=e[nde("asyncDispose")]),n===void 0&&(n=e[nde("dispose")],r&&(i=n)),typeof n!="function"&&ide("Object not disposable"),i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.push([r,n,e])}else r&&t.push([r]);return e},ade=(t,e,r)=>{var n=typeof SuppressedError=="function"?SuppressedError:function(a,o,l,c){return c=Error(l),c.name="SuppressedError",c.error=a,c.suppressed=o,c},i=a=>e=r?new n(a,e,"An error was suppressed during disposal"):(r=!0,a),s=a=>{for(;a=t.pop();)try{var o=a[1]&&a[1].call(a[2]);if(a[0])return Promise.resolve(o).then(s,l=>(i(l),s()))}catch(l){i(l)}if(r)throw e};return s()},ode={parse:UA,stringify:t=>t},ML=class{#e;constructor(e){this.#e=e}sendMessage(e,r){this.#e.postMessage(ode.stringify(e),r)}#t=!1;addMessageHandler(e){var r=[];try{let s=sde(r,new DisposableStack),a=o=>{let l=ode.parse(o.data);l&&e(l)};return this.#e.addEventListener("message",a),s.defer(()=>{this.#e.removeEventListener("message",a)}),this.#t||(this.#e.start(),this.#t=!0),s.move()}catch(s){var n=s,i=!0}finally{ade(r,n,i)}}async invoke(e,{signal:r,...n}={}){var i=[];try{this.sendMessage(e,n);let o=sde(i,new DisposableStack);return await Promise.race([new Promise(l=>{o.use(this.addMessageHandler(c=>{jA(e,c)&&l(c)}))}),zA(r,{taskId:e.taskId,stack:o})])}catch(o){var s=o,a=!0}finally{ade(i,s,a)}}[Symbol.dispose]=()=>{this.#e.close()}};var lde=require("obsidian");var fF=IH(()=>xr()),Ma=Ci(Q({status:"pending"}),(t,e)=>{if(!lde.Platform.isDesktopApp){e(Ma,{status:"na"});return}let r=t(dt),n=t(fF);if(!r){e(Ma,{status:"pending"});return}let i=null,s=async()=>{i?.abort(),i=new AbortController;let o=i.signal;try{if(!fc(r.provider)){e(Ma,{status:"pending"});return}if(await x8e(r,{signal:o}),o.aborted)return;let l=qa().getCurrentWebContents().mainFrame.frames.find(p=>p.name===n);if(!l)throw new Error(`Frame ${n} not found`);let c=l.frameTreeNodeId,u=()=>{let p=qa().getCurrentWebContents().mainFrame.frames.find(h=>h.frameTreeNodeId===c);if(!p)throw new Error(`Frame ${c} not found`);return p},d=await b8e({provider:r.provider,frame:l,signal:o}),f=new dF(d,u);if(o.aborted)return;e(Ma,{status:"ready",connection:f})}catch(l){if(o.aborted)return;e(Ma,{status:"error",error:l})}};s();let a=r.listen("provider-change",s);return()=>{i?.abort(),a()}});async function b8e({provider:t,signal:e,frame:r}){var d=[];try{let n=t.iframe;if(!n.contentWindow)throw new Error("Iframe element has no content window");let i=n.contentWindow;let s=xr();let a=new URL(n.src);let o=a.origin;r.executeJavaScript(ede.replaceAll("process.env.MX_PORT_MESSAGE_NAME",JSON.stringify(s)),!0);let l=G(d,new DisposableStack);let c=window.setInterval(()=>{i.postMessage(s,o)},500);l.defer(()=>window.clearInterval(c));let u=await w8e(s,{targetOrigin:o,signal:AbortSignal.any([AbortSignal.timeout(1e4),...e?[e]:[]])});return u}catch(f){var p=f,h=!0}finally{K(d,p,h)}}var dF=class{#e;constructor(e,r){this.#e=r;let n=new ML(e),i=dx(n);this.captureScreenshot=i.createRemoteFn(rde);let s=i.createRemoteFn(tde);this.togglePip=async()=>{try{await s()}catch(a){if(a instanceof Error&&a.name==="NotAllowedError")await this.#t(),await s();else throw a}}}captureScreenshot;togglePip;async#t(){await this.#e().executeJavaScript("1",!0)}};async function w8e(t,{targetOrigin:e,signal:r}){var s=[];try{let n=G(s,new DisposableStack);let i=new Promise((c,u)=>{let d=f=>{if(f.data!==t||f.origin!==e)return;let p=f.ports[0];if(!p){u(new Error("No port from payload"));return}c(p)};window.addEventListener("message",d),n.defer(()=>window.removeEventListener("message",d))});return await zr(i,r)}catch(a){var o=a,l=!0}finally{K(s,o,l)}}async function x8e(t,{signal:e}){var i=[];try{let r=G(i,new DisposableStack);let n=new Promise(l=>{r.defer(t.listen("can-play",()=>l()))});return await zr(n,e)}catch(s){var a=s,o=!0}finally{K(i,a,o)}}var jl=require("obsidian");var cde=Q(t=>{let e=t(Vt);if(!e)return null;let r=t(pF);return t(Qt).mediaAttr.getMediaSrc(e,r)}),pF=Q(t=>{let e=t(Jt)?.type,r=t(br)?.type;return e??r??void 0});var wx=Ci(Q(),(t,e)=>{let r=t(dt);if(!r){e(wx,void 0);return}let n=i=>{let s=i.target;s.videoHeight<=0||s.videoWidth<=0?e(wx,"audio"):e(wx,"video")};return r.listen("provider-change",i=>{if(e(wx,void 0),!ks(i.detail))return;i.detail.video.addEventListener("loadedmetadata",n,{once:!0})})}),$l=Q(t=>{let e=t(pF),r=t(Qt).mediaAttr.inferMediaType(t(Vt));return e??t(wx)??r});var S8e=Q(t=>{let e=t(Jt)?.aspectRatio,r=t(br)?.aspectRatio;return e??r??void 0}),PL=Ci(Q(null),(t,e)=>{let r=t(dt);if(!r){e(PL,null);return}let n=i=>{let s=i.target;e(PL,xA(s.videoWidth,s.videoHeight))};return r.listen("provider-change",i=>{if(e(PL,null),!ks(i.detail))return;i.detail.video.addEventListener("loadedmetadata",n,{once:!0})})}),OL=Q(t=>{if(t($l)!=="audio")return t(PL)??t(S8e)??void 0});var _L=Q(t=>{let e=t(Vt);if(!e)return"lucide-file-video";if(e.type==="file")return`lucide-file-${t($l)??"video"}`;if(e.type==="url:direct"){let r=t($l);return r?`lucide-file-${r}`:"lucide-globe"}if(e.type==="url:hosted"){if(e.vid.host==="youtube")return"youtube";if(e.vid.host==="vimeo")return"vimeo";if(e.vid.host==="bilibili")return"bilibili";if(e.vid.host==="coursera")return"coursera";if(e.vid.host==="baidu-pan")return"baidu-pan";Te(e.vid)}Te(e)});var DL=require("obsidian"),Mf=z(he(),1);function ng(t,e){let r="target"in t?t.target:t;if(!r.instanceOf?.(HTMLElement))return;let n=r.getBoundingClientRect();return e.setParentElement(r).showAtPosition({x:n.x,y:n.bottom,width:n.width,overlap:!0,left:!0},r.doc)}var ude=Q(null),k8e=Q(async t=>{let{transcriptLoader:e}=t(Qt),r=t(Vt);return r?await e.loadTracks(r):null}),dde=ds((t,e)=>{let r=t(dt);if(!r)return;let n=t(k8e),i=new AbortController;return zr(n,i.signal).then(s=>{for(let a of s?.tracks??[])r.textTracks.add(a);e(ude,s)}).catch(s=>{At.test(s)||console.error("error loading media tracks",s)}),()=>{i.abort(),e(ude,null),r.textTracks.clear(),r.textTracks._defaults={}}});var fde=ds(t=>{let e=t(dt),r=t(X0);if(!e||!r)return;let n=t(ad);if(!n)return;let{autoPlay:i=!0,tempFragment:s}=n;if(typeof s>"u")return;let a=new IS(n),o=new AbortController,l=AbortSignal.any([o.signal,AbortSignal.timeout(5e3)]),c=async u=>{(e.state.ended||i)&&(await C8e(e,{signal:l}),await e.play(a)),r.seek(u,a)};if(Ia(s)){let u=s.start,{clipStartTime:d}=e.state,f=Math.max(0,u-d);c(f).catch(p=>{console.error("jump to timestamp error",p)})}else if(sx(s)){let u=hF(s);if(!u)return;r.changeClipStart(u.clipStartTime??0,a),r.changeClipEnd(u.clipEndTime??0,a),c(0).catch(d=>{console.error("seek to beginning of the clip error",d)})}else if(s===null){let u=!1;e.state.clipStartTime>0&&(r.changeClipStart(0,a),u=!0),e.state.clipEndTime>0&&(r.changeClipEnd(0,a),u=!0),u&&c(0).catch(d=>{console.error("reset time range error",d)})}return()=>{o.abort()}}),pde=Q(t=>{let e=hF(t(Jt)?.tempFragment),r=hF(t(br)?.tempFragment);return console.log("init time range",e,r),e??r??null});async function C8e(t,{signal:e}){var i=[];try{if(t.state.canPlay)return;let r=G(i,new DisposableStack);let n=new Promise(l=>{r.defer(t.listen("can-play",()=>l()))});return await zr(n,e).catch(()=>{})}catch(s){var a=s,o=!0}finally{K(i,a,o)}}function hF(t){return sx(t)?t.start<0?{clipStartTime:void 0,clipEndTime:t.end}:Number.isFinite(t.end)?{clipStartTime:t.start,clipEndTime:t.end}:{clipStartTime:t.start,clipEndTime:void 0}:null}function hde(){let t=ut(Zue),e=ut(pde);return{title:ut(rg),autoPlay:ut(Kue),controls:ut(Yue),volume:ut(Xue),muted:ut(Que),loop:ut(Jue),playbackRate:ut(Doe),crossOrigin:t===!1?void 0:t,...e}}function mde(){Ua(vle),Ua(yle),Ua(dde),Ua(My),Ua(fde)}function gde(){let t=ut(OL);return{flip:ut(RL),aspectRatio:t&&`${t.width} / ${t.height}`}}function yde(){return ut(cde)}function vde(){return ut($l)??"unknown"}function bde(){return Ua(Ma),{iframeProps:{name:ut(fF)}}}function wde(){let t=ut(PS),e=gp(MS);if(t)return e}var xde=require("obsidian"),Sde=z(he(),1);function kde(){let t=Yl(),e=ut(Vt),r=(0,Sde.useCallback)(()=>{Je(E8e(t),{swallowError:!0,loadingDelay:500,loading:"Toggling picture in picture...",error:n=>`Error toggling picture in picture: ${n}`})},[t]);if(Cde(e))return r}function Cde(t){return xde.Platform.isDesktopApp&&na(t)}async function E8e(t){let e=t.get(Vt);if(!Cde(e))throw new Error("Not supported");let r=t.get(Ma);if(r.status!=="ready")throw new Error("Youtube embed is not loaded, start playing before toggling picture in picture");await r.connection.togglePip()}var bn=z(Be(),1),Ede=t=>{if(!t)return!1;let e=typeof t=="string"?t:t.type;return typeof e=="string"&&(!e||e.includes("vimeo")||e.includes("youtube"))};function T8e(){let t=ut(Qt),e=ene();return(0,Mf.useEffect)(()=>{!Ss(e)&&!ks(e)||t.settings.loaded.then(r=>{e.media.preservesPitch=r["playback.preserve-pitch"]})},[t,e]),null}function A8e(){let t=(0,Mf.useRef)(null),e=(0,Mf.useRef)(!1),[r,n]=(0,Mf.useState)(!1);return{disabled:r,handleSourceChange:s=>{let a=t.current;t.current=s,a&&s&&!id(a,s)&&!Ede(a)&&!Ede(s)&&!e.current&&(e.current=!0,n(!0),sleep(100).then(()=>n(!1)).catch(()=>{}).finally(()=>{e.current=!1}))}}}function Ade({checkInEditor:t,...e}){let r=Zre(),n=A8e();mde();let i=yde(),s=vde(),{iframeProps:a}=bde(),{controls:o,...l}=hde(),c=gde(),u=kde(),d=wde();return(0,bn.jsxs)("div",{className:"contents",onClick:e.onEditClick?f=>{t?.()&&(L8e(f.target)||f.nativeEvent.stopImmediatePropagation())}:void 0,children:[!i&&(0,bn.jsx)("p",{children:"Not supported"}),(0,bn.jsxs)(ate,{keyDisabled:!0,className:"h-full",ref:r,onError:f=>{new DL.Notice("Error loading media, see console for details"),console.error("media error",i,f)},logLevel:"error",src:n.disabled||!i?void 0:i,onSourceChange:n.handleSourceChange,viewType:s,...l,...c,onTogglePip:u,onResetClip:d,children:[(0,bn.jsx)(L_,{iframeProps:a}),o&&(0,bn.jsx)(dte,{utilsSlot:(0,bn.jsx)(Tde,{...e})}),o&&(0,bn.jsx)(ste,{utilsSlot:(0,bn.jsx)(Tde,{...e})}),(0,bn.jsx)(T8e,{})]})]})}function Tde({onEditClick:t,onPaneMenu:e}){let r=Bh(),n=Yl();return(0,bn.jsxs)(bn.Fragment,{children:[(0,bn.jsx)(Jee,{variant:"controls",onClick:i=>{if(!r||!n.get(Vt))return;let a=new DL.Menu;a.addSections(["open","action","view","danger","system"]),e(a),ng(i.nativeEvent,a)}}),t&&(0,bn.jsx)(Qee,{type:"button",part:"edit-button",variant:"ghost",onClick:t,[Lde]:""})]})}var Lde="data-lp-passthrough";function L8e(t){if(!(t instanceof Element))return!1;let e=t.closest("button");return e?e.hasAttribute(Lde):!1}function Ide(t,e){var s=[];try{let r=G(s,new DisposableStack);let n=c=>{let u=c.target;return u instanceof Element?u.matches('[contenteditable="true"], input, textarea')||u.closest('[contenteditable="true"], input, textarea')!==null:!1};let i=(c,u)=>{for(let d of c)Uh(r,e,d.modifiers,d.key,f=>n(f)?!0:(u(f),!1))};i([{modifiers:[],key:" "},{modifiers:[],key:"K"}],c=>{t.togglePaused(c)});i([{modifiers:[],key:"m"}],c=>{t.toggleMuted(c)});i([{modifiers:[],key:"f"}],c=>{t.toggleFullscreen(c)});i([{modifiers:[],key:"i"}],c=>{t.togglePictureInPicture(c)});i([{modifiers:[],key:"c"}],c=>{t.toggleCaptions(c)});i([{modifiers:[],key:"j"},{modifiers:[],key:"ArrowLeft"}],c=>{t.seekBackward(5,c)});i([{modifiers:[],key:"l"},{modifiers:[],key:"ArrowRight"}],c=>{t.seekForward(5,c)});i([{modifiers:[],key:"ArrowUp"}],c=>{t.volumeUp(.05,c)});i([{modifiers:[],key:"ArrowDown"}],c=>{t.volumeDown(.05,c)});i([{modifiers:["Shift"],key:"."}],c=>{t.speedUp(.1,c)});i([{modifiers:["Shift"],key:","}],c=>{t.slowDown(.1,c)});return r.move()}catch(a){var o=a,l=!0}finally{K(s,o,l)}}var Rde=z(Be(),1),NL=class{service;transcriptSaver;mediaNote;mediaLib;app;template;settings;remoter;store;screenshotAction;timestampAction;workspaceFind;constructor(e){this.service=e.service,this.mediaNote=e.mediaNote,this.store=e.store,this.app=e.app,this.transcriptSaver=e.transcriptSaver,this.mediaLib=e.mediaLib,this.template=e.template,this.settings=e.settings,this.remoter=e.remoter,this.screenshotAction=e.screenshotAction,this.timestampAction=e.timestampAction,this.workspaceFind=e.workspaceFind}registerScopes(e){let r=Ide(this.remoter,e);return()=>r[Symbol.dispose]()}registerAspectRatioUpdater(e){return fs(r=>{let{width:n=16,height:i=9}=r(OL)??{};e.style.setProperty("--mx-ratio-w",n.toString()),e.style.setProperty("--mx-ratio-h",i.toString())},this.service.store)}registerViewTypeUpdater(e){return fs(r=>{let n=r($l);e.toggleClass("mx-audio-view",n==="audio"),e.toggleClass("mx-video-view",n!=="audio")},this.service.store)}render(e,{isEmbed:r=!1,checkInEditor:n,onEditClick:i}={}){return Dm({ctx:{store:this.store,isEmbed:r},shadowRootClassName:"mx-player-shadow-root",target:e,children:(0,Rde.jsx)(Ade,{onPaneMenu:s=>this.onPaneMenu(s,r?"player-menu-embed":"player-menu-view"),checkInEditor:n,onEditClick:i})})}onPaneMenu(e,r){this.service.media&&this.app.workspace.trigger("mx:media-menu",e,this.service,r)}get icon(){return this.store.get(_L)}registerHeaderUpdater(e,{disableTitleUpdate:r}={}){return r?fs(n=>{n(_L),e.leaf.updateHeader()},this.store):fs(n=>{n(_L);let i=n(rg);e.leaf.updateHeader(),e.titleEl.setText(i)},this.store)}addActions(e){var i=[];try{let r=G(i,new DisposableStack);e.addAction("star","Take timestamp in last active note",async()=>{if(!this.service.media){new jl.Notice("No media is opened");return}if(!this.service.player){new jl.Notice("No media is playing");return}let l=this.workspaceFind.getMostRecentEditorLeaf();if(!l){new jl.Notice("Please open a note before taking timestamp");return}await this.timestampAction.insertTimestamp({note:l.view})});r.use(this.#e(e));e.addAction("plus","Add resources",l=>{this.showAddResourcesMenu(l)});let n=r.move();return()=>n.dispose()}catch(s){var a=s,o=!0}finally{K(i,a,o)}}#e(e){var i=[];try{let r=G(i,new DisposableStack);let n=(l,c,u)=>{let d=e.addAction(l,c,u);d.style.display="none",r.defer(fs(f=>{let p=f(dt);if(!p)return;let h=g=>{mF(g)?d.style.display="":d.style.display="none"};return h(p.provider),p.listen("provider-change",g=>h(g.target.provider))},this.service.store))};for(let{clip:l,name:c,icon:u}of[{clip:!0,name:"Insert clipped screenshot to note",icon:"frame"},{clip:!1,name:"Insert screenshot to note",icon:"camera"}])n(u,c,()=>{this.screenshotAction.insertScreenshotEmbed({clip:l})});Qi()&&n("scan-text","Extract text from screenshot",()=>{this.screenshotAction.extractTextToClipboard()});return r.move()}catch(s){var a=s,o=!0}finally{K(i,a,o)}}showAddResourcesMenu(e){let r=new jl.Menu;r.addSections(["action","view"]);let n=this.service.media;if(!n)return;r.addItem(s=>s.setSection("action").setTitle("Add text track").setIsLabel(!0)).addItem(s=>s.setIcon("file-plus").setSection("action").setTitle("from local file").onClick(async()=>{await Je(this.transcriptSaver.importTranscriptFile(n),{success:a=>`Transcript imported to ${a.src.path}`,error:a=>`Failed to import transcript: ${a}`})})).addItem(s=>s.setIcon("link").setSection("action").setTitle("from remote URL").onClick(async()=>{await Je(this.transcriptSaver.importTranscriptUrl(n),{success:a=>a.type==="internal.resolved"?`Transcript imported to ${a.src.path}`:"Transcript linked to media",error:a=>`Failed to import transcript: ${a}`})})),na(n)&&Qi()&&r.addItem(s=>s.setIcon("captions").setSection("action").setTitle("from YouTube").onClick(async()=>{try{await this.transcriptSaver.importYouTubeSubtitles(n,{onNotFound:()=>{new jl.Notice("Subtitle not found")},loadingText:"Fetching subtitles...",errorText:"Failed to load YouTube subtitles"})}catch(a){if(At.test(a))return;new jl.Notice(`Failed to import YouTube subtitles: ${a}`)}}));let i=this.mediaLib.findNoteByMedia(n);i?r.addItem(s=>{s.setTitle("Open media properties").setIcon("table-properties").setSection("view").onClick(()=>{this.app.workspace.openLinkText(i.path,"","tab")})}):r.addItem(s=>{s.setTitle("Add to media library").setIcon("badge-plus").setSection("action").onClick(async()=>{let a=await this.mediaNote.ensureMediaNote(n);new jl.Notice(`Added to media library: ${a.note.path}`)})}),ng(e,r)}};var FL=class{store;constructor(e){this.store=e.store}get#e(){let e=this.store.get(dt);if(!e)throw new Error("Player not found");return{state:e.state,remoter:e.remoteControl}}togglePaused(e){let{remoter:r}=this.#e;r.togglePaused(e)}play(e){let{remoter:r}=this.#e;r.play(e)}pause(e){let{remoter:r}=this.#e;r.pause(e)}toggleMuted(e){let{remoter:r}=this.#e;r.toggleMuted(e)}toggleFullscreen(e){let{remoter:r}=this.#e;r.toggleFullscreen("prefer-media",e)}togglePictureInPicture(e){let{remoter:r}=this.#e;r.togglePictureInPicture(e)}toggleCaptions(e){let{remoter:r}=this.#e;r.toggleCaptions(e)}seekBackward(e=5,r){let{state:n,remoter:i}=this.#e;i.seek(n.currentTime-e,r)}seekForward(e=5,r){let{state:n,remoter:i}=this.#e;i.seek(n.currentTime+e,r)}volumeUp(e=.05,r){let{state:n,remoter:i}=this.#e,s=Ode(Mde(n.volume+e));i.changeVolume(s,r)}volumeDown(e=.05,r){let{state:n,remoter:i}=this.#e,s=Ode(Mde(n.volume-e));i.changeVolume(s,r)}speedUp(e=.1,r){let{state:n,remoter:i}=this.#e,s=Pde(n.playbackRate+e);i.changePlaybackRate(s,r)}slowDown(e=.1,r){let{state:n,remoter:i}=this.#e;if(n.playbackRate<=.1)return;let s=Pde(n.playbackRate-e);i.changePlaybackRate(s,r)}setPlaybackRate(e,r){let{remoter:n}=this.#e;n.changePlaybackRate(e,r)}setAudioGain(e,r){let{remoter:n}=this.#e;n.changeAudioGain(e,r)}};function Mde(t){return Math.round(t*100)/100}function Pde(t){return Math.round(t*10)/10}function Ode(t){return Math.max(0,Math.min(1,t))}var _de=require("obsidian");function vu(t){return t instanceof DOMException&&t.name==="SecurityError"&&/\btainted\b|\bcanvas/i.test(t.message)}var bu=createFragment(t=>{let e=t.createDiv();e.appendText("Cannot capture screenshot from this media due to CORS security policy, "),e.createEl("br"),e.appendText("See the troubleshooting guide for possible solutions"),new _de.ButtonComponent(e.createDiv({attr:{style:"margin-top: 10px"}})).setButtonText("Open guide").onClick(()=>{window.open("https://mx.pkmer.net/docs/faq/cors","_blank")})});var $L=class{screenshot;service;templateInsert;app;mediaNote;auth;workspaceFind;constructor(e){this.screenshot=e.screenshot,this.service=e.service,this.templateInsert=e.templateInsertion,this.app=e.app,this.mediaNote=e.mediaNote,this.auth=e.auth,this.workspaceFind=e.workspaceFind}async#e(){var r=[];try{let e=G(r,await this.screenshot.extractText(this.service),!0);await navigator.clipboard.writeText(e.content);return e}catch(n){var i=n,s=!0}finally{var a=K(r,i,s);a&&await a}}async extractTextToClipboard(){return await Je(this.#e(),{loading:"Extracting text from screenshot...",success:"Text extracted from screenshot and copied to clipboard",error:(e,r)=>{if(r instanceof Us){new So(this.auth,{content:"You need to login to extract text from screenshot"});return}return r instanceof zm?"No text found in the screenshot":vu(r)?bu:`Failed to extract text from screenshot: ${e}`}})}async#t({clip:e,note:r}){var c=[];try{let n=r??this.app.workspace.activeEditor??this.workspaceFind.getMostRecentEditorLeaf()?.view;if(!n)throw new yu;let{file:i,editor:s}=n;let a=this.service.media;if(!a)throw new Error("No media is opened");let{uid:o}=await this.mediaNote.ensureMediaNote(a);let l=G(c,await this.screenshot.saveScreenshot(this.service,{clip:e}),!0);await this.templateInsert.insertScreenshotEmbed(l,{src:a,uid:o,title:this.service.title},{file:i,editor:s});return l}catch(u){var d=u,f=!0}finally{var p=K(c,d,f);p&&await p}}async insertScreenshotEmbed({clip:e,note:r}){return await Je(this.#t({clip:e,note:r}),{loading:e?void 0:"Saving screenshot...",success:n=>`Screenshot saved in "${n.file.basename}"`,error:(n,i)=>vu(i)?bu:i instanceof yu?"Please open a note before taking screenshot":`Failed to insert screenshot embed: ${n}`})}async#r({clip:e}){var n=[];try{let r=G(n,await this.screenshot.saveScreenshot(this.service,{clip:e}),!0);return r}catch(i){var s=i,a=!0}finally{var o=K(n,s,a);o&&await o}}async saveScreenshot({clip:e}){return await Je(this.#r({clip:e}),{loading:e?void 0:"Saving screenshot...",success:r=>`Screenshot saved in "${r.file.basename}"`,error:(r,n)=>vu(n)?bu:`Failed to save screenshot: ${r}`})}async#n({clip:e}){var i=[];try{let r=this.service.media;if(!r)throw new Error("No media is opened");let n=G(i,await this.screenshot.saveScreenshot(this.service,{clip:e}),!0);this.mediaNote.setAsCover(r,n.file);return n}catch(s){var a=s,o=!0}finally{var l=K(i,a,o);l&&await l}}async setAsCover({clip:e}){return await Je(this.#n({clip:e}),{loading:e?void 0:"Saving screenshot as cover...",success:"Screenshot saved and set as media cover",error:(r,n)=>vu(n)?bu:`Failed to save screenshot as cover: ${r}`})}async copyScreenshot({clip:e}){return await Je(this.screenshot.copyScreenshot(this.service,{clip:e}),{loading:"Copying screenshot...",success:"Screenshot copied to clipboard",error:(r,n)=>vu(n)?bu:`Failed to copy screenshot: ${r}`})}};var jL=class{service;templateInsert;app;workspaceFind;constructor(e){this.service=e.service,this.templateInsert=e.templateInsertion,this.app=e.app,this.workspaceFind=e.workspaceFind}async#e(){let e=this.service.media;if(!e)throw new Error("No media is opened");if(!sd(e))throw new Error("Only url media is supported");let{currentTime:r}=this.service.takeTimestamp();if(r<=0)throw new Error("Playback must be started before copying timestamp");let n={start:r,end:-1},i;e.type==="url:direct"?i=ax(e.url,n):e.type==="url:hosted"?i=uu(e.vid,n):Te(e),navigator.clipboard.writeText(i.toString())}async copyTimestampedUrl(){return await Je(this.#e(),{loading:"Copying timestamped URL...",loadingDelay:1e3,success:"Timestamped URL copied to clipboard",error:e=>`Failed to copy timestamped URL: ${e}`})}async#t({note:e}){let r=e??this.app.workspace.activeEditor??this.workspaceFind.getMostRecentEditorLeaf()?.view;if(!r)throw new yu;let n=this.service.media;if(!n)throw new Error("No media is opened");let i=this.service.player;if(!i)throw new Error("No player is opened");await this.templateInsert.insertTimestamp(i.currentTime,n,r)}async insertTimestamp({note:e}){return await Je(this.#t({note:e}),{loading:"Inserting timestamp...",loadingDelay:1e3,error:(r,n)=>vu(n)?bu:n instanceof yu?"Please open a note before taking timestamp":`Failed to insert screenshot embed: ${r}`})}};function gF(t){return{mx:xe.serialize(t)}}function yF(t){if(!t.mx)return null;try{return xe.deserialize(t.mx)}catch(e){return console.warn("Failed to deserialize media view state",e),null}}var ko=class{workspace;store;app;mediaLib;settings;screenshotAction;timestampAction;remoter;helper;mediaParser;#e;constructor(e){let r=e.createScope();r.register({service:Qu(this),helper:Wn(NL).scoped(),remoter:Wn(FL).scoped(),screenshotAction:Wn($L).scoped(),timestampAction:Wn(jL).scoped()});let n=r.cradle;this.workspace=n.workspaceOpen,this.app=n.app,this.store=n.store,this.store.set(Qt,n),this.mediaLib=n.mediaLib,this.settings=n.settings,this.screenshotAction=n.screenshotAction,this.timestampAction=n.timestampAction,this.remoter=n.remoter,this.helper=n.helper,this.mediaParser=n.mediaParser,this.#e=r}[Symbol.dispose](){this.#e.dispose()}get speedOptions(){return this.store.get(_oe).toSorted((e,r)=>e-r)}isValidSpeed(e){let r=this.speedOptions,[n,i]=[r.at(0),r.at(-1)];return e>=n&&e<=i}get canSetAudioGain(){let e=this.player;return e?e.state.canSetAudioGain:!1}get media(){return this.store.get(Vt)}get player(){return this.store.get(dt)}get flip(){return this.store.get(RL)}set flip(e){this.store.set(uF,e)}get title(){return this.store.get(rg)??""}loadFile(e,r){let n=this.mediaParser.parseFile(e);if(!n)throw new Error("File is not a media file");this.store.set(Ka,{info:n,hash:r?this.mediaParser.parseHash(r):void 0})}getFileState(){return gF({hash:this.#t()})}setFileState(e){let r=yF(e);r?.hash&&this.store.set(Ka,n=>n&&{...n,hash:r.hash})}setFileEphemeralState(e){let r=this.mediaParser.parseHashFromEphemeralState(e);r&&this.store.set(DH,r)}#t(){let e=this.store.get(Jt),r=this.store.get(ad);return sx(r?.tempFragment)?{...e,tempFragment:r.tempFragment}:{...e}}getUrlState(){let e=this.store.get(Vt);return!e||!sd(e)?{}:gF({media:e,hash:this.#t()})}setUrlState(e){let r=yF(e);r?.media&&this.store.set(Ka,{info:r.media,hash:r.hash})}loadUrl(e){this.store.set(Ka,e)}setUrlEphemeralState(e){let r=this.mediaParser.parseHashFromEphemeralState(e);r&&this.store.set(ad,r)}pausePlayback(){let e=this.player;return!e||e.paused?{[Symbol.asyncDispose]:async()=>{}}:(e.pause(),{[Symbol.asyncDispose]:async()=>await e.play()})}get supportsScreenshot(){return this.player?mF(this.player.provider):!1}async captureScreenshot(e){let r=this.store.get(dt);if(!r)throw new Error("Load player with video first");if(ks(r.provider)){let n=await hue(r.provider.video,e);return{blob:new Blob([n.blob.arrayBuffer],{type:n.blob.type}),rect:{type:"full",width:n.size.width,height:n.size.height},timestamp:n.timestamp}}if(fc(r.provider)){let n=this.store.get(Ma);if(n.status==="na")throw new Error("Screenshot is not supported for YouTube on this device");if(n.status==="pending")throw new Error("YouTube player is not ready, try after start playing");if(n.status==="error")throw new Error("Failed to connect to YouTube player",{cause:n.error});let i=await n.connection.captureScreenshot(e);return{blob:new Blob([i.blob.arrayBuffer],{type:i.blob.type}),rect:{type:"full",width:i.size.width,height:i.size.height},timestamp:i.timestamp}}throw new Error(`Screenshot is not supported for ${r.provider?.type||"this media"}`)}takeTimestamp(){let e=this.store.get(dt);if(!e)throw new Error("Load player with video first");let r=e.currentTime,n=Math.max(0,e.state.clipStartTime);return{currentTime:r+n}}resetTimestamp(){this.store.set(MS)}canResetTimestamp(){if(!this.store.get(PS)||!this.player)return!1;let{clipStartTime:e,clipEndTime:r}=this.player.state;return e>0||r>0}};function mF(t){return t?ks(t)||fc(t):!1}var wu=class extends VL.EditableFileView{allowNoFile=!1;scope;service;helper;constructor(e,r){super(e),this.contentEl.addClasses(["mx","custom","mx-media-view","mx-file-media-view"]),this.scope=new VL.Scope(this.app.scope),this.service=new ko(r),this.helper=this.service.helper,this.register(()=>this.service[Symbol.dispose]()),this.register(this.helper.registerScopes(this.scope)),this.register(this.helper.registerHeaderUpdater(this,{disableTitleUpdate:!0})),this.register(this.helper.registerAspectRatioUpdater(this.contentEl)),this.register(this.helper.registerViewTypeUpdater(this.contentEl)),this.register(this.helper.addActions(this))}get player(){return this.service.player}#e(){this.#t?.[Symbol.dispose](),this.#t=null}async onOpen(){await super.onOpen(),this.#e(),this.#t=this.helper.render(this.contentEl)}async onClose(){this.#e(),await super.onClose()}getState(){return{...super.getState(),...this.service.getFileState()}}async setState(e,r){await super.setState(e,r),this.service.setFileState(e)}async onLoadFile(e){this.service.loadFile(e)}setEphemeralState(e){super.setEphemeralState(e),this.service.setFileEphemeralState(e)}onPaneMenu(e,r){super.onPaneMenu(e,r),this.helper.onPaneMenu(e,r)}#t=null;getIcon(){return this.helper.icon}getViewType(){return za}canAcceptExtension(e){return _o({extension:e})}};var qL=require("obsidian");var xu=class extends qL.ItemView{scope;navigation=!0;service;helper;constructor(e,r){super(e),this.contentEl.addClasses(["mx","custom","mx-media-view","mx-url-media-view"]),this.scope=new qL.Scope(this.app.scope),this.service=new ko(r),this.helper=this.service.helper,this.register(()=>this.service[Symbol.dispose]()),this.register(this.helper.registerScopes(this.scope)),this.register(this.helper.registerHeaderUpdater(this,{})),this.register(this.helper.registerAspectRatioUpdater(this.contentEl)),this.register(this.helper.registerViewTypeUpdater(this.contentEl)),this.register(this.helper.addActions(this))}getViewType(){return wi}getDisplayText(){return this.service.title||""}getIcon(){return this.helper.icon}render(){return this.helper.render(this.contentEl)}onPaneMenu(e,r){super.onPaneMenu(e,r),this.helper.onPaneMenu(e,r)}getState(){return{...super.getState(),...this.service.getUrlState()}}async setState(e,r){this.service.setUrlState(e),await super.setState(e,r)}setEphemeralState(e){super.setEphemeralState(e),this.service.setUrlEphemeralState(e)}async onOpen(){await super.onOpen(),this.#t(),this.#e=this.render()}#e=null;#t(){this.#e?.[Symbol.dispose](),this.#e=null}close(){return this.#t(),super.close()}async onClose(){return this.#t(),super.onClose()}};var BL=class{app;transcriptLoader;mediaParser;constructor(e){this.app=e.app,this.transcriptLoader=e.transcriptLoader,this.mediaParser=e.mediaParser}async findLinkedMediaLeaf(e){let r=(await this.transcriptLoader.getLinkedMedia(e)).at(0);if(r)return this.findMediaLeavesWithSameMedia(r).filter(Ey).sort(Po(Ha)).at(0)}getPinnedMediaLeaves(){return this.getAllMediaLeaves().filter(e=>e.pinned)}getActiveMediaView(){return this.app.workspace.getActiveViewOfType(wu)??this.app.workspace.getActiveViewOfType(xu)??null}getAllMediaLeaves(){return[...this.getFileMediaLeaves(),...this.getUrlMediaLeaves()]}findMediaLeavesWithSameMedia(e){let r=[];return e.type==="file"?r=this.getFileMediaLeaves():e.type==="url:hosted"||e.type==="url:direct"?r=[...this.getUrlMediaLeaves()]:Te(e),r.filter(n=>ps(n.state.media,e))}getMostRecentEditorLeaf(){let e=this.app.workspace.getLeavesOfType("markdown").filter(r=>{if(r.isDeferred||!r.isVisible())return!1;let n=r.view;return!!n.file&&n.getMode()==="source"});return e.sort(Ha),e[0]??null}getFileMediaLeaves(){return this.app.workspace.getLeavesOfType(za).map(e=>{let r=e.getViewState();if(typeof r.state?.file!="string")return null;let n=this.app.vault.getFileByPath(r.state.file);return n?{type:za,leaf:e,view:e.view instanceof wu?e.view:void 0,pinned:r.pinned,active:r.active,activeTime:e.activeTime,state:{media:this.mediaParser.parseFile(n)}}:null}).filter(e=>e!==null)}getUrlMediaLeaves(){return this.app.workspace.getLeavesOfType(wi).map(e=>{let r=e.getViewState();if(!r.state)return null;let n=LT(r.state);return n?{type:wi,leaf:e,view:e.view instanceof xu?e.view:void 0,pinned:r.pinned,active:r.active,activeTime:e.activeTime,state:n}:null}).filter(e=>e!==null)}};var UL=class{plugin;app;mediaLibraryIndex;settings;transcriptLoader;finder;trackStringifier;constructor(e){this.plugin=e.plugin,this.app=e.plugin.app,this.mediaLibraryIndex=e.mediaLib,this.settings=e.settings,this.transcriptLoader=e.transcriptLoader,this.trackStringifier=e.trackInfoEncoder,this.finder=e.workspaceFind}async openLinkedMediaForTrack(e,r={}){let n=(await this.transcriptLoader.getLinkedMedia(e)).at(0);if(!n)return null;let i=await this.finder.findLinkedMediaLeaf(e);return i?(await this.app.workspace.revealLeaf(i.leaf),i):await this.openMedia({info:n},r)}async openTranscript(e,r){let n=this.app;if(e.type==="internal.resolved")await n.workspace.openLinkText(e.src.path,"",r.newLeaf);else if(e.type==="url"||e.type==="file"){let i=this.trackStringifier.encodeUrlTrack(e),s=qh({src:i});await(r.newLeaf==="split"?n.workspace.getLeaf(r.newLeaf,r.direction):n.workspace.getLeaf(r.newLeaf)).setViewState({type:Ep,state:s,active:!0})}else Te(e)}async openMedia(e,r={}){if(!r.newLeaf){let a=this.finder.getPinnedMediaLeaves().sort(Po(Ty,Ha)).filter(l=>l.view);if(a.length>0){let l=a.filter(u=>ps(u.state.media,e.info));return await this.#e(e,(l[0]??a[0]).leaf,{target:r.target,supportsRemote:!1})}let o=this.finder.findMediaLeavesWithSameMedia(e.info).sort(Po(Ty,Ha)).at(0);if(o)return o.view||await this.app.workspace.revealLeaf(o.leaf),e.hash&&o.leaf.setEphemeralState(tF(e.hash)),o}let n=await this.settings.loaded,i=gle(r.newLeaf,r.fromUser??!1,{click:n["link.click-behavior"],alt:n["link.altclick-behavior"]});return await this.#e(e,i==="split-horizontal"?this.app.workspace.getLeaf("split",r.direction??"horizontal"):this.app.workspace.getLeaf(i,r.direction),{target:r.target,supportsRemote:!1})}async#e(e,r,n){let i=e.hash?tF(e.hash):{};if(e.info.type==="file")return await _A.call(r,e.info.file,{eState:i,active:!0}),{type:za,leaf:r,view:r.view,pinned:!1,activeTime:r.activeTime,active:!0,state:{media:e.info}};if(e.info.type==="url:hosted"){let a=(await this.settings.loaded)["link.hosted-prefer"]==="browser"||n.target==="browser",o;if(_H(e.info))o={type:wi,state:qh({media:e.info,hash:e.hash})};else throw new pi("fallback");return await r.setViewState({...o,active:!0},i),{type:wi,leaf:r,view:r.view,pinned:!1,activeTime:r.activeTime,active:!0,state:{media:e.info}}}if(e.info.type==="url:direct"){let s={type:wi,state:qh({media:e.info,hash:e.hash})};return await r.setViewState({...s,active:!0},i),{type:wi,leaf:r,view:r.view,pinned:!1,activeTime:r.activeTime,active:!0,state:{media:e.info}}}Te(e.info)}};var L2t=require("obsidian"),Ipe=z(Epe(),1);var Lx=require("obsidian");function Tpe(t){let e=new Lx.Notice("",0),r=e.messageEl;r.addClass("mx-release-note-notice");let n=r.createDiv("mx-release-note-content");n.createDiv("mx-release-note-text").setText(`Media Extended has been updated to v${t}.`);let s=n.createDiv("mx-release-note-buttons");return new Lx.ButtonComponent(s).setButtonText("View Release Notes").setCta().onClick(()=>{window.open(`https://mx.pkmer.net/changelog#v${t}`),e.hide()}),new Lx.ButtonComponent(s).setButtonText("Dismiss").onClick(()=>{e.hide()}),e}var ag="mx-welcome";var tI=require("obsidian");var Ape=z(Be(),1),Ix=class extends tI.ItemView{#e;#t;#r;#n;constructor(e,r){super(r),this.containerEl.addClass("mx-welcome-view"),this.#e=e.cradle.workspaceOpen,this.#t=e.cradle.mediaParser,this.#r=e.cradle.plugin,this.#n=()=>e.cradle.mediaSwitcherModal.open()}getViewType(){return ag}#i=null;getDisplayText(){return"Media Extended onboarding"}getIcon(){return"home"}async onOpen(){this.#i?.[Symbol.dispose](),this.#i=Dm({children:(0,Ape.jsx)(Lre,{docBaseUrl:"https://mx.pkmer.net",onTryExample:e=>{let r=new tI.Menu;this.onTryExampleMenu(r),ng(e.nativeEvent,r)},onOpenNewNote:()=>{this.#r.app.workspace.openLinkText("First Media Note","","split")}}),target:this.contentEl})}onTryExampleMenu(e){let r=this.#t.parseUrl("https://www.youtube.com/watch?v=UF8uR6Z6KLc"),n=this.#r.app.vault.getFiles().filter(s=>nd(s)&&s.extension!=="webm").sort((s,a)=>a.stat.mtime-s.stat.mtime).at(0),i=n&&this.#t.parseFile(n);e.addItem(s=>s.setTitle(`"Steve Jobs' 2005 Stanford Commencement Address" from YouTube`).setIcon("youtube").onClick(()=>{this.#e.openMedia(r,{fromUser:!1,newLeaf:"split"})})),i&&e.addItem(s=>s.setTitle(`"${i.file.name}" from vault`).setIcon("file-video").onClick(()=>{this.#e.openMedia({info:i},{fromUser:!1,newLeaf:"split"})})),e.addSeparator(),e.addItem(s=>s.setTitle("Select video file from vault").setIcon("file-search").onClick(()=>{this.#r.app.commands.executeCommandById("switcher:open")})).addItem(s=>s.setTitle("Open external media").setIcon("file-symlink").onClick(()=>{this.#n()}))}async onClose(){this.#i?.[Symbol.dispose]()}};function Lpe(t){let{plugin:e}=t.cradle;e.registerView(ag,r=>new Ix(t,r))}var Rx=class{plugin;settings;#e;constructor(e){this.plugin=e.plugin,this.settings=e.settings,this.#e=new DisposableStack,this.checkVersion(),this.#t()}[Symbol.dispose](){this.#e.dispose()}get currentVersion(){return this.plugin.manifest.version}async checkVersion(){let e=await this.settings.loaded,r=e["release.previous-version"],n=e["release.show-release-notes"];r?(0,Ipe.gt)(this.currentVersion,r)&&n&&this.showReleaseNote():this.showWelcomePage(),this.settings.set("release.previous-version",this.currentVersion)}showWelcomePage(){this.plugin.app.workspace.getLeaf().setViewState({type:ag})}showReleaseNote(){Tpe(this.currentVersion)}#t(){this.plugin.addCommand({id:"show-release-notes",name:"Show release note of the current version",callback:()=>this.showReleaseNote()}),this.plugin.addCommand({id:"show-welcome",name:"Show welcome page",callback:()=>this.showWelcomePage()})}};var ur=require("obsidian");var Rpe=require("obsidian");async function Mpe(t){if(!Rpe.Platform.isDesktopApp)throw new Error("Not supported in web");let e=await Nz().showOpenDialog({title:"Pick a media file",message:"Pick a media file to open",buttonLabel:"Pick",properties:["openFile"],filters:[{name:"Media files",extensions:ta}],defaultPath:t});if(e.canceled)return null;let r=e.filePaths[0]??null;return r?fp(r):null}var Cqe=/^av(?<id>\d+)$/i,Eqe=/^BV1(?<id>[1-9A-HJ-NP-Za-km-z]{9})$/,Tqe=/^[\w-]{11}$/,Aqe=/^(?:(?:[a-zA-Z\d]|[a-zA-Z\d][a-zA-Z\d-]*[a-zA-Z\d])\.)*(?:[A-Za-z\d]|[A-Za-z\d][A-Za-z\d-]*[A-Za-z\d])$/;function Ppe(t){let e=null;return ur.Platform.isDesktopApp?e=bi().isAbsolute(t)?fp(t):Vn(t):e=Vn(t),!e||["http:","https:"].includes(e.protocol)&&!Aqe.test(e.hostname)?null:e}var rI=class extends ur.SuggestModal{app;workspace;fileHelper;mediaParser;constructor(e){super(e.app),this.app=e.app,this.workspace=e.workspaceOpen,this.fileHelper=e.fileService,this.mediaParser=e.mediaParser,this.setPlaceholder("Enter file path, URL or media id, or drop a media file here"),this.#e(this.inputEl,(r,[n])=>{r.preventDefault(),n&&(this.inputEl.value=n.url.href,this.inputEl.dispatchEvent(new Event("input")))}),this.setInstructions([{command:"\u2191\u2193",purpose:"to navigate"},{command:"\u21B5",purpose:"to open url"},{command:ur.Platform.isMacOS?"\u2318 \u21B5":"ctrl \u21B5",purpose:"to open in new tab"},{command:ur.Platform.isMacOS?"\u2318 \u2325 \u21B5":"ctrl alt \u21B5",purpose:"to open to the right"},{command:"esc",purpose:"to dismiss"}]),this.scope.register(null,"Enter",r=>(this.chooser.useSelectedItem(r),!1))}getSuggestions(e){let r=Ppe(e),n=[];if(!r){let a=null;if(a=e.match(Cqe),a&&n.push(new URL(`https://www.bilibili.com/video/av${a.groups.id}`)),a=e.match(Eqe),a&&n.push(new URL(`https://www.bilibili.com/video/${e}`)),a=e.match(Tqe),a&&n.push(new URL(`https://www.youtube.com/watch?v=${e}`)),!a){let o=Ppe(`https://${e}`);o&&n.push(o)}}let i=n.map(a=>this.mediaParser.parseUrl(a)).filter(a=>a!==null),s=this.mediaParser.parseUrl(r?.href??"");return s?[s,...i]:i}onNoSuggestion(){super.onNoSuggestion(),ur.Platform.isDesktopApp&&this.chooser.setSuggestions(["file-picker"])}renderSuggestion(e,r){e==="file-picker"?r.setText("Open local file"):r.setText(decodeURI(e.info.url.href))}async onChooseSuggestion(e,r){let n;if(e==="file-picker"){let i=await Mpe();if(!i){new ur.Notice("Failed to pick media file");return}let s=this.mediaParser.parseUrl(i);if(!s){new ur.Notice(`Failed to resolve file: ${i}`);return}n=s}else n=e;if(n.info.type==="url:direct"&&kt(n.info.url)){let i=this.fileHelper.safeResolveFileUri(n.info.url);if(!i.success){console.error("Failed to resolve file",n.info.url,i),new ur.Notice(i.message);return}let s=Va(),a=n.info.url.pathname;try{if(!(await s.stat(n.info.url)).isFile()){new ur.Notice(`Not a file: ${a}`);return}}catch(o){let l=o;l.code==="ENOENT"?new ur.Notice(`File not found: ${a}`):l.code==="EACCES"?new ur.Notice(`Permission denied: ${a}`):(console.error("Failed to access file",a,l),new ur.Notice(`Failed to access file (${l.code}): ${a}`));return}}console.debug("media selected",n),ur.Keymap.isModifier(r,"Mod")&&ur.Keymap.isModifier(r,"Alt")?this.workspace.openMedia(n,{newLeaf:"split",direction:"vertical"}):ur.Keymap.isModifier(r,"Mod")?this.workspace.openMedia(n,{newLeaf:"tab"}):this.workspace.openMedia(n,{newLeaf:!1})}#e(e,r){var l=[];try{let n=G(l,new DisposableStack);if(!ur.Platform.isDesktopApp)return n;let i=window.electron;let{pathToFileURL:s}=cs();if(!i)return n;let{webUtils:a}=i;let o=f=>{if(!f.dataTransfer||f.dataTransfer.files.length===0)return;let h=[...f.dataTransfer.files].filter(g=>{let v=co(g);return _o(v)}).map(g=>this.mediaParser.parseUrl(s(a.getPathForFile(g)))?.info).filter(g=>g!==void 0&&g.type==="url:direct");if(h.length===0){new ur.Notice("None of the dropped files are supported media files");return}r(f,h)};e.addEventListener("drop",o);n.defer(()=>e.removeEventListener("drop",o));return n.move()}catch(c){var u=c,d=!0}finally{K(l,u,d)}}};function Lqe(t){return t?.flatMap(({accept:e})=>e?Object.entries(e).flatMap(([r,n])=>typeof n=="string"?[n||r]:n.length===0?[r]:n):[]).join(",")}function Iqe(){return typeof window<"u"&&"showOpenFilePicker"in window}async function Rqe({types:t,startIn:e="desktop",excludeAcceptAllOption:r=!1,multiple:n,id:i}){let s=await window.showOpenFilePicker({id:i,startIn:e,multiple:n,types:t,excludeAcceptAllOption:r});if(!s)throw new At;return s.map(a=>({type:"file-handle",systemHandle:a}))}async function Mqe({accept:t}={}){let e=document.createElement("input");e.type="file",e.accept=t??"*";let r=Oqe(e);return await new Promise((i,s)=>{let a=()=>{let l=e.files?.[0];l&&(e.removeEventListener("cancel",a),i({type:"file",file:l}))},o=()=>{e.removeEventListener("change",a),s(new At)};e.addEventListener("change",a,{once:!0}),e.addEventListener("cancel",o,{once:!0})}).finally(r)}async function Ope({forceHTMLInput:t,accept:e,...r}={}){if(Iqe()&&!t){let[n]=await Rqe({...r,types:e});return n}return Mqe({accept:Lqe(e)})}function Pqe(){return"oncancel"in HTMLInputElement.prototype}function Oqe(t){if(Pqe())return;let e=()=>{if(document.hasFocus())window.addEventListener("focus",()=>{t.files?.length===0&&t.dispatchEvent(new Event("cancel"))},{once:!0});else{console.warn("polyfill for input cancel event only works on focused windows, fallback to timeout");let r=window.setTimeout(()=>{t.files?.length===0&&(console.warn("input cancel event timeout, dispatch cancel event"),t.dispatchEvent(new Event("cancel")))},3e4);t.addEventListener("change",()=>{t.files?.length!==0&&window.clearTimeout(r)},{once:!0})}};return t.addEventListener("click",e),()=>{t.removeEventListener("click",e)}}function _pe(t,e){let r=t instanceof Blob?t:new Blob([t]),n=URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=e,i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)}var Ws=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}};var mi=typeof window>"u"||"Deno"in globalThis;function xn(){}function Fpe(t,e){return typeof t=="function"?t(e):t}function Mx(t){return typeof t=="number"&&t>=0&&t!==1/0}function nI(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Su(t,e){return typeof t=="function"?t(e):t}function Zi(t,e){return typeof t=="function"?t(e):t}function iI(t,e){let{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==Px(a,e.options))return!1}else if(!og(e.queryKey,a))return!1}if(r!=="all"){let l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function sI(t,e){let{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(Eo(e.options.mutationKey)!==Eo(s))return!1}else if(!og(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function Px(t,e){return(e?.queryKeyHashFn||Eo)(t)}function Eo(t){return JSON.stringify(t,(e,r)=>NF(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function og(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!og(t[r],e[r])):!1}function FF(t,e){if(t===e)return t;let r=Dpe(t)&&Dpe(e);if(r||NF(t)&&NF(e)){let n=r?t:Object.keys(t),i=n.length,s=r?e:Object.keys(e),a=s.length,o=r?[]:{},l=0;for(let c=0;c<a;c++){let u=r?c:s[c];(!r&&n.includes(u)||r)&&t[u]===void 0&&e[u]===void 0?(o[u]=void 0,l++):(o[u]=FF(t[u],e[u]),o[u]===t[u]&&t[u]!==void 0&&l++)}return i===a&&l===i?t:o}return e}function lg(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}function Dpe(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function NF(t){if(!Npe(t))return!1;let e=t.constructor;if(e===void 0)return!0;let r=e.prototype;return!(!Npe(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Npe(t){return Object.prototype.toString.call(t)==="[object Object]"}function $pe(t){return new Promise(e=>{setTimeout(e,t)})}function Ox(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?FF(t,e):e}function jpe(t,e,r=0){let n=[...t,e];return r&&n.length>r?n.slice(1):n}function Vpe(t,e,r=0){let n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var cg=Symbol();function aI(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===cg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var _qe=class extends Ws{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!mi&&window.addEventListener){let e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){let t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},ug=new _qe;var Dqe=class extends Ws{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!mi&&window.addEventListener){let e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},dg=new Dqe;function _x(){let t,e,r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function Nqe(t){return Math.min(1e3*2**t,3e4)}function $F(t){return(t??"online")==="online"?dg.isOnline():!0}var qpe=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function oI(t){return t instanceof qpe}function lI(t){let e=!1,r=0,n=!1,i,s=_x(),a=g=>{n||(f(new qpe(g)),t.abort?.())},o=()=>{e=!0},l=()=>{e=!1},c=()=>ug.isFocused()&&(t.networkMode==="always"||dg.isOnline())&&t.canRun(),u=()=>$F(t.networkMode)&&t.canRun(),d=g=>{n||(n=!0,t.onSuccess?.(g),i?.(),s.resolve(g))},f=g=>{n||(n=!0,t.onError?.(g),i?.(),s.reject(g))},p=()=>new Promise(g=>{i=v=>{(n||c())&&g(v)},t.onPause?.()}).then(()=>{i=void 0,n||t.onContinue?.()}),h=()=>{if(n)return;let g,v=r===0?t.initialPromise:void 0;try{g=v??t.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(d).catch(y=>{if(n)return;let b=t.retry??(mi?0:3),w=t.retryDelay??Nqe,x=typeof w=="function"?w(r,y):w,A=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,y);if(e||!A){f(y);return}r++,t.onFail?.(r,y),$pe(x).then(()=>c()?void 0:p()).then(()=>{e?f(y):h()})})};return{promise:s,cancel:a,continue:()=>(i?.(),s),cancelRetry:o,continueRetry:l,canStart:u,start:()=>(u()?h():p().then(h),s)}}function Fqe(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=o=>setTimeout(o,0),s=o=>{e?t.push(o):i(()=>{r(o)})},a=()=>{let o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var ht=Fqe();var cI=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Mx(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(mi?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}};var Bpe=class extends cI{#e;#t;#r;#n;#i;#s;#a;constructor(t){super(),this.#a=!1,this.#s=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.client,this.#r=this.#n.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=$qe(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){this.options={...this.#s,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){let r=Ox(this.state.data,t,this.options);return this.#o({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){let e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(xn).catch(xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Zi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!nI(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#a?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){let o=this.observers.find(l=>l.options.queryFn);o&&this.setOptions(o.options)}let r=new AbortController,n=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},i=()=>{let o=aI(this.options,e),l={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(l),this.#a=!1,this.options.persister?this.options.persister(o,l,this):o(l)},s={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:i};n(s),this.options.behavior?.onFetch(s,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#o({type:"fetch",meta:s.fetchOptions?.meta});let a=o=>{oI(o)&&o.silent||this.#o({type:"error",error:o}),oI(o)||(this.#r.config.onError?.(o,this),this.#r.config.onSettled?.(this.state.data,o,this)),this.scheduleGc()};return this.#i=lI({initialPromise:e?.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:o=>{if(o===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(o)}catch(l){a(l);return}this.#r.config.onSuccess?.(o,this),this.#r.config.onSettled?.(o,this.state.error,this),this.scheduleGc()},onError:a,onFail:(o,l)=>{this.#o({type:"failed",failureCount:o,error:l})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#i.start()}#o(t){let e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...jF(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let n=t.error;return oI(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),ht.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function jF(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$F(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function $qe(t){let e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Upe=class extends Ws{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){let n=e.queryKey,i=e.queryHash??Px(n,e),s=this.get(i);return s||(s=new Bpe({client:t,queryKey:n,queryHash:i,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){let e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ht.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){let e={exact:!0,...t};return this.getAll().find(r=>iI(e,r))}findAll(t={}){let e=this.getAll();return Object.keys(t).length>0?e.filter(r=>iI(t,r)):e}notify(t){ht.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){ht.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ht.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}};var zpe=class extends cI{#e;#t;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||VF(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){this.#r=lI({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(n,i)=>{this.#n({type:"failed",failureCount:n,error:i})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});let e=this.state.status==="pending",r=!this.#r.canStart();try{if(!e){this.#n({type:"pending",variables:t,isPaused:r}),await this.#t.config.onMutate?.(t,this);let i=await this.options.onMutate?.(t);i!==this.state.context&&this.#n({type:"pending",context:i,variables:t,isPaused:r})}let n=await this.#r.start();return await this.#t.config.onSuccess?.(n,t,this.state.context,this),await this.options.onSuccess?.(n,t,this.state.context),await this.#t.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,t,this.state.context),this.#n({type:"success",data:n}),n}catch(n){try{throw await this.#t.config.onError?.(n,t,this.state.context,this),await this.options.onError?.(n,t,this.state.context),await this.#t.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,n,t,this.state.context),n}finally{this.#n({type:"error",error:n})}}finally{this.#t.runNext(this)}}#n(t){let e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),ht.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function VF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Hpe=class extends Ws{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(t,e,r){let n=new zpe({mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){this.#e.add(t);let e=uI(t);if(typeof e=="string"){let r=this.#t.get(e);r?r.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){let e=uI(t);if(typeof e=="string"){let r=this.#t.get(e);if(r)if(r.length>1){let n=r.indexOf(t);n!==-1&&r.splice(n,1)}else r[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){let e=uI(t);if(typeof e=="string"){let n=this.#t.get(e)?.find(i=>i.state.status==="pending");return!n||n===t}else return!0}runNext(t){let e=uI(t);return typeof e=="string"?this.#t.get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ht.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){let e={exact:!0,...t};return this.getAll().find(r=>sI(e,r))}findAll(t={}){return this.getAll().filter(e=>sI(t,e))}notify(t){ht.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){let t=this.getAll().filter(e=>e.state.isPaused);return ht.batch(()=>Promise.all(t.map(e=>e.continue().catch(xn))))}};function uI(t){return t.options.scope?.id}function qF(t){return{onFetch:(e,r)=>{let n=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],a=e.state.data?.pageParams||[],o={pages:[],pageParams:[]},l=0,c=async()=>{let u=!1,d=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},f=aI(e.options,e.fetchOptions),p=async(h,g,v)=>{if(u)return Promise.reject();if(g==null&&h.pages.length)return Promise.resolve(h);let y={client:e.client,queryKey:e.queryKey,pageParam:g,direction:v?"backward":"forward",meta:e.options.meta};d(y);let b=await f(y),{maxPages:w}=e.options,x=v?Vpe:jpe;return{pages:x(h.pages,b,w),pageParams:x(h.pageParams,g,w)}};if(i&&s.length){let h=i==="backward",g=h?jqe:Gpe,v={pages:s,pageParams:a},y=g(n,v);o=await p(v,y,h)}else{let h=t??s.length;do{let g=l===0?a[0]??n.initialPageParam:Gpe(n,o);if(l>0&&g==null)break;o=await p(o,g),l++}while(l<h)}return o};e.options.persister?e.fetchFn=()=>e.options.persister?.(c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=c}}}function Gpe(t,{pages:e,pageParams:r}){let n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function jqe(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var BF=class{#e;#t;#r;#n;#i;#s;#a;#o;constructor(t={}){this.#e=t.queryCache||new Upe,this.#t=t.mutationCache||new Hpe,this.#r=t.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#a=ug.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=dg.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#a?.(),this.#a=void 0,this.#o?.(),this.#o=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){let e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){let e=this.defaultQueryOptions(t),r=this.#e.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Su(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{let n=r.data;return[e,n]})}setQueryData(t,e,r){let n=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(n.queryHash)?.state.data,a=Fpe(e,s);if(a!==void 0)return this.#e.build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return ht.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){let e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){let e=this.#e;ht.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){let r=this.#e;return ht.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){let r={revert:!0,...e},n=ht.batch(()=>this.#e.findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(xn).catch(xn)}invalidateQueries(t,e={}){return ht.batch(()=>(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){let r={...e,cancelRefetch:e.cancelRefetch??!0},n=ht.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(xn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(xn)}fetchQuery(t){let e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);let r=this.#e.build(this,e);return r.isStaleByTime(Su(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(xn).catch(xn)}fetchInfiniteQuery(t){return t.behavior=qF(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(xn).catch(xn)}ensureInfiniteQueryData(t){return t.behavior=qF(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return dg.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(Eo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){let e=[...this.#n.values()],r={};return e.forEach(n=>{og(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#i.set(Eo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){let e=[...this.#i.values()],r={};return e.forEach(n=>{og(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;let e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Px(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===cg&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}};var zF=class extends Ws{constructor(t,e){super(),this.options=e,this.#e=t,this.#o=null,this.#a=_x(),this.options.experimental_prefetchInRender||this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#r=void 0;#n=void 0;#i;#s;#a;#o;#l;#u;#c;#f;#d;#p;#g=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Wpe(this.#t,this.options)?this.#m():this.updateResult(),this.#w())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return UF(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return UF(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#k(),this.#t.removeObserver(this)}setOptions(t,e){let r=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Zi(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#v(),this.#t.setOptions(this.options),r._defaulted&&!lg(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});let i=this.hasListeners();i&&Kpe(this.#t,n,this.options,r)&&this.#m(),this.updateResult(e),i&&(this.#t!==n||Zi(this.options.enabled,this.#t)!==Zi(r.enabled,this.#t)||Su(this.options.staleTime,this.#t)!==Su(r.staleTime,this.#t))&&this.#y();let s=this.#x();i&&(this.#t!==n||Zi(this.options.enabled,this.#t)!==Zi(r.enabled,this.#t)||s!==this.#p)&&this.#h(s)}getOptimisticResult(t){let e=this.#e.getQueryCache().build(this.#e,t),r=this.createResult(e,t);return qqe(this,r)&&(this.#n=r,this.#s=this.options,this.#i=this.#t.state),r}getCurrentResult(){return this.#n}trackResult(t,e){let r={};return Object.keys(t).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),e?.(n),t[n])})}),r}trackProp(t){this.#g.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){let e=this.#e.defaultQueryOptions(t),r=this.#e.getQueryCache().build(this.#e,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#m({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#m(t){this.#v();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(xn)),e}#y(){this.#b();let t=Su(this.options.staleTime,this.#t);if(mi||this.#n.isStale||!Mx(t))return;let r=nI(this.#n.dataUpdatedAt,t)+1;this.#f=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#h(t){this.#k(),this.#p=t,!(mi||Zi(this.options.enabled,this.#t)===!1||!Mx(this.#p)||this.#p===0)&&(this.#d=setInterval(()=>{(this.options.refetchIntervalInBackground||ug.isFocused())&&this.#m()},this.#p))}#w(){this.#y(),this.#h(this.#x())}#b(){this.#f&&(clearTimeout(this.#f),this.#f=void 0)}#k(){this.#d&&(clearInterval(this.#d),this.#d=void 0)}createResult(t,e){let r=this.#t,n=this.options,i=this.#n,s=this.#i,a=this.#s,l=t!==r?t.state:this.#r,{state:c}=t,u={...c},d=!1,f;if(e._optimisticResults){let S=this.hasListeners(),k=!S&&Wpe(t,e),E=S&&Kpe(t,r,e,n);(k||E)&&(u={...u,...jF(c.data,t.options)}),e._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:p,errorUpdatedAt:h,status:g}=u;if(e.select&&u.data!==void 0)if(i&&u.data===s?.data&&e.select===this.#l)f=this.#u;else try{this.#l=e.select,f=e.select(u.data),f=Ox(i?.data,f,e),this.#u=f,this.#o=null}catch(S){this.#o=S}else f=u.data;if(e.placeholderData!==void 0&&f===void 0&&g==="pending"){let S;if(i?.isPlaceholderData&&e.placeholderData===a?.placeholderData)S=i.data;else if(S=typeof e.placeholderData=="function"?e.placeholderData(this.#c?.state.data,this.#c):e.placeholderData,e.select&&S!==void 0)try{S=e.select(S),this.#o=null}catch(k){this.#o=k}S!==void 0&&(g="success",f=Ox(i?.data,S,e),d=!0)}this.#o&&(p=this.#o,f=this.#u,h=Date.now(),g="error");let v=u.fetchStatus==="fetching",y=g==="pending",b=g==="error",w=y&&v,x=f!==void 0,O={status:g,fetchStatus:u.fetchStatus,isPending:y,isSuccess:g==="success",isError:b,isInitialLoading:w,isLoading:w,data:f,dataUpdatedAt:u.dataUpdatedAt,error:p,errorUpdatedAt:h,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>l.dataUpdateCount||u.errorUpdateCount>l.errorUpdateCount,isFetching:v,isRefetching:v&&!y,isLoadingError:b&&!x,isPaused:u.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:b&&x,isStale:HF(t,e),refetch:this.refetch,promise:this.#a};if(this.options.experimental_prefetchInRender){let S=I=>{O.status==="error"?I.reject(O.error):O.data!==void 0&&I.resolve(O.data)},k=()=>{let I=this.#a=O.promise=_x();S(I)},E=this.#a;switch(E.status){case"pending":t.queryHash===r.queryHash&&S(E);break;case"fulfilled":(O.status==="error"||O.data!==E.value)&&k();break;case"rejected":(O.status!=="error"||O.error!==E.reason)&&k();break}}return O}updateResult(t){let e=this.#n,r=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#s=this.options,this.#i.data!==void 0&&(this.#c=this.#t),lg(r,e))return;this.#n=r;let n={},i=()=>{if(!e)return!0;let{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!this.#g.size)return!0;let o=new Set(a??this.#g);return this.options.throwOnError&&o.add("error"),Object.keys(this.#n).some(l=>{let c=l;return this.#n[c]!==e[c]&&o.has(c)})};t?.listeners!==!1&&i()&&(n.listeners=!0),this.#S({...n,...t})}#v(){let t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;let e=this.#t;this.#t=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#w()}#S(t){ht.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Vqe(t,e){return Zi(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Wpe(t,e){return Vqe(t,e)||t.state.data!==void 0&&UF(t,e,e.refetchOnMount)}function UF(t,e,r){if(Zi(e.enabled,t)!==!1){let n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&HF(t,e)}return!1}function Kpe(t,e,r,n){return(t!==e||Zi(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&HF(t,r)}function HF(t,e){return Zi(e.enabled,t)!==!1&&t.isStaleByTime(Su(e.staleTime,t))}function qqe(t,e){return!lg(t.getCurrentResult(),e)}var GF=class extends Ws{#e;#t=void 0;#r;#n;constructor(t,e){super(),this.#e=t,this.setOptions(e),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#e.defaultMutationOptions(t),lg(this.options,e)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),e?.mutationKey&&this.options.mutationKey&&Eo(e.mutationKey)!==Eo(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#s(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#s()}mutate(t,e){return this.#n=e,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#i(){let t=this.#r?.state??VF();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#s(t){ht.batch(()=>{if(this.#n&&this.hasListeners()){let e=this.#t.variables,r=this.#t.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,e,r),this.#n.onSettled?.(t.data,null,e,r)):t?.type==="error"&&(this.#n.onError?.(t.error,e,r),this.#n.onSettled?.(void 0,t.error,e,r))}this.listeners.forEach(e=>{e(this.#t)})})}};var fg=z(he(),1),Ype=z(Be(),1),WF=fg.createContext(void 0),ku=t=>{let e=fg.useContext(WF);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},KF=({client:t,children:e})=>(fg.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),(0,Ype.jsx)(WF.Provider,{value:t,children:e}));var dI=z(he(),1),Xpe=dI.createContext(!1),Qpe=()=>dI.useContext(Xpe),wLt=Xpe.Provider;var Dx=z(he(),1),Bqe=z(Be(),1);function Uqe(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var zqe=Dx.createContext(Uqe()),Jpe=()=>Dx.useContext(zqe);var Zpe=z(he(),1);function fI(t,e){return typeof t=="function"?t(...e):!!t}function Nx(){}var ehe=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},the=t=>{Zpe.useEffect(()=>{t.clearReset()},[t])},rhe=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||fI(r,[t.error,n]));var nhe=t=>{let e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...r)=>Math.max(e(...r),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},ihe=(t,e)=>t.isLoading&&t.isFetching&&!e,she=(t,e)=>t?.suspense&&e.isPending,YF=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});var Cu=z(he(),1);function ahe(t,e,r){let n=ku(r),i=Qpe(),s=Jpe(),a=n.defaultQueryOptions(t);n.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=i?"isRestoring":"optimistic",nhe(a),ehe(a,s),the(s);let o=!n.getQueryCache().get(a.queryHash),[l]=Cu.useState(()=>new e(n,a)),c=l.getOptimisticResult(a),u=!i&&t.subscribed!==!1;if(Cu.useSyncExternalStore(Cu.useCallback(d=>{let f=u?l.subscribe(ht.batchCalls(d)):Nx;return l.updateResult(),f},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),Cu.useEffect(()=>{l.setOptions(a,{listeners:!1})},[a,l]),she(a,c))throw YF(a,l,s);if(rhe({result:c,errorResetBoundary:s,throwOnError:a.throwOnError,query:n.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw c.error;return n.getDefaultOptions().queries?._experimental_afterQuery?.(a,c),a.experimental_prefetchInRender&&!mi&&ihe(c,i)&&(o?YF(a,l,s):n.getQueryCache().get(a.queryHash)?.promise)?.catch(Nx).finally(()=>{l.updateResult()}),a.notifyOnChangeProps?c:l.trackResult(c)}function XF(t,e){return ahe(t,zF,e)}var Vl=z(he(),1);function pI(t,e){let r=ku(e),[n]=Vl.useState(()=>new GF(r,t));Vl.useEffect(()=>{n.setOptions(t)},[n,t]);let i=Vl.useSyncExternalStore(Vl.useCallback(a=>n.subscribe(ht.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=Vl.useCallback((a,o)=>{n.mutate(a,o).catch(Nx)},[n]);if(i.error&&fI(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}var Sn=require("obsidian"),Lhe=z(sA(),1);var che=z(he(),1),uhe=z(he(),1);var Hqe=t=>t instanceof Date,dhe=t=>t==null,Gqe=t=>typeof t=="object",fhe=t=>!dhe(t)&&!Array.isArray(t)&&Gqe(t)&&!Hqe(t);var KLt=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";var phe=t=>/^\w*$/.test(t),ohe=t=>t===void 0,Wqe=t=>Array.isArray(t)?t.filter(Boolean):[],hhe=t=>Wqe(t.replace(/["|']|\]/g,"").split(/\.|\[/)),hI=(t,e,r)=>{if(!e||!fhe(t))return r;let n=(phe(e)?[e]:hhe(e)).reduce((i,s)=>dhe(i)?i:i[s],t);return ohe(n)||n===t?ohe(t[e])?r:t[e]:n};var mI=(t,e,r)=>{let n=-1,i=phe(e)?[e]:hhe(e),s=i.length,a=s-1;for(;++n<s;){let o=i[n],l=r;if(n!==a){let c=t[o];l=fhe(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};var lhe={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"};var Kqe=uhe.default.createContext(null);Kqe.displayName="HookFormContext";var mhe=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{};var YLt={mode:lhe.onSubmit,reValidateMode:lhe.onChange,shouldFocusError:!0};var ghe=(t,e,r)=>{if(t&&"reportValidity"in t){let n=hI(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},Yqe=(t,e)=>{for(let r in e.fields){let n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?ghe(n.ref,r,t):n&&n.refs&&n.refs.forEach(i=>ghe(i,r,t))}},vhe=(t,e)=>{e.shouldUseNativeValidation&&Yqe(t,e);let r={};for(let n in t){let i=hI(e.fields,n),s=Object.assign(t[n]||{},{ref:i&&i.ref});if(Xqe(e.names||Object.keys(t),n)){let a=Object.assign({},hI(r,n));mI(a,"root",s),mI(r,n,a)}else mI(r,n,s)}return r},Xqe=(t,e)=>{let r=yhe(e);return t.some(n=>yhe(n).match(`^${r}\\.\\d+`))};function yhe(t){return t.replace(/\]|\[/g,"")}function bhe(t,e,r){return r===void 0&&(r={}),function(n,i,s){try{var a=!s.shouldUseNativeValidation&&s.criteriaMode==="all";return Promise.resolve(yH(t,n,Object.assign({},e,{abortPipeEarly:!a}))).then(function(o){if(o.issues){for(var l={};o.issues.length;){var c=o.issues[0],u=hH(c);if(u&&(l[u]||(l[u]={message:c.message,type:c.type}),a)){var d=l[u].types,f=d&&d[c.type];l[u]=mhe(u,a,l,c.type,f?[].concat(f,c.message):c.message)}o.issues.shift()}return{values:{},errors:vhe(l,s)}}return{values:r.raw?Object.assign({},n):o.output,errors:{}}})}catch(o){return Promise.reject(o)}}}var whe=ki({id:Ye(qe(),wp(1,"ID is required")),pattern:Ye(qe(),ed(),wp(1,"Pattern/URL is required"),bp(t=>{try{return new URLPattern(t),!0}catch{return!1}},"Invalid URL pattern")),username:Ye(qe(),ed(),wp(1,"Username is required")),password:Ye(qe(),ed(),wp(1,"Password is required"))}),xhe=Ye(qe(),Ly(),td(whe),bp(t=>kS(t,e=>e.id).length===t.length,"Credentials must have unique IDs")),Qqe=gH(whe,["id"]),She=bhe(Qqe);var gI=z(he(),1),QF=(0,gI.createContext)(null);function Fx(){let t=(0,gI.use)(QF);if(!t)throw new Error("PasswordManager must be used within a PasswordManagerProvider");return t}function khe(){let{manager:t}=Fx();return XF({queryKey:["credentials"],queryFn:()=>t.getAll()})}function Che(){let{manager:t,requestEditCredential:e}=Fx(),r=ku();return pI({mutationFn:n=>e(n).then(()=>t.update(n)).catch(i=>{if(!At.test(i))throw i}),onSuccess:()=>{r.invalidateQueries({queryKey:["credentials"]})}})}function Ehe(){let{manager:t}=Fx(),e=ku();return pI({mutationFn:r=>t.delete(r),onSuccess:()=>{e.invalidateQueries({queryKey:["credentials"]})}})}var yI=z(Be(),1);function The(){let{addCredential:t}=Fx(),{data:e,isLoading:r}=khe(),{mutate:n,isPending:i}=Che(),{mutate:s,isPending:a}=Ehe();return r||!e?(0,yI.jsx)(Pte,{}):e.length===0?(0,yI.jsx)(Mte,{onAdd:t}):e.map(o=>(0,yI.jsx)(Ite,{username:o.username,password:o.password,pattern:o.pattern,onEdit:()=>{n(o)},onDelete:()=>{s(o.id)},disabled:i||a},o.id))}var vI=class{#e;constructor(e){this.#e=e.instance}getAll(){return this.#e.getCredentials()}create(e){return this.#e.setCredential({...e,id:xr()})}update(e){return this.#e.setCredential(e)}delete(e){return this.#e.deleteCredential(e)}clear(){return this.#e.clearCredentials()}import(e){return this.#e.importCredentials(e)}};var Ahe=z(Be(),1),$x=class extends Bs{app;#e;constructor(e,r){super(e.app),this.app=e.app,this.modalEl.addClass("mx-dialog",r?"mx-pwd-manager-edit":"mx-pwd-manager-create"),this.titleEl.setText(r?"Edit credential":"Add new credential"),this.#e=r}renderContent(){return(0,Ahe.jsx)(Lte,{resolver:She,defaultValues:this.#e,onSave:e=>this.resolveWith(e),onCancel:()=>this.rejectWith(new At),onInvalid:e=>{console.log(e)},testPattern:(e,r)=>{try{if(!e)return{type:"invalid-pattern",reason:"Pattern is required"};try{return{type:new URLPattern(e).test(r)?"matched":"not-matched"}}catch(n){return{type:"invalid-pattern",reason:n instanceof Error?n.message:"Unknown error"}}}catch(n){return{type:"error",reason:n}}}})}};var pg=z(Be(),1),bI=class extends Sn.Modal{#e;#t;#r;constructor(e){if(super(e.app),this.modalEl.addClasses(["mx-dialog","mx-pwd-manager"]),!Sn.Platform.isDesktopApp)throw new Error("Password Manager is only available on desktop app");this.#r=new vI(e.mainPs),this.#t=new BF,this.titleEl.setText("Password Manager")}onOpen(){this.contentEl.createDiv({cls:"pwd-manager-description"}).createSpan({text:"Manage login credentials for accessing content from password-protected sources like cloud storage (WebDAV, Nextcloud) and private file servers. These credentials are securely stored locally and used to stream media and files."});let r=this.contentEl.createDiv({cls:"pwd-manager-actions"}),n=this.contentEl.createDiv({cls:"pwd-manager-list"});new Sn.ButtonComponent(r).setClass("pwd-manager-actions-add-new-btn").setIcon("plus").setCta().setTooltip("Add new credential").onClick(()=>{this.addCredential()}),new Sn.ButtonComponent(r).setClass("pwd-manager-actions-import-btn").setIcon("import").setTooltip("Import credentials").onClick(()=>{this.importCredentials()}),new Sn.ButtonComponent(r).setClass("pwd-manager-actions-export-btn").setIcon("folder-input").setTooltip("Export credentials").onClick(()=>{this.exportCredentials()}),new Sn.ButtonComponent(r).setClass("pwd-manager-actions-clear-btn").setIcon("trash").setTooltip("Clear all credentials").setWarning().onClick(()=>{this.clearCredentials()});let i=Lhe.default.createRoot(n);this.#e=()=>i.unmount(),i.render((0,pg.jsx)(QF.Provider,{value:{manager:this.#r,requestEditCredential:s=>this.requestEditCredential(s),addCredential:()=>this.addCredential()},children:(0,pg.jsx)(KF,{client:this.#t,children:(0,pg.jsx)(_u,{children:(0,pg.jsx)(Rte,{children:(0,pg.jsx)(The,{})})})})}))}async importCredentials(){try{let e=await Ope({accept:[{description:"Password Export JSON",accept:{"application/json":[".json"]}}]}),r=e.type==="file-handle"?await e.systemHandle.getFile():e.file,n=Jl(xhe,await r.text());if(!window.confirm(`Import ${n.length} credentials? the existing credentials will be overwritten.`))return;await this.#r.import(n),this.#n(),new Sn.Notice(`Imported ${n.length} credentials`,2e3)}catch(e){if(At.test(e))return;e instanceof vp?new Sn.Notice("Failed to import password manager data, invalid data format",5e3):new Sn.Notice(`Failed to import password manager data, ${e instanceof Error?e.message:String(e)}`,5e3),console.error("Failed to import password manager data",e)}}async exportCredentials(){if(!window.confirm("Export password manager data? Keep in mind that the credentials will be saved in plain text and is not secure and can be easily read by anyone."))return;let e=await this.#r.getAll();_pe(new Blob([JSON.stringify(e)],{type:"application/json"}),"password-manager.json")}async clearCredentials(){window.confirm("Are you sure you want to clear all credentials? This action cannot be undone.")&&(await this.#r.clear(),this.#n(),new Sn.Notice("Cleared all credentials",2e3))}async addCredential(){try{let r=await new $x({app:this.app}).requestInput();await this.#r.create(r),this.#n(),new Sn.Notice("Added credential",2e3)}catch(e){if(At.test(e))return;new Sn.Notice(`Failed to add credential, ${e instanceof Error?e.message:String(e)}`,5e3)}}async requestEditCredential(e){return{...await new $x({app:this.app},e).requestInput(),id:e.id}}#n(){this.#t.invalidateQueries({queryKey:["credentials"]})}onClose(){this.#e?.()}};var kI=require("obsidian");var wI=class{settings;constructor(e){this.settings=e.settings}create(e){let r=this.settings.value;if(!r)throw new Error("Settings not loaded");return{value:r[e],set:i=>{this.settings.set(e,i)},sub:i=>this.settings.subscribe(e,i)}}number(e){return this.create(e)}boolean(e){let r=this.create(e);return{value:r.value,set:r.set,sub:n=>r.sub((i,s)=>{n(i,s===Fl?null:s)})}}inputNumber(e){let r=this.create(e);return{value:r.value.toString(),set:n=>{let i=Number.parseFloat(n);Number.isNaN(i)||r.set(i)},sub:n=>r.sub((i,s)=>{n(i.toString(),s===Fl?null:s.toString())})}}optionalString(e){let r=this.create(e);return{value:r.value,set:r.set,sub:n=>r.sub((i,s)=>n(i,s===Fl?void 0:s))}}string(e){let r=this.create(e);return{value:r.value,set:r.set,sub:n=>r.sub((i,s)=>n(i,s===Fl?null:s))}}};var Ihe=()=>window.localStorage.getItem("mx:browser-flag")==="1";var JF=require("obsidian");function Rhe(t){var n=[];try{let e=G(n,new DisposableStack);let r=t.settings.optionalString("playback.screenshot.folder-path");new JF.Setting(t.containerEl).setName("Default location for new screenshots").setDesc('Where newly created screenshots will be saved. You can go to "Files and links" to change the default location of new attachments.').addDropdown(o=>o.addOptions({default:"Default location for new attachments",specific:"In the folder specified below"}).setValue(typeof r.value>"u"?"default":"specific").onChange(l=>{l==="default"?r.set(void 0):r.set("/")}).then(l=>e.use(r.sub(c=>l.setValue(typeof c>"u"?"default":"specific")))));new JF.Setting(t.containerEl).setName("Screenshot folder path").setDesc("Place newly created screenshots in this folder.").then(o=>{typeof r.value>"u"&&(o.settingEl.style.display="none"),o.addText(l=>l.setValue(r.value||"/").onChange(c=>{c===""?(l.setValue("/"),r.set("/")):r.set(c)}).then(c=>e.use(r.sub(u=>{typeof u>"u"?(c.setValue("/"),o.settingEl.style.display="none"):(c.setValue(u),o.settingEl.style.display="")}))))});return e.move()}catch(i){var s=i,a=!0}finally{K(n,s,a)}}var To=require("obsidian");function Mhe(t){var n=[];try{let e=G(n,new DisposableStack);let r=t.containerEl.createDiv("auth-section");new To.Setting(r).setName("Account").setHeading();Qi()&&e.use(Jqe(t,r));new To.Setting(r).setName("Login passwords").setDesc(createFragment(o=>{o.createSpan({text:"Manage login credentials for streaming media from password-protected sources like WebDAV servers, Nextcloud, private file servers, and other authenticated media sources."}),o.createEl("br"),To.Platform.isDesktopApp||o.createSpan({text:"This feature is only available on desktop.",cls:"mod-warning"})})).addButton(o=>{o.setTooltip("Open password manager").setIcon("arrow-up-right").setDisabled(!To.Platform.isDesktopApp).onClick(()=>{t.service.showPasswordManager()})});return e.move()}catch(i){var s=i,a=!0}finally{K(n,s,a)}}function Jqe(t,e){var o=[];try{let r=G(o,new DisposableStack);let n=null;let{data:{subscription:i}}=Pr.auth.onAuthStateChange((d,f)=>{a(f?.user||null),d==="SIGNED_OUT"&&new To.Notice("You have been signed out")});r.defer(()=>{i.unsubscribe()});s();return r.move();async function s(){try{let{data:d,error:f}=await Pr.auth.getUser();f?(console.error("Error checking auth state:",f),a(null)):a(d.user)}catch(d){console.error("Error checking auth state:",d),a(null)}}function a(d){if(n&&n.settingEl.remove(),d){let f=d.user_metadata.full_name||d.user_metadata.name,p=d.email;n=new To.Setting(e).setName("Your account").setDesc(f?`You're currently signed in as ${f} (${p}).`:`You're currently signed in via ${p}.`).addButton(h=>{h.setButtonText("Sign out").setWarning().onClick(async()=>{try{await Pr.auth.signOut()}catch(g){console.error("Error signing out:",g)}})})}else n=new To.Setting(e).setName("Your account").setDesc("Sign in to access online features like YouTube transcript fetching, AI transcript & summary, and more.").addButton(f=>{f.setButtonText("Sign in").setCta().onClick(async()=>{await pu.open(t.service)})})}}catch(l){var c=l,u=!0}finally{K(o,c,u)}}var jx=require("obsidian");function Phe(t,{enableBrowser:e}={}){var n=[];try{let r=G(n,new DisposableStack);new jx.Setting(t.containerEl).setHeading().setName("Link");new jx.Setting(t.containerEl).setName("Handle link to hosted media").setDesc("Let media extended handle link to YouTube, Vimeo, bilibili, etc").then(o=>{let l=t.settings.boolean("link.handle-hosted");o.addToggle(c=>{c.setValue(l.value).onChange(l.set),r.use(l.sub(u=>c.setValue(u)))})});new jx.Setting(t.containerEl).setName("Handle link to remote media file").setDesc("Let media extended handle link to remote media file, like http://example.com/path/to/video.mp4").then(o=>{let l=t.settings.boolean("link.handle-direct-url");o.addToggle(c=>{c.setValue(l.value).onChange(l.set),r.use(l.sub(u=>c.setValue(u)))})});e&&new jx.Setting(t.containerEl).setName("Open hosted media in...").setDesc(createFragment(o=>{o.appendText("For hosted media supported in both obsidian player and browser, including YouTube and Viemo, choose your preferred way to open them."),o.createEl("br"),o.appendText("Choose browser to open with browser companion extension to access more features.")})).then(o=>{let l=t.settings.string("link.hosted-prefer");o.addDropdown(c=>{c.addOptions({browser:"Browser",iframe:"Local player"}),c.setValue(l.value).onChange(l.set),r.use(l.sub(u=>c.setValue(u)))})});return r.move()}catch(i){var s=i,a=!0}finally{K(n,s,a)}}var Eu=require("obsidian");function _he(t){var i=[];try{let e=G(i,new DisposableStack);new Eu.Setting(t.containerEl).setName("Link behavior").setHeading().setDesc("Configure how links to media are opened");let r=Ohe(t.settings,"link.click-behavior");let n=Ohe(t.settings,"link.altclick-behavior");new Eu.Setting(t.containerEl).setName("Click").setDesc("Behavior when clicking on a link").addDropdown(l=>l.addOptions(yp(xI,c=>c.description)).setValue(r.value).onChange(c=>r.set(c)).then(()=>e.use(r.sub(c=>l.setValue(c)))));new Eu.Setting(t.containerEl).setName("Alternative click").then(l=>{let c=u=>{if(u===null||u===!1){l.settingEl.style.display="none";return}l.settingEl.style.display="",l.setDesc(`Behavior when ${eBe(u)}`)};c(r.valueRaw),e.use(r.subRaw(u=>c(u))),l.addDropdown(u=>u.addOptions(yp(xI,d=>d.description)).setValue(n.value).onChange(d=>n.set(d)).then(()=>e.use(n.sub(d=>u.setValue(d)))))});return e.move()}catch(s){var a=s,o=!0}finally{K(i,a,o)}}function Ohe(t,e){let{value:r,set:n,sub:i}=t.create(e);return{value:ZF(r),valueRaw:r,set:s=>n(Zqe(s)),sub:s=>i((a,o)=>s(ZF(a),o===Fl?null:ZF(o))),subRaw:s=>i((a,o)=>s(a,o===Fl?null:o))}}var xI={split:{value:"split",key:"split",description:"New pane on the right"},"split-horizontal":{value:"split-horizontal",key:"split-horizontal",description:"New pane on the bottom"},replace:{value:!1,key:"replace",description:"In current pane"},default:{value:null,key:"default",description:"Default obsidian behavior"},window:{value:"window",key:"window",description:"New window"},tab:{value:"tab",key:"tab",description:"New tab"}};function ZF(t){let e=Object.values(xI).find(r=>r.value===t);if(!e)throw new Error(`Unknown pane behavior: ${t}`);return e.key}function Zqe(t){let e=xI[t];if(!e)throw new Error(`Unknown pane behavior key: ${t}`);return e.value}function eBe(t){switch(t){case"split":case"split-horizontal":return Eu.Platform.isMacOS?"click holding \u2318+\u2325":"click holding Ctrl+Alt";case"window":return Eu.Platform.isMacOS?"click holding \u2318+\u2325+\u21E7":"click holding Ctrl+Alt+Shift";case"tab":return Eu.Platform.isMacOS?"click holding \u2318 or middle-click":"click holding Ctrl or middle-click";default:Te(t)}}var e7=require("obsidian");function Dhe(t){var r=[];try{let e=G(r,new DisposableStack);new e7.Setting(t.containerEl).setHeading().setName("Media Library");new e7.Setting(t.containerEl).setName("Media folder path").setDesc("Folder path for media library (relative to vault root)").then(a=>{let o=t.settings.string("media-lib.folder-path");a.addText(l=>{l.setValue(o.value).onChange(o.set),e.use(o.sub(c=>l.setValue(c)))})});return e.move()}catch(n){var i=n,s=!0}finally{K(r,i,s)}}var Of=require("obsidian");function Vx(t,e,r){return n=>{n.inputEl.type="number",n.inputEl.style.textAlign="center",n.inputEl.min=t.toString(),n.inputEl.max=e.toString(),n.inputEl.step=r.toString()}}function Nhe(t){var c=[];try{let e=G(c,new DisposableStack);let{containerEl:r}=t;new Of.Setting(r).setHeading().setName("Note taking");let n=t.settings.create("note.template.insert-at");new Of.Setting(r).setDesc("Configure where timestamps and screenshots are inserted").setName("Insert location").addDropdown(p=>{let h={"before-cursor":"Latest content on top (Before cursor)","after-cursor":"Latest content at end (After cursor)"};p.addOptions(h).setValue(n.value).onChange(g=>n.set(g)).then(()=>e.use(n.sub(g=>p.setValue(g))))});let i=t.settings.string("note.template.timestamp");new Of.Setting(r).setName("Timestamp template").setDesc("The template used to insert timestamps. Supported placeholders: {{TIMESTAMP}}").addTextArea(p=>{p.setValue(i.value).onChange(i.set),p.inputEl.rows=5,p.inputEl.cols=40,e.use(i.sub(h=>p.setValue(h)))});let s=t.settings.number("note.template.timestamp-offset");let a=t.settings.inputNumber("note.template.timestamp-offset");new Of.Setting(r).setName("Timestamp offset").setDesc("Offset in seconds to add to the timestamp").addSlider(p=>p.setLimits(-10,10,.01).setValue(s.value).setDynamicTooltip().onChange(s.set).then(h=>{e.use(s.sub(g=>h.setValue(g)))})).addText(p=>p.setValue(a.value).onChange(a.set).then(Vx(-10,10,.01)).then(h=>{e.use(a.sub(g=>h.setValue(g)))})).then(p=>p.controlEl.appendText("s"));let o=t.settings.string("note.template.screenshot-embed");new Of.Setting(r).setName("Screenshot linktext template").setDesc("The template used to create screenshot linktext. Supported placeholders: {{DURATION}}, {{TITLE}}. Remove `|50` suffix to embed image in full size.").addTextArea(p=>{p.setValue(o.value).onChange(o.set),p.inputEl.rows=5,p.inputEl.cols=40,e.use(o.sub(h=>p.setValue(h)))});let l=t.settings.string("note.template.screenshot");new Of.Setting(r).setName("Screenshot template").setDesc("The template used to insert screenshot. Supported placeholders: {{TIMESTAMP}}, {{SCREENSHOT}} (add `!` prefix to insert as image embed).").addTextArea(p=>{p.setValue(l.value).onChange(l.set),p.inputEl.rows=5,p.inputEl.cols=40,e.use(l.sub(h=>p.setValue(h)))});return e.move()}catch(u){var d=u,f=!0}finally{K(c,d,f)}}var qx=require("obsidian");function Fhe(t){var r=[];try{let e=G(r,new DisposableStack);new qx.Setting(t.containerEl).setHeading().setName("Playback");new qx.Setting(t.containerEl).setName("Default volume").setDesc("The default volume for media files").then(a=>{let o=t.settings.number("playback.default-volume"),l=t.settings.inputNumber("playback.default-volume");a.addSlider(c=>c.setLimits(0,100,1).setValue(o.value).onChange(o.set).then(u=>{e.use(o.sub(d=>u.setValue(d)))})).addText(c=>c.setValue(l.value).onChange(l.set).then(Vx(0,100,1)).then(u=>{e.use(l.sub(d=>u.setValue(d)))}))});new qx.Setting(t.containerEl).setName("Preserve pitch").setDesc("Preserve audio pitch to compensate for playback rate changes. Won't work on video hosted in YouTube and Vimeo").then(a=>{let o=t.settings.boolean("playback.preserve-pitch");a.addToggle(l=>{l.setValue(o.value).onChange(o.set),e.use(o.sub(c=>l.setValue(c)))})});new qx.Setting(t.containerEl).setName("Fine-tune speed adjustment").setDesc("Set the increment/decrement value for fine-tuning playback speed using the fine-tune speed control commands.").then(a=>{let o=t.settings.number("playback.speed-step"),l=t.settings.inputNumber("playback.speed-step");a.addSlider(c=>c.setLimits(.01,2,.01).setValue(o.value).onChange(o.set).then(u=>{e.use(o.sub(d=>u.setValue(d)))})).addText(c=>c.then(Vx(.01,2,.01)).setValue(l.value).onChange(l.set).then(u=>{e.use(l.sub(d=>u.setValue(d)))})),a.controlEl.appendText("x")});return e.move()}catch(n){var i=n,s=!0}finally{K(r,i,s)}}var $he=require("obsidian");function jhe(t){var r=[];try{let e=G(r,new DisposableStack);new $he.Setting(t.containerEl).setName("Save screenshot as").setDesc(createFragment(a=>{a.appendText("Choose the format of the saved screenshot"),a.createEl("br"),a.appendText("WEBP has better compression ratio, but would fallback to JPEG in unsupported browsers like iOS or iPadOS")})).addDropdown(a=>{let o=t.settings.string("playback.screenshot.format");a.addOptions({"image/png":"PNG","image/jpeg":"JPEG","image/webp":"WEBP"}).setValue(o.value).onChange(l=>o.set(l)).then(l=>e.use(o.sub(c=>l.setValue(c))))});return e.move()}catch(n){var i=n,s=!0}finally{K(r,i,s)}}var Pa=require("obsidian");function Vhe(t){var r=[];try{let e=G(r,new DisposableStack);new Pa.Setting(t.containerEl).setHeading().setName("Text tracks");new Pa.Setting(t.containerEl).setName("Enable text tracks by default").setDesc("Show subtitles/captions whenever available.").then(a=>{let o=t.settings.boolean("playback.track.default-enabled");a.addToggle(l=>{l.setValue(o.value).onChange(o.set),e.use(o.sub(c=>l.setValue(c)))})});tBe(e,t);rBe(e,t);return e.move()}catch(n){var i=n,s=!0}finally{K(r,i,s)}}var tBe=(t,e)=>{let r=e.settings.create("playback.track.default-languages"),n=e.containerEl.createEl("form",{});n.onsubmit=s=>{s.preventDefault();let o=new FormData(n).get("default-languages");if(typeof o!="string"){new Pa.Notice("Invalid value");return}if(o=o.trim(),!o){r.set([]),new Pa.Notice("Languages cleared");return}let l=o.split(`
`).map(u=>u.trim()),c=l.reduce((u,d,f)=>(Jm.test(d)||u.push(`Invalid language code at line ${f+1}: ${d}`),u),[]);if(c.length>0){new Pa.Notice(c.join(`
`));return}r.set(l),new Pa.Notice("Languages saved")};let i=new Pa.Setting(n).setName("Default languages").setDesc(createFragment(s=>{s.appendText("A list of languages to show subtitles/captions for by default."),s.createEl("br"),s.appendText("Each language code should be on a new line.")})).addTextArea(s=>{s.setValue(r.value.join(`
`)),s.inputEl.name="default-languages",s.inputEl.rows=6,s.inputEl.cols=10}).addButton(s=>{s.setTooltip("Save").setIcon("lucide-save"),s.buttonEl.type="submit"});for(n.className=i.settingEl.className;i.settingEl.firstChild;)n.appendChild(i.settingEl.firstChild);i.settingEl.remove()},rBe=(t,e)=>{let r=e.settings.optionalString("playback.track.folder-path");new Pa.Setting(e.containerEl).setName("Default location for text tracks").setDesc('Where text tracks (subtitles/captions) will be searched for. You can go to "Files and links" to change the default location of new attachments.').addDropdown(n=>n.addOptions({default:"Default location for new attachments",specific:"In the folder specified below"}).setValue(typeof r.value>"u"?"default":"specific").onChange(i=>{i==="default"?r.set(void 0):r.set("/")}).then(i=>t.use(r.sub(s=>i.setValue(typeof s>"u"?"default":"specific"))))),new Pa.Setting(e.containerEl).setName("Text track folder path").setDesc("Search for text tracks in this folder.").then(n=>{typeof r.value>"u"&&(n.settingEl.style.display="none"),n.addText(i=>i.setValue(r.value||"/").onChange(s=>{s===""?(i.setValue("/"),r.set("/")):r.set(s)}).then(s=>t.use(r.sub(a=>{typeof a>"u"?(s.setValue("/"),n.settingEl.style.display="none"):(s.setValue(a),n.settingEl.style.display="")}))))})};var SI=class extends kI.PluginSettingTab{plugin;settings;auth;#e=null;constructor(e){super(e.app,e.plugin),this.plugin=e.plugin,this.settings=e.settings,this.auth=e.auth}hide(){this.#e?.dispose(),this.containerEl.empty()}display(){this.containerEl.empty();let e=Ihe();this.settings.loaded.then(()=>{var i=[];try{let r=G(i,new DisposableStack);let n={containerEl:this.containerEl,settings:new wI({settings:this.settings})};r.use(Mhe({...n,service:this.auth}));r.use(Fhe(n));r.use(Vhe(n));r.use(Phe(n,{enableBrowser:e}));r.use(_he(n));r.use(Nhe(n));new kI.Setting(this.containerEl).setHeading().setName("Screenshot");r.use(Rhe(n));r.use(jhe(n));r.use(Dhe(n));this.#e=r.move()}catch(s){var a=s,o=!0}finally{K(i,a,o)}})}};function Bhe(t){let e=yM({injectionMode:Xu.PROXY,strict:!0});return e.register({plugin:Qu(t),app:Qu(t.app),settings:st(bx),linkHandler:st(qA),mediaLib:st(XA),recorderNote:st(DA),obsidianProtocol:st(cL),auth:st(FA),command:st(uA),menu:st(AA),mainPs:st(fx),workspaceOpen:st(UL),workspaceFind:st(BL),mediaNote:st(nL),transcriptLoader:st(SL),template:st(yL),templateInsertion:st(gL),fileService:st($A),trackInfoParser:st(vL),trackInfoResolver:st(wL),trackInfoEncoder:st(xL),metadataParser:st(sL),metadataUpdater:st(aL),youTubeApi:st(ux),textExtractionApi:st(cx),transcriptSaver:st(LL),attachement:st(MA),screenshot:st(fL),mediaUidMigrator:st(oL),mediaAttr:st(KA),mediaParser:st(iL),newRelease:st(Rx),passwordManagerModal:Wn(bI),mediaSwitcherModal:Wn(rI),settingTab:Wn(SI),store:vS(Ju,{lifetime:"SCOPED"})}),t.register(()=>e.dispose().catch(r=>{At.test(r)||console.error("Failed to dispose container",r)})),e.resolve("settings"),e.resolve("linkHandler"),e.resolve("mediaLib"),e.resolve("recorderNote"),e.resolve("obsidianProtocol"),e.resolve("auth"),e.resolve("command"),e.resolve("menu"),e.resolve("newRelease"),qhe.Platform.isDesktopApp&&e.cradle.mainPs.initialize().catch(r=>{console.error("Failed to initialize main process service",r)}),e}var nBe="open-media-switcher";function Uhe(t){t.plugin.addCommand({id:nBe,name:"Open external media",icon:"play",callback:()=>t.mediaSwitcherModal.open()}),t.plugin.addRibbonIcon("square-play","Open external media",()=>t.mediaSwitcherModal.open())}var iBe=/^(?<x>\d+)?x(?<y>\d+)$|^(?<xOnly>\d+)$/;function zhe(t){let e=Number.parseInt(t,10);return Number.isNaN(e)?-1:e}function Hhe(t){let e=t?.match(iBe)?.groups;if(!e)return null;let r=zhe(e.xOnly??e.x??""),n=zhe(e.y??"");return[r,n]}function CI(t){let e=t.lastIndexOf("|"),r=null,n=t;return e===-1?(r=Hhe(t),r&&(n="")):(r=Hhe(n.substring(e+1)),r&&(n=n.substring(0,e))),{title:n,size:r}}function hg(t,e){t.classList.contains("dynamic-size")||t.classList.add("dynamic-size");let[r,n]=e??[-1,-1];Number.isNaN(r)||r<=0?t.style.removeProperty("--assigned-width"):t.style.setProperty("--assigned-width",`${r}px`),Number.isNaN(n)||n<=0?t.style.removeProperty("--assigned-height"):t.style.setProperty("--assigned-height",`${n}px`)}function EI(t,e){e?t.setAttr("alt",e):t.removeAttribute("alt")}var Khe=require("@codemirror/state"),gg=require("@codemirror/view"),yg=require("obsidian");var AI=require("@codemirror/language"),i7=require("@codemirror/view");var Ghe=t=>!(!t.startsWith("./")&&!t.startsWith("../"))||t.indexOf(":")===-1;var r7=require("@codemirror/view"),n7=require("obsidian");var Whe=require("obsidian");var mg=class extends Whe.MarkdownRenderChild{containerEl;onEditClick;service;helper;constructor(e,r,n){super(e),this.containerEl=e,this.onEditClick=n,e.addClasses(["mx","custom","mx-media-embed"]),this.service=new ko(r),this.helper=this.service.helper,this.register(this.helper.registerAspectRatioUpdater(e)),this.register(this.helper.registerViewTypeUpdater(e)),this.register(()=>this.service[Symbol.dispose]())}async setSource(e){this.service.loadUrl(e)}#e=null;render(){this.#e=this.helper.render(this.containerEl,{isEmbed:!0,checkInEditor:()=>this.containerEl.matches(".cm-editor *"),onEditClick:this.onEditClick})}onload(){super.onload(),this.render()}onunload(){this.#e?.[Symbol.dispose](),super.onunload()}};var t7=class extends mg{constructor(e,r,n){super(e,r,n),e.addClasses(["mx-external-media-embed"])}},TI=class t extends r7.WidgetType{constructor(r,n,i){super();this.message=r;this.start=n;this.end=i}toDOM(r){let n=document.createElement("div");return this.hookClickHandler(r,n),n.className="external-embed mx-external-media-embed mx-invalid-notice",n.createEl("p",{text:this.message}),n}eq(r){return r instanceof t&&r.message===this.message}updateDOM(r){return r.textContent!==this.message?(r.empty(),r.createEl("p",{text:this.message}),!0):!1}hookClickHandler(r,n){n.addEventListener("click",i=>{i.defaultPrevented||(this.selectElement(r,n),i.preventDefault())})}selectElement(r,n){let i=n.playerInfo,{start:s}=i??this,{end:a}=i??this;try{if(s<0||a<0){let o=r.posAtDOM(n);r.dispatch({selection:{head:o,anchor:o}}),r.focus()}else n7.Platform.isMobile&&(a=s),r.dispatch({selection:{head:s,anchor:a}}),r.focus()}catch{}}},Bx=class extends r7.WidgetType{constructor(r,n,i,s,a){super();this.deps=r;this.media=n;this.title=i;this.start=s;this.end=a}setPos(r){let n=r.playerInfo;n&&(n.start=this.start,n.end=this.end)}selectElement(r,n){let i=n.playerInfo,{start:s}=i??this,{end:a}=i??this;try{if(s<0||a<0){let o=r.posAtDOM(n);r.dispatch({selection:{head:o,anchor:o}}),r.focus()}else n7.Platform.isMobile&&(a=s),r.dispatch({selection:{head:s,anchor:a}}),r.focus()}catch{}}resizeWidget(r,n){window.ResizeObserver&&new window.ResizeObserver(()=>r.requestMeasure()).observe(n,{box:"border-box"})}setInfo(r,n){r.playerInfo={title:this.title,start:this.start,end:this.end,child:n,url:this.media}}updateDOM(r){let n=r.playerInfo;if(!n)return!1;let{title:i}=n;return ps(n.url.info,this.media.info)?this.title!==i&&(n.title=this.title,this.applyTitle(r),this.setPos(r)):n.child.setSource(this.media),!0}destroy(r){let n=r.playerInfo;n&&(r.playerInfo=void 0,n.child.unload())}eq(r){return ps(this.media.info,r.media.info)&&this.title===r.title}setDOM(r,n){n.tabIndex=-1,this.applyTitle(n);let i=new t7(n,this.deps,()=>{this.selectElement(r,n)});i.setSource(this.media),i.load(),this.setInfo(n,i),this.resizeWidget(r,n)}applyTitle(r){let{size:n,title:i}=CI(this.title);hg(r,n),EI(r,i)}toDOM(r){let n=createDiv();return n.style.display="none",n.setAttr("src",this.media.info.url.toString()),n.addClasses(["external-embed","cm-embed-block","mx-media-embed"]),n.style.removeProperty("display"),this.setDOM(r,n),n}};Object.defineProperty(Bx.prototype,"estimatedHeight",{get:()=>100,enumerable:!1,configurable:!0});var sBe=(t,e,r,n,i)=>{let{linkHandler:s,fileService:a,mediaParser:o}=t.deps.cradle,{settings:l}=t,c=e.doc,u=null;(0,AI.syntaxTree)(e).iterate({from:n,to:i,enter:({type:f,from:p,to:h})=>{let g=new Set(f.prop(AI.tokenClassNodeProp)?.split(" "));if(g.size===0)return;if(g.has("image-marker")){u={imgMarkLoc:p};return}if(!u)return;if(g.has("image-alt-text")&&!g.has("formatting")){u.alt=c.sliceString(p,h);return}if(g.has("url")&&!g.has("formatting")){u.url=c.sliceString(p,h);return}if(!(g.has("formatting")&&u.url))return;let{imgMarkLoc:v,alt:y,url:b}=u;if(u=null,Ghe(b))return;let w=o.parseUrl(b);if(!w)return;let x=new Bx(t.deps,w,y??"",v,h);if(s.shouldHandleEmbedLogic(w,l)){if(w.info.type==="url:direct"&&kt(w.info.url)){let A=a.safeResolveFileUri(w.info.url);A.success||(x=new TI(A.code==="in-vault"?"For media file in vault, please use internal embed instead of file url embed":A.message,v,h))}d(x,v,h)}}});function d(f,p,h){let{from:v,text:y}=c.lineAt(p);y.substring(0,p-v).trim()===""&&y.substring(h-v).trim()===""?r.push(i7.Decoration.widget({widget:f,block:!0,side:-1}).range(v)):r.push(i7.Decoration.widget({widget:f,side:-1}).range(p))}},s7=sBe;var aBe=(t,e)=>LI(t,e[0])||LI(t,e[1]),LI=(t,e)=>t[0]<e&&t[1]>e,oBe=(t,e)=>{let r=LI(t,e[0])?t[0]:e[0],n=LI(t,e[1])?t[1]:e[1];return[r,n]};function a7(t){return t.sort((e,r)=>e[0]-r[0]).reduce((e,r)=>{let n=e.findIndex(i=>aBe(i,r));return n!==-1?e[n]=oBe(e[n],r):e.push(r),e},[])}var lBe=t=>{let e=r=>{if(!r.field(yg.editorLivePreviewField))return gg.Decoration.none;let n=[];return s7(t,r,n),gg.Decoration.set(n)};return Khe.StateField.define({create:e,update:(r,n)=>{let i=r,s=n.startState.field(yg.editorLivePreviewField),a=n.state.field(yg.editorLivePreviewField);if(s!==a)return e(n.state);if(!a)return gg.Decoration.none;if(!n.docChanged)return i;if(n.state.field(yg.editorEditorField).composing)return i.map(n.changes);i=i.map(n.changes);let o=[];n.changes.iterChangedRanges((c,u,d,f)=>{o.push([n.state.doc.lineAt(d).number,n.state.doc.lineAt(f).number])});let l=[];for(let[c,u]of a7(o)){let{from:d}=n.state.doc.line(c),{to:f}=n.state.doc.line(u);i=i.update({filterFrom:d,filterTo:f,filter:()=>!1}),s7(t,n.state,l,d,f)}return i.update({add:l,sort:!0})},provide:r=>gg.EditorView.decorations.from(r)})},Yhe=lBe;function o7(t){var o=[];try{let{plugin:e,settings:r}=t.cradle;let n=[];e.registerEditorExtension(n);let i=d=>{n.length=0,n.push(Yhe({deps:t,settings:d}))};r.loaded.then(i);let s=G(o,new DisposableStack);s.use(r.subscribe("link.handle-direct-url",(d,f,p)=>{i(p)}));s.use(r.subscribe("link.handle-hosted",(d,f,p)=>{i(p)}));let a=s.move();e.register(()=>a.dispose());uBe(e)}catch(l){var c=l,u=!0}finally{K(o,c,u)}}var cBe=["cm-line","cm-content"],Xhe="mxError";function Qhe(t){if(!t.parentElement)return!1;let e=t.parentElement;return cBe.some(r=>e.classList.contains(r))}function Jhe(){Qhe(this)&&(this.dataset[Xhe]="",this.removeEventListener("load",Zhe))}function Zhe(){Qhe(this)&&(delete this.dataset[Xhe],this.removeEventListener("error",Jhe))}function uBe(t){t.register(ir(window,{createEl:e=>function(){let r=e.apply(this,arguments);return r instanceof HTMLImageElement&&(r.addEventListener("error",Jhe,{once:!0}),r.addEventListener("load",Zhe,{once:!0})),r}}))}var eme=require("obsidian");var II=class extends eme.Component{containerEl;info;file;subpath;service;helper;constructor(e,r,n,i){super(),this.file=r,this.subpath=n,this.info=e,this.containerEl=e.containerEl;let{containerEl:s}=e;s.addClasses(["mx","mx-media-embed","custom"]),this.service=new ko(i),this.helper=this.service.helper,this.register(this.#t()),this.register(this.helper.registerAspectRatioUpdater(s)),this.register(this.helper.registerViewTypeUpdater(s)),this.register(()=>this.service[Symbol.dispose]())}#e=null;#t(){let{containerEl:e}=this.info,r=i=>{let s=Number.parseFloat(i.getAttribute("width")||"-1"),a=Number.parseFloat(i.getAttribute("height")||"-1");hg(i,[s,a])};r(e);let n=new MutationObserver(i=>{for(let s of i)r(s.target)});return n.observe(e,{attributes:!0,attributeFilter:["width","height"]}),()=>n.disconnect()}render(){this.#e=this.helper.render(this.containerEl,{isEmbed:!0})}onload(){super.onload(),this.render()}async loadFile(){this.service.loadFile(this.file,this.subpath)}onunload(){this.#e?.[Symbol.dispose](),super.onunload()}};function c7(t){dBe(t.cradle.plugin,(e,r,n)=>new II(e,r,n,t)),fBe(t),o7(t)}function dBe(t,e){let{app:r}=t,n=a(ta),i=s(ta,e);t.register(()=>{i(),n()}),O9(r.workspace),t.register(()=>{O9(r.workspace)});function s(o,l){return r.embedRegistry.registerExtensions(o,l),()=>{r.embedRegistry.unregisterExtensions(o)}}function a(o){let l=o.map(c=>r.embedRegistry.embedByExtension[c]);return r.embedRegistry.unregisterExtensions(o),()=>{o.forEach((c,u)=>{let d=l[u];d&&r.embedRegistry.registerExtension(c,d)})}}}var l7=class extends mg{info;constructor(e,r,n){super(r,n),this.info=e,r.addClasses(["mx-external-media-embed"])}onload(){this.setSource(this.info),super.onload()}};async function fBe(t){let{plugin:e,linkHandler:r,settings:n,mediaParser:i}=t.cradle;await n.loaded,e.registerMarkdownPostProcessor((s,a)=>{for(let l of s.querySelectorAll("img")){let c=pBe(l);c&&o(c,l)}function o(l,c){let u=i.parseUrl(l.url);if(!u||!n.value||!r.shouldHandleEmbedLogic(u,n.value))return;let d=createDiv({cls:["media-embed","external-embed","is-loaded"],attr:{src:u.info.url.href}});hg(d,l.size),EI(d,l.title),c.replaceWith(d);let f=new l7(u,d,t);a.addChild(f)}},-10)}function pBe(t){let e=t.alt,r=t.src;return r?{url:r,...CI(e)}:null}function u7(t,e,r,n){let{app:{viewRegistry:i}}=t;t.registerView(e,r),t.register(s(n)),t.registerExtensions(n,e);function s(a){let o=a.map(l=>({ext:l,type:i.typeByExtension[l]}));return i.unregisterExtensions(a),()=>{Map.groupBy(o,l=>l.type).forEach((l,c)=>{c&&i.registerExtensions(l.map(u=>u.ext),c)})}}}function tme(t){let{plugin:e}=t.cradle;u7(e,za,r=>new wu(r,t),ta),e.registerView(wi,r=>new xu(r,t)),c7(t)}var rme=require("obsidian");function nme({trackInfoParser:t,transcriptLoader:e,template:r,app:n}){return n.workspace.on("editor-paste",(i,s,a)=>{let o=i.clipboardData?.getData("text/html");if(!o||!o.includes('name="mx:track-src"'))return;let l=new DOMParser().parseFromString(o,"text/html"),c=l.querySelector('meta[name="mx:track-src"][content]');if(!c)return;let u=c.getAttribute("content");if(!u)return;let d=t.parseTextTrackInfo(u,{sourcePath:""});if(!d)return;i.preventDefault();let f=(0,rme.htmlToMarkdown)(l).trim().replace(/\n+/g," ");(async()=>{let[p]=await e.getLinkedMedia(d);if(!p)throw new Error("No linked media found for track");let h=l.querySelector('[data-part="cue"][data-start]'),g=h?.getAttribute("data-start"),y=h?.querySelector('[data-part="timestamp"][data-time]')?.getAttribute("data-time")||g;if(!y)throw new Error("No timestamp found for track");let b=en.parse(y),w=r.renderTimestampLink({currentTime:b.getTimestamp(),src:p},{sourcePath:a.file?.path??""});s.replaceSelection(`${w} ${f}`)})().catch(p=>{console.error("Error pasting track",p),s.replaceSelection(f)})})}function ime(t){let{plugin:e}=t.cradle;e.registerView(Ry,r=>new kf(r,t)),e.registerView(Ep,r=>new Cf(r,t)),e.registerExtensions(ES,Ry),e.registerEvent(nme(t.cradle))}var RI=class extends sme.Plugin{container=null;loaded=!1;onload(){super.onload(),new Promise(r=>{this.app.workspace.onLayoutReady(r)}).then(()=>sleep(500)).then(()=>{this.loaded=!0}),K1();let e=Bhe(this);this.container=e,tme(e),ime(e),Lpe(e),this.addSettingTab(e.cradle.settingTab),Uhe(e.cradle),MU(this.app,[{callback:()=>e.cradle.mediaSwitcherModal.open(),title:"Open external media"}]).then(r=>{r&&this.register(r)}),console.log("Hello from Media Extended")}async accessToken(){return(await Pr.auth.getSession()).data.session?.access_token}};
/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/*!
 * Ported and modified from: https://github.com/microsoft/TypeScript-Website/blob/v2/packages/documentation/copy/en/handbook-v1/Unions%20and%20Intersections.md#union-exhaustiveness-checking
 * licensed as:
 *
 * The MIT License (MIT)
 * Copyright (c) Microsoft Corporation
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and
 * associated documentation files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense,
 * and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all copies or substantial
 * portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT
 * NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
 * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
/*! Bundled license information:

react/cjs/react-jsx-runtime.production.js:
  (**
   * @license React
   * react-jsx-runtime.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react/cjs/react.production.js:
  (**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.js:
  (**
   * @license React
   * react-dom.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom-client.production.js:
  (**
   * @license React
   * react-dom-client.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@jsr/std__assert/unstable_never.js:
  (*!
   * Ported and modified from: https://github.com/microsoft/TypeScript-Website/blob/v2/packages/documentation/copy/en/handbook-v1/Unions%20and%20Intersections.md#union-exhaustiveness-checking
   * licensed as:
   *
   * The MIT License (MIT)
   * Copyright (c) Microsoft Corporation
   *
   * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and
   * associated documentation files (the "Software"), to deal in the Software without restriction,
   * including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense,
   * and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so,
   * subject to the following conditions:
   *
   * The above copyright notice and this permission notice shall be included in all copies or substantial
   * portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT
   * NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
   * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
   * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
   * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
   *)

lucide-react/dist/esm/shared/src/utils.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/defaultAttributes.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/Icon.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/createLucideIcon.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/arrow-down.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/arrow-up-right.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/arrow-up.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/blocks.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/book.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/bug.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/camera.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/captions-off.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/captions.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/check.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/chevron-down.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/circle-alert.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/circle-check-big.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/circle-x.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/clock.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/copy.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/download.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/external-link.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/eye-off.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/eye.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/file-plus.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/file-text.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/folder-open.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/hash.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/languages.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/link.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/loader-circle.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/lock.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/maximize.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/mic.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/minimize.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/pause.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/pen.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/picture-in-picture-2.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/picture-in-picture.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/play.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/plus.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/redo.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/refresh-ccw.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/rocket.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/rotate-ccw.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/save.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/search.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/settings.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/square-pen.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/square-scissors.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/star.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/test-tube.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/trash-2.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/undo-2.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/undo.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/upload.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/user.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/volume-1.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/volume-2.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/volume-x.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/icons/x.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)

lucide-react/dist/esm/lucide-react.js:
  (**
   * @license lucide-react v0.475.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)
*/

/* nosourcemap */